import{q as B,r as a,b as h,a as v,j as o,e as E,g as I}from"./app-2d01f232.js";import{a as n,_ as P}from"./functions-d556270f.js";import{S as g}from"./select-9b1f74ae.js";import"./react-select.esm-ac3b7f90.js";function F({moduleSelected:S,moduleType:f,optionSelected:b}){const{url:w,configs:N}=B().props,[s,M]=a.useState(),[d,x]=a.useState(),[r,u]=a.useState(S),[y,C]=a.useState(f),[i,m]=a.useState(b),[c,T]=a.useState(N);a.useEffect(()=>{h.get(n("dev-tools/modules")).then(e=>{M(e.data.themes),x(e.data.plugins)})},[w]);const _=e=>{if(!e){u(void 0);return}let t=e.value.split("/"),l=t[0],p=t.slice(1);localStorage.setItem("current_module",p),h.get(n(`dev-tools/module?type=${l}&module=${p}`)).then(k=>{T(k.data.configs)}),C(l),u(e.value),m(void 0)},$=e=>{if(!e){m(void 0);return}let t=e.value;t!==i&&(localStorage.setItem("current_option",t),y&&t&&I.visit(n(`dev-tools/${r}/${t}`),{replace:!0}))},O=[{label:"Themes",options:s==null?void 0:s.map(e=>({label:e.title,value:`themes/${e.name}`}))},{label:"Plugins",options:d==null?void 0:d.map(e=>{var t,l;return{label:((l=(t=e.extra)==null?void 0:t.juzaweb)==null?void 0:l.name)||e.name,value:`plugins/${e.name}`}})}],j=c==null?void 0:c.options.map(e=>({label:e.label,value:e.key}));return v("div",{className:"row mb-3",children:[o("div",{className:"col-md-4",children:(s||d)&&o(g,{name:"module",placeholder:"Select Module",value:r,onChange:_,options:O})}),o("div",{className:"col-md-4",children:o(g,{placeholder:"Options",options:j,value:i,onChange:$})}),o("div",{className:"col-md-4",children:v("div",{className:"dropdown",children:[o("button",{className:"btn btn-info dropdown-toggle",type:"button",id:"dropdownMakeButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:"New Module"}),o("div",{className:"dropdown-menu","aria-labelledby":"dropdownMakeButton",children:o(E,{className:"dropdown-item",href:n("dev-tools/themes/create"),children:P("Make New Theme")})})]})})]})}export{F as default};
