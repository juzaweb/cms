import{q as E,r as a,b as v,a as c,j as o,d as g,g as I}from"./app-b7841ba0.js";import{b as s,_ as f}from"./functions-29bc5ae0.js";import{S}from"./select-953a0574.js";import"./lodash-47596753.js";import"./react-select.esm-6ed90d4b.js";function G({moduleSelected:b,moduleType:w,optionSelected:N}){const{url:M,configs:x}=E().props,[d,y]=a.useState(),[n,C]=a.useState(),[i,u]=a.useState(b),[T,_]=a.useState(w),[m,p]=a.useState(N),[r,$]=a.useState(x);a.useEffect(()=>{v.get(s("dev-tools/modules")).then(e=>{y(e.data.themes),C(e.data.plugins)})},[M]);const k=e=>{if(!e){u(void 0);return}let t=e.value.split("/"),l=t[0],h=t.slice(1);localStorage.setItem("current_module",h),v.get(s(`dev-tools/module?type=${l}&module=${h}`)).then(B=>{$(B.data.configs)}),_(l),u(e.value),p(void 0)},O=e=>{if(!e){p(void 0);return}let t=e.value;t!==m&&(localStorage.setItem("current_option",t),T&&t&&I.visit(s(`dev-tools/${i}/${t}`),{replace:!0}))},j=[{label:"Themes",options:d==null?void 0:d.map(e=>({label:e.title,value:`themes/${e.name}`}))},{label:"Plugins",options:n==null?void 0:n.map(e=>{var t,l;return{label:((l=(t=e.extra)==null?void 0:t.juzaweb)==null?void 0:l.name)||e.name,value:`plugins/${e.name}`}})}],P=r==null?void 0:r.options.map(e=>({label:e.label,value:e.key}));return c("div",{className:"row mb-3",children:[o("div",{className:"col-md-4",children:(d||n)&&o(S,{name:"module",placeholder:"Select Module",value:i,onChange:k,options:j})}),o("div",{className:"col-md-4",children:o(S,{placeholder:"Options",options:P,value:m,onChange:O})}),o("div",{className:"col-md-4",children:c("div",{className:"dropdown",children:[o("button",{className:"btn btn-info dropdown-toggle",type:"button",id:"dropdownMakeButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:"New Module"}),c("div",{className:"dropdown-menu","aria-labelledby":"dropdownMakeButton",children:[o(g,{className:"dropdown-item",href:s("dev-tools/themes/create"),children:f("Make New Theme")}),o(g,{className:"dropdown-item",href:s("dev-tools/plugins/create"),children:f("Make New Plugin")})]})]})})]})}export{G as default};
