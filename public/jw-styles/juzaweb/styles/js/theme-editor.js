var TIME_DELAY,_autoNumericOptions;if(function(e){var t={};function i(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/",i(i.s=0)}([function(e,t,i){e.exports=i(1)},function(e,t,i){i(2).start()},function(e,t,i){var n,r;(function(){(function(){(function(){this.Turbolinks={supported:null!=window.history.pushState&&null!=window.requestAnimationFrame&&null!=window.addEventListener,visit:function(e,t){return s.controller.visit(e,t)},clearCache:function(){return s.controller.clearCache()},setProgressBarDelay:function(e){return s.controller.setProgressBarDelay(e)}}}).call(this)}).call(this);var s=this.Turbolinks;(function(){(function(){var e,t,i,n=[].slice;s.copyObject=function(e){var t,i,n;for(t in i={},e)n=e[t],i[t]=n;return i},s.closest=function(t,i){return e.call(t,i)},e=function(){var e;return null!=(e=document.documentElement.closest)?e:function(e){var i;for(i=this;i;){if(i.nodeType===Node.ELEMENT_NODE&&t.call(i,e))return i;i=i.parentNode}}}(),s.defer=function(e){return setTimeout(e,1)},s.throttle=function(e){var t;return t=null,function(){var i;return i=1<=arguments.length?n.call(arguments,0):[],null!=t?t:t=requestAnimationFrame(function(n){return function(){return t=null,e.apply(n,i)}}(this))}},s.dispatch=function(e,t){var n,r,s,o,a,l;return l=(a=null!=t?t:{}).target,n=a.cancelable,r=a.data,(s=document.createEvent("Events")).initEvent(e,!0,!0===n),s.data=null!=r?r:{},s.cancelable&&!i&&(o=s.preventDefault,s.preventDefault=function(){return this.defaultPrevented||Object.defineProperty(this,"defaultPrevented",{get:function(){return!0}}),o.call(this)}),(null!=l?l:document).dispatchEvent(s),s},i=function(){var e;return(e=document.createEvent("Events")).initEvent("test",!0,!0),e.preventDefault(),e.defaultPrevented}(),s.match=function(e,i){return t.call(e,i)},t=function(){var e,t,i,n;return null!=(t=null!=(i=null!=(n=(e=document.documentElement).matchesSelector)?n:e.webkitMatchesSelector)?i:e.msMatchesSelector)?t:e.mozMatchesSelector}(),s.uuid=function(){var e,t,i;for(i="",e=t=1;36>=t;e=++t)i+=9===e||14===e||19===e||24===e?"-":15===e?"4":20===e?(Math.floor(4*Math.random())+8).toString(16):Math.floor(15*Math.random()).toString(16);return i}}).call(this),function(){s.Location=function(){function e(e){var t,i;null==e&&(e=""),(i=document.createElement("a")).href=e.toString(),this.absoluteURL=i.href,2>(t=i.hash.length)?this.requestURL=this.absoluteURL:(this.requestURL=this.absoluteURL.slice(0,-t),this.anchor=i.hash.slice(1))}var t,i,n,r;return e.wrap=function(e){return e instanceof this?e:new this(e)},e.prototype.getOrigin=function(){return this.absoluteURL.split("/",3).join("/")},e.prototype.getPath=function(){var e,t;return null!=(e=null!=(t=this.requestURL.match(/\/\/[^\/]*(\/[^?;]*)/))?t[1]:void 0)?e:"/"},e.prototype.getPathComponents=function(){return this.getPath().split("/").slice(1)},e.prototype.getLastPathComponent=function(){return this.getPathComponents().slice(-1)[0]},e.prototype.getExtension=function(){var e,t;return null!=(e=null!=(t=this.getLastPathComponent().match(/\.[^.]*$/))?t[0]:void 0)?e:""},e.prototype.isHTML=function(){return this.getExtension().match(/^(?:|\.(?:htm|html|xhtml))$/)},e.prototype.isPrefixedBy=function(e){var t;return t=i(e),this.isEqualTo(e)||r(this.absoluteURL,t)},e.prototype.isEqualTo=function(e){return this.absoluteURL===(null!=e?e.absoluteURL:void 0)},e.prototype.toCacheKey=function(){return this.requestURL},e.prototype.toJSON=function(){return this.absoluteURL},e.prototype.toString=function(){return this.absoluteURL},e.prototype.valueOf=function(){return this.absoluteURL},i=function(e){return t(e.getOrigin()+e.getPath())},t=function(e){return n(e,"/")?e:e+"/"},r=function(e,t){return e.slice(0,t.length)===t},n=function(e,t){return e.slice(-t.length)===t},e}()}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};s.HttpRequest=function(){function t(t,i,n){this.delegate=t,this.requestCanceled=e(this.requestCanceled,this),this.requestTimedOut=e(this.requestTimedOut,this),this.requestFailed=e(this.requestFailed,this),this.requestLoaded=e(this.requestLoaded,this),this.requestProgressed=e(this.requestProgressed,this),this.url=s.Location.wrap(i).requestURL,this.referrer=s.Location.wrap(n).absoluteURL,this.createXHR()}return t.NETWORK_FAILURE=0,t.TIMEOUT_FAILURE=-1,t.timeout=60,t.prototype.send=function(){var e;return this.xhr&&!this.sent?(this.notifyApplicationBeforeRequestStart(),this.setProgress(0),this.xhr.send(),this.sent=!0,"function"==typeof(e=this.delegate).requestStarted?e.requestStarted():void 0):void 0},t.prototype.cancel=function(){return this.xhr&&this.sent?this.xhr.abort():void 0},t.prototype.requestProgressed=function(e){return e.lengthComputable?this.setProgress(e.loaded/e.total):void 0},t.prototype.requestLoaded=function(){return this.endRequest((e=this,function(){var t;return 200<=(t=e.xhr.status)&&300>t?e.delegate.requestCompletedWithResponse(e.xhr.responseText,e.xhr.getResponseHeader("Turbolinks-Location")):(e.failed=!0,e.delegate.requestFailedWithStatusCode(e.xhr.status,e.xhr.responseText))}));var e},t.prototype.requestFailed=function(){return this.endRequest((e=this,function(){return e.failed=!0,e.delegate.requestFailedWithStatusCode(e.constructor.NETWORK_FAILURE)}));var e},t.prototype.requestTimedOut=function(){return this.endRequest((e=this,function(){return e.failed=!0,e.delegate.requestFailedWithStatusCode(e.constructor.TIMEOUT_FAILURE)}));var e},t.prototype.requestCanceled=function(){return this.endRequest()},t.prototype.notifyApplicationBeforeRequestStart=function(){return s.dispatch("turbolinks:request-start",{data:{url:this.url,xhr:this.xhr}})},t.prototype.notifyApplicationAfterRequestEnd=function(){return s.dispatch("turbolinks:request-end",{data:{url:this.url,xhr:this.xhr}})},t.prototype.createXHR=function(){return this.xhr=new XMLHttpRequest,this.xhr.open("GET",this.url,!0),this.xhr.timeout=1e3*this.constructor.timeout,this.xhr.setRequestHeader("Accept","text/html, application/xhtml+xml"),this.xhr.setRequestHeader("Turbolinks-Referrer",this.referrer),this.xhr.onprogress=this.requestProgressed,this.xhr.onload=this.requestLoaded,this.xhr.onerror=this.requestFailed,this.xhr.ontimeout=this.requestTimedOut,this.xhr.onabort=this.requestCanceled},t.prototype.endRequest=function(e){return this.xhr?(this.notifyApplicationAfterRequestEnd(),null!=e&&e.call(this),this.destroy()):void 0},t.prototype.setProgress=function(e){var t;return this.progress=e,"function"==typeof(t=this.delegate).requestProgressed?t.requestProgressed(this.progress):void 0},t.prototype.destroy=function(){var e;return this.setProgress(1),"function"==typeof(e=this.delegate).requestFinished&&e.requestFinished(),this.delegate=null,this.xhr=null},t}()}.call(this),function(){s.ProgressBar=function(){function e(){var e,t;this.trickle=(e=this.trickle,t=this,function(){return e.apply(t,arguments)}),this.stylesheetElement=this.createStylesheetElement(),this.progressElement=this.createProgressElement()}return 300,e.defaultCSS=".turbolinks-progress-bar {\n  position: fixed;\n  display: block;\n  top: 0;\n  left: 0;\n  height: 3px;\n  background: #0076ff;\n  z-index: 9999;\n  transition: width 300ms ease-out, opacity 150ms 150ms ease-in;\n  transform: translate3d(0, 0, 0);\n}",e.prototype.show=function(){return this.visible?void 0:(this.visible=!0,this.installStylesheetElement(),this.installProgressElement(),this.startTrickling())},e.prototype.hide=function(){return this.visible&&!this.hiding?(this.hiding=!0,this.fadeProgressElement((e=this,function(){return e.uninstallProgressElement(),e.stopTrickling(),e.visible=!1,e.hiding=!1}))):void 0;var e},e.prototype.setValue=function(e){return this.value=e,this.refresh()},e.prototype.installStylesheetElement=function(){return document.head.insertBefore(this.stylesheetElement,document.head.firstChild)},e.prototype.installProgressElement=function(){return this.progressElement.style.width=0,this.progressElement.style.opacity=1,document.documentElement.insertBefore(this.progressElement,document.body),this.refresh()},e.prototype.fadeProgressElement=function(e){return this.progressElement.style.opacity=0,setTimeout(e,450)},e.prototype.uninstallProgressElement=function(){return this.progressElement.parentNode?document.documentElement.removeChild(this.progressElement):void 0},e.prototype.startTrickling=function(){return null!=this.trickleInterval?this.trickleInterval:this.trickleInterval=setInterval(this.trickle,300)},e.prototype.stopTrickling=function(){return clearInterval(this.trickleInterval),this.trickleInterval=null},e.prototype.trickle=function(){return this.setValue(this.value+Math.random()/100)},e.prototype.refresh=function(){return requestAnimationFrame((e=this,function(){return e.progressElement.style.width=10+90*e.value+"%"}));var e},e.prototype.createStylesheetElement=function(){var e;return(e=document.createElement("style")).type="text/css",e.textContent=this.constructor.defaultCSS,e},e.prototype.createProgressElement=function(){var e;return(e=document.createElement("div")).className="turbolinks-progress-bar",e},e}()}.call(this),function(){s.BrowserAdapter=function(){function e(e){this.controller=e,this.showProgressBar=function(e,t){return function(){return e.apply(t,arguments)}}(this.showProgressBar,this),this.progressBar=new s.ProgressBar}var t,i,n;return n=s.HttpRequest,t=n.NETWORK_FAILURE,i=n.TIMEOUT_FAILURE,e.prototype.visitProposedToLocationWithAction=function(e,t){return this.controller.startVisitToLocationWithAction(e,t)},e.prototype.visitStarted=function(e){return e.issueRequest(),e.changeHistory(),e.loadCachedSnapshot()},e.prototype.visitRequestStarted=function(e){return this.progressBar.setValue(0),e.hasCachedSnapshot()||"restore"!==e.action?this.showProgressBarAfterDelay():this.showProgressBar()},e.prototype.visitRequestProgressed=function(e){return this.progressBar.setValue(e.progress)},e.prototype.visitRequestCompleted=function(e){return e.loadResponse()},e.prototype.visitRequestFailedWithStatusCode=function(e,n){switch(n){case t:case i:return this.reload();default:return e.loadResponse()}},e.prototype.visitRequestFinished=function(e){return this.hideProgressBar()},e.prototype.visitCompleted=function(e){return e.followRedirect()},e.prototype.pageInvalidated=function(){return this.reload()},e.prototype.showProgressBarAfterDelay=function(){return this.progressBarTimeout=setTimeout(this.showProgressBar,this.controller.progressBarDelay)},e.prototype.showProgressBar=function(){return this.progressBar.show()},e.prototype.hideProgressBar=function(){return this.progressBar.hide(),clearTimeout(this.progressBarTimeout)},e.prototype.reload=function(){return window.location.reload()},e}()}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};s.History=function(){function t(t){this.delegate=t,this.onPageLoad=e(this.onPageLoad,this),this.onPopState=e(this.onPopState,this)}return t.prototype.start=function(){return this.started?void 0:(addEventListener("popstate",this.onPopState,!1),addEventListener("load",this.onPageLoad,!1),this.started=!0)},t.prototype.stop=function(){return this.started?(removeEventListener("popstate",this.onPopState,!1),removeEventListener("load",this.onPageLoad,!1),this.started=!1):void 0},t.prototype.push=function(e,t){return e=s.Location.wrap(e),this.update("push",e,t)},t.prototype.replace=function(e,t){return e=s.Location.wrap(e),this.update("replace",e,t)},t.prototype.onPopState=function(e){var t,i,n,r;return this.shouldHandlePopState()&&(r=null!=(i=e.state)?i.turbolinks:void 0)?(t=s.Location.wrap(window.location),n=r.restorationIdentifier,this.delegate.historyPoppedToLocationWithRestorationIdentifier(t,n)):void 0},t.prototype.onPageLoad=function(e){return s.defer(function(e){return function(){return e.pageLoaded=!0}}(this))},t.prototype.shouldHandlePopState=function(){return this.pageIsLoaded()},t.prototype.pageIsLoaded=function(){return this.pageLoaded||"complete"===document.readyState},t.prototype.update=function(e,t,i){var n;return n={turbolinks:{restorationIdentifier:i}},history[e+"State"](n,null,t)},t}()}.call(this),function(){s.HeadDetails=function(){function e(e){var t,i,n,o,a;for(this.elements={},i=0,o=e.length;o>i;i++)(a=e[i]).nodeType===Node.ELEMENT_NODE&&(n=a.outerHTML,(null!=(t=this.elements)[n]?t[n]:t[n]={type:s(a),tracked:r(a),elements:[]}).elements.push(a))}var t,i,n,r,s;return e.fromHeadElement=function(e){var t;return new this(null!=(t=null!=e?e.childNodes:void 0)?t:[])},e.prototype.hasElementWithKey=function(e){return e in this.elements},e.prototype.getTrackedElementSignature=function(){var e;return function(){var t,i;for(e in i=[],t=this.elements)t[e].tracked&&i.push(e);return i}.call(this).join("")},e.prototype.getScriptElementsNotInDetails=function(e){return this.getElementsMatchingTypeNotInDetails("script",e)},e.prototype.getStylesheetElementsNotInDetails=function(e){return this.getElementsMatchingTypeNotInDetails("stylesheet",e)},e.prototype.getElementsMatchingTypeNotInDetails=function(e,t){var i,n,r,s,o,a;for(n in o=[],r=this.elements)a=(s=r[n]).type,i=s.elements,a!==e||t.hasElementWithKey(n)||o.push(i[0]);return o},e.prototype.getProvisionalElements=function(){var e,t,i,n,r,s,o;for(t in i=[],n=this.elements)o=(r=n[t]).type,s=r.tracked,e=r.elements,null!=o||s?e.length>1&&i.push.apply(i,e.slice(1)):i.push.apply(i,e);return i},e.prototype.getMetaValue=function(e){var t;return null!=(t=this.findMetaElementByName(e))?t.getAttribute("content"):void 0},e.prototype.findMetaElementByName=function(e){var i,n,r,s;for(r in i=void 0,s=this.elements)n=s[r].elements,t(n[0],e)&&(i=n[0]);return i},s=function(e){return i(e)?"script":n(e)?"stylesheet":void 0},r=function(e){return"reload"===e.getAttribute("data-turbolinks-track")},i=function(e){return"script"===e.tagName.toLowerCase()},n=function(e){var t;return"style"===(t=e.tagName.toLowerCase())||"link"===t&&"stylesheet"===e.getAttribute("rel")},t=function(e,t){return"meta"===e.tagName.toLowerCase()&&e.getAttribute("name")===t},e}()}.call(this),function(){s.Snapshot=function(){function e(e,t){this.headDetails=e,this.bodyElement=t}return e.wrap=function(e){return e instanceof this?e:"string"==typeof e?this.fromHTMLString(e):this.fromHTMLElement(e)},e.fromHTMLString=function(e){var t;return(t=document.createElement("html")).innerHTML=e,this.fromHTMLElement(t)},e.fromHTMLElement=function(e){var t,i,n;return i=e.querySelector("head"),t=null!=(n=e.querySelector("body"))?n:document.createElement("body"),new this(s.HeadDetails.fromHeadElement(i),t)},e.prototype.clone=function(){return new this.constructor(this.headDetails,this.bodyElement.cloneNode(!0))},e.prototype.getRootLocation=function(){var e,t;return t=null!=(e=this.getSetting("root"))?e:"/",new s.Location(t)},e.prototype.getCacheControlValue=function(){return this.getSetting("cache-control")},e.prototype.getElementForAnchor=function(e){try{return this.bodyElement.querySelector("[id='"+e+"'], a[name='"+e+"']")}catch(e){}},e.prototype.getPermanentElements=function(){return this.bodyElement.querySelectorAll("[id][data-turbolinks-permanent]")},e.prototype.getPermanentElementById=function(e){return this.bodyElement.querySelector("#"+e+"[data-turbolinks-permanent]")},e.prototype.getPermanentElementsPresentInSnapshot=function(e){var t,i,n,r,s;for(s=[],i=0,n=(r=this.getPermanentElements()).length;n>i;i++)t=r[i],e.getPermanentElementById(t.id)&&s.push(t);return s},e.prototype.findFirstAutofocusableElement=function(){return this.bodyElement.querySelector("[autofocus]")},e.prototype.hasAnchor=function(e){return null!=this.getElementForAnchor(e)},e.prototype.isPreviewable=function(){return"no-preview"!==this.getCacheControlValue()},e.prototype.isCacheable=function(){return"no-cache"!==this.getCacheControlValue()},e.prototype.isVisitable=function(){return"reload"!==this.getSetting("visit-control")},e.prototype.getSetting=function(e){return this.headDetails.getMetaValue("turbolinks-"+e)},e}()}.call(this),function(){var e=[].slice;s.Renderer=function(){function t(){}var i;return t.render=function(){var t,i,n;return i=arguments[0],t=arguments[1],(n=function(e,t,i){i.prototype=e.prototype;var n=new i,r=e.apply(n,t);return Object(r)===r?r:n}(this,3<=arguments.length?e.call(arguments,2):[],function(){})).delegate=i,n.render(t),n},t.prototype.renderView=function(e){return this.delegate.viewWillRender(this.newBody),e(),this.delegate.viewRendered(this.newBody)},t.prototype.invalidateView=function(){return this.delegate.viewInvalidated()},t.prototype.createScriptElement=function(e){var t;return"false"===e.getAttribute("data-turbolinks-eval")?e:((t=document.createElement("script")).textContent=e.textContent,t.async=!1,i(t,e),t)},i=function(e,t){var i,n,r,s,o,a,l;for(a=[],i=0,n=(s=t.attributes).length;n>i;i++)r=(o=s[i]).name,l=o.value,a.push(e.setAttribute(r,l));return a},t}()}.call(this),function(){var e,t,i=function(e,t){function i(){this.constructor=e}for(var r in t)n.call(t,r)&&(e[r]=t[r]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e},n={}.hasOwnProperty;s.SnapshotRenderer=function(n){function r(e,t,i){this.currentSnapshot=e,this.newSnapshot=t,this.isPreview=i,this.currentHeadDetails=this.currentSnapshot.headDetails,this.newHeadDetails=this.newSnapshot.headDetails,this.currentBody=this.currentSnapshot.bodyElement,this.newBody=this.newSnapshot.bodyElement}return i(r,n),r.prototype.render=function(e){return this.shouldRender()?(this.mergeHead(),this.renderView((t=this,function(){return t.replaceBody(),t.isPreview||t.focusFirstAutofocusableElement(),e()}))):this.invalidateView();var t},r.prototype.mergeHead=function(){return this.copyNewHeadStylesheetElements(),this.copyNewHeadScriptElements(),this.removeCurrentHeadProvisionalElements(),this.copyNewHeadProvisionalElements()},r.prototype.replaceBody=function(){var e;return e=this.relocateCurrentBodyPermanentElements(),this.activateNewBodyScriptElements(),this.assignNewBody(),this.replacePlaceholderElementsWithClonedPermanentElements(e)},r.prototype.shouldRender=function(){return this.newSnapshot.isVisitable()&&this.trackedElementsAreIdentical()},r.prototype.trackedElementsAreIdentical=function(){return this.currentHeadDetails.getTrackedElementSignature()===this.newHeadDetails.getTrackedElementSignature()},r.prototype.copyNewHeadStylesheetElements=function(){var e,t,i,n,r;for(r=[],t=0,i=(n=this.getNewHeadStylesheetElements()).length;i>t;t++)e=n[t],r.push(document.head.appendChild(e));return r},r.prototype.copyNewHeadScriptElements=function(){var e,t,i,n,r;for(r=[],t=0,i=(n=this.getNewHeadScriptElements()).length;i>t;t++)e=n[t],r.push(document.head.appendChild(this.createScriptElement(e)));return r},r.prototype.removeCurrentHeadProvisionalElements=function(){var e,t,i,n,r;for(r=[],t=0,i=(n=this.getCurrentHeadProvisionalElements()).length;i>t;t++)e=n[t],r.push(document.head.removeChild(e));return r},r.prototype.copyNewHeadProvisionalElements=function(){var e,t,i,n,r;for(r=[],t=0,i=(n=this.getNewHeadProvisionalElements()).length;i>t;t++)e=n[t],r.push(document.head.appendChild(e));return r},r.prototype.relocateCurrentBodyPermanentElements=function(){var i,n,r,s,o,a,l;for(l=[],i=0,n=(a=this.getCurrentBodyPermanentElements()).length;n>i;i++)s=a[i],o=e(s),r=this.newSnapshot.getPermanentElementById(s.id),t(s,o.element),t(r,s),l.push(o);return l},r.prototype.replacePlaceholderElementsWithClonedPermanentElements=function(e){var i,n,r,s,o,a;for(a=[],r=0,s=e.length;s>r;r++)n=(o=e[r]).element,i=o.permanentElement.cloneNode(!0),a.push(t(n,i));return a},r.prototype.activateNewBodyScriptElements=function(){var e,i,n,r,s,o;for(o=[],i=0,r=(s=this.getNewBodyScriptElements()).length;r>i;i++)n=s[i],e=this.createScriptElement(n),o.push(t(n,e));return o},r.prototype.assignNewBody=function(){return document.body=this.newBody},r.prototype.focusFirstAutofocusableElement=function(){var e;return null!=(e=this.newSnapshot.findFirstAutofocusableElement())?e.focus():void 0},r.prototype.getNewHeadStylesheetElements=function(){return this.newHeadDetails.getStylesheetElementsNotInDetails(this.currentHeadDetails)},r.prototype.getNewHeadScriptElements=function(){return this.newHeadDetails.getScriptElementsNotInDetails(this.currentHeadDetails)},r.prototype.getCurrentHeadProvisionalElements=function(){return this.currentHeadDetails.getProvisionalElements()},r.prototype.getNewHeadProvisionalElements=function(){return this.newHeadDetails.getProvisionalElements()},r.prototype.getCurrentBodyPermanentElements=function(){return this.currentSnapshot.getPermanentElementsPresentInSnapshot(this.newSnapshot)},r.prototype.getNewBodyScriptElements=function(){return this.newBody.querySelectorAll("script")},r}(s.Renderer),e=function(e){var t;return(t=document.createElement("meta")).setAttribute("name","turbolinks-permanent-placeholder"),t.setAttribute("content",e.id),{element:t,permanentElement:e}},t=function(e,t){var i;return(i=e.parentNode)?i.replaceChild(t,e):void 0}}.call(this),function(){var e=function(e,i){function n(){this.constructor=e}for(var r in i)t.call(i,r)&&(e[r]=i[r]);return n.prototype=i.prototype,e.prototype=new n,e.__super__=i.prototype,e},t={}.hasOwnProperty;s.ErrorRenderer=function(t){function i(e){var t;(t=document.createElement("html")).innerHTML=e,this.newHead=t.querySelector("head"),this.newBody=t.querySelector("body")}return e(i,t),i.prototype.render=function(e){return this.renderView((t=this,function(){return t.replaceHeadAndBody(),t.activateBodyScriptElements(),e()}));var t},i.prototype.replaceHeadAndBody=function(){var e,t;return t=document.head,e=document.body,t.parentNode.replaceChild(this.newHead,t),e.parentNode.replaceChild(this.newBody,e)},i.prototype.activateBodyScriptElements=function(){var e,t,i,n,r,s;for(s=[],t=0,i=(n=this.getScriptElements()).length;i>t;t++)r=n[t],e=this.createScriptElement(r),s.push(r.parentNode.replaceChild(e,r));return s},i.prototype.getScriptElements=function(){return document.documentElement.querySelectorAll("script")},i}(s.Renderer)}.call(this),function(){s.View=function(){function e(e){this.delegate=e,this.htmlElement=document.documentElement}return e.prototype.getRootLocation=function(){return this.getSnapshot().getRootLocation()},e.prototype.getElementForAnchor=function(e){return this.getSnapshot().getElementForAnchor(e)},e.prototype.getSnapshot=function(){return s.Snapshot.fromHTMLElement(this.htmlElement)},e.prototype.render=function(e,t){var i,n,r;return r=e.snapshot,i=e.error,n=e.isPreview,this.markAsPreview(n),null!=r?this.renderSnapshot(r,n,t):this.renderError(i,t)},e.prototype.markAsPreview=function(e){return e?this.htmlElement.setAttribute("data-turbolinks-preview",""):this.htmlElement.removeAttribute("data-turbolinks-preview")},e.prototype.renderSnapshot=function(e,t,i){return s.SnapshotRenderer.render(this.delegate,i,this.getSnapshot(),s.Snapshot.wrap(e),t)},e.prototype.renderError=function(e,t){return s.ErrorRenderer.render(this.delegate,t,e)},e}()}.call(this),function(){s.ScrollManager=function(){function e(e){this.delegate=e,this.onScroll=function(e,t){return function(){return e.apply(t,arguments)}}(this.onScroll,this),this.onScroll=s.throttle(this.onScroll)}return e.prototype.start=function(){return this.started?void 0:(addEventListener("scroll",this.onScroll,!1),this.onScroll(),this.started=!0)},e.prototype.stop=function(){return this.started?(removeEventListener("scroll",this.onScroll,!1),this.started=!1):void 0},e.prototype.scrollToElement=function(e){return e.scrollIntoView()},e.prototype.scrollToPosition=function(e){var t,i;return t=e.x,i=e.y,window.scrollTo(t,i)},e.prototype.onScroll=function(e){return this.updatePosition({x:window.pageXOffset,y:window.pageYOffset})},e.prototype.updatePosition=function(e){var t;return this.position=e,null!=(t=this.delegate)?t.scrollPositionChanged(this.position):void 0},e}()}.call(this),function(){s.SnapshotCache=function(){function e(e){this.size=e,this.keys=[],this.snapshots={}}var t;return e.prototype.has=function(e){return t(e)in this.snapshots},e.prototype.get=function(e){var t;if(this.has(e))return t=this.read(e),this.touch(e),t},e.prototype.put=function(e,t){return this.write(e,t),this.touch(e),t},e.prototype.read=function(e){var i;return i=t(e),this.snapshots[i]},e.prototype.write=function(e,i){var n;return n=t(e),this.snapshots[n]=i},e.prototype.touch=function(e){var i,n;return n=t(e),(i=this.keys.indexOf(n))>-1&&this.keys.splice(i,1),this.keys.unshift(n),this.trim()},e.prototype.trim=function(){var e,t,i,n,r;for(r=[],e=0,i=(n=this.keys.splice(this.size)).length;i>e;e++)t=n[e],r.push(delete this.snapshots[t]);return r},t=function(e){return s.Location.wrap(e).toCacheKey()},e}()}.call(this),function(){s.Visit=function(){function e(e,t,i){this.controller=e,this.action=i,this.performScroll=function(e,t){return function(){return e.apply(t,arguments)}}(this.performScroll,this),this.identifier=s.uuid(),this.location=s.Location.wrap(t),this.adapter=this.controller.adapter,this.state="initialized",this.timingMetrics={}}var t;return e.prototype.start=function(){return"initialized"===this.state?(this.recordTimingMetric("visitStart"),this.state="started",this.adapter.visitStarted(this)):void 0},e.prototype.cancel=function(){var e;return"started"===this.state?(null!=(e=this.request)&&e.cancel(),this.cancelRender(),this.state="canceled"):void 0},e.prototype.complete=function(){var e;return"started"===this.state?(this.recordTimingMetric("visitEnd"),this.state="completed","function"==typeof(e=this.adapter).visitCompleted&&e.visitCompleted(this),this.controller.visitCompleted(this)):void 0},e.prototype.fail=function(){var e;return"started"===this.state?(this.state="failed","function"==typeof(e=this.adapter).visitFailed?e.visitFailed(this):void 0):void 0},e.prototype.changeHistory=function(){var e,i;return this.historyChanged?void 0:(e=this.location.isEqualTo(this.referrer)?"replace":this.action,i=t(e),this.controller[i](this.location,this.restorationIdentifier),this.historyChanged=!0)},e.prototype.issueRequest=function(){return this.shouldIssueRequest()&&null==this.request?(this.progress=0,this.request=new s.HttpRequest(this,this.location,this.referrer),this.request.send()):void 0},e.prototype.getCachedSnapshot=function(){var e;return!(e=this.controller.getCachedSnapshotForLocation(this.location))||null!=this.location.anchor&&!e.hasAnchor(this.location.anchor)||"restore"!==this.action&&!e.isPreviewable()?void 0:e},e.prototype.hasCachedSnapshot=function(){return null!=this.getCachedSnapshot()},e.prototype.loadCachedSnapshot=function(){var e,t;return(t=this.getCachedSnapshot())?(e=this.shouldIssueRequest(),this.render(function(){var i;return this.cacheSnapshot(),this.controller.render({snapshot:t,isPreview:e},this.performScroll),"function"==typeof(i=this.adapter).visitRendered&&i.visitRendered(this),e?void 0:this.complete()})):void 0},e.prototype.loadResponse=function(){return null!=this.response?this.render(function(){var e,t;return this.cacheSnapshot(),this.request.failed?(this.controller.render({error:this.response},this.performScroll),"function"==typeof(e=this.adapter).visitRendered&&e.visitRendered(this),this.fail()):(this.controller.render({snapshot:this.response},this.performScroll),"function"==typeof(t=this.adapter).visitRendered&&t.visitRendered(this),this.complete())}):void 0},e.prototype.followRedirect=function(){return this.redirectedToLocation&&!this.followedRedirect?(this.location=this.redirectedToLocation,this.controller.replaceHistoryWithLocationAndRestorationIdentifier(this.redirectedToLocation,this.restorationIdentifier),this.followedRedirect=!0):void 0},e.prototype.requestStarted=function(){var e;return this.recordTimingMetric("requestStart"),"function"==typeof(e=this.adapter).visitRequestStarted?e.visitRequestStarted(this):void 0},e.prototype.requestProgressed=function(e){var t;return this.progress=e,"function"==typeof(t=this.adapter).visitRequestProgressed?t.visitRequestProgressed(this):void 0},e.prototype.requestCompletedWithResponse=function(e,t){return this.response=e,null!=t&&(this.redirectedToLocation=s.Location.wrap(t)),this.adapter.visitRequestCompleted(this)},e.prototype.requestFailedWithStatusCode=function(e,t){return this.response=t,this.adapter.visitRequestFailedWithStatusCode(this,e)},e.prototype.requestFinished=function(){var e;return this.recordTimingMetric("requestEnd"),"function"==typeof(e=this.adapter).visitRequestFinished?e.visitRequestFinished(this):void 0},e.prototype.performScroll=function(){return this.scrolled?void 0:("restore"===this.action?this.scrollToRestoredPosition()||this.scrollToTop():this.scrollToAnchor()||this.scrollToTop(),this.scrolled=!0)},e.prototype.scrollToRestoredPosition=function(){var e,t;return null!=(e=null!=(t=this.restorationData)?t.scrollPosition:void 0)?(this.controller.scrollToPosition(e),!0):void 0},e.prototype.scrollToAnchor=function(){return null!=this.location.anchor?(this.controller.scrollToAnchor(this.location.anchor),!0):void 0},e.prototype.scrollToTop=function(){return this.controller.scrollToPosition({x:0,y:0})},e.prototype.recordTimingMetric=function(e){var t;return null!=(t=this.timingMetrics)[e]?t[e]:t[e]=(new Date).getTime()},e.prototype.getTimingMetrics=function(){return s.copyObject(this.timingMetrics)},t=function(e){switch(e){case"replace":return"replaceHistoryWithLocationAndRestorationIdentifier";case"advance":case"restore":return"pushHistoryWithLocationAndRestorationIdentifier"}},e.prototype.shouldIssueRequest=function(){return"restore"!==this.action||!this.hasCachedSnapshot()},e.prototype.cacheSnapshot=function(){return this.snapshotCached?void 0:(this.controller.cacheSnapshot(),this.snapshotCached=!0)},e.prototype.render=function(e){return this.cancelRender(),this.frame=requestAnimationFrame((t=this,function(){return t.frame=null,e.call(t)}));var t},e.prototype.cancelRender=function(){return this.frame?cancelAnimationFrame(this.frame):void 0},e}()}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};s.Controller=function(){function t(){this.clickBubbled=e(this.clickBubbled,this),this.clickCaptured=e(this.clickCaptured,this),this.pageLoaded=e(this.pageLoaded,this),this.history=new s.History(this),this.view=new s.View(this),this.scrollManager=new s.ScrollManager(this),this.restorationData={},this.clearCache(),this.setProgressBarDelay(500)}return t.prototype.start=function(){return s.supported&&!this.started?(addEventListener("click",this.clickCaptured,!0),addEventListener("DOMContentLoaded",this.pageLoaded,!1),this.scrollManager.start(),this.startHistory(),this.started=!0,this.enabled=!0):void 0},t.prototype.disable=function(){return this.enabled=!1},t.prototype.stop=function(){return this.started?(removeEventListener("click",this.clickCaptured,!0),removeEventListener("DOMContentLoaded",this.pageLoaded,!1),this.scrollManager.stop(),this.stopHistory(),this.started=!1):void 0},t.prototype.clearCache=function(){return this.cache=new s.SnapshotCache(10)},t.prototype.visit=function(e,t){var i,n;return null==t&&(t={}),e=s.Location.wrap(e),this.applicationAllowsVisitingLocation(e)?this.locationIsVisitable(e)?(i=null!=(n=t.action)?n:"advance",this.adapter.visitProposedToLocationWithAction(e,i)):window.location=e:void 0},t.prototype.startVisitToLocationWithAction=function(e,t,i){var n;return s.supported?(n=this.getRestorationDataForIdentifier(i),this.startVisit(e,t,{restorationData:n})):window.location=e},t.prototype.setProgressBarDelay=function(e){return this.progressBarDelay=e},t.prototype.startHistory=function(){return this.location=s.Location.wrap(window.location),this.restorationIdentifier=s.uuid(),this.history.start(),this.history.replace(this.location,this.restorationIdentifier)},t.prototype.stopHistory=function(){return this.history.stop()},t.prototype.pushHistoryWithLocationAndRestorationIdentifier=function(e,t){return this.restorationIdentifier=t,this.location=s.Location.wrap(e),this.history.push(this.location,this.restorationIdentifier)},t.prototype.replaceHistoryWithLocationAndRestorationIdentifier=function(e,t){return this.restorationIdentifier=t,this.location=s.Location.wrap(e),this.history.replace(this.location,this.restorationIdentifier)},t.prototype.historyPoppedToLocationWithRestorationIdentifier=function(e,t){var i;return this.restorationIdentifier=t,this.enabled?(i=this.getRestorationDataForIdentifier(this.restorationIdentifier),this.startVisit(e,"restore",{restorationIdentifier:this.restorationIdentifier,restorationData:i,historyChanged:!0}),this.location=s.Location.wrap(e)):this.adapter.pageInvalidated()},t.prototype.getCachedSnapshotForLocation=function(e){var t;return null!=(t=this.cache.get(e))?t.clone():void 0},t.prototype.shouldCacheSnapshot=function(){return this.view.getSnapshot().isCacheable()},t.prototype.cacheSnapshot=function(){var e,t,i;return this.shouldCacheSnapshot()?(this.notifyApplicationBeforeCachingSnapshot(),t=this.view.getSnapshot(),e=this.lastRenderedLocation,s.defer((i=this,function(){return i.cache.put(e,t.clone())}))):void 0},t.prototype.scrollToAnchor=function(e){var t;return(t=this.view.getElementForAnchor(e))?this.scrollToElement(t):this.scrollToPosition({x:0,y:0})},t.prototype.scrollToElement=function(e){return this.scrollManager.scrollToElement(e)},t.prototype.scrollToPosition=function(e){return this.scrollManager.scrollToPosition(e)},t.prototype.scrollPositionChanged=function(e){return this.getCurrentRestorationData().scrollPosition=e},t.prototype.render=function(e,t){return this.view.render(e,t)},t.prototype.viewInvalidated=function(){return this.adapter.pageInvalidated()},t.prototype.viewWillRender=function(e){return this.notifyApplicationBeforeRender(e)},t.prototype.viewRendered=function(){return this.lastRenderedLocation=this.currentVisit.location,this.notifyApplicationAfterRender()},t.prototype.pageLoaded=function(){return this.lastRenderedLocation=this.location,this.notifyApplicationAfterPageLoad()},t.prototype.clickCaptured=function(){return removeEventListener("click",this.clickBubbled,!1),addEventListener("click",this.clickBubbled,!1)},t.prototype.clickBubbled=function(e){var t,i,n;return this.enabled&&this.clickEventIsSignificant(e)&&(i=this.getVisitableLinkForNode(e.target))&&(n=this.getVisitableLocationForLink(i))&&this.applicationAllowsFollowingLinkToLocation(i,n)?(e.preventDefault(),t=this.getActionForLink(i),this.visit(n,{action:t})):void 0},t.prototype.applicationAllowsFollowingLinkToLocation=function(e,t){return!this.notifyApplicationAfterClickingLinkToLocation(e,t).defaultPrevented},t.prototype.applicationAllowsVisitingLocation=function(e){return!this.notifyApplicationBeforeVisitingLocation(e).defaultPrevented},t.prototype.notifyApplicationAfterClickingLinkToLocation=function(e,t){return s.dispatch("turbolinks:click",{target:e,data:{url:t.absoluteURL},cancelable:!0})},t.prototype.notifyApplicationBeforeVisitingLocation=function(e){return s.dispatch("turbolinks:before-visit",{data:{url:e.absoluteURL},cancelable:!0})},t.prototype.notifyApplicationAfterVisitingLocation=function(e){return s.dispatch("turbolinks:visit",{data:{url:e.absoluteURL}})},t.prototype.notifyApplicationBeforeCachingSnapshot=function(){return s.dispatch("turbolinks:before-cache")},t.prototype.notifyApplicationBeforeRender=function(e){return s.dispatch("turbolinks:before-render",{data:{newBody:e}})},t.prototype.notifyApplicationAfterRender=function(){return s.dispatch("turbolinks:render")},t.prototype.notifyApplicationAfterPageLoad=function(e){return null==e&&(e={}),s.dispatch("turbolinks:load",{data:{url:this.location.absoluteURL,timing:e}})},t.prototype.startVisit=function(e,t,i){var n;return null!=(n=this.currentVisit)&&n.cancel(),this.currentVisit=this.createVisit(e,t,i),this.currentVisit.start(),this.notifyApplicationAfterVisitingLocation(e)},t.prototype.createVisit=function(e,t,i){var n,r,o,a,l;return a=(r=null!=i?i:{}).restorationIdentifier,o=r.restorationData,n=r.historyChanged,(l=new s.Visit(this,e,t)).restorationIdentifier=null!=a?a:s.uuid(),l.restorationData=s.copyObject(o),l.historyChanged=n,l.referrer=this.location,l},t.prototype.visitCompleted=function(e){return this.notifyApplicationAfterPageLoad(e.getTimingMetrics())},t.prototype.clickEventIsSignificant=function(e){return!(e.defaultPrevented||e.target.isContentEditable||e.which>1||e.altKey||e.ctrlKey||e.metaKey||e.shiftKey)},t.prototype.getVisitableLinkForNode=function(e){return this.nodeIsVisitable(e)?s.closest(e,"a[href]:not([target]):not([download])"):void 0},t.prototype.getVisitableLocationForLink=function(e){var t;return t=new s.Location(e.getAttribute("href")),this.locationIsVisitable(t)?t:void 0},t.prototype.getActionForLink=function(e){var t;return null!=(t=e.getAttribute("data-turbolinks-action"))?t:"advance"},t.prototype.nodeIsVisitable=function(e){var t;return!(t=s.closest(e,"[data-turbolinks]"))||"false"!==t.getAttribute("data-turbolinks")},t.prototype.locationIsVisitable=function(e){return e.isPrefixedBy(this.view.getRootLocation())&&e.isHTML()},t.prototype.getCurrentRestorationData=function(){return this.getRestorationDataForIdentifier(this.restorationIdentifier)},t.prototype.getRestorationDataForIdentifier=function(e){var t;return null!=(t=this.restorationData)[e]?t[e]:t[e]={}},t}()}.call(this),function(){!function(){var e,t;if((e=t=document.currentScript)&&!t.hasAttribute("data-turbolinks-suppress-warning"))for(;e=e.parentNode;)if(e===document.body)return console.warn("You are loading Turbolinks from a <script> element inside the <body> element. This is probably not what you meant to do!\n\nLoad your application’s JavaScript bundle inside the <head> element instead. <script> elements in <body> are evaluated with each page change.\n\nFor more information, see: https://github.com/turbolinks/turbolinks#working-with-script-elements\n\n——\nSuppress this warning by adding a `data-turbolinks-suppress-warning` attribute to: %s",t.outerHTML)}()}.call(this),function(){var e,t,i;s.start=function(){return t()?(null==s.controller&&(s.controller=e()),s.controller.start()):void 0},t=function(){return null==window.Turbolinks&&(window.Turbolinks=s),i()},e=function(){var e;return(e=new s.Controller).adapter=new s.BrowserAdapter(e),e},(i=function(){return window.Turbolinks===s})()&&s.start()}.call(this)}).call(this),e.exports?e.exports=s:void 0===(r="function"==typeof(n=s)?n.call(t,i,t,e):n)||(e.exports=r)}).call(this)}]),function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){function i(e){var t=!!e&&"length"in e&&e.length,i=De.type(e);return"function"!==i&&!De.isWindow(e)&&("array"===i||0===t||"number"==typeof t&&t>0&&t-1 in e)}function n(e,t,i){if(De.isFunction(t))return De.grep(e,function(e,n){return!!t.call(e,n,e)!==i});if(t.nodeType)return De.grep(e,function(e){return e===t!==i});if("string"==typeof t){if(je.test(t))return De.filter(t,e,i);t=De.filter(t,e)}return De.grep(e,function(e){return $e.call(t,e)>-1!==i})}function r(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function s(e){var t={};return De.each(e.match(Y)||[],function(e,i){t[i]=!0}),t}function o(){Te.removeEventListener("DOMContentLoaded",o),e.removeEventListener("load",o),De.ready()}function a(){this.expando=De.expando+a.uid++}function l(e,t,i){var n;if(void 0===i&&1===e.nodeType)if(n="data-"+t.replace(He,"-$&").toLowerCase(),"string"==typeof(i=e.getAttribute(n))){try{i="true"===i||"false"!==i&&("null"===i?null:+i+""===i?+i:qe.test(i)?De.parseJSON(i):i)}catch(e){}Je.set(e,t,i)}else i=void 0;return i}function u(e,t,i,n){var r,s=1,o=20,a=n?function(){return n.cur()}:function(){return De.css(e,t,"")},l=a(),u=i&&i[3]||(De.cssNumber[t]?"":"px"),c=(De.cssNumber[t]||"px"!==u&&+l)&&Ve.exec(De.css(e,t));if(c&&c[3]!==u){u=u||c[3],i=i||[],c=+l||1;do{c/=s=s||".5",De.style(e,t,c+u)}while(s!==(s=a()/l)&&1!==s&&--o)}return i&&(c=+c||+l||0,r=i[1]?c+(i[1]+1)*i[2]:+i[2],n&&(n.unit=u,n.start=c,n.end=r)),r}function c(e,t){var i=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[];return void 0===t||t&&De.nodeName(e,t)?De.merge([e],i):i}function d(e,t){for(var i=0,n=e.length;n>i;i++)Be.set(e[i],"globalEval",!t||Be.get(t[i],"globalEval"))}function h(e,t,i,n,r){for(var s,o,a,l,u,h,p=t.createDocumentFragment(),f=[],m=0,g=e.length;g>m;m++)if((s=e[m])||0===s)if("object"===De.type(s))De.merge(f,s.nodeType?[s]:s);else if(Z.test(s)){for(o=o||p.appendChild(t.createElement("div")),a=(Ke.exec(s)||["",""])[1].toLowerCase(),l=Xe[a]||Xe._default,o.innerHTML=l[1]+De.htmlPrefilter(s)+l[2],h=l[0];h--;)o=o.lastChild;De.merge(f,o.childNodes),(o=p.firstChild).textContent=""}else f.push(t.createTextNode(s));for(p.textContent="",m=0;s=f[m++];)if(n&&De.inArray(s,n)>-1)r&&r.push(s);else if(u=De.contains(s.ownerDocument,s),o=c(p.appendChild(s),"script"),u&&d(o),i)for(h=0;s=o[h++];)Qe.test(s.type||"")&&i.push(s);return p}function p(){return!0}function f(){return!1}function m(){try{return Te.activeElement}catch(e){}}function g(e,t,i,n,r,s){var o,a;if("object"==typeof t){for(a in"string"!=typeof i&&(n=n||i,i=void 0),t)g(e,a,i,n,t[a],s);return e}if(null==n&&null==r?(r=i,n=i=void 0):null==r&&("string"==typeof i?(r=n,n=void 0):(r=n,n=i,i=void 0)),!1===r)r=f;else if(!r)return e;return 1===s&&(o=r,(r=function(e){return De().off(e),o.apply(this,arguments)}).guid=o.guid||(o.guid=De.guid++)),e.each(function(){De.event.add(this,t,r,n,i)})}function v(e,t){return De.nodeName(e,"table")&&De.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function y(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function _(e){var t=st.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function b(e,t){var i,n,r,s,o,a,l,u;if(1===t.nodeType){if(Be.hasData(e)&&(s=Be.access(e),o=Be.set(t,s),u=s.events))for(r in delete o.handle,o.events={},u)for(i=0,n=u[r].length;n>i;i++)De.event.add(t,r,u[r][i]);Je.hasData(e)&&(a=Je.access(e),l=De.extend({},a),Je.set(t,l))}}function w(e,t){var i=t.nodeName.toLowerCase();"input"===i&&Ye.test(e.type)?t.checked=e.checked:"input"!==i&&"textarea"!==i||(t.defaultValue=e.defaultValue)}function T(e,t,i,n){t=Se.apply([],t);var r,s,o,a,l,u,d=0,p=e.length,f=p-1,m=t[0],g=De.isFunction(m);if(g||p>1&&"string"==typeof m&&!Ie.checkClone&&rt.test(m))return e.each(function(r){var s=e.eq(r);g&&(t[0]=m.call(this,r,s.html())),T(s,t,i,n)});if(p&&(s=(r=h(t,e[0].ownerDocument,!1,e,n)).firstChild,1===r.childNodes.length&&(r=s),s||n)){for(a=(o=De.map(c(r,"script"),y)).length;p>d;d++)l=r,d!==f&&(l=De.clone(l,!0,!0),a&&De.merge(o,c(l,"script"))),i.call(e[d],l,d);if(a)for(u=o[o.length-1].ownerDocument,De.map(o,_),d=0;a>d;d++)l=o[d],Qe.test(l.type||"")&&!Be.access(l,"globalEval")&&De.contains(u,l)&&(l.src?De._evalUrl&&De._evalUrl(l.src):De.globalEval(l.textContent.replace(ot,"")))}return e}function C(e,t,i){for(var n,r=t?De.filter(t,e):e,s=0;null!=(n=r[s]);s++)i||1!==n.nodeType||De.cleanData(c(n)),n.parentNode&&(i&&De.contains(n.ownerDocument,n)&&d(c(n,"script")),n.parentNode.removeChild(n));return e}function S(e,t){var i=De(t.createElement(e)).appendTo(t.body),n=De.css(i[0],"display");return i.detach(),n}function k(e){var t=Te,i=te[e];return i||("none"!==(i=S(e,t))&&i||((t=(ee=(ee||De("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement))[0].contentDocument).write(),t.close(),i=S(e,t),ee.detach()),te[e]=i),i}function $(e,t,i){var n,r,s,o,a=e.style;return""!==(o=(i=i||ut(e))?i.getPropertyValue(t)||i[t]:void 0)&&void 0!==o||De.contains(e.ownerDocument,e)||(o=De.style(e,t)),i&&!Ie.pixelMarginRight()&&lt.test(o)&&at.test(t)&&(n=a.width,r=a.minWidth,s=a.maxWidth,a.minWidth=a.maxWidth=a.width=o,o=i.width,a.width=n,a.minWidth=r,a.maxWidth=s),void 0!==o?o+"":o}function A(e,t){return{get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}function x(e){if(e in gt)return e;for(var t=e[0].toUpperCase()+e.slice(1),i=mt.length;i--;)if((e=mt[i]+t)in gt)return e}function E(e,t,i){var n=Ve.exec(t);return n?Math.max(0,n[2]-(i||0))+(n[3]||"px"):t}function I(e,t,i,n,r){for(var s=i===(n?"border":"content")?4:"width"===t?1:0,o=0;4>s;s+=2)"margin"===i&&(o+=De.css(e,i+We[s],!0,r)),n?("content"===i&&(o-=De.css(e,"padding"+We[s],!0,r)),"margin"!==i&&(o-=De.css(e,"border"+We[s]+"Width",!0,r))):(o+=De.css(e,"padding"+We[s],!0,r),"padding"!==i&&(o+=De.css(e,"border"+We[s]+"Width",!0,r)));return o}function D(t,i,n){var r=!0,s="width"===i?t.offsetWidth:t.offsetHeight,o=ut(t),a="border-box"===De.css(t,"boxSizing",!1,o);if(Te.msFullscreenElement&&e.top!==e&&t.getClientRects().length&&(s=Math.round(100*t.getBoundingClientRect()[i])),0>=s||null==s){if((0>(s=$(t,i,o))||null==s)&&(s=t.style[i]),lt.test(s))return s;r=a&&(Ie.boxSizingReliable()||s===t.style[i]),s=parseFloat(s)||0}return s+I(t,i,n||(a?"border":"content"),r,o)+"px"}function O(e,t){for(var i,n,r,s=[],o=0,a=e.length;a>o;o++)(n=e[o]).style&&(s[o]=Be.get(n,"olddisplay"),i=n.style.display,t?(s[o]||"none"!==i||(n.style.display=""),""===n.style.display&&Ge(n)&&(s[o]=Be.access(n,"olddisplay",k(n.nodeName)))):(r=Ge(n),"none"===i&&r||Be.set(n,"olddisplay",r?i:De.css(n,"display"))));for(o=0;a>o;o++)(n=e[o]).style&&(t&&"none"!==n.style.display&&""!==n.style.display||(n.style.display=t?s[o]||"":"none"));return e}function P(e,t,i,n,r){return new P.prototype.init(e,t,i,n,r)}function N(){return e.setTimeout(function(){ie=void 0}),ie=De.now()}function L(e,t){var i,n=0,r={height:e};for(t=t?1:0;4>n;n+=2-t)r["margin"+(i=We[n])]=r["padding"+i]=e;return t&&(r.opacity=r.width=e),r}function F(e,t,i){for(var n,r=(z.tweeners[t]||[]).concat(z.tweeners["*"]),s=0,o=r.length;o>s;s++)if(n=r[s].call(i,t,e))return n}function z(e,t,i){var n,r,s=0,o=z.prefilters.length,a=De.Deferred().always(function(){delete l.elem}),l=function(){if(r)return!1;for(var t=ie||N(),i=Math.max(0,u.startTime+u.duration-t),n=1-(i/u.duration||0),s=0,o=u.tweens.length;o>s;s++)u.tweens[s].run(n);return a.notifyWith(e,[u,n,i]),1>n&&o?i:(a.resolveWith(e,[u]),!1)},u=a.promise({elem:e,props:De.extend({},t),opts:De.extend(!0,{specialEasing:{},easing:De.easing._default},i),originalProperties:t,originalOptions:i,startTime:ie||N(),duration:i.duration,tweens:[],createTween:function(t,i){var n=De.Tween(e,u.opts,t,i,u.opts.specialEasing[t]||u.opts.easing);return u.tweens.push(n),n},stop:function(t){var i=0,n=t?u.tweens.length:0;if(r)return this;for(r=!0;n>i;i++)u.tweens[i].run(1);return t?(a.notifyWith(e,[u,1,0]),a.resolveWith(e,[u,t])):a.rejectWith(e,[u,t]),this}}),c=u.props;for(function(e,t){var i,n,r,s,o;for(i in e)if(r=t[n=De.camelCase(i)],s=e[i],De.isArray(s)&&(r=s[1],s=e[i]=s[0]),i!==n&&(e[n]=s,delete e[i]),(o=De.cssHooks[n])&&"expand"in o)for(i in s=o.expand(s),delete e[n],s)i in e||(e[i]=s[i],t[i]=r);else t[n]=r}(c,u.opts.specialEasing);o>s;s++)if(n=z.prefilters[s].call(u,e,c,u.opts))return De.isFunction(n.stop)&&(De._queueHooks(u.elem,u.opts.queue).stop=De.proxy(n.stop,n)),n;return De.map(c,F,u),De.isFunction(u.opts.start)&&u.opts.start.call(e,u),De.fx.timer(De.extend(l,{elem:e,anim:u,queue:u.opts.queue})),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always)}function R(e){return e.getAttribute&&e.getAttribute("class")||""}function M(e){return function(t,i){"string"!=typeof t&&(i=t,t="*");var n,r=0,s=t.toLowerCase().match(Y)||[];if(De.isFunction(i))for(;n=s[r++];)"+"===n[0]?(n=n.slice(1)||"*",(e[n]=e[n]||[]).unshift(i)):(e[n]=e[n]||[]).push(i)}}function j(e,t,i,n){function r(a){var l;return s[a]=!0,De.each(e[a]||[],function(e,a){var u=a(t,i,n);return"string"!=typeof u||o||s[u]?o?!(l=u):void 0:(t.dataTypes.unshift(u),r(u),!1)}),l}var s={},o=e===$t;return r(t.dataTypes[0])||!s["*"]&&r("*")}function B(e,t){var i,n,r=De.ajaxSettings.flatOptions||{};for(i in t)void 0!==t[i]&&((r[i]?e:n||(n={}))[i]=t[i]);return n&&De.extend(!0,e,n),e}function J(e,t,i,n){var r;if(De.isArray(t))De.each(t,function(t,r){i||It.test(e)?n(e,r):J(e+"["+("object"==typeof r&&null!=r?t:"")+"]",r,i,n)});else if(i||"object"!==De.type(t))n(e,t);else for(r in t)J(e+"["+r+"]",t[r],i,n)}function q(e){return De.isWindow(e)?e:9===e.nodeType&&e.defaultView}var H,U,V,W,G,Y,K,Q,X,Z,ee,te,ie,ne,re,se,oe,ae,le,ue,ce,de,he,pe,fe,me,ge,ve,ye,_e,be,we=[],Te=e.document,Ce=we.slice,Se=we.concat,ke=we.push,$e=we.indexOf,Ae={},xe=Ae.toString,Ee=Ae.hasOwnProperty,Ie={},De=function(e,t){return new De.fn.init(e,t)},Oe=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,Pe=/^-ms-/,Ne=/-([\da-z])/gi,Le=function(e,t){return t.toUpperCase()};De.fn=De.prototype={jquery:"2.2.3",constructor:De,selector:"",length:0,toArray:function(){return Ce.call(this)},get:function(e){return null!=e?0>e?this[e+this.length]:this[e]:Ce.call(this)},pushStack:function(e){var t=De.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e){return De.each(this,e)},map:function(e){return this.pushStack(De.map(this,function(t,i){return e.call(t,i,t)}))},slice:function(){return this.pushStack(Ce.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,i=+e+(0>e?t:0);return this.pushStack(i>=0&&t>i?[this[i]]:[])},end:function(){return this.prevObject||this.constructor()},push:ke,sort:we.sort,splice:we.splice},De.extend=De.fn.extend=function(){var e,t,i,n,r,s,o=arguments[0]||{},a=1,l=arguments.length,u=!1;for("boolean"==typeof o&&(u=o,o=arguments[a]||{},a++),"object"==typeof o||De.isFunction(o)||(o={}),a===l&&(o=this,a--);l>a;a++)if(null!=(e=arguments[a]))for(t in e)i=o[t],o!==(n=e[t])&&(u&&n&&(De.isPlainObject(n)||(r=De.isArray(n)))?(r?(r=!1,s=i&&De.isArray(i)?i:[]):s=i&&De.isPlainObject(i)?i:{},o[t]=De.extend(u,s,n)):void 0!==n&&(o[t]=n));return o},De.extend({expando:"jQuery"+("2.2.3"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===De.type(e)},isArray:Array.isArray,isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){var t=e&&e.toString();return!De.isArray(e)&&t-parseFloat(t)+1>=0},isPlainObject:function(e){var t;if("object"!==De.type(e)||e.nodeType||De.isWindow(e)||e.constructor&&!Ee.call(e,"constructor")&&!Ee.call(e.constructor.prototype||{},"isPrototypeOf"))return!1;for(t in e);return void 0===t||Ee.call(e,t)},isEmptyObject:function(e){for(var t in e)return!1;return!0},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?Ae[xe.call(e)]||"object":typeof e},globalEval:function(e){var t,i=eval;(e=De.trim(e))&&(1===e.indexOf("use strict")?((t=Te.createElement("script")).text=e,Te.head.appendChild(t).parentNode.removeChild(t)):i(e))},camelCase:function(e){return e.replace(Pe,"ms-").replace(Ne,Le)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t){var n,r=0;if(i(e))for(n=e.length;n>r&&!1!==t.call(e[r],r,e[r]);r++);else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},trim:function(e){return null==e?"":(e+"").replace(Oe,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(i(Object(e))?De.merge(n,"string"==typeof e?[e]:e):ke.call(n,e)),n},inArray:function(e,t,i){return null==t?-1:$e.call(t,e,i)},merge:function(e,t){for(var i=+t.length,n=0,r=e.length;i>n;n++)e[r++]=t[n];return e.length=r,e},grep:function(e,t,i){for(var n=[],r=0,s=e.length,o=!i;s>r;r++)!t(e[r],r)!==o&&n.push(e[r]);return n},map:function(e,t,n){var r,s,o=0,a=[];if(i(e))for(r=e.length;r>o;o++)null!=(s=t(e[o],o,n))&&a.push(s);else for(o in e)null!=(s=t(e[o],o,n))&&a.push(s);return Se.apply([],a)},guid:1,proxy:function(e,t){var i,n,r;return"string"==typeof t&&(i=e[t],t=e,e=i),De.isFunction(e)?(n=Ce.call(arguments,2),(r=function(){return e.apply(t||this,n.concat(Ce.call(arguments)))}).guid=e.guid=e.guid||De.guid++,r):void 0},now:Date.now,support:Ie}),"function"==typeof Symbol&&(De.fn[Symbol.iterator]=we[Symbol.iterator]),De.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){Ae["[object "+t+"]"]=t.toLowerCase()}),H=function(e){function t(e,t,i,n){var r,s,o,a,l,u,d,p,f=t&&t.ownerDocument,m=t?t.nodeType:9;if(i=i||[],"string"!=typeof e||!e||1!==m&&9!==m&&11!==m)return i;if(!n&&((t?t.ownerDocument||t:j)!==O&&D(t),t=t||O,N)){if(11!==m&&(u=ve.exec(e)))if(r=u[1]){if(9===m){if(!(o=t.getElementById(r)))return i;if(o.id===r)return i.push(o),i}else if(f&&(o=f.getElementById(r))&&R(t,o)&&o.id===r)return i.push(o),i}else{if(u[2])return X.apply(i,t.getElementsByTagName(e)),i;if((r=u[3])&&w.getElementsByClassName&&t.getElementsByClassName)return X.apply(i,t.getElementsByClassName(r)),i}if(w.qsa&&!U[e+" "]&&(!L||!L.test(e))){if(1!==m)f=t,p=e;else if("object"!==t.nodeName.toLowerCase()){for((a=t.getAttribute("id"))?a=a.replace(_e,"\\$&"):t.setAttribute("id",a=M),s=(d=k(e)).length,l=he.test(a)?"#"+a:"[id='"+a+"']";s--;)d[s]=l+" "+h(d[s]);p=d.join(","),f=ye.test(e)&&c(t.parentNode)||t}if(p)try{return X.apply(i,f.querySelectorAll(p)),i}catch(e){}finally{a===M&&t.removeAttribute("id")}}}return A(e.replace(ae,"$1"),t,i,n)}function i(){var e=[];return function t(i,n){return e.push(i+" ")>T.cacheLength&&delete t[e.shift()],t[i+" "]=n}}function n(e){return e[M]=!0,e}function r(e){var t=O.createElement("div");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function s(e,t){for(var i=e.split("|"),n=i.length;n--;)T.attrHandle[i[n]]=t}function o(e,t){var i=t&&e,n=i&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||W)-(~e.sourceIndex||W);if(n)return n;if(i)for(;i=i.nextSibling;)if(i===t)return-1;return e?1:-1}function a(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function l(e){return function(t){var i=t.nodeName.toLowerCase();return("input"===i||"button"===i)&&t.type===e}}function u(e){return n(function(t){return t=+t,n(function(i,n){for(var r,s=e([],i.length,t),o=s.length;o--;)i[r=s[o]]&&(i[r]=!(n[r]=i[r]))})})}function c(e){return e&&void 0!==e.getElementsByTagName&&e}function d(){}function h(e){for(var t=0,i=e.length,n="";i>t;t++)n+=e[t].value;return n}function p(e,t,i){var n=t.dir,r=i&&"parentNode"===n,s=J++;return t.first?function(t,i,s){for(;t=t[n];)if(1===t.nodeType||r)return e(t,i,s)}:function(t,i,o){var a,l,u,c=[B,s];if(o){for(;t=t[n];)if((1===t.nodeType||r)&&e(t,i,o))return!0}else for(;t=t[n];)if(1===t.nodeType||r){if((a=(l=(u=t[M]||(t[M]={}))[t.uniqueID]||(u[t.uniqueID]={}))[n])&&a[0]===B&&a[1]===s)return c[2]=a[2];if(l[n]=c,c[2]=e(t,i,o))return!0}}}function f(e){return e.length>1?function(t,i,n){for(var r=e.length;r--;)if(!e[r](t,i,n))return!1;return!0}:e[0]}function m(e,i,n){for(var r=0,s=i.length;s>r;r++)t(e,i[r],n);return n}function g(e,t,i,n,r){for(var s,o=[],a=0,l=e.length,u=null!=t;l>a;a++)(s=e[a])&&(i&&!i(s,n,r)||(o.push(s),u&&t.push(a)));return o}function v(e,t,i,r,s,o){return r&&!r[M]&&(r=v(r)),s&&!s[M]&&(s=v(s,o)),n(function(n,o,a,l){var u,c,d,h=[],p=[],f=o.length,v=n||m(t||"*",a.nodeType?[a]:a,[]),y=!e||!n&&t?v:g(v,h,e,a,l),_=i?s||(n?e:f||r)?[]:o:y;if(i&&i(y,_,a,l),r)for(u=g(_,p),r(u,[],a,l),c=u.length;c--;)(d=u[c])&&(_[p[c]]=!(y[p[c]]=d));if(n){if(s||e){if(s){for(u=[],c=_.length;c--;)(d=_[c])&&u.push(y[c]=d);s(null,_=[],u,l)}for(c=_.length;c--;)(d=_[c])&&(u=s?ee(n,d):h[c])>-1&&(n[u]=!(o[u]=d))}}else _=g(_===o?_.splice(f,_.length):_),s?s(null,o,_,l):X.apply(o,_)})}function y(e){for(var t,i,n,r=e.length,s=T.relative[e[0].type],o=s||T.relative[" "],a=s?1:0,l=p(function(e){return e===t},o,!0),u=p(function(e){return ee(t,e)>-1},o,!0),c=[function(e,i,n){var r=!s&&(n||i!==x)||((t=i).nodeType?l(e,i,n):u(e,i,n));return t=null,r}];r>a;a++)if(i=T.relative[e[a].type])c=[p(f(c),i)];else{if((i=T.filter[e[a].type].apply(null,e[a].matches))[M]){for(n=++a;r>n&&!T.relative[e[n].type];n++);return v(a>1&&f(c),a>1&&h(e.slice(0,a-1).concat({value:" "===e[a-2].type?"*":""})).replace(ae,"$1"),i,n>a&&y(e.slice(a,n)),r>n&&y(e=e.slice(n)),r>n&&h(e))}c.push(i)}return f(c)}function _(e,i){var r=i.length>0,s=e.length>0,o=function(n,o,a,l,u){var c,d,h,p=0,f="0",m=n&&[],v=[],y=x,_=n||s&&T.find.TAG("*",u),b=B+=null==y?1:Math.random()||.1,w=_.length;for(u&&(x=o===O||o||u);f!==w&&null!=(c=_[f]);f++){if(s&&c){for(d=0,o||c.ownerDocument===O||(D(c),a=!N);h=e[d++];)if(h(c,o||O,a)){l.push(c);break}u&&(B=b)}r&&((c=!h&&c)&&p--,n&&m.push(c))}if(p+=f,r&&f!==p){for(d=0;h=i[d++];)h(m,v,o,a);if(n){if(p>0)for(;f--;)m[f]||v[f]||(v[f]=K.call(l));v=g(v)}X.apply(l,v),u&&!n&&v.length>0&&p+i.length>1&&t.uniqueSort(l)}return u&&(B=b,x=y),m};return r?n(o):o}var b,w,T,C,S,k,$,A,x,E,I,D,O,P,N,L,F,z,R,M="sizzle"+1*new Date,j=e.document,B=0,J=0,q=i(),H=i(),U=i(),V=function(e,t){return e===t&&(I=!0),0},W=-2147483648,G={}.hasOwnProperty,Y=[],K=Y.pop,Q=Y.push,X=Y.push,Z=Y.slice,ee=function(e,t){for(var i=0,n=e.length;n>i;i++)if(e[i]===t)return i;return-1},te="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ie="[\\x20\\t\\r\\n\\f]",ne="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",re="\\["+ie+"*("+ne+")(?:"+ie+"*([*^$|!~]?=)"+ie+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+ne+"))|)"+ie+"*\\]",se=":("+ne+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+re+")*)|.*)\\)|)",oe=new RegExp(ie+"+","g"),ae=new RegExp("^"+ie+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ie+"+$","g"),le=new RegExp("^"+ie+"*,"+ie+"*"),ue=new RegExp("^"+ie+"*([>+~]|"+ie+")"+ie+"*"),ce=new RegExp("="+ie+"*([^\\]'\"]*?)"+ie+"*\\]","g"),de=new RegExp(se),he=new RegExp("^"+ne+"$"),pe={ID:new RegExp("^#("+ne+")"),CLASS:new RegExp("^\\.("+ne+")"),TAG:new RegExp("^("+ne+"|[*])"),ATTR:new RegExp("^"+re),PSEUDO:new RegExp("^"+se),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ie+"*(even|odd|(([+-]|)(\\d*)n|)"+ie+"*(?:([+-]|)"+ie+"*(\\d+)|))"+ie+"*\\)|)","i"),bool:new RegExp("^(?:"+te+")$","i"),needsContext:new RegExp("^"+ie+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ie+"*((?:-\\d)?\\d*)"+ie+"*\\)|)(?=[^-]|$)","i")},fe=/^(?:input|select|textarea|button)$/i,me=/^h\d$/i,ge=/^[^{]+\{\s*\[native \w/,ve=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ye=/[+~]/,_e=/'|\\/g,be=new RegExp("\\\\([\\da-f]{1,6}"+ie+"?|("+ie+")|.)","ig"),we=function(e,t,i){var n="0x"+t-65536;return n!=n||i?t:0>n?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320)},Te=function(){D()};try{X.apply(Y=Z.call(j.childNodes),j.childNodes),Y[j.childNodes.length].nodeType}catch(e){X={apply:Y.length?function(e,t){Q.apply(e,Z.call(t))}:function(e,t){for(var i=e.length,n=0;e[i++]=t[n++];);e.length=i-1}}}for(b in w=t.support={},S=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},D=t.setDocument=function(e){var t,i,n=e?e.ownerDocument||e:j;return n!==O&&9===n.nodeType&&n.documentElement?(P=(O=n).documentElement,N=!S(O),(i=O.defaultView)&&i.top!==i&&(i.addEventListener?i.addEventListener("unload",Te,!1):i.attachEvent&&i.attachEvent("onunload",Te)),w.attributes=r(function(e){return e.className="i",!e.getAttribute("className")}),w.getElementsByTagName=r(function(e){return e.appendChild(O.createComment("")),!e.getElementsByTagName("*").length}),w.getElementsByClassName=ge.test(O.getElementsByClassName),w.getById=r(function(e){return P.appendChild(e).id=M,!O.getElementsByName||!O.getElementsByName(M).length}),w.getById?(T.find.ID=function(e,t){if(void 0!==t.getElementById&&N){var i=t.getElementById(e);return i?[i]:[]}},T.filter.ID=function(e){var t=e.replace(be,we);return function(e){return e.getAttribute("id")===t}}):(delete T.find.ID,T.filter.ID=function(e){var t=e.replace(be,we);return function(e){var i=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return i&&i.value===t}}),T.find.TAG=w.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):w.qsa?t.querySelectorAll(e):void 0}:function(e,t){var i,n=[],r=0,s=t.getElementsByTagName(e);if("*"===e){for(;i=s[r++];)1===i.nodeType&&n.push(i);return n}return s},T.find.CLASS=w.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&N)return t.getElementsByClassName(e)},F=[],L=[],(w.qsa=ge.test(O.querySelectorAll))&&(r(function(e){P.appendChild(e).innerHTML="<a id='"+M+"'></a><select id='"+M+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&L.push("[*^$]="+ie+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||L.push("\\["+ie+"*(?:value|"+te+")"),e.querySelectorAll("[id~="+M+"-]").length||L.push("~="),e.querySelectorAll(":checked").length||L.push(":checked"),e.querySelectorAll("a#"+M+"+*").length||L.push(".#.+[+~]")}),r(function(e){var t=O.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&L.push("name"+ie+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||L.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),L.push(",.*:")})),(w.matchesSelector=ge.test(z=P.matches||P.webkitMatchesSelector||P.mozMatchesSelector||P.oMatchesSelector||P.msMatchesSelector))&&r(function(e){w.disconnectedMatch=z.call(e,"div"),z.call(e,"[s!='']:x"),F.push("!=",se)}),L=L.length&&new RegExp(L.join("|")),F=F.length&&new RegExp(F.join("|")),t=ge.test(P.compareDocumentPosition),R=t||ge.test(P.contains)?function(e,t){var i=9===e.nodeType?e.documentElement:e,n=t&&t.parentNode;return e===n||!(!n||1!==n.nodeType||!(i.contains?i.contains(n):e.compareDocumentPosition&&16&e.compareDocumentPosition(n)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},V=t?function(e,t){if(e===t)return I=!0,0;var i=!e.compareDocumentPosition-!t.compareDocumentPosition;return i||(1&(i=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!w.sortDetached&&t.compareDocumentPosition(e)===i?e===O||e.ownerDocument===j&&R(j,e)?-1:t===O||t.ownerDocument===j&&R(j,t)?1:E?ee(E,e)-ee(E,t):0:4&i?-1:1)}:function(e,t){if(e===t)return I=!0,0;var i,n=0,r=e.parentNode,s=t.parentNode,a=[e],l=[t];if(!r||!s)return e===O?-1:t===O?1:r?-1:s?1:E?ee(E,e)-ee(E,t):0;if(r===s)return o(e,t);for(i=e;i=i.parentNode;)a.unshift(i);for(i=t;i=i.parentNode;)l.unshift(i);for(;a[n]===l[n];)n++;return n?o(a[n],l[n]):a[n]===j?-1:l[n]===j?1:0},O):O},t.matches=function(e,i){return t(e,null,null,i)},t.matchesSelector=function(e,i){if((e.ownerDocument||e)!==O&&D(e),i=i.replace(ce,"='$1']"),w.matchesSelector&&N&&!U[i+" "]&&(!F||!F.test(i))&&(!L||!L.test(i)))try{var n=z.call(e,i);if(n||w.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){}return t(i,O,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==O&&D(e),R(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==O&&D(e);var i=T.attrHandle[t.toLowerCase()],n=i&&G.call(T.attrHandle,t.toLowerCase())?i(e,t,!N):void 0;return void 0!==n?n:w.attributes||!N?e.getAttribute(t):(n=e.getAttributeNode(t))&&n.specified?n.value:null},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,i=[],n=0,r=0;if(I=!w.detectDuplicates,E=!w.sortStable&&e.slice(0),e.sort(V),I){for(;t=e[r++];)t===e[r]&&(n=i.push(r));for(;n--;)e.splice(i[n],1)}return E=null,e},C=t.getText=function(e){var t,i="",n=0,r=e.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)i+=C(e)}else if(3===r||4===r)return e.nodeValue}else for(;t=e[n++];)i+=C(t);return i},(T=t.selectors={cacheLength:50,createPseudo:n,match:pe,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(be,we),e[3]=(e[3]||e[4]||e[5]||"").replace(be,we),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,i=!e[6]&&e[2];return pe.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":i&&de.test(i)&&(t=k(i,!0))&&(t=i.indexOf(")",i.length-t)-i.length)&&(e[0]=e[0].slice(0,t),e[2]=i.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(be,we).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=q[e+" "];return t||(t=new RegExp("(^|"+ie+")"+e+"("+ie+"|$)"))&&q(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,i,n){return function(r){var s=t.attr(r,e);return null==s?"!="===i:!i||(s+="","="===i?s===n:"!="===i?s!==n:"^="===i?n&&0===s.indexOf(n):"*="===i?n&&s.indexOf(n)>-1:"$="===i?n&&s.slice(-n.length)===n:"~="===i?(" "+s.replace(oe," ")+" ").indexOf(n)>-1:"|="===i&&(s===n||s.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,i,n,r){var s="nth"!==e.slice(0,3),o="last"!==e.slice(-4),a="of-type"===t;return 1===n&&0===r?function(e){return!!e.parentNode}:function(t,i,l){var u,c,d,h,p,f,m=s!==o?"nextSibling":"previousSibling",g=t.parentNode,v=a&&t.nodeName.toLowerCase(),y=!l&&!a,_=!1;if(g){if(s){for(;m;){for(h=t;h=h[m];)if(a?h.nodeName.toLowerCase()===v:1===h.nodeType)return!1;f=m="only"===e&&!f&&"nextSibling"}return!0}if(f=[o?g.firstChild:g.lastChild],o&&y){for(_=(p=(u=(c=(d=(h=g)[M]||(h[M]={}))[h.uniqueID]||(d[h.uniqueID]={}))[e]||[])[0]===B&&u[1])&&u[2],h=p&&g.childNodes[p];h=++p&&h&&h[m]||(_=p=0)||f.pop();)if(1===h.nodeType&&++_&&h===t){c[e]=[B,p,_];break}}else if(y&&(_=p=(u=(c=(d=(h=t)[M]||(h[M]={}))[h.uniqueID]||(d[h.uniqueID]={}))[e]||[])[0]===B&&u[1]),!1===_)for(;(h=++p&&h&&h[m]||(_=p=0)||f.pop())&&((a?h.nodeName.toLowerCase()!==v:1!==h.nodeType)||!++_||(y&&((c=(d=h[M]||(h[M]={}))[h.uniqueID]||(d[h.uniqueID]={}))[e]=[B,_]),h!==t)););return(_-=r)===n||_%n==0&&_/n>=0}}},PSEUDO:function(e,i){var r,s=T.pseudos[e]||T.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return s[M]?s(i):s.length>1?(r=[e,e,"",i],T.setFilters.hasOwnProperty(e.toLowerCase())?n(function(e,t){for(var n,r=s(e,i),o=r.length;o--;)e[n=ee(e,r[o])]=!(t[n]=r[o])}):function(e){return s(e,0,r)}):s}},pseudos:{not:n(function(e){var t=[],i=[],r=$(e.replace(ae,"$1"));return r[M]?n(function(e,t,i,n){for(var s,o=r(e,null,n,[]),a=e.length;a--;)(s=o[a])&&(e[a]=!(t[a]=s))}):function(e,n,s){return t[0]=e,r(t,null,s,i),t[0]=null,!i.pop()}}),has:n(function(e){return function(i){return t(e,i).length>0}}),contains:n(function(e){return e=e.replace(be,we),function(t){return(t.textContent||t.innerText||C(t)).indexOf(e)>-1}}),lang:n(function(e){return he.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(be,we).toLowerCase(),function(t){var i;do{if(i=N?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(i=i.toLowerCase())===e||0===i.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var i=e.location&&e.location.hash;return i&&i.slice(1)===t.id},root:function(e){return e===P},focus:function(e){return e===O.activeElement&&(!O.hasFocus||O.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return!1===e.disabled},disabled:function(e){return!0===e.disabled},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!T.pseudos.empty(e)},header:function(e){return me.test(e.nodeName)},input:function(e){return fe.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:u(function(){return[0]}),last:u(function(e,t){return[t-1]}),eq:u(function(e,t,i){return[0>i?i+t:i]}),even:u(function(e,t){for(var i=0;t>i;i+=2)e.push(i);return e}),odd:u(function(e,t){for(var i=1;t>i;i+=2)e.push(i);return e}),lt:u(function(e,t,i){for(var n=0>i?i+t:i;--n>=0;)e.push(n);return e}),gt:u(function(e,t,i){for(var n=0>i?i+t:i;++n<t;)e.push(n);return e})}}).pseudos.nth=T.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})T.pseudos[b]=a(b);for(b in{submit:!0,reset:!0})T.pseudos[b]=l(b);return d.prototype=T.filters=T.pseudos,T.setFilters=new d,k=t.tokenize=function(e,i){var n,r,s,o,a,l,u,c=H[e+" "];if(c)return i?0:c.slice(0);for(a=e,l=[],u=T.preFilter;a;){for(o in(!n||(r=le.exec(a)))&&(r&&(a=a.slice(r[0].length)||a),l.push(s=[])),n=!1,(r=ue.exec(a))&&(n=r.shift(),s.push({value:n,type:r[0].replace(ae," ")}),a=a.slice(n.length)),T.filter)(r=pe[o].exec(a))&&(!u[o]||(r=u[o](r)))&&(n=r.shift(),s.push({value:n,type:o,matches:r}),a=a.slice(n.length));if(!n)break}return i?a.length:a?t.error(e):H(e,l).slice(0)},$=t.compile=function(e,t){var i,n=[],r=[],s=U[e+" "];if(!s){for(t||(t=k(e)),i=t.length;i--;)(s=y(t[i]))[M]?n.push(s):r.push(s);(s=U(e,_(r,n))).selector=e}return s},A=t.select=function(e,t,i,n){var r,s,o,a,l,u="function"==typeof e&&e,d=!n&&k(e=u.selector||e);if(i=i||[],1===d.length){if((s=d[0]=d[0].slice(0)).length>2&&"ID"===(o=s[0]).type&&w.getById&&9===t.nodeType&&N&&T.relative[s[1].type]){if(!(t=(T.find.ID(o.matches[0].replace(be,we),t)||[])[0]))return i;u&&(t=t.parentNode),e=e.slice(s.shift().value.length)}for(r=pe.needsContext.test(e)?0:s.length;r--&&(o=s[r],!T.relative[a=o.type]);)if((l=T.find[a])&&(n=l(o.matches[0].replace(be,we),ye.test(s[0].type)&&c(t.parentNode)||t))){if(s.splice(r,1),!(e=n.length&&h(s)))return X.apply(i,n),i;break}}return(u||$(e,d))(n,t,!N,i,!t||ye.test(e)&&c(t.parentNode)||t),i},w.sortStable=M.split("").sort(V).join("")===M,w.detectDuplicates=!!I,D(),w.sortDetached=r(function(e){return 1&e.compareDocumentPosition(O.createElement("div"))}),r(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||s("type|href|height|width",function(e,t,i){if(!i)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),w.attributes&&r(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||s("value",function(e,t,i){if(!i&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),r(function(e){return null==e.getAttribute("disabled")})||s(te,function(e,t,i){var n;if(!i)return!0===e[t]?t.toLowerCase():(n=e.getAttributeNode(t))&&n.specified?n.value:null}),t}(e),De.find=H,De.expr=H.selectors,De.expr[":"]=De.expr.pseudos,De.uniqueSort=De.unique=H.uniqueSort,De.text=H.getText,De.isXMLDoc=H.isXML,De.contains=H.contains;var Fe=function(e,t,i){for(var n=[],r=void 0!==i;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(r&&De(e).is(i))break;n.push(e)}return n},ze=function(e,t){for(var i=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&i.push(e);return i},Re=De.expr.match.needsContext,Me=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,je=/^.[^:#\[\.,]*$/;De.filter=function(e,t,i){var n=t[0];return i&&(e=":not("+e+")"),1===t.length&&1===n.nodeType?De.find.matchesSelector(n,e)?[n]:[]:De.find.matches(e,De.grep(t,function(e){return 1===e.nodeType}))},De.fn.extend({find:function(e){var t,i=this.length,n=[],r=this;if("string"!=typeof e)return this.pushStack(De(e).filter(function(){for(t=0;i>t;t++)if(De.contains(r[t],this))return!0}));for(t=0;i>t;t++)De.find(e,r[t],n);return(n=this.pushStack(i>1?De.unique(n):n)).selector=this.selector?this.selector+" "+e:e,n},filter:function(e){return this.pushStack(n(this,e||[],!1))},not:function(e){return this.pushStack(n(this,e||[],!0))},is:function(e){return!!n(this,"string"==typeof e&&Re.test(e)?De(e):e||[],!1).length}}),V=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,(De.fn.init=function(e,t,i){var n,r;if(!e)return this;if(i=i||U,"string"==typeof e){if(!(n="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:V.exec(e))||!n[1]&&t)return!t||t.jquery?(t||i).find(e):this.constructor(t).find(e);if(n[1]){if(t=t instanceof De?t[0]:t,De.merge(this,De.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:Te,!0)),Me.test(n[1])&&De.isPlainObject(t))for(n in t)De.isFunction(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}return(r=Te.getElementById(n[2]))&&r.parentNode&&(this.length=1,this[0]=r),this.context=Te,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):De.isFunction(e)?void 0!==i.ready?i.ready(e):e(De):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),De.makeArray(e,this))}).prototype=De.fn,U=De(Te),W=/^(?:parents|prev(?:Until|All))/,G={children:!0,contents:!0,next:!0,prev:!0},De.fn.extend({has:function(e){var t=De(e,this),i=t.length;return this.filter(function(){for(var e=0;i>e;e++)if(De.contains(this,t[e]))return!0})},closest:function(e,t){for(var i,n=0,r=this.length,s=[],o=Re.test(e)||"string"!=typeof e?De(e,t||this.context):0;r>n;n++)for(i=this[n];i&&i!==t;i=i.parentNode)if(i.nodeType<11&&(o?o.index(i)>-1:1===i.nodeType&&De.find.matchesSelector(i,e))){s.push(i);break}return this.pushStack(s.length>1?De.uniqueSort(s):s)},index:function(e){return e?"string"==typeof e?$e.call(De(e),this[0]):$e.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(De.uniqueSort(De.merge(this.get(),De(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),De.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return Fe(e,"parentNode")},parentsUntil:function(e,t,i){return Fe(e,"parentNode",i)},next:function(e){return r(e,"nextSibling")},prev:function(e){return r(e,"previousSibling")},nextAll:function(e){return Fe(e,"nextSibling")},prevAll:function(e){return Fe(e,"previousSibling")},nextUntil:function(e,t,i){return Fe(e,"nextSibling",i)},prevUntil:function(e,t,i){return Fe(e,"previousSibling",i)},siblings:function(e){return ze((e.parentNode||{}).firstChild,e)},children:function(e){return ze(e.firstChild)},contents:function(e){return e.contentDocument||De.merge([],e.childNodes)}},function(e,t){De.fn[e]=function(i,n){var r=De.map(this,t,i);return"Until"!==e.slice(-5)&&(n=i),n&&"string"==typeof n&&(r=De.filter(n,r)),this.length>1&&(G[e]||De.uniqueSort(r),W.test(e)&&r.reverse()),this.pushStack(r)}}),Y=/\S+/g,De.Callbacks=function(e){e="string"==typeof e?s(e):De.extend({},e);var t,i,n,r,o=[],a=[],l=-1,u=function(){for(r=e.once,n=t=!0;a.length;l=-1)for(i=a.shift();++l<o.length;)!1===o[l].apply(i[0],i[1])&&e.stopOnFalse&&(l=o.length,i=!1);e.memory||(i=!1),t=!1,r&&(o=i?[]:"")},c={add:function(){return o&&(i&&!t&&(l=o.length-1,a.push(i)),function t(i){De.each(i,function(i,n){De.isFunction(n)?e.unique&&c.has(n)||o.push(n):n&&n.length&&"string"!==De.type(n)&&t(n)})}(arguments),i&&!t&&u()),this},remove:function(){return De.each(arguments,function(e,t){for(var i;(i=De.inArray(t,o,i))>-1;)o.splice(i,1),l>=i&&l--}),this},has:function(e){return e?De.inArray(e,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return r=a=[],o=i="",this},disabled:function(){return!o},lock:function(){return r=a=[],i||(o=i=""),this},locked:function(){return!!r},fireWith:function(e,i){return r||(i=[e,(i=i||[]).slice?i.slice():i],a.push(i),t||u()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!n}};return c},De.extend({Deferred:function(e){var t=[["resolve","done",De.Callbacks("once memory"),"resolved"],["reject","fail",De.Callbacks("once memory"),"rejected"],["notify","progress",De.Callbacks("memory")]],i="pending",n={state:function(){return i},always:function(){return r.done(arguments).fail(arguments),this},then:function(){var e=arguments;return De.Deferred(function(i){De.each(t,function(t,s){var o=De.isFunction(e[t])&&e[t];r[s[1]](function(){var e=o&&o.apply(this,arguments);e&&De.isFunction(e.promise)?e.promise().progress(i.notify).done(i.resolve).fail(i.reject):i[s[0]+"With"](this===n?i.promise():this,o?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?De.extend(e,n):n}},r={};return n.pipe=n.then,De.each(t,function(e,s){var o=s[2],a=s[3];n[s[1]]=o.add,a&&o.add(function(){i=a},t[1^e][2].disable,t[2][2].lock),r[s[0]]=function(){return r[s[0]+"With"](this===r?n:this,arguments),this},r[s[0]+"With"]=o.fireWith}),n.promise(r),e&&e.call(r,r),r},when:function(e){var t,i,n,r=0,s=Ce.call(arguments),o=s.length,a=1!==o||e&&De.isFunction(e.promise)?o:0,l=1===a?e:De.Deferred(),u=function(e,i,n){return function(r){i[e]=this,n[e]=arguments.length>1?Ce.call(arguments):r,n===t?l.notifyWith(i,n):--a||l.resolveWith(i,n)}};if(o>1)for(t=new Array(o),i=new Array(o),n=new Array(o);o>r;r++)s[r]&&De.isFunction(s[r].promise)?s[r].promise().progress(u(r,i,t)).done(u(r,n,s)).fail(l.reject):--a;return a||l.resolveWith(n,s),l.promise()}}),De.fn.ready=function(e){return De.ready.promise().done(e),this},De.extend({isReady:!1,readyWait:1,holdReady:function(e){e?De.readyWait++:De.ready(!0)},ready:function(e){(!0===e?--De.readyWait:De.isReady)||(De.isReady=!0,!0!==e&&--De.readyWait>0||(K.resolveWith(Te,[De]),De.fn.triggerHandler&&(De(Te).triggerHandler("ready"),De(Te).off("ready"))))}}),De.ready.promise=function(t){return K||(K=De.Deferred(),"complete"===Te.readyState||"loading"!==Te.readyState&&!Te.documentElement.doScroll?e.setTimeout(De.ready):(Te.addEventListener("DOMContentLoaded",o),e.addEventListener("load",o))),K.promise(t)},De.ready.promise(),Q=function(e,t,i,n,r,s,o){var a=0,l=e.length,u=null==i;if("object"===De.type(i))for(a in r=!0,i)Q(e,t,a,i[a],!0,s,o);else if(void 0!==n&&(r=!0,De.isFunction(n)||(o=!0),u&&(o?(t.call(e,n),t=null):(u=t,t=function(e,t,i){return u.call(De(e),i)})),t))for(;l>a;a++)t(e[a],i,o?n:n.call(e[a],a,t(e[a],i)));return r?e:u?t.call(e):l?t(e[0],i):s},X=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType},a.uid=1,a.prototype={register:function(e,t){var i=t||{};return e.nodeType?e[this.expando]=i:Object.defineProperty(e,this.expando,{value:i,writable:!0,configurable:!0}),e[this.expando]},cache:function(e){if(!X(e))return{};var t=e[this.expando];return t||(t={},X(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,i){var n,r=this.cache(e);if("string"==typeof t)r[t]=i;else for(n in t)r[n]=t[n];return r},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][t]},access:function(e,t,i){var n;return void 0===t||t&&"string"==typeof t&&void 0===i?void 0!==(n=this.get(e,t))?n:this.get(e,De.camelCase(t)):(this.set(e,t,i),void 0!==i?i:t)},remove:function(e,t){var i,n,r,s=e[this.expando];if(void 0!==s){if(void 0===t)this.register(e);else for((De.isArray(t)?n=t.concat(t.map(De.camelCase)):(r=De.camelCase(t),t in s?n=[t,r]:n=(n=r)in s?[n]:n.match(Y)||[]),i=n.length);i--;)delete s[n[i]];(void 0===t||De.isEmptyObject(s))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!De.isEmptyObject(t)}};var Be=new a,Je=new a,qe=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,He=/[A-Z]/g;De.extend({hasData:function(e){return Je.hasData(e)||Be.hasData(e)},data:function(e,t,i){return Je.access(e,t,i)},removeData:function(e,t){Je.remove(e,t)},_data:function(e,t,i){return Be.access(e,t,i)},_removeData:function(e,t){Be.remove(e,t)}}),De.fn.extend({data:function(e,t){var i,n,r,s=this[0],o=s&&s.attributes;if(void 0===e){if(this.length&&(r=Je.get(s),1===s.nodeType&&!Be.get(s,"hasDataAttrs"))){for(i=o.length;i--;)o[i]&&(0===(n=o[i].name).indexOf("data-")&&(n=De.camelCase(n.slice(5)),l(s,n,r[n])));Be.set(s,"hasDataAttrs",!0)}return r}return"object"==typeof e?this.each(function(){Je.set(this,e)}):Q(this,function(t){var i,n;if(s&&void 0===t){if(void 0!==(i=Je.get(s,e)||Je.get(s,e.replace(He,"-$&").toLowerCase()))||(n=De.camelCase(e),void 0!==(i=Je.get(s,n)))||void 0!==(i=l(s,n,void 0)))return i}else n=De.camelCase(e),this.each(function(){var i=Je.get(this,n);Je.set(this,n,t),e.indexOf("-")>-1&&void 0!==i&&Je.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){Je.remove(this,e)})}}),De.extend({queue:function(e,t,i){var n;if(e)return t=(t||"fx")+"queue",n=Be.get(e,t),i&&(!n||De.isArray(i)?n=Be.access(e,t,De.makeArray(i)):n.push(i)),n||[]},dequeue:function(e,t){t=t||"fx";var i=De.queue(e,t),n=i.length,r=i.shift(),s=De._queueHooks(e,t);"inprogress"===r&&(r=i.shift(),n--),r&&("fx"===t&&i.unshift("inprogress"),delete s.stop,r.call(e,function(){De.dequeue(e,t)},s)),!n&&s&&s.empty.fire()},_queueHooks:function(e,t){var i=t+"queueHooks";return Be.get(e,i)||Be.access(e,i,{empty:De.Callbacks("once memory").add(function(){Be.remove(e,[t+"queue",i])})})}}),De.fn.extend({queue:function(e,t){var i=2;return"string"!=typeof e&&(t=e,e="fx",i--),arguments.length<i?De.queue(this[0],e):void 0===t?this:this.each(function(){var i=De.queue(this,e,t);De._queueHooks(this,e),"fx"===e&&"inprogress"!==i[0]&&De.dequeue(this,e)})},dequeue:function(e){return this.each(function(){De.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var i,n=1,r=De.Deferred(),s=this,o=this.length,a=function(){--n||r.resolveWith(s,[s])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";o--;)(i=Be.get(s[o],e+"queueHooks"))&&i.empty&&(n++,i.empty.add(a));return a(),r.promise(t)}});var Ue=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Ve=new RegExp("^(?:([+-])=|)("+Ue+")([a-z%]*)$","i"),We=["Top","Right","Bottom","Left"],Ge=function(e,t){return e=t||e,"none"===De.css(e,"display")||!De.contains(e.ownerDocument,e)},Ye=/^(?:checkbox|radio)$/i,Ke=/<([\w:-]+)/,Qe=/^$|\/(?:java|ecma)script/i,Xe={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Xe.optgroup=Xe.option,Xe.tbody=Xe.tfoot=Xe.colgroup=Xe.caption=Xe.thead,Xe.th=Xe.td,Z=/<|&#?\w+;/,function(){var e=Te.createDocumentFragment().appendChild(Te.createElement("div")),t=Te.createElement("input");t.setAttribute("type","radio"),t.setAttribute("checked","checked"),t.setAttribute("name","t"),e.appendChild(t),Ie.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,e.innerHTML="<textarea>x</textarea>",Ie.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue}();var Ze=/^key/,et=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,tt=/^([^.]*)(?:\.(.+)|)/;De.event={global:{},add:function(e,t,i,n,r){var s,o,a,l,u,c,d,h,p,f,m,g=Be.get(e);if(g)for(i.handler&&(i=(s=i).handler,r=s.selector),i.guid||(i.guid=De.guid++),(l=g.events)||(l=g.events={}),(o=g.handle)||(o=g.handle=function(t){if(void 0!==De&&De.event.triggered!==t.type)return De.event.dispatch.apply(e,arguments)}),u=(t=(t||"").match(Y)||[""]).length;u--;)p=m=(a=tt.exec(t[u])||[])[1],f=(a[2]||"").split(".").sort(),p&&(d=De.event.special[p]||{},p=(r?d.delegateType:d.bindType)||p,d=De.event.special[p]||{},c=De.extend({type:p,origType:m,data:n,handler:i,guid:i.guid,selector:r,needsContext:r&&De.expr.match.needsContext.test(r),namespace:f.join(".")},s),(h=l[p])||((h=l[p]=[]).delegateCount=0,d.setup&&!1!==d.setup.call(e,n,f,o)||e.addEventListener&&e.addEventListener(p,o)),d.add&&(d.add.call(e,c),c.handler.guid||(c.handler.guid=i.guid)),r?h.splice(h.delegateCount++,0,c):h.push(c),De.event.global[p]=!0)},remove:function(e,t,i,n,r){var s,o,a,l,u,c,d,h,p,f,m,g=Be.hasData(e)&&Be.get(e);if(g&&(l=g.events)){for(u=(t=(t||"").match(Y)||[""]).length;u--;)if(p=m=(a=tt.exec(t[u])||[])[1],f=(a[2]||"").split(".").sort(),p){for(d=De.event.special[p]||{},h=l[p=(n?d.delegateType:d.bindType)||p]||[],a=a[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),o=s=h.length;s--;)c=h[s],!r&&m!==c.origType||i&&i.guid!==c.guid||a&&!a.test(c.namespace)||n&&n!==c.selector&&("**"!==n||!c.selector)||(h.splice(s,1),c.selector&&h.delegateCount--,d.remove&&d.remove.call(e,c));o&&!h.length&&(d.teardown&&!1!==d.teardown.call(e,f,g.handle)||De.removeEvent(e,p,g.handle),delete l[p])}else for(p in l)De.event.remove(e,p+t[u],i,n,!0);De.isEmptyObject(l)&&Be.remove(e,"handle events")}},dispatch:function(e){e=De.event.fix(e);var t,i,n,r,s,o=[],a=Ce.call(arguments),l=(Be.get(this,"events")||{})[e.type]||[],u=De.event.special[e.type]||{};if(a[0]=e,e.delegateTarget=this,!u.preDispatch||!1!==u.preDispatch.call(this,e)){for(o=De.event.handlers.call(this,e,l),t=0;(r=o[t++])&&!e.isPropagationStopped();)for(e.currentTarget=r.elem,i=0;(s=r.handlers[i++])&&!e.isImmediatePropagationStopped();)e.rnamespace&&!e.rnamespace.test(s.namespace)||(e.handleObj=s,e.data=s.data,void 0!==(n=((De.event.special[s.origType]||{}).handle||s.handler).apply(r.elem,a))&&!1===(e.result=n)&&(e.preventDefault(),e.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,e),e.result}},handlers:function(e,t){var i,n,r,s,o=[],a=t.delegateCount,l=e.target;if(a&&l.nodeType&&("click"!==e.type||isNaN(e.button)||e.button<1))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&(!0!==l.disabled||"click"!==e.type)){for(n=[],i=0;a>i;i++)void 0===n[r=(s=t[i]).selector+" "]&&(n[r]=s.needsContext?De(r,this).index(l)>-1:De.find(r,this,null,[l]).length),n[r]&&n.push(s);n.length&&o.push({elem:l,handlers:n})}return a<t.length&&o.push({elem:this,handlers:t.slice(a)}),o},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var i,n,r,s=t.button;return null==e.pageX&&null!=t.clientX&&(n=(i=e.target.ownerDocument||Te).documentElement,r=i.body,e.pageX=t.clientX+(n&&n.scrollLeft||r&&r.scrollLeft||0)-(n&&n.clientLeft||r&&r.clientLeft||0),e.pageY=t.clientY+(n&&n.scrollTop||r&&r.scrollTop||0)-(n&&n.clientTop||r&&r.clientTop||0)),e.which||void 0===s||(e.which=1&s?1:2&s?3:4&s?2:0),e}},fix:function(e){if(e[De.expando])return e;var t,i,n,r=e.type,s=e,o=this.fixHooks[r];for(o||(this.fixHooks[r]=o=et.test(r)?this.mouseHooks:Ze.test(r)?this.keyHooks:{}),n=o.props?this.props.concat(o.props):this.props,e=new De.Event(s),t=n.length;t--;)e[i=n[t]]=s[i];return e.target||(e.target=Te),3===e.target.nodeType&&(e.target=e.target.parentNode),o.filter?o.filter(e,s):e},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==m()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===m()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&De.nodeName(this,"input"))return this.click(),!1},_default:function(e){return De.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},De.removeEvent=function(e,t,i){e.removeEventListener&&e.removeEventListener(t,i)},De.Event=function(e,t){return this instanceof De.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?p:f):this.type=e,t&&De.extend(this,t),this.timeStamp=e&&e.timeStamp||De.now(),void(this[De.expando]=!0)):new De.Event(e,t)},De.Event.prototype={constructor:De.Event,isDefaultPrevented:f,isPropagationStopped:f,isImmediatePropagationStopped:f,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=p,e&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=p,e&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=p,e&&e.stopImmediatePropagation(),this.stopPropagation()}},De.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){De.event.special[e]={delegateType:t,bindType:t,handle:function(e){var i,n=e.relatedTarget,r=e.handleObj;return n&&(n===this||De.contains(this,n))||(e.type=r.origType,i=r.handler.apply(this,arguments),e.type=t),i}}}),De.fn.extend({on:function(e,t,i,n){return g(this,e,t,i,n)},one:function(e,t,i,n){return g(this,e,t,i,n,1)},off:function(e,t,i){var n,r;if(e&&e.preventDefault&&e.handleObj)return n=e.handleObj,De(e.delegateTarget).off(n.namespace?n.origType+"."+n.namespace:n.origType,n.selector,n.handler),this;if("object"==typeof e){for(r in e)this.off(r,t,e[r]);return this}return!1!==t&&"function"!=typeof t||(i=t,t=void 0),!1===i&&(i=f),this.each(function(){De.event.remove(this,e,i,t)})}});var it=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,nt=/<script|<style|<link/i,rt=/checked\s*(?:[^=]|=\s*.checked.)/i,st=/^true\/(.*)/,ot=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;De.extend({htmlPrefilter:function(e){return e.replace(it,"<$1></$2>")},clone:function(e,t,i){var n,r,s,o,a=e.cloneNode(!0),l=De.contains(e.ownerDocument,e);if(!(Ie.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||De.isXMLDoc(e)))for(o=c(a),n=0,r=(s=c(e)).length;r>n;n++)w(s[n],o[n]);if(t)if(i)for(s=s||c(e),o=o||c(a),n=0,r=s.length;r>n;n++)b(s[n],o[n]);else b(e,a);return(o=c(a,"script")).length>0&&d(o,!l&&c(e,"script")),a},cleanData:function(e){for(var t,i,n,r=De.event.special,s=0;void 0!==(i=e[s]);s++)if(X(i)){if(t=i[Be.expando]){if(t.events)for(n in t.events)r[n]?De.event.remove(i,n):De.removeEvent(i,n,t.handle);i[Be.expando]=void 0}i[Je.expando]&&(i[Je.expando]=void 0)}}}),De.fn.extend({domManip:T,detach:function(e){return C(this,e,!0)},remove:function(e){return C(this,e)},text:function(e){return Q(this,function(e){return void 0===e?De.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return T(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||v(this,e).appendChild(e)})},prepend:function(){return T(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=v(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return T(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return T(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(De.cleanData(c(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return De.clone(this,e,t)})},html:function(e){return Q(this,function(e){var t=this[0]||{},i=0,n=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!nt.test(e)&&!Xe[(Ke.exec(e)||["",""])[1].toLowerCase()]){e=De.htmlPrefilter(e);try{for(;n>i;i++)1===(t=this[i]||{}).nodeType&&(De.cleanData(c(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return T(this,arguments,function(t){var i=this.parentNode;De.inArray(this,e)<0&&(De.cleanData(c(this)),i&&i.replaceChild(t,this))},e)}}),De.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){De.fn[e]=function(e){for(var i,n=[],r=De(e),s=r.length-1,o=0;s>=o;o++)i=o===s?this:this.clone(!0),De(r[o])[t](i),ke.apply(n,i.get());return this.pushStack(n)}}),te={HTML:"block",BODY:"block"};var at=/^margin/,lt=new RegExp("^("+Ue+")(?!px)[a-z%]+$","i"),ut=function(t){var i=t.ownerDocument.defaultView;return i&&i.opener||(i=e),i.getComputedStyle(t)},ct=function(e,t,i,n){var r,s,o={};for(s in t)o[s]=e.style[s],e.style[s]=t[s];for(s in r=i.apply(e,n||[]),t)e.style[s]=o[s];return r},dt=Te.documentElement;!function(){var t,i,n,r,s=Te.createElement("div"),o=Te.createElement("div");if(o.style){function a(){o.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",o.innerHTML="",dt.appendChild(s);var a=e.getComputedStyle(o);t="1%"!==a.top,r="2px"===a.marginLeft,i="4px"===a.width,o.style.marginRight="50%",n="4px"===a.marginRight,dt.removeChild(s)}o.style.backgroundClip="content-box",o.cloneNode(!0).style.backgroundClip="",Ie.clearCloneStyle="content-box"===o.style.backgroundClip,s.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",s.appendChild(o),De.extend(Ie,{pixelPosition:function(){return a(),t},boxSizingReliable:function(){return null==i&&a(),i},pixelMarginRight:function(){return null==i&&a(),n},reliableMarginLeft:function(){return null==i&&a(),r},reliableMarginRight:function(){var t,i=o.appendChild(Te.createElement("div"));return i.style.cssText=o.style.cssText="-webkit-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",i.style.marginRight=i.style.width="0",o.style.width="1px",dt.appendChild(s),t=!parseFloat(e.getComputedStyle(i).marginRight),dt.removeChild(s),o.removeChild(i),t}})}}();var ht=/^(none|table(?!-c[ea]).+)/,pt={position:"absolute",visibility:"hidden",display:"block"},ft={letterSpacing:"0",fontWeight:"400"},mt=["Webkit","O","Moz","ms"],gt=Te.createElement("div").style;De.extend({cssHooks:{opacity:{get:function(e,t){if(t){var i=$(e,"opacity");return""===i?"1":i}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(e,t,i,n){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var r,s,o,a=De.camelCase(t),l=e.style;return t=De.cssProps[a]||(De.cssProps[a]=x(a)||a),o=De.cssHooks[t]||De.cssHooks[a],void 0===i?o&&"get"in o&&void 0!==(r=o.get(e,!1,n))?r:l[t]:("string"===(s=typeof i)&&(r=Ve.exec(i))&&r[1]&&(i=u(e,t,r),s="number"),void(null!=i&&i==i&&("number"===s&&(i+=r&&r[3]||(De.cssNumber[a]?"":"px")),Ie.clearCloneStyle||""!==i||0!==t.indexOf("background")||(l[t]="inherit"),o&&"set"in o&&void 0===(i=o.set(e,i,n))||(l[t]=i))))}},css:function(e,t,i,n){var r,s,o,a=De.camelCase(t);return t=De.cssProps[a]||(De.cssProps[a]=x(a)||a),(o=De.cssHooks[t]||De.cssHooks[a])&&"get"in o&&(r=o.get(e,!0,i)),void 0===r&&(r=$(e,t,n)),"normal"===r&&t in ft&&(r=ft[t]),""===i||i?(s=parseFloat(r),!0===i||isFinite(s)?s||0:r):r}}),De.each(["height","width"],function(e,t){De.cssHooks[t]={get:function(e,i,n){if(i)return ht.test(De.css(e,"display"))&&0===e.offsetWidth?ct(e,pt,function(){return D(e,t,n)}):D(e,t,n)},set:function(e,i,n){var r,s=n&&ut(e),o=n&&I(e,t,n,"border-box"===De.css(e,"boxSizing",!1,s),s);return o&&(r=Ve.exec(i))&&"px"!==(r[3]||"px")&&(e.style[t]=i,i=De.css(e,t)),E(0,i,o)}}}),De.cssHooks.marginLeft=A(Ie.reliableMarginLeft,function(e,t){if(t)return(parseFloat($(e,"marginLeft"))||e.getBoundingClientRect().left-ct(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),De.cssHooks.marginRight=A(Ie.reliableMarginRight,function(e,t){if(t)return ct(e,{display:"inline-block"},$,[e,"marginRight"])}),De.each({margin:"",padding:"",border:"Width"},function(e,t){De.cssHooks[e+t]={expand:function(i){for(var n=0,r={},s="string"==typeof i?i.split(" "):[i];4>n;n++)r[e+We[n]+t]=s[n]||s[n-2]||s[0];return r}},at.test(e)||(De.cssHooks[e+t].set=E)}),De.fn.extend({css:function(e,t){return Q(this,function(e,t,i){var n,r,s={},o=0;if(De.isArray(t)){for(n=ut(e),r=t.length;r>o;o++)s[t[o]]=De.css(e,t[o],!1,n);return s}return void 0!==i?De.style(e,t,i):De.css(e,t)},e,t,arguments.length>1)},show:function(){return O(this,!0)},hide:function(){return O(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){Ge(this)?De(this).show():De(this).hide()})}}),De.Tween=P,P.prototype={constructor:P,init:function(e,t,i,n,r,s){this.elem=e,this.prop=i,this.easing=r||De.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=n,this.unit=s||(De.cssNumber[i]?"":"px")},cur:function(){var e=P.propHooks[this.prop];return e&&e.get?e.get(this):P.propHooks._default.get(this)},run:function(e){var t,i=P.propHooks[this.prop];return this.pos=t=this.options.duration?De.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):P.propHooks._default.set(this),this}},P.prototype.init.prototype=P.prototype,P.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=De.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){De.fx.step[e.prop]?De.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[De.cssProps[e.prop]]&&!De.cssHooks[e.prop]?e.elem[e.prop]=e.now:De.style(e.elem,e.prop,e.now+e.unit)}}},P.propHooks.scrollTop=P.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},De.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},De.fx=P.prototype.init,De.fx.step={},re=/^(?:toggle|show|hide)$/,se=/queueHooks$/,De.Animation=De.extend(z,{tweeners:{"*":[function(e,t){var i=this.createTween(e,t);return u(i.elem,e,Ve.exec(t),i),i}]},tweener:function(e,t){De.isFunction(e)?(t=e,e=["*"]):e=e.match(Y);for(var i,n=0,r=e.length;r>n;n++)i=e[n],z.tweeners[i]=z.tweeners[i]||[],z.tweeners[i].unshift(t)},prefilters:[function(e,t,i){var n,r,s,o,a,l,u,c=this,d={},h=e.style,p=e.nodeType&&Ge(e),f=Be.get(e,"fxshow");for(n in i.queue||(null==(a=De._queueHooks(e,"fx")).unqueued&&(a.unqueued=0,l=a.empty.fire,a.empty.fire=function(){a.unqueued||l()}),a.unqueued++,c.always(function(){c.always(function(){a.unqueued--,De.queue(e,"fx").length||a.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(i.overflow=[h.overflow,h.overflowX,h.overflowY],"inline"===("none"===(u=De.css(e,"display"))?Be.get(e,"olddisplay")||k(e.nodeName):u)&&"none"===De.css(e,"float")&&(h.display="inline-block")),i.overflow&&(h.overflow="hidden",c.always(function(){h.overflow=i.overflow[0],h.overflowX=i.overflow[1],h.overflowY=i.overflow[2]})),t)if(r=t[n],re.exec(r)){if(delete t[n],s=s||"toggle"===r,r===(p?"hide":"show")){if("show"!==r||!f||void 0===f[n])continue;p=!0}d[n]=f&&f[n]||De.style(e,n)}else u=void 0;if(De.isEmptyObject(d))"inline"===("none"===u?k(e.nodeName):u)&&(h.display=u);else for(n in f?"hidden"in f&&(p=f.hidden):f=Be.access(e,"fxshow",{}),s&&(f.hidden=!p),p?De(e).show():c.done(function(){De(e).hide()}),c.done(function(){var t;for(t in Be.remove(e,"fxshow"),d)De.style(e,t,d[t])}),d)o=F(p?f[n]:0,n,c),n in f||(f[n]=o.start,p&&(o.end=o.start,o.start="width"===n||"height"===n?1:0))}],prefilter:function(e,t){t?z.prefilters.unshift(e):z.prefilters.push(e)}}),De.speed=function(e,t,i){var n=e&&"object"==typeof e?De.extend({},e):{complete:i||!i&&t||De.isFunction(e)&&e,duration:e,easing:i&&t||t&&!De.isFunction(t)&&t};return n.duration=De.fx.off?0:"number"==typeof n.duration?n.duration:n.duration in De.fx.speeds?De.fx.speeds[n.duration]:De.fx.speeds._default,null!=n.queue&&!0!==n.queue||(n.queue="fx"),n.old=n.complete,n.complete=function(){De.isFunction(n.old)&&n.old.call(this),n.queue&&De.dequeue(this,n.queue)},n},De.fn.extend({fadeTo:function(e,t,i,n){return this.filter(Ge).css("opacity",0).show().end().animate({opacity:t},e,i,n)},animate:function(e,t,i,n){var r=De.isEmptyObject(e),s=De.speed(t,i,n),o=function(){var t=z(this,De.extend({},e),s);(r||Be.get(this,"finish"))&&t.stop(!0)};return o.finish=o,r||!1===s.queue?this.each(o):this.queue(s.queue,o)},stop:function(e,t,i){var n=function(e){var t=e.stop;delete e.stop,t(i)};return"string"!=typeof e&&(i=t,t=e,e=void 0),t&&!1!==e&&this.queue(e||"fx",[]),this.each(function(){var t=!0,r=null!=e&&e+"queueHooks",s=De.timers,o=Be.get(this);if(r)o[r]&&o[r].stop&&n(o[r]);else for(r in o)o[r]&&o[r].stop&&se.test(r)&&n(o[r]);for(r=s.length;r--;)s[r].elem!==this||null!=e&&s[r].queue!==e||(s[r].anim.stop(i),t=!1,s.splice(r,1));!t&&i||De.dequeue(this,e)})},finish:function(e){return!1!==e&&(e=e||"fx"),this.each(function(){var t,i=Be.get(this),n=i[e+"queue"],r=i[e+"queueHooks"],s=De.timers,o=n?n.length:0;for(i.finish=!0,De.queue(this,e,[]),r&&r.stop&&r.stop.call(this,!0),t=s.length;t--;)s[t].elem===this&&s[t].queue===e&&(s[t].anim.stop(!0),s.splice(t,1));for(t=0;o>t;t++)n[t]&&n[t].finish&&n[t].finish.call(this);delete i.finish})}}),De.each(["toggle","show","hide"],function(e,t){var i=De.fn[t];De.fn[t]=function(e,n,r){return null==e||"boolean"==typeof e?i.apply(this,arguments):this.animate(L(t,!0),e,n,r)}}),De.each({slideDown:L("show"),slideUp:L("hide"),slideToggle:L("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){De.fn[e]=function(e,i,n){return this.animate(t,e,i,n)}}),De.timers=[],De.fx.tick=function(){var e,t=0,i=De.timers;for(ie=De.now();t<i.length;t++)(e=i[t])()||i[t]!==e||i.splice(t--,1);i.length||De.fx.stop(),ie=void 0},De.fx.timer=function(e){De.timers.push(e),e()?De.fx.start():De.timers.pop()},De.fx.interval=13,De.fx.start=function(){ne||(ne=e.setInterval(De.fx.tick,De.fx.interval))},De.fx.stop=function(){e.clearInterval(ne),ne=null},De.fx.speeds={slow:600,fast:200,_default:400},De.fn.delay=function(t,i){return t=De.fx&&De.fx.speeds[t]||t,i=i||"fx",this.queue(i,function(i,n){var r=e.setTimeout(i,t);n.stop=function(){e.clearTimeout(r)}})},function(){var e=Te.createElement("input"),t=Te.createElement("select"),i=t.appendChild(Te.createElement("option"));e.type="checkbox",Ie.checkOn=""!==e.value,Ie.optSelected=i.selected,t.disabled=!0,Ie.optDisabled=!i.disabled,(e=Te.createElement("input")).value="t",e.type="radio",Ie.radioValue="t"===e.value}(),ae=De.expr.attrHandle,De.fn.extend({attr:function(e,t){return Q(this,De.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){De.removeAttr(this,e)})}}),De.extend({attr:function(e,t,i){var n,r,s=e.nodeType;if(3!==s&&8!==s&&2!==s)return void 0===e.getAttribute?De.prop(e,t,i):(1===s&&De.isXMLDoc(e)||(t=t.toLowerCase(),r=De.attrHooks[t]||(De.expr.match.bool.test(t)?oe:void 0)),void 0!==i?null===i?void De.removeAttr(e,t):r&&"set"in r&&void 0!==(n=r.set(e,i,t))?n:(e.setAttribute(t,i+""),i):r&&"get"in r&&null!==(n=r.get(e,t))?n:null==(n=De.find.attr(e,t))?void 0:n)},attrHooks:{type:{set:function(e,t){if(!Ie.radioValue&&"radio"===t&&De.nodeName(e,"input")){var i=e.value;return e.setAttribute("type",t),i&&(e.value=i),t}}}},removeAttr:function(e,t){var i,n,r=0,s=t&&t.match(Y);if(s&&1===e.nodeType)for(;i=s[r++];)n=De.propFix[i]||i,De.expr.match.bool.test(i)&&(e[n]=!1),e.removeAttribute(i)}}),oe={set:function(e,t,i){return!1===t?De.removeAttr(e,i):e.setAttribute(i,i),i}},De.each(De.expr.match.bool.source.match(/\w+/g),function(e,t){var i=ae[t]||De.find.attr;ae[t]=function(e,t,n){var r,s;return n||(s=ae[t],ae[t]=r,r=null!=i(e,t,n)?t.toLowerCase():null,ae[t]=s),r}}),le=/^(?:input|select|textarea|button)$/i,ue=/^(?:a|area)$/i,De.fn.extend({prop:function(e,t){return Q(this,De.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[De.propFix[e]||e]})}}),De.extend({prop:function(e,t,i){var n,r,s=e.nodeType;if(3!==s&&8!==s&&2!==s)return 1===s&&De.isXMLDoc(e)||(t=De.propFix[t]||t,r=De.propHooks[t]),void 0!==i?r&&"set"in r&&void 0!==(n=r.set(e,i,t))?n:e[t]=i:r&&"get"in r&&null!==(n=r.get(e,t))?n:e[t]},propHooks:{tabIndex:{get:function(e){var t=De.find.attr(e,"tabindex");return t?parseInt(t,10):le.test(e.nodeName)||ue.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),Ie.optSelected||(De.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),De.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){De.propFix[this.toLowerCase()]=this}),ce=/[\t\r\n\f]/g,De.fn.extend({addClass:function(e){var t,i,n,r,s,o,a,l=0;if(De.isFunction(e))return this.each(function(t){De(this).addClass(e.call(this,t,R(this)))});if("string"==typeof e&&e)for(t=e.match(Y)||[];i=this[l++];)if(r=R(i),n=1===i.nodeType&&(" "+r+" ").replace(ce," ")){for(o=0;s=t[o++];)n.indexOf(" "+s+" ")<0&&(n+=s+" ");r!==(a=De.trim(n))&&i.setAttribute("class",a)}return this},removeClass:function(e){var t,i,n,r,s,o,a,l=0;if(De.isFunction(e))return this.each(function(t){De(this).removeClass(e.call(this,t,R(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof e&&e)for(t=e.match(Y)||[];i=this[l++];)if(r=R(i),n=1===i.nodeType&&(" "+r+" ").replace(ce," ")){for(o=0;s=t[o++];)for(;n.indexOf(" "+s+" ")>-1;)n=n.replace(" "+s+" "," ");r!==(a=De.trim(n))&&i.setAttribute("class",a)}return this},toggleClass:function(e,t){var i=typeof e;return"boolean"==typeof t&&"string"===i?t?this.addClass(e):this.removeClass(e):De.isFunction(e)?this.each(function(i){De(this).toggleClass(e.call(this,i,R(this),t),t)}):this.each(function(){var t,n,r,s;if("string"===i)for(n=0,r=De(this),s=e.match(Y)||[];t=s[n++];)r.hasClass(t)?r.removeClass(t):r.addClass(t);else void 0!==e&&"boolean"!==i||((t=R(this))&&Be.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===e?"":Be.get(this,"__className__")||""))})},hasClass:function(e){for(var t,i=0,n=" "+e+" ";t=this[i++];)if(1===t.nodeType&&(" "+R(t)+" ").replace(ce," ").indexOf(n)>-1)return!0;return!1}}),de=/\r/g,he=/[\x20\t\r\n\f]+/g,De.fn.extend({val:function(e){var t,i,n,r=this[0];return arguments.length?(n=De.isFunction(e),this.each(function(i){var r;1===this.nodeType&&(null==(r=n?e.call(this,i,De(this).val()):e)?r="":"number"==typeof r?r+="":De.isArray(r)&&(r=De.map(r,function(e){return null==e?"":e+""})),(t=De.valHooks[this.type]||De.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,r,"value")||(this.value=r))})):r?(t=De.valHooks[r.type]||De.valHooks[r.nodeName.toLowerCase()])&&"get"in t&&void 0!==(i=t.get(r,"value"))?i:"string"==typeof(i=r.value)?i.replace(de,""):null==i?"":i:void 0}}),De.extend({valHooks:{option:{get:function(e){var t=De.find.attr(e,"value");return null!=t?t:De.trim(De.text(e)).replace(he," ")}},select:{get:function(e){for(var t,i,n=e.options,r=e.selectedIndex,s="select-one"===e.type||0>r,o=s?null:[],a=s?r+1:n.length,l=0>r?a:s?r:0;a>l;l++)if(((i=n[l]).selected||l===r)&&(Ie.optDisabled?!i.disabled:null===i.getAttribute("disabled"))&&(!i.parentNode.disabled||!De.nodeName(i.parentNode,"optgroup"))){if(t=De(i).val(),s)return t;o.push(t)}return o},set:function(e,t){for(var i,n,r=e.options,s=De.makeArray(t),o=r.length;o--;)((n=r[o]).selected=De.inArray(De.valHooks.option.get(n),s)>-1)&&(i=!0);return i||(e.selectedIndex=-1),s}}}}),De.each(["radio","checkbox"],function(){De.valHooks[this]={set:function(e,t){if(De.isArray(t))return e.checked=De.inArray(De(e).val(),t)>-1}},Ie.checkOn||(De.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),pe=/^(?:focusinfocus|focusoutblur)$/,De.extend(De.event,{trigger:function(t,i,n,r){var s,o,a,l,u,c,d,h=[n||Te],p=Ee.call(t,"type")?t.type:t,f=Ee.call(t,"namespace")?t.namespace.split("."):[];if(o=a=n=n||Te,3!==n.nodeType&&8!==n.nodeType&&!pe.test(p+De.event.triggered)&&(p.indexOf(".")>-1&&(f=p.split("."),p=f.shift(),f.sort()),u=p.indexOf(":")<0&&"on"+p,(t=t[De.expando]?t:new De.Event(p,"object"==typeof t&&t)).isTrigger=r?2:3,t.namespace=f.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=n),i=null==i?[t]:De.makeArray(i,[t]),d=De.event.special[p]||{},r||!d.trigger||!1!==d.trigger.apply(n,i))){if(!r&&!d.noBubble&&!De.isWindow(n)){for(l=d.delegateType||p,pe.test(l+p)||(o=o.parentNode);o;o=o.parentNode)h.push(o),a=o;a===(n.ownerDocument||Te)&&h.push(a.defaultView||a.parentWindow||e)}for(s=0;(o=h[s++])&&!t.isPropagationStopped();)t.type=s>1?l:d.bindType||p,(c=(Be.get(o,"events")||{})[t.type]&&Be.get(o,"handle"))&&c.apply(o,i),(c=u&&o[u])&&c.apply&&X(o)&&(t.result=c.apply(o,i),!1===t.result&&t.preventDefault());return t.type=p,r||t.isDefaultPrevented()||d._default&&!1!==d._default.apply(h.pop(),i)||!X(n)||u&&De.isFunction(n[p])&&!De.isWindow(n)&&((a=n[u])&&(n[u]=null),De.event.triggered=p,n[p](),De.event.triggered=void 0,a&&(n[u]=a)),t.result}},simulate:function(e,t,i){var n=De.extend(new De.Event,i,{type:e,isSimulated:!0});De.event.trigger(n,null,t),n.isDefaultPrevented()&&i.preventDefault()}}),De.fn.extend({trigger:function(e,t){return this.each(function(){De.event.trigger(e,t,this)})},triggerHandler:function(e,t){var i=this[0];if(i)return De.event.trigger(e,t,i,!0)}}),De.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){De.fn[t]=function(e,i){return arguments.length>0?this.on(t,null,e,i):this.trigger(t)}}),De.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),Ie.focusin="onfocusin"in e,Ie.focusin||De.each({focus:"focusin",blur:"focusout"},function(e,t){var i=function(e){De.event.simulate(t,e.target,De.event.fix(e))};De.event.special[t]={setup:function(){var n=this.ownerDocument||this,r=Be.access(n,t);r||n.addEventListener(e,i,!0),Be.access(n,t,(r||0)+1)},teardown:function(){var n=this.ownerDocument||this,r=Be.access(n,t)-1;r?Be.access(n,t,r):(n.removeEventListener(e,i,!0),Be.remove(n,t))}}});var vt=e.location,yt=De.now(),_t=/\?/;De.parseJSON=function(e){return JSON.parse(e+"")},De.parseXML=function(t){var i;if(!t||"string"!=typeof t)return null;try{i=(new e.DOMParser).parseFromString(t,"text/xml")}catch(e){i=void 0}return i&&!i.getElementsByTagName("parsererror").length||De.error("Invalid XML: "+t),i};var bt=/#.*$/,wt=/([?&])_=[^&]*/,Tt=/^(.*?):[ \t]*([^\r\n]*)$/gm,Ct=/^(?:GET|HEAD)$/,St=/^\/\//,kt={},$t={},At="*/".concat("*"),xt=Te.createElement("a");xt.href=vt.href,De.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:vt.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(vt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":At,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":De.parseJSON,"text xml":De.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?B(B(e,De.ajaxSettings),t):B(De.ajaxSettings,e)},ajaxPrefilter:M(kt),ajaxTransport:M($t),ajax:function(t,i){function n(t,i,n,a){var u,d,y,_,w,C=i;2!==b&&(b=2,l&&e.clearTimeout(l),r=void 0,o=a||"",T.readyState=t>0?4:0,u=t>=200&&300>t||304===t,n&&(_=function(e,t,i){for(var n,r,s,o,a=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===n&&(n=e.mimeType||t.getResponseHeader("Content-Type"));if(n)for(r in a)if(a[r]&&a[r].test(n)){l.unshift(r);break}if(l[0]in i)s=l[0];else{for(r in i){if(!l[0]||e.converters[r+" "+l[0]]){s=r;break}o||(o=r)}s=s||o}if(s)return s!==l[0]&&l.unshift(s),i[s]}(h,T,n)),_=function(e,t,i,n){var r,s,o,a,l,u={},c=e.dataTypes.slice();if(c[1])for(o in e.converters)u[o.toLowerCase()]=e.converters[o];for(s=c.shift();s;)if(e.responseFields[s]&&(i[e.responseFields[s]]=t),!l&&n&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=s,s=c.shift())if("*"===s)s=l;else if("*"!==l&&l!==s){if(!(o=u[l+" "+s]||u["* "+s]))for(r in u)if((a=r.split(" "))[1]===s&&(o=u[l+" "+a[0]]||u["* "+a[0]])){!0===o?o=u[r]:!0!==u[r]&&(s=a[0],c.unshift(a[1]));break}if(!0!==o)if(o&&e.throws)t=o(t);else try{t=o(t)}catch(e){return{state:"parsererror",error:o?e:"No conversion from "+l+" to "+s}}}return{state:"success",data:t}}(h,_,T,u),u?(h.ifModified&&((w=T.getResponseHeader("Last-Modified"))&&(De.lastModified[s]=w),(w=T.getResponseHeader("etag"))&&(De.etag[s]=w)),204===t||"HEAD"===h.type?C="nocontent":304===t?C="notmodified":(C=_.state,d=_.data,u=!(y=_.error))):(y=C,!t&&C||(C="error",0>t&&(t=0))),T.status=t,T.statusText=(i||C)+"",u?m.resolveWith(p,[d,C,T]):m.rejectWith(p,[T,C,y]),T.statusCode(v),v=void 0,c&&f.trigger(u?"ajaxSuccess":"ajaxError",[T,h,u?d:y]),g.fireWith(p,[T,C]),c&&(f.trigger("ajaxComplete",[T,h]),--De.active||De.event.trigger("ajaxStop")))}"object"==typeof t&&(i=t,t=void 0),i=i||{};var r,s,o,a,l,u,c,d,h=De.ajaxSetup({},i),p=h.context||h,f=h.context&&(p.nodeType||p.jquery)?De(p):De.event,m=De.Deferred(),g=De.Callbacks("once memory"),v=h.statusCode||{},y={},_={},b=0,w="canceled",T={readyState:0,getResponseHeader:function(e){var t;if(2===b){if(!a)for(a={};t=Tt.exec(o);)a[t[1].toLowerCase()]=t[2];t=a[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===b?o:null},setRequestHeader:function(e,t){var i=e.toLowerCase();return b||(e=_[i]=_[i]||e,y[e]=t),this},overrideMimeType:function(e){return b||(h.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>b)for(t in e)v[t]=[v[t],e[t]];else T.always(e[T.status]);return this},abort:function(e){var t=e||w;return r&&r.abort(t),n(0,t),this}};if(m.promise(T).complete=g.add,T.success=T.done,T.error=T.fail,h.url=((t||h.url||vt.href)+"").replace(bt,"").replace(St,vt.protocol+"//"),h.type=i.method||i.type||h.method||h.type,h.dataTypes=De.trim(h.dataType||"*").toLowerCase().match(Y)||[""],null==h.crossDomain){u=Te.createElement("a");try{u.href=h.url,u.href=u.href,h.crossDomain=xt.protocol+"//"+xt.host!=u.protocol+"//"+u.host}catch(e){h.crossDomain=!0}}if(h.data&&h.processData&&"string"!=typeof h.data&&(h.data=De.param(h.data,h.traditional)),j(kt,h,i,T),2===b)return T;for(d in(c=De.event&&h.global)&&0==De.active++&&De.event.trigger("ajaxStart"),h.type=h.type.toUpperCase(),h.hasContent=!Ct.test(h.type),s=h.url,h.hasContent||(h.data&&(s=h.url+=(_t.test(s)?"&":"?")+h.data,delete h.data),!1===h.cache&&(h.url=wt.test(s)?s.replace(wt,"$1_="+yt++):s+(_t.test(s)?"&":"?")+"_="+yt++)),h.ifModified&&(De.lastModified[s]&&T.setRequestHeader("If-Modified-Since",De.lastModified[s]),De.etag[s]&&T.setRequestHeader("If-None-Match",De.etag[s])),(h.data&&h.hasContent&&!1!==h.contentType||i.contentType)&&T.setRequestHeader("Content-Type",h.contentType),T.setRequestHeader("Accept",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+("*"!==h.dataTypes[0]?", "+At+"; q=0.01":""):h.accepts["*"]),h.headers)T.setRequestHeader(d,h.headers[d]);if(h.beforeSend&&(!1===h.beforeSend.call(p,T,h)||2===b))return T.abort();for(d in w="abort",{success:1,error:1,complete:1})T[d](h[d]);if(r=j($t,h,i,T)){if(T.readyState=1,c&&f.trigger("ajaxSend",[T,h]),2===b)return T;h.async&&h.timeout>0&&(l=e.setTimeout(function(){T.abort("timeout")},h.timeout));try{b=1,r.send(y,n)}catch(e){if(!(2>b))throw e;n(-1,e)}}else n(-1,"No Transport");return T},getJSON:function(e,t,i){return De.get(e,t,i,"json")},getScript:function(e,t){return De.get(e,void 0,t,"script")}}),De.each(["get","post"],function(e,t){De[t]=function(e,i,n,r){return De.isFunction(i)&&(r=r||n,n=i,i=void 0),De.ajax(De.extend({url:e,type:t,dataType:r,data:i,success:n},De.isPlainObject(e)&&e))}}),De._evalUrl=function(e){return De.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,throws:!0})},De.fn.extend({wrapAll:function(e){var t;return De.isFunction(e)?this.each(function(t){De(this).wrapAll(e.call(this,t))}):(this[0]&&(t=De(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this)},wrapInner:function(e){return De.isFunction(e)?this.each(function(t){De(this).wrapInner(e.call(this,t))}):this.each(function(){var t=De(this),i=t.contents();i.length?i.wrapAll(e):t.append(e)})},wrap:function(e){var t=De.isFunction(e);return this.each(function(i){De(this).wrapAll(t?e.call(this,i):e)})},unwrap:function(){return this.parent().each(function(){De.nodeName(this,"body")||De(this).replaceWith(this.childNodes)}).end()}}),De.expr.filters.hidden=function(e){return!De.expr.filters.visible(e)},De.expr.filters.visible=function(e){return e.offsetWidth>0||e.offsetHeight>0||e.getClientRects().length>0};var Et=/%20/g,It=/\[\]$/,Dt=/\r?\n/g,Ot=/^(?:submit|button|image|reset|file)$/i,Pt=/^(?:input|select|textarea|keygen)/i;return De.param=function(e,t){var i,n=[],r=function(e,t){t=De.isFunction(t)?t():null==t?"":t,n[n.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=De.ajaxSettings&&De.ajaxSettings.traditional),De.isArray(e)||e.jquery&&!De.isPlainObject(e))De.each(e,function(){r(this.name,this.value)});else for(i in e)J(i,e[i],t,r);return n.join("&").replace(Et,"+")},De.fn.extend({serialize:function(){return De.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=De.prop(this,"elements");return e?De.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!De(this).is(":disabled")&&Pt.test(this.nodeName)&&!Ot.test(e)&&(this.checked||!Ye.test(e))}).map(function(e,t){var i=De(this).val();return null==i?null:De.isArray(i)?De.map(i,function(e){return{name:t.name,value:e.replace(Dt,"\r\n")}}):{name:t.name,value:i.replace(Dt,"\r\n")}}).get()}}),De.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch(e){}},fe={0:200,1223:204},me=De.ajaxSettings.xhr(),Ie.cors=!!me&&"withCredentials"in me,Ie.ajax=me=!!me,De.ajaxTransport(function(t){var i,n;if(Ie.cors||me&&!t.crossDomain)return{send:function(r,s){var o,a=t.xhr();if(a.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(o in t.xhrFields)a[o]=t.xhrFields[o];for(o in t.mimeType&&a.overrideMimeType&&a.overrideMimeType(t.mimeType),t.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest"),r)a.setRequestHeader(o,r[o]);i=function(e){return function(){i&&(i=n=a.onload=a.onerror=a.onabort=a.onreadystatechange=null,"abort"===e?a.abort():"error"===e?"number"!=typeof a.status?s(0,"error"):s(a.status,a.statusText):s(fe[a.status]||a.status,a.statusText,"text"!==(a.responseType||"text")||"string"!=typeof a.responseText?{binary:a.response}:{text:a.responseText},a.getAllResponseHeaders()))}},a.onload=i(),n=a.onerror=i("error"),void 0!==a.onabort?a.onabort=n:a.onreadystatechange=function(){4===a.readyState&&e.setTimeout(function(){i&&n()})},i=i("abort");try{a.send(t.hasContent&&t.data||null)}catch(e){if(i)throw e}},abort:function(){i&&i()}}}),De.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return De.globalEval(e),e}}}),De.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),De.ajaxTransport("script",function(e){var t,i;if(e.crossDomain)return{send:function(n,r){t=De("<script>").prop({charset:e.scriptCharset,src:e.url}).on("load error",i=function(e){t.remove(),i=null,e&&r("error"===e.type?404:200,e.type)}),Te.head.appendChild(t[0])},abort:function(){i&&i()}}}),ge=[],ve=/(=)\?(?=&|$)|\?\?/,De.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=ge.pop()||De.expando+"_"+yt++;return this[e]=!0,e}}),De.ajaxPrefilter("json jsonp",function(t,i,n){var r,s,o,a=!1!==t.jsonp&&(ve.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&ve.test(t.data)&&"data");if(a||"jsonp"===t.dataTypes[0])return r=t.jsonpCallback=De.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,a?t[a]=t[a].replace(ve,"$1"+r):!1!==t.jsonp&&(t.url+=(_t.test(t.url)?"&":"?")+t.jsonp+"="+r),t.converters["script json"]=function(){return o||De.error(r+" was not called"),o[0]},t.dataTypes[0]="json",s=e[r],e[r]=function(){o=arguments},n.always(function(){void 0===s?De(e).removeProp(r):e[r]=s,t[r]&&(t.jsonpCallback=i.jsonpCallback,ge.push(r)),o&&De.isFunction(s)&&s(o[0]),o=s=void 0}),"script"}),De.parseHTML=function(e,t,i){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(i=t,t=!1),t=t||Te;var n=Me.exec(e),r=!i&&[];return n?[t.createElement(n[1])]:(n=h([e],t,r),r&&r.length&&De(r).remove(),De.merge([],n.childNodes))},ye=De.fn.load,De.fn.load=function(e,t,i){if("string"!=typeof e&&ye)return ye.apply(this,arguments);var n,r,s,o=this,a=e.indexOf(" ");return a>-1&&(n=De.trim(e.slice(a)),e=e.slice(0,a)),De.isFunction(t)?(i=t,t=void 0):t&&"object"==typeof t&&(r="POST"),o.length>0&&De.ajax({url:e,type:r||"GET",dataType:"html",data:t}).done(function(e){s=arguments,o.html(n?De("<div>").append(De.parseHTML(e)).find(n):e)}).always(i&&function(e,t){o.each(function(){i.apply(this,s||[e.responseText,t,e])})}),this},De.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){De.fn[t]=function(e){return this.on(t,e)}}),De.expr.filters.animated=function(e){return De.grep(De.timers,function(t){return e===t.elem}).length},De.offset={setOffset:function(e,t,i){var n,r,s,o,a,l,u=De.css(e,"position"),c=De(e),d={};"static"===u&&(e.style.position="relative"),a=c.offset(),s=De.css(e,"top"),l=De.css(e,"left"),("absolute"===u||"fixed"===u)&&(s+l).indexOf("auto")>-1?(o=(n=c.position()).top,r=n.left):(o=parseFloat(s)||0,r=parseFloat(l)||0),De.isFunction(t)&&(t=t.call(e,i,De.extend({},a))),null!=t.top&&(d.top=t.top-a.top+o),null!=t.left&&(d.left=t.left-a.left+r),"using"in t?t.using.call(e,d):c.css(d)}},De.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){De.offset.setOffset(this,e,t)});var t,i,n=this[0],r={top:0,left:0},s=n&&n.ownerDocument;return s?(t=s.documentElement,De.contains(t,n)?(r=n.getBoundingClientRect(),i=q(s),{top:r.top+i.pageYOffset-t.clientTop,left:r.left+i.pageXOffset-t.clientLeft}):r):void 0},position:function(){if(this[0]){var e,t,i=this[0],n={top:0,left:0};return"fixed"===De.css(i,"position")?t=i.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),De.nodeName(e[0],"html")||(n=e.offset()),n.top+=De.css(e[0],"borderTopWidth",!0),n.left+=De.css(e[0],"borderLeftWidth",!0)),{top:t.top-n.top-De.css(i,"marginTop",!0),left:t.left-n.left-De.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===De.css(e,"position");)e=e.offsetParent;return e||dt})}}),De.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var i="pageYOffset"===t;De.fn[e]=function(n){return Q(this,function(e,n,r){var s=q(e);return void 0===r?s?s[t]:e[n]:void(s?s.scrollTo(i?s.pageXOffset:r,i?r:s.pageYOffset):e[n]=r)},e,n,arguments.length)}}),De.each(["top","left"],function(e,t){De.cssHooks[t]=A(Ie.pixelPosition,function(e,i){if(i)return i=$(e,t),lt.test(i)?De(e).position()[t]+"px":i})}),De.each({Height:"height",Width:"width"},function(e,t){De.each({padding:"inner"+e,content:t,"":"outer"+e},function(i,n){De.fn[n]=function(n,r){var s=arguments.length&&(i||"boolean"!=typeof n),o=i||(!0===n||!0===r?"margin":"border");return Q(this,function(t,i,n){var r;return De.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(r=t.documentElement,Math.max(t.body["scroll"+e],r["scroll"+e],t.body["offset"+e],r["offset"+e],r["client"+e])):void 0===n?De.css(t,i,o):De.style(t,i,n,o)},t,s?n:void 0,s,null)}})}),De.fn.extend({bind:function(e,t,i){return this.on(e,null,t,i)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,i,n){return this.on(t,e,i,n)},undelegate:function(e,t,i){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",i)},size:function(){return this.length}}),De.fn.andSelf=De.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return De}),_e=e.jQuery,be=e.$,De.noConflict=function(t){return e.$===De&&(e.$=be),t&&e.jQuery===De&&(e.jQuery=_e),De},t||(e.jQuery=e.$=De),De}),"undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");!function(e){"use strict";e.fn.emulateTransitionEnd=function(t){var i=!1,n=this;return e(this).one("bsTransitionEnd",function(){i=!0}),setTimeout(function(){i||e(n).trigger(e.support.transition.end)},t),this},e(function(){e.support.transition=function(){var e=document.createElement("bootstrap"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var i in t)if(void 0!==e.style[i])return{end:t[i]};return!1}(),e.support.transition&&(e.event.special.bsTransitionEnd={bindType:e.support.transition.end,delegateType:e.support.transition.end,handle:function(t){if(e(t.target).is(this))return t.handleObj.handler.apply(this,arguments)}})})}(jQuery),function(e){"use strict";var t,i='[data-dismiss="alert"]',n=function(t){e(t).on("click",i,this.close)};n.VERSION="3.2.0",n.prototype.close=function(t){function i(){n.detach().trigger("closed.bs.alert").remove()}var n,r=e(this),s=r.attr("data-target");s||(s=(s=r.attr("href"))&&s.replace(/.*(?=#[^\s]*$)/,"")),n=e(s),t&&t.preventDefault(),n.length||(n=r.hasClass("alert")?r:r.parent()),n.trigger(t=e.Event("close.bs.alert")),t.isDefaultPrevented()||(n.removeClass("in"),e.support.transition&&n.hasClass("fade")?n.one("bsTransitionEnd",i).emulateTransitionEnd(150):i())},t=e.fn.alert,e.fn.alert=function(t){return this.each(function(){var i=e(this),r=i.data("bs.alert");r||i.data("bs.alert",r=new n(this)),"string"==typeof t&&r[t].call(i)})},e.fn.alert.Constructor=n,e.fn.alert.noConflict=function(){return e.fn.alert=t,this},e(document).on("click.bs.alert.data-api",i,n.prototype.close)}(jQuery),function(e){"use strict";function t(t){return this.each(function(){var i=e(this),r=i.data("bs.button"),s="object"==typeof t&&t;r||i.data("bs.button",r=new n(this,s)),"toggle"==t?r.toggle():t&&r.setState(t)})}var i,n=function(t,i){this.$element=e(t),this.options=e.extend({},n.DEFAULTS,i),this.isLoading=!1};n.VERSION="3.2.0",n.DEFAULTS={loadingText:"loading..."},n.prototype.setState=function(t){var i="disabled",n=this.$element,r=n.is("input")?"val":"html",s=n.data();t+="Text",null==s.resetText&&n.data("resetText",n[r]()),n[r](null==s[t]?this.options[t]:s[t]),setTimeout(e.proxy(function(){"loadingText"==t?(this.isLoading=!0,n.addClass(i).attr(i,i)):this.isLoading&&(this.isLoading=!1,n.removeClass(i).removeAttr(i))},this),0)},n.prototype.toggle=function(){var e,t=!0,i=this.$element.closest('[data-toggle="buttons"]');i.length&&("radio"==(e=this.$element.find("input")).prop("type")&&(e.prop("checked")&&this.$element.hasClass("active")?t=!1:i.find(".active").removeClass("active")),t&&e.prop("checked",!this.$element.hasClass("active")).trigger("change")),t&&this.$element.toggleClass("active")},i=e.fn.button,e.fn.button=t,e.fn.button.Constructor=n,e.fn.button.noConflict=function(){return e.fn.button=i,this},e(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(i){var n=e(i.target);n.hasClass("btn")||(n=n.closest(".btn")),t.call(n,"toggle"),i.preventDefault()})}(jQuery),function(e){"use strict";function t(t){return this.each(function(){var i=e(this),r=i.data("bs.carousel"),s=e.extend({},n.DEFAULTS,i.data(),"object"==typeof t&&t),o="string"==typeof t?t:s.slide;r||i.data("bs.carousel",r=new n(this,s)),"number"==typeof t?r.to(t):o?r[o]():s.interval&&r.pause().cycle()})}var i,n=function(t,i){this.$element=e(t).on("keydown.bs.carousel",e.proxy(this.keydown,this)),this.$indicators=this.$element.find(".carousel-indicators"),this.options=i,this.paused=this.sliding=this.interval=this.$active=this.$items=null,"hover"==this.options.pause&&this.$element.on("mouseenter.bs.carousel",e.proxy(this.pause,this)).on("mouseleave.bs.carousel",e.proxy(this.cycle,this))};n.VERSION="3.2.0",n.DEFAULTS={interval:5e3,pause:"hover",wrap:!0},n.prototype.keydown=function(e){switch(e.which){case 37:this.prev();break;case 39:this.next();break;default:return}e.preventDefault()},n.prototype.cycle=function(t){return t||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(e.proxy(this.next,this),this.options.interval)),this},n.prototype.getItemIndex=function(e){return this.$items=e.parent().children(".item"),this.$items.index(e||this.$active)},n.prototype.to=function(t){var i=this,n=this.getItemIndex(this.$active=this.$element.find(".item.active"));if(!(t>this.$items.length-1||0>t))return this.sliding?this.$element.one("slid.bs.carousel",function(){i.to(t)}):n==t?this.pause().cycle():this.slide(t>n?"next":"prev",e(this.$items[t]))},n.prototype.pause=function(t){return t||(this.paused=!0),this.$element.find(".next, .prev").length&&e.support.transition&&(this.$element.trigger(e.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},n.prototype.next=function(){if(!this.sliding)return this.slide("next")},n.prototype.prev=function(){if(!this.sliding)return this.slide("prev")},n.prototype.slide=function(t,i){var n,r,s,o,a=this.$element.find(".item.active"),l=i||a[t](),u=this.interval,c="next"==t?"left":"right",d="next"==t?"first":"last",h=this;if(!l.length){if(!this.options.wrap)return;l=this.$element.find(".item")[d]()}return l.hasClass("active")?this.sliding=!1:(n=l[0],r=e.Event("slide.bs.carousel",{relatedTarget:n,direction:c}),this.$element.trigger(r),r.isDefaultPrevented()?void 0:(this.sliding=!0,u&&this.pause(),this.$indicators.length&&(this.$indicators.find(".active").removeClass("active"),(s=e(this.$indicators.children()[this.getItemIndex(l)]))&&s.addClass("active")),o=e.Event("slid.bs.carousel",{relatedTarget:n,direction:c}),e.support.transition&&this.$element.hasClass("slide")?(l.addClass(t),l[0].offsetWidth,a.addClass(c),l.addClass(c),a.one("bsTransitionEnd",function(){l.removeClass([t,c].join(" ")).addClass("active"),a.removeClass(["active",c].join(" ")),h.sliding=!1,setTimeout(function(){h.$element.trigger(o)},0)}).emulateTransitionEnd(1e3*a.css("transition-duration").slice(0,-1))):(a.removeClass("active"),l.addClass("active"),this.sliding=!1,this.$element.trigger(o)),u&&this.cycle(),this))},i=e.fn.carousel,e.fn.carousel=t,e.fn.carousel.Constructor=n,e.fn.carousel.noConflict=function(){return e.fn.carousel=i,this},e(document).on("click.bs.carousel.data-api","[data-slide], [data-slide-to]",function(i){var n,r,s,o=e(this),a=e(o.attr("data-target")||(n=o.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,""));a.hasClass("carousel")&&(r=e.extend({},a.data(),o.data()),(s=o.attr("data-slide-to"))&&(r.interval=!1),t.call(a,r),s&&a.data("bs.carousel").to(s),i.preventDefault())}),e(window).on("load",function(){e('[data-ride="carousel"]').each(function(){var i=e(this);t.call(i,i.data())})})}(jQuery),function(e){"use strict";function t(t){return this.each(function(){var i=e(this),r=i.data("bs.collapse"),s=e.extend({},n.DEFAULTS,i.data(),"object"==typeof t&&t);!r&&s.toggle&&"show"==t&&(t=!t),r||i.data("bs.collapse",r=new n(this,s)),"string"==typeof t&&r[t]()})}var i,n=function(t,i){this.$element=e(t),this.options=e.extend({},n.DEFAULTS,i),this.transitioning=null,this.options.parent&&(this.$parent=e(this.options.parent)),this.options.toggle&&this.toggle()};n.VERSION="3.2.0",n.DEFAULTS={toggle:!0},n.prototype.dimension=function(){return this.$element.hasClass("width")?"width":"height"},n.prototype.show=function(){var i,n,r,s,o,a;if(!this.transitioning&&!this.$element.hasClass("in")&&(i=e.Event("show.bs.collapse"),this.$element.trigger(i),!i.isDefaultPrevented())){if((n=this.$parent&&this.$parent.find("> .panel > .in"))&&n.length){if((r=n.data("bs.collapse"))&&r.transitioning)return;t.call(n,"hide"),r||n.data("bs.collapse",null)}if(s=this.dimension(),this.$element.removeClass("collapse").addClass("collapsing")[s](0),this.transitioning=1,o=function(){this.$element.removeClass("collapsing").addClass("collapse in")[s](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")},!e.support.transition)return o.call(this);a=e.camelCase(["scroll",s].join("-")),this.$element.one("bsTransitionEnd",e.proxy(o,this)).emulateTransitionEnd(350)[s](this.$element[0][a])}},n.prototype.hide=function(){var t,i,n;if(!this.transitioning&&this.$element.hasClass("in")&&(t=e.Event("hide.bs.collapse"),this.$element.trigger(t),!t.isDefaultPrevented()))return i=this.dimension(),this.$element[i](this.$element[i]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse").removeClass("in"),this.transitioning=1,n=function(){this.transitioning=0,this.$element.trigger("hidden.bs.collapse").removeClass("collapsing").addClass("collapse")},e.support.transition?void this.$element[i](0).one("bsTransitionEnd",e.proxy(n,this)).emulateTransitionEnd(350):n.call(this)},n.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},i=e.fn.collapse,e.fn.collapse=t,e.fn.collapse.Constructor=n,e.fn.collapse.noConflict=function(){return e.fn.collapse=i,this},e(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(i){var n,r=e(this),s=r.attr("data-target")||i.preventDefault()||(n=r.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,""),o=e(s),a=o.data("bs.collapse"),l=a?"toggle":r.data(),u=r.attr("data-parent"),c=u&&e(u);a&&a.transitioning||(c&&c.find('[data-toggle="collapse"][data-parent="'+u+'"]').not(r).addClass("collapsed"),r[o.hasClass("in")?"addClass":"removeClass"]("collapsed")),t.call(o,l)})}(jQuery),function(e){"use strict";function t(t){t&&3===t.which||(e(r).remove(),e(s).each(function(){var n=i(e(this)),r={relatedTarget:this};n.hasClass("open")&&(n.trigger(t=e.Event("hide.bs.dropdown",r)),t.isDefaultPrevented()||n.removeClass("open").trigger("hidden.bs.dropdown",r))}))}function i(t){var i,n=t.attr("data-target");return n||(n=(n=t.attr("href"))&&/#[A-Za-z]/.test(n)&&n.replace(/.*(?=#[^\s]*$)/,"")),(i=n&&e(n))&&i.length?i:t.parent()}var n,r=".dropdown-backdrop",s='[data-toggle="dropdown"]',o=function(t){e(t).on("click.bs.dropdown",this.toggle)};o.VERSION="3.2.0",o.prototype.toggle=function(n){var r,s,o,a=e(this);if(!a.is(".disabled, :disabled")){if(s=(r=i(a)).hasClass("open"),t(),!s){if("ontouchstart"in document.documentElement&&!r.closest(".navbar-nav").length&&e('<div class="dropdown-backdrop"/>').insertAfter(e(this)).on("click",t),o={relatedTarget:this},r.trigger(n=e.Event("show.bs.dropdown",o)),n.isDefaultPrevented())return;a.trigger("focus"),r.toggleClass("open").trigger("shown.bs.dropdown",o)}return!1}},o.prototype.keydown=function(t){var n,r,o,a,l,u;if(/(38|40|27)/.test(t.keyCode)&&(n=e(this),t.preventDefault(),t.stopPropagation(),!n.is(".disabled, :disabled"))){if(!(o=(r=i(n)).hasClass("open"))||o&&27==t.keyCode)return 27==t.which&&r.find(s).trigger("focus"),n.trigger("click");a=" li:not(.divider):visible a",(l=r.find('[role="menu"]'+a+', [role="listbox"]'+a)).length&&(u=l.index(l.filter(":focus")),38==t.keyCode&&u>0&&u--,40==t.keyCode&&u<l.length-1&&u++,~u||(u=0),l.eq(u).trigger("focus"))}},n=e.fn.dropdown,e.fn.dropdown=function(t){return this.each(function(){var i=e(this),n=i.data("bs.dropdown");n||i.data("bs.dropdown",n=new o(this)),"string"==typeof t&&n[t].call(i)})},e.fn.dropdown.Constructor=o,e.fn.dropdown.noConflict=function(){return e.fn.dropdown=n,this},e(document).on("click.bs.dropdown.data-api",t).on("click.bs.dropdown.data-api",".dropdown form",function(e){e.stopPropagation()}).on("click.bs.dropdown.data-api",s,o.prototype.toggle).on("keydown.bs.dropdown.data-api",s+', [role="menu"], [role="listbox"]',o.prototype.keydown)}(jQuery),function(e){"use strict";function t(t,i){return this.each(function(){var r=e(this),s=r.data("bs.modal"),o=e.extend({},n.DEFAULTS,r.data(),"object"==typeof t&&t);s||r.data("bs.modal",s=new n(this,o)),"string"==typeof t?s[t](i):o.show&&s.show(i)})}var i,n=function(t,i){this.options=i,this.$body=e(document.body),this.$element=e(t),this.$backdrop=this.isShown=null,this.scrollbarWidth=0,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,e.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};n.VERSION="3.2.0",n.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},n.prototype.toggle=function(e){return this.isShown?this.hide():this.show(e)},n.prototype.show=function(t){var i=this,n=e.Event("show.bs.modal",{relatedTarget:t});this.$element.trigger(n),this.isShown||n.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.$body.addClass("modal-open"),this.setScrollbar(),this.escape(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',e.proxy(this.hide,this)),this.backdrop(function(){var n,r=e.support.transition&&i.$element.hasClass("fade");i.$element.parent().length||i.$element.appendTo(i.$body),i.$element.show().scrollTop(0),r&&i.$element[0].offsetWidth,i.$element.addClass("in").attr("aria-hidden",!1),i.enforceFocus(),n=e.Event("shown.bs.modal",{relatedTarget:t}),r?i.$element.find(".modal-dialog").one("bsTransitionEnd",function(){i.$element.trigger("focus").trigger(n)}).emulateTransitionEnd(300):i.$element.trigger("focus").trigger(n)}))},n.prototype.hide=function(t){t&&t.preventDefault(),t=e.Event("hide.bs.modal"),this.$element.trigger(t),this.isShown&&!t.isDefaultPrevented()&&(this.isShown=!1,this.$body.removeClass("modal-open"),this.resetScrollbar(),this.escape(),e(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.bs.modal"),e.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",e.proxy(this.hideModal,this)).emulateTransitionEnd(300):this.hideModal())},n.prototype.enforceFocus=function(){e(document).off("focusin.bs.modal").on("focusin.bs.modal",e.proxy(function(e){this.$element[0]===e.target||this.$element.has(e.target).length||this.$element.trigger("focus")},this))},n.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.bs.modal",e.proxy(function(e){27==e.which&&this.hide()},this)):this.isShown||this.$element.off("keyup.dismiss.bs.modal")},n.prototype.hideModal=function(){var e=this;this.$element.hide(),this.backdrop(function(){e.$element.trigger("hidden.bs.modal")})},n.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},n.prototype.backdrop=function(t){var i,n,r=this,s=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){if(i=e.support.transition&&s,this.$backdrop=e('<div class="modal-backdrop '+s+'" />').appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",e.proxy(function(e){e.target===e.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))},this)),i&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!t)return;i?this.$backdrop.one("bsTransitionEnd",t).emulateTransitionEnd(150):t()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),n=function(){r.removeBackdrop(),t&&t()},e.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",n).emulateTransitionEnd(150):n()):t&&t()},n.prototype.checkScrollbar=function(){document.body.clientWidth>=window.innerWidth||(this.scrollbarWidth=this.scrollbarWidth||this.measureScrollbar())},n.prototype.setScrollbar=function(){var e=parseInt(this.$body.css("padding-right")||0,10);this.scrollbarWidth&&this.$body.css("padding-right",e+this.scrollbarWidth)},n.prototype.resetScrollbar=function(){this.$body.css("padding-right","")},n.prototype.measureScrollbar=function(){var e,t=document.createElement("div");return t.className="modal-scrollbar-measure",this.$body.append(t),e=t.offsetWidth-t.clientWidth,this.$body[0].removeChild(t),e},i=e.fn.modal,e.fn.modal=t,e.fn.modal.Constructor=n,e.fn.modal.noConflict=function(){return e.fn.modal=i,this},e(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(i){var n=e(this),r=n.attr("href"),s=e(n.attr("data-target")||r&&r.replace(/.*(?=#[^\s]+$)/,"")),o=s.data("bs.modal")?"toggle":e.extend({remote:!/#/.test(r)&&r},s.data(),n.data());n.is("a")&&i.preventDefault(),s.one("show.bs.modal",function(e){e.isDefaultPrevented()||s.one("hidden.bs.modal",function(){n.is(":visible")&&n.trigger("focus")})}),t.call(s,o,this)})}(jQuery),function(e){"use strict";var t,i=function(e,t){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null,this.init("tooltip",e,t)};i.VERSION="3.2.0",i.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},i.prototype.init=function(t,i,n){var r,s,o,a,l;for(this.enabled=!0,this.type=t,this.$element=e(i),this.options=this.getOptions(n),this.$viewport=this.options.viewport&&e(this.options.viewport.selector||this.options.viewport),s=(r=this.options.trigger.split(" ")).length;s--;)"click"==(o=r[s])?this.$element.on("click."+this.type,this.options.selector,e.proxy(this.toggle,this)):"manual"!=o&&(a="hover"==o?"mouseenter":"focusin",l="hover"==o?"mouseleave":"focusout",this.$element.on(a+"."+this.type,this.options.selector,e.proxy(this.enter,this)),this.$element.on(l+"."+this.type,this.options.selector,e.proxy(this.leave,this)));this.options.selector?this._options=e.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},i.prototype.getDefaults=function(){return i.DEFAULTS},i.prototype.getOptions=function(t){return(t=e.extend({},this.getDefaults(),this.$element.data(),t)).delay&&"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),t},i.prototype.getDelegateOptions=function(){var t={},i=this.getDefaults();return this._options&&e.each(this._options,function(e,n){i[e]!=n&&(t[e]=n)}),t},i.prototype.enter=function(t){var i=t instanceof this.constructor?t:e(t.currentTarget).data("bs."+this.type);return i||(i=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,i)),clearTimeout(i.timeout),i.hoverState="in",i.options.delay&&i.options.delay.show?void(i.timeout=setTimeout(function(){"in"==i.hoverState&&i.show()},i.options.delay.show)):i.show()},i.prototype.leave=function(t){var i=t instanceof this.constructor?t:e(t.currentTarget).data("bs."+this.type);return i||(i=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,i)),clearTimeout(i.timeout),i.hoverState="out",i.options.delay&&i.options.delay.hide?void(i.timeout=setTimeout(function(){"out"==i.hoverState&&i.hide()},i.options.delay.hide)):i.hide()},i.prototype.show=function(){var t,i,n,r=e.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){if(this.$element.trigger(r),t=e.contains(document.documentElement,this.$element[0]),r.isDefaultPrevented()||!t)return;var s=this,o=this.tip(),a=this.getUID(this.type);this.setContent(),o.attr("id",a),this.$element.attr("aria-describedby",a),this.options.animation&&o.addClass("fade");var l="function"==typeof this.options.placement?this.options.placement.call(this,o[0],this.$element[0]):this.options.placement,u=/\s?auto?\s?/i,c=u.test(l);c&&(l=l.replace(u,"")||"top"),o.detach().css({top:0,left:0,display:"block"}).addClass(l).data("bs."+this.type,this),this.options.container?o.appendTo(this.options.container):o.insertAfter(this.$element);var d=this.getPosition(),h=o[0].offsetWidth,p=o[0].offsetHeight;if(c){var f=l,m=this.$element.parent(),g=this.getPosition(m);l="bottom"==l&&d.top+d.height+p-g.scroll>g.height?"top":"top"==l&&d.top-g.scroll-p<0?"bottom":"right"==l&&d.right+h>g.width?"left":"left"==l&&d.left-h<g.left?"right":l,o.removeClass(f).addClass(l)}i=this.getCalculatedOffset(l,d,h,p),this.applyPlacement(i,l),n=function(){s.$element.trigger("shown.bs."+s.type),s.hoverState=null},e.support.transition&&this.$tip.hasClass("fade")?o.one("bsTransitionEnd",n).emulateTransitionEnd(150):n()}},i.prototype.applyPlacement=function(t,i){var n,r,s,o=this.tip(),a=o[0].offsetWidth,l=o[0].offsetHeight,u=parseInt(o.css("margin-top"),10),c=parseInt(o.css("margin-left"),10);isNaN(u)&&(u=0),isNaN(c)&&(c=0),t.top=t.top+u,t.left=t.left+c,e.offset.setOffset(o[0],e.extend({using:function(e){o.css({top:Math.round(e.top),left:Math.round(e.left)})}},t),0),o.addClass("in"),n=o[0].offsetWidth,r=o[0].offsetHeight,"top"==i&&r!=l&&(t.top=t.top+l-r),(s=this.getViewportAdjustedDelta(i,t,n,r)).left?t.left+=s.left:t.top+=s.top;var d=s.left?2*s.left-a+n:2*s.top-l+r,h=s.left?"left":"top",p=s.left?"offsetWidth":"offsetHeight";o.offset(t),this.replaceArrow(d,o[0][p],h)},i.prototype.replaceArrow=function(e,t,i){this.arrow().css(i,e?50*(1-e/t)+"%":"")},i.prototype.setContent=function(){var e=this.tip(),t=this.getTitle();e.find(".tooltip-inner")[this.options.html?"html":"text"](t),e.removeClass("fade in top bottom left right")},i.prototype.hide=function(){function t(){"in"!=i.hoverState&&n.detach(),i.$element.trigger("hidden.bs."+i.type)}var i=this,n=this.tip(),r=e.Event("hide.bs."+this.type);return this.$element.removeAttr("aria-describedby"),this.$element.trigger(r),r.isDefaultPrevented()?void 0:(n.removeClass("in"),e.support.transition&&this.$tip.hasClass("fade")?n.one("bsTransitionEnd",t).emulateTransitionEnd(150):t(),this.hoverState=null,this)},i.prototype.fixTitle=function(){var e=this.$element;(e.attr("title")||"string"!=typeof e.attr("data-original-title"))&&e.attr("data-original-title",e.attr("title")||"").attr("title","")},i.prototype.hasContent=function(){return this.getTitle()},i.prototype.getPosition=function(t){var i=(t=t||this.$element)[0],n="BODY"==i.tagName;return e.extend({},"function"==typeof i.getBoundingClientRect?i.getBoundingClientRect():null,{scroll:n?document.documentElement.scrollTop||document.body.scrollTop:t.scrollTop(),width:n?e(window).width():t.outerWidth(),height:n?e(window).height():t.outerHeight()},n?{top:0,left:0}:t.offset())},i.prototype.getCalculatedOffset=function(e,t,i,n){return"bottom"==e?{top:t.top+t.height,left:t.left+t.width/2-i/2}:"top"==e?{top:t.top-n,left:t.left+t.width/2-i/2}:"left"==e?{top:t.top+t.height/2-n/2,left:t.left-i}:{top:t.top+t.height/2-n/2,left:t.left+t.width}},i.prototype.getViewportAdjustedDelta=function(e,t,i,n){var r,s,o,a,l,u,c={top:0,left:0};return this.$viewport?(r=this.options.viewport&&this.options.viewport.padding||0,s=this.getPosition(this.$viewport),/right|left/.test(e)?(o=t.top-r-s.scroll,a=t.top+r-s.scroll+n,o<s.top?c.top=s.top-o:a>s.top+s.height&&(c.top=s.top+s.height-a)):(l=t.left-r,u=t.left+r+i,l<s.left?c.left=s.left-l:u>s.width&&(c.left=s.left+s.width-u)),c):c},i.prototype.getTitle=function(){var e=this.$element,t=this.options;return e.attr("data-original-title")||("function"==typeof t.title?t.title.call(e[0]):t.title)},i.prototype.getUID=function(e){do{e+=~~(1e6*Math.random())}while(document.getElementById(e));return e},i.prototype.tip=function(){return this.$tip=this.$tip||e(this.options.template)},i.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},i.prototype.validate=function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},i.prototype.enable=function(){this.enabled=!0},i.prototype.disable=function(){this.enabled=!1},i.prototype.toggleEnabled=function(){this.enabled=!this.enabled},i.prototype.toggle=function(t){var i=this;t&&((i=e(t.currentTarget).data("bs."+this.type))||(i=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,i))),i.tip().hasClass("in")?i.leave(i):i.enter(i)},i.prototype.destroy=function(){clearTimeout(this.timeout),this.hide().$element.off("."+this.type).removeData("bs."+this.type)},t=e.fn.tooltip,e.fn.tooltip=function(t){return this.each(function(){var n=e(this),r=n.data("bs.tooltip"),s="object"==typeof t&&t;(r||"destroy"!=t)&&(r||n.data("bs.tooltip",r=new i(this,s)),"string"==typeof t&&r[t]())})},e.fn.tooltip.Constructor=i,e.fn.tooltip.noConflict=function(){return e.fn.tooltip=t,this}}(jQuery),function(e){"use strict";var t,i=function(e,t){this.init("popover",e,t)};if(!e.fn.tooltip)throw new Error("Popover requires tooltip.js");i.VERSION="3.2.0",i.DEFAULTS=e.extend({},e.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),i.prototype=e.extend({},e.fn.tooltip.Constructor.prototype),i.prototype.constructor=i,i.prototype.getDefaults=function(){return i.DEFAULTS},i.prototype.setContent=function(){var e=this.tip(),t=this.getTitle(),i=this.getContent();e.find(".popover-title")[this.options.html?"html":"text"](t),e.find(".popover-content").empty()[this.options.html?"string"==typeof i?"html":"append":"text"](i),e.removeClass("fade top bottom left right in"),e.find(".popover-title").html()||e.find(".popover-title").hide()},i.prototype.hasContent=function(){return this.getTitle()||this.getContent()},i.prototype.getContent=function(){var e=this.$element,t=this.options;return e.attr("data-content")||("function"==typeof t.content?t.content.call(e[0]):t.content)},i.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")},i.prototype.tip=function(){return this.$tip||(this.$tip=e(this.options.template)),this.$tip},t=e.fn.popover,e.fn.popover=function(t){return this.each(function(){var n=e(this),r=n.data("bs.popover"),s="object"==typeof t&&t;(r||"destroy"!=t)&&(r||n.data("bs.popover",r=new i(this,s)),"string"==typeof t&&r[t]())})},e.fn.popover.Constructor=i,e.fn.popover.noConflict=function(){return e.fn.popover=t,this}}(jQuery),function(e){"use strict";function t(i,n){var r=e.proxy(this.process,this);this.$body=e("body"),this.$scrollElement=e(e(i).is("body")?window:i),this.options=e.extend({},t.DEFAULTS,n),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",r),this.refresh(),this.process()}function i(i){return this.each(function(){var n=e(this),r=n.data("bs.scrollspy"),s="object"==typeof i&&i;r||n.data("bs.scrollspy",r=new t(this,s)),"string"==typeof i&&r[i]()})}t.VERSION="3.2.0",t.DEFAULTS={offset:10},t.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},t.prototype.refresh=function(){var t,i="offset",n=0;e.isWindow(this.$scrollElement[0])||(i="position",n=this.$scrollElement.scrollTop()),this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),t=this,this.$body.find(this.selector).map(function(){var t=e(this),r=t.data("target")||t.attr("href"),s=/^#./.test(r)&&e(r);return s&&s.length&&s.is(":visible")&&[[s[i]().top+n,r]]||null}).sort(function(e,t){return e[0]-t[0]}).each(function(){t.offsets.push(this[0]),t.targets.push(this[1])})},t.prototype.process=function(){var e,t=this.$scrollElement.scrollTop()+this.options.offset,i=this.getScrollHeight(),n=this.options.offset+i-this.$scrollElement.height(),r=this.offsets,s=this.targets,o=this.activeTarget;if(this.scrollHeight!=i&&this.refresh(),t>=n)return o!=(e=s[s.length-1])&&this.activate(e);if(o&&t<=r[0])return o!=(e=s[0])&&this.activate(e);for(e=r.length;e--;)o!=s[e]&&t>=r[e]&&(!r[e+1]||t<=r[e+1])&&this.activate(s[e])},t.prototype.activate=function(t){this.activeTarget=t,e(this.selector).parentsUntil(this.options.target,".active").removeClass("active");var i=this.selector+'[data-target="'+t+'"],'+this.selector+'[href="'+t+'"]',n=e(i).parents("li").addClass("active");n.parent(".dropdown-menu").length&&(n=n.closest("li.dropdown").addClass("active")),n.trigger("activate.bs.scrollspy")};var n=e.fn.scrollspy;e.fn.scrollspy=i,e.fn.scrollspy.Constructor=t,e.fn.scrollspy.noConflict=function(){return e.fn.scrollspy=n,this},e(window).on("load.bs.scrollspy.data-api",function(){e('[data-spy="scroll"]').each(function(){var t=e(this);i.call(t,t.data())})})}(jQuery),function(e){"use strict";function t(t){return this.each(function(){var i=e(this),r=i.data("bs.tab");r||i.data("bs.tab",r=new n(this)),"string"==typeof t&&r[t]()})}var i,n=function(t){this.element=e(t)};n.VERSION="3.2.0",n.prototype.show=function(){var t,i,n,r=this.element,s=r.closest("ul:not(.dropdown-menu)"),o=r.data("target");o||(o=(o=r.attr("href"))&&o.replace(/.*(?=#[^\s]*$)/,"")),r.parent("li").hasClass("active")||(t=s.find(".active:last a")[0],i=e.Event("show.bs.tab",{relatedTarget:t}),r.trigger(i),i.isDefaultPrevented()||(n=e(o),this.activate(r.closest("li"),s),this.activate(n,n.parent(),function(){r.trigger({type:"shown.bs.tab",relatedTarget:t})})))},n.prototype.activate=function(t,i,n){function r(){s.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),t.addClass("active"),o?(t[0].offsetWidth,t.addClass("in")):t.removeClass("fade"),t.parent(".dropdown-menu")&&t.closest("li.dropdown").addClass("active"),n&&n()}var s=i.find("> .active"),o=n&&e.support.transition&&s.hasClass("fade");o?s.one("bsTransitionEnd",r).emulateTransitionEnd(150):r(),s.removeClass("in")},i=e.fn.tab,e.fn.tab=t,e.fn.tab.Constructor=n,e.fn.tab.noConflict=function(){return e.fn.tab=i,this},e(document).on("click.bs.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(i){i.preventDefault(),t.call(e(this),"show")})}(jQuery),function(e){"use strict";function t(t){return this.each(function(){var i=e(this),r=i.data("bs.affix"),s="object"==typeof t&&t;r||i.data("bs.affix",r=new n(this,s)),"string"==typeof t&&r[t]()})}var i,n=function(t,i){this.options=e.extend({},n.DEFAULTS,i),this.$target=e(this.options.target).on("scroll.bs.affix.data-api",e.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",e.proxy(this.checkPositionWithEventLoop,this)),this.$element=e(t),this.affixed=this.unpin=this.pinnedOffset=null,this.checkPosition()};n.VERSION="3.2.0",n.RESET="affix affix-top affix-bottom",n.DEFAULTS={offset:0,target:window},n.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(n.RESET).addClass("affix");var e=this.$target.scrollTop(),t=this.$element.offset();return this.pinnedOffset=t.top-e},n.prototype.checkPositionWithEventLoop=function(){setTimeout(e.proxy(this.checkPosition,this),1)},n.prototype.checkPosition=function(){var t,i,r;if(this.$element.is(":visible")){var s=e(document).height(),o=this.$target.scrollTop(),a=this.$element.offset(),l=this.options.offset,u=l.top,c=l.bottom;"object"!=typeof l&&(c=u=l),"function"==typeof u&&(u=l.top(this.$element)),"function"==typeof c&&(c=l.bottom(this.$element)),t=!(null!=this.unpin&&o+this.unpin<=a.top)&&(null!=c&&a.top+this.$element.height()>=s-c?"bottom":null!=u&&u>=o&&"top"),this.affixed!==t&&(null!=this.unpin&&this.$element.css("top",""),i="affix"+(t?"-"+t:""),r=e.Event(i+".bs.affix"),this.$element.trigger(r),r.isDefaultPrevented()||(this.affixed=t,this.unpin="bottom"==t?this.getPinnedOffset():null,this.$element.removeClass(n.RESET).addClass(i).trigger(e.Event(i.replace("affix","affixed"))),"bottom"==t&&this.$element.offset({top:s-this.$element.height()-c})))}},i=e.fn.affix,e.fn.affix=t,e.fn.affix.Constructor=n,e.fn.affix.noConflict=function(){return e.fn.affix=i,this},e(window).on("load",function(){e('[data-spy="affix"]').each(function(){var i=e(this),n=i.data();n.offset=n.offset||{},n.offsetBottom&&(n.offset.bottom=n.offsetBottom),n.offsetTop&&(n.offset.top=n.offsetTop),t.call(i,n)})})}(jQuery),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(e){e.extend(e.fn,{validate:function(t){if(this.length){var i=e.data(this[0],"validator");return i||(this.attr("novalidate","novalidate"),i=new e.validator(t,this[0]),e.data(this[0],"validator",i),i.settings.onsubmit&&(this.validateDelegate(":submit","click",function(t){i.settings.submitHandler&&(i.submitButton=t.target),e(t.target).hasClass("cancel")&&(i.cancelSubmit=!0),void 0!==e(t.target).attr("formnovalidate")&&(i.cancelSubmit=!0)}),this.submit(function(t){function n(){var n,r;return!i.settings.submitHandler||(i.submitButton&&(n=e("<input type='hidden'/>").attr("name",i.submitButton.name).val(e(i.submitButton).val()).appendTo(i.currentForm)),r=i.settings.submitHandler.call(i,i.currentForm,t),i.submitButton&&n.remove(),void 0!==r&&r)}return i.settings.debug&&t.preventDefault(),i.cancelSubmit?(i.cancelSubmit=!1,n()):i.form()?i.pendingRequest?(i.formSubmitted=!0,!1):n():(i.focusInvalid(),!1)})),i)}t&&t.debug&&window.console&&console.warn("Nothing selected, can't validate, returning nothing.")},valid:function(){var t,i;return e(this[0]).is("form")?t=this.validate().form():(t=!0,i=e(this[0].form).validate(),this.each(function(){t=i.element(this)&&t})),t},removeAttrs:function(t){var i={},n=this;return e.each(t.split(/\s/),function(e,t){i[t]=n.attr(t),n.removeAttr(t)}),i},rules:function(t,i){var n,r,s,o,a,l,u=this[0];if(t)switch(n=e.data(u.form,"validator").settings,r=n.rules,s=e.validator.staticRules(u),t){case"add":e.extend(s,e.validator.normalizeRule(i)),delete s.messages,r[u.name]=s,i.messages&&(n.messages[u.name]=e.extend(n.messages[u.name],i.messages));break;case"remove":return i?(l={},e.each(i.split(/\s/),function(t,i){l[i]=s[i],delete s[i],"required"===i&&e(u).removeAttr("aria-required")}),l):(delete r[u.name],s)}return(o=e.validator.normalizeRules(e.extend({},e.validator.classRules(u),e.validator.attributeRules(u),e.validator.dataRules(u),e.validator.staticRules(u)),u)).required&&(a=o.required,delete o.required,o=e.extend({required:a},o),e(u).attr("aria-required","true")),o.remote&&(a=o.remote,delete o.remote,o=e.extend(o,{remote:a})),o}}),e.extend(e.expr[":"],{blank:function(t){return!e.trim(""+e(t).val())},filled:function(t){return!!e.trim(""+e(t).val())},unchecked:function(t){return!e(t).prop("checked")}}),e.validator=function(t,i){this.settings=e.extend(!0,{},e.validator.defaults,t),this.currentForm=i,this.init()},e.validator.format=function(t,i){return 1===arguments.length?function(){var i=e.makeArray(arguments);return i.unshift(t),e.validator.format.apply(this,i)}:(arguments.length>2&&i.constructor!==Array&&(i=e.makeArray(arguments).slice(1)),i.constructor!==Array&&(i=[i]),e.each(i,function(e,i){t=t.replace(new RegExp("\\{"+e+"\\}","g"),function(){return i})}),t)},e.extend(e.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",validClass:"valid",errorElement:"label",focusCleanup:!1,focusInvalid:!0,errorContainer:e([]),errorLabelContainer:e([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(e){this.lastActive=e,this.settings.focusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,e,this.settings.errorClass,this.settings.validClass),this.hideThese(this.errorsFor(e)))},onfocusout:function(e){!this.checkable(e)&&(e.name in this.submitted||!this.optional(e))&&this.element(e)},onkeyup:function(e,t){(9!==t.which||""!==this.elementValue(e))&&(e.name in this.submitted||e===this.lastElement)&&this.element(e)},onclick:function(e){e.name in this.submitted?this.element(e):e.parentNode.name in this.submitted&&this.element(e.parentNode)},highlight:function(t,i,n){"radio"===t.type?this.findByName(t.name).addClass(i).removeClass(n):e(t).addClass(i).removeClass(n)},unhighlight:function(t,i,n){"radio"===t.type?this.findByName(t.name).removeClass(i).addClass(n):e(t).removeClass(i).addClass(n)}},setDefaults:function(t){e.extend(e.validator.defaults,t)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date ( ISO ).",number:"Please enter a valid number.",digits:"Please enter only digits.",creditcard:"Please enter a valid credit card number.",equalTo:"Please enter the same value again.",maxlength:e.validator.format("Please enter no more than {0} characters."),minlength:e.validator.format("Please enter at least {0} characters."),rangelength:e.validator.format("Please enter a value between {0} and {1} characters long."),range:e.validator.format("Please enter a value between {0} and {1}."),max:e.validator.format("Please enter a value less than or equal to {0}."),min:e.validator.format("Please enter a value greater than or equal to {0}.")},autoCreateRanges:!1,prototype:{init:function(){function t(t){var i=e.data(this[0].form,"validator"),n="on"+t.type.replace(/^validate/,""),r=i.settings;r[n]&&!this.is(r.ignore)&&r[n].call(i,this[0],t)}this.labelContainer=e(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||e(this.currentForm),this.containers=e(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset();var i,n=this.groups={};e.each(this.settings.groups,function(t,i){"string"==typeof i&&(i=i.split(/\s/)),e.each(i,function(e,i){n[i]=t})}),i=this.settings.rules,e.each(i,function(t,n){i[t]=e.validator.normalizeRule(n)}),e(this.currentForm).validateDelegate(":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'] ,[type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'], [type='radio'], [type='checkbox']","focusin focusout keyup",t).validateDelegate("select, option, [type='radio'], [type='checkbox']","click",t),this.settings.invalidHandler&&e(this.currentForm).bind("invalid-form.validate",this.settings.invalidHandler),e(this.currentForm).find("[required], [data-rule-required], .required").attr("aria-required","true")},form:function(){return this.checkForm(),e.extend(this.submitted,this.errorMap),this.invalid=e.extend({},this.errorMap),this.valid()||e(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var e=0,t=this.currentElements=this.elements();t[e];e++)this.check(t[e]);return this.valid()},element:function(t){var i=this.clean(t),n=this.validationTargetFor(i),r=!0;return this.lastElement=n,void 0===n?delete this.invalid[i.name]:(this.prepareElement(n),this.currentElements=e(n),(r=!1!==this.check(n))?delete this.invalid[n.name]:this.invalid[n.name]=!0),e(t).attr("aria-invalid",!r),this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),r},showErrors:function(t){if(t){for(var i in e.extend(this.errorMap,t),this.errorList=[],t)this.errorList.push({message:t[i],element:this.findByName(i)[0]});this.successList=e.grep(this.successList,function(e){return!(e.name in t)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){e.fn.resetForm&&e(this.currentForm).resetForm(),this.submitted={},this.lastElement=null,this.prepareForm(),this.hideErrors(),this.elements().removeClass(this.settings.errorClass).removeData("previousValue").removeAttr("aria-invalid")},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(e){var t,i=0;for(t in e)i++;return i},hideErrors:function(){this.hideThese(this.toHide)},hideThese:function(e){e.not(this.containers).text(""),this.addWrapper(e).hide()},valid:function(){return 0===this.size()},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{e(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(e){}},findLastActive:function(){var t=this.lastActive;return t&&1===e.grep(this.errorList,function(e){return e.element.name===t.name}).length&&t},elements:function(){var t=this,i={};return e(this.currentForm).find("input, select, textarea").not(":submit, :reset, :image, [disabled], [readonly]").not(this.settings.ignore).filter(function(){return!this.name&&t.settings.debug&&window.console&&console.error("%o has no name assigned",this),!(this.name in i||!t.objectLength(e(this).rules()))&&(i[this.name]=!0,!0)})},clean:function(t){return e(t)[0]},errors:function(){var t=this.settings.errorClass.split(" ").join(".");return e(this.settings.errorElement+"."+t,this.errorContext)},reset:function(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=e([]),this.toHide=e([]),this.currentElements=e([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(e){this.reset(),this.toHide=this.errorsFor(e)},elementValue:function(t){var i,n=e(t),r=t.type;return"radio"===r||"checkbox"===r?e("input[name='"+t.name+"']:checked").val():"number"===r&&void 0!==t.validity?!t.validity.badInput&&n.val():"string"==typeof(i=n.val())?i.replace(/\r/g,""):i},check:function(t){t=this.validationTargetFor(this.clean(t));var i,n,r,s=e(t).rules(),o=e.map(s,function(e,t){return t}).length,a=!1,l=this.elementValue(t);for(n in s){r={method:n,parameters:s[n]};try{if("dependency-mismatch"===(i=e.validator.methods[n].call(this,l,t,r.parameters))&&1===o){a=!0;continue}if(a=!1,"pending"===i)return void(this.toHide=this.toHide.not(this.errorsFor(t)));if(!i)return this.formatAndAdd(t,r),!1}catch(e){throw this.settings.debug&&window.console&&console.log("Exception occurred when checking element "+t.id+", check the '"+r.method+"' method.",e),e}}if(!a)return this.objectLength(s)&&this.successList.push(t),!0},customDataMessage:function(t,i){return e(t).data("msg"+i.charAt(0).toUpperCase()+i.substring(1).toLowerCase())||e(t).data("msg")},customMessage:function(e,t){var i=this.settings.messages[e];return i&&(i.constructor===String?i:i[t])},findDefined:function(){for(var e=0;e<arguments.length;e++)if(void 0!==arguments[e])return arguments[e]},defaultMessage:function(t,i){return this.findDefined(this.customMessage(t.name,i),this.customDataMessage(t,i),!this.settings.ignoreTitle&&t.title||void 0,e.validator.messages[i],"<strong>Warning: No message defined for "+t.name+"</strong>")},formatAndAdd:function(t,i){var n=this.defaultMessage(t,i.method),r=/\$?\{(\d+)\}/g;"function"==typeof n?n=n.call(this,i.parameters,t):r.test(n)&&(n=e.validator.format(n.replace(r,"{$1}"),i.parameters)),this.errorList.push({message:n,element:t,method:i.method}),this.errorMap[t.name]=n,this.submitted[t.name]=n},addWrapper:function(e){return this.settings.wrapper&&(e=e.add(e.parent(this.settings.wrapper))),e},defaultShowErrors:function(){for(var e,t,i=0;this.errorList[i];i++)t=this.errorList[i],this.settings.highlight&&this.settings.highlight.call(this,t.element,this.settings.errorClass,this.settings.validClass),this.showLabel(t.element,t.message);if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(i=0;this.successList[i];i++)this.showLabel(this.successList[i]);if(this.settings.unhighlight)for(i=0,e=this.validElements();e[i];i++)this.settings.unhighlight.call(this,e[i],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return e(this.errorList).map(function(){return this.element})},showLabel:function(t,i){var n,r,s,o=this.errorsFor(t),a=this.idOrName(t),l=e(t).attr("aria-describedby");o.length?(o.removeClass(this.settings.validClass).addClass(this.settings.errorClass),o.html(i)):(n=o=e("<"+this.settings.errorElement+">").attr("id",a+"-error").addClass(this.settings.errorClass).html(i||""),this.settings.wrapper&&(n=o.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.length?this.labelContainer.append(n):this.settings.errorPlacement?this.settings.errorPlacement(n,e(t)):n.insertAfter(t),o.is("label")?o.attr("for",a):0===o.parents("label[for='"+a+"']").length&&(s=o.attr("id").replace(/(:|\.|\[|\])/g,"\\$1"),l?l.match(new RegExp("\\b"+s+"\\b"))||(l+=" "+s):l=s,e(t).attr("aria-describedby",l),(r=this.groups[t.name])&&e.each(this.groups,function(t,i){i===r&&e("[name='"+t+"']",this.currentForm).attr("aria-describedby",o.attr("id"))}))),!i&&this.settings.success&&(o.text(""),"string"==typeof this.settings.success?o.addClass(this.settings.success):this.settings.success(o,t)),this.toShow=this.toShow.add(o)},errorsFor:function(t){var i=this.idOrName(t),n=e(t).attr("aria-describedby"),r="label[for='"+i+"'], label[for='"+i+"'] *";return n&&(r=r+", #"+n.replace(/\s+/g,", #")),this.errors().filter(r)},idOrName:function(e){return this.groups[e.name]||(this.checkable(e)?e.name:e.id||e.name)},validationTargetFor:function(t){return this.checkable(t)&&(t=this.findByName(t.name)),e(t).not(this.settings.ignore)[0]},checkable:function(e){return/radio|checkbox/i.test(e.type)},findByName:function(t){return e(this.currentForm).find("[name='"+t+"']")},getLength:function(t,i){switch(i.nodeName.toLowerCase()){case"select":return e("option:selected",i).length;case"input":if(this.checkable(i))return this.findByName(i.name).filter(":checked").length}return t.length},depend:function(e,t){return!this.dependTypes[typeof e]||this.dependTypes[typeof e](e,t)},dependTypes:{boolean:function(e){return e},string:function(t,i){return!!e(t,i.form).length},function:function(e,t){return e(t)}},optional:function(t){var i=this.elementValue(t);return!e.validator.methods.required.call(this,i,t)&&"dependency-mismatch"},startRequest:function(e){this.pending[e.name]||(this.pendingRequest++,this.pending[e.name]=!0)},stopRequest:function(t,i){this.pendingRequest--,this.pendingRequest<0&&(this.pendingRequest=0),delete this.pending[t.name],i&&0===this.pendingRequest&&this.formSubmitted&&this.form()?(e(this.currentForm).submit(),this.formSubmitted=!1):!i&&0===this.pendingRequest&&this.formSubmitted&&(e(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(t){return e.data(t,"previousValue")||e.data(t,"previousValue",{old:null,valid:!0,message:this.defaultMessage(t,"remote")})}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(t,i){t.constructor===String?this.classRuleSettings[t]=i:e.extend(this.classRuleSettings,t)},classRules:function(t){var i={},n=e(t).attr("class");return n&&e.each(n.split(" "),function(){this in e.validator.classRuleSettings&&e.extend(i,e.validator.classRuleSettings[this])}),i},attributeRules:function(t){var i,n,r={},s=e(t),o=t.getAttribute("type");for(i in e.validator.methods)"required"===i?(""===(n=t.getAttribute(i))&&(n=!0),n=!!n):n=s.attr(i),/min|max/.test(i)&&(null===o||/number|range|text/.test(o))&&(n=Number(n)),n||0===n?r[i]=n:o===i&&"range"!==o&&(r[i]=!0);return r.maxlength&&/-1|2147483647|524288/.test(r.maxlength)&&delete r.maxlength,r},dataRules:function(t){var i,n,r={},s=e(t);for(i in e.validator.methods)void 0!==(n=s.data("rule"+i.charAt(0).toUpperCase()+i.substring(1).toLowerCase()))&&(r[i]=n);return r},staticRules:function(t){var i={},n=e.data(t.form,"validator");return n.settings.rules&&(i=e.validator.normalizeRule(n.settings.rules[t.name])||{}),i},normalizeRules:function(t,i){return e.each(t,function(n,r){if(!1!==r){if(r.param||r.depends){var s=!0;switch(typeof r.depends){case"string":s=!!e(r.depends,i.form).length;break;case"function":s=r.depends.call(i,i)}s?t[n]=void 0===r.param||r.param:delete t[n]}}else delete t[n]}),e.each(t,function(n,r){t[n]=e.isFunction(r)?r(i):r}),e.each(["minlength","maxlength"],function(){t[this]&&(t[this]=Number(t[this]))}),e.each(["rangelength","range"],function(){var i;t[this]&&(e.isArray(t[this])?t[this]=[Number(t[this][0]),Number(t[this][1])]:"string"==typeof t[this]&&(i=t[this].replace(/[\[\]]/g,"").split(/[\s,]+/),t[this]=[Number(i[0]),Number(i[1])]))}),e.validator.autoCreateRanges&&(null!=t.min&&null!=t.max&&(t.range=[t.min,t.max],delete t.min,delete t.max),null!=t.minlength&&null!=t.maxlength&&(t.rangelength=[t.minlength,t.maxlength],delete t.minlength,delete t.maxlength)),t},normalizeRule:function(t){if("string"==typeof t){var i={};e.each(t.split(/\s/),function(){i[this]=!0}),t=i}return t},addMethod:function(t,i,n){e.validator.methods[t]=i,e.validator.messages[t]=void 0!==n?n:e.validator.messages[t],i.length<3&&e.validator.addClassRules(t,e.validator.normalizeRule(t))},methods:{required:function(t,i,n){if(!this.depend(n,i))return"dependency-mismatch";if("select"===i.nodeName.toLowerCase()){var r=e(i).val();return r&&r.length>0}return this.checkable(i)?this.getLength(t,i)>0:e.trim(t).length>0},email:function(e,t){return this.optional(t)||/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(e)},url:function(e,t){return this.optional(t)||/^(https?|s?ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(e)},date:function(e,t){return this.optional(t)||!/Invalid|NaN/.test(new Date(e).toString())},dateISO:function(e,t){return this.optional(t)||/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/.test(e)},number:function(e,t){return this.optional(t)||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(e)},digits:function(e,t){return this.optional(t)||/^\d+$/.test(e)},creditcard:function(e,t){if(this.optional(t))return"dependency-mismatch";if(/[^0-9 \-]+/.test(e))return!1;var i,n,r=0,s=0,o=!1;if((e=e.replace(/\D/g,"")).length<13||e.length>19)return!1;for(i=e.length-1;i>=0;i--)n=e.charAt(i),s=parseInt(n,10),o&&(s*=2)>9&&(s-=9),r+=s,o=!o;return r%10==0},minlength:function(t,i,n){var r=e.isArray(t)?t.length:this.getLength(t,i);return this.optional(i)||r>=n},maxlength:function(t,i,n){var r=e.isArray(t)?t.length:this.getLength(t,i);return this.optional(i)||n>=r},rangelength:function(t,i,n){var r=e.isArray(t)?t.length:this.getLength(t,i);return this.optional(i)||r>=n[0]&&r<=n[1]},min:function(e,t,i){return this.optional(t)||e>=i},max:function(e,t,i){return this.optional(t)||i>=e},range:function(e,t,i){return this.optional(t)||e>=i[0]&&e<=i[1]},equalTo:function(t,i,n){var r=e(n);return this.settings.onfocusout&&r.unbind(".validate-equalTo").bind("blur.validate-equalTo",function(){e(i).valid()}),t===r.val()},remote:function(t,i,n){if(this.optional(i))return"dependency-mismatch";var r,s,o=this.previousValue(i);return this.settings.messages[i.name]||(this.settings.messages[i.name]={}),o.originalMessage=this.settings.messages[i.name].remote,this.settings.messages[i.name].remote=o.message,n="string"==typeof n&&{url:n}||n,o.old===t?o.valid:(o.old=t,r=this,this.startRequest(i),(s={})[i.name]=t,e.ajax(e.extend(!0,{url:n,mode:"abort",port:"validate"+i.name,dataType:"json",data:s,context:r.currentForm,success:function(n){var s,a,l,u=!0===n||"true"===n;r.settings.messages[i.name].remote=o.originalMessage,u?(l=r.formSubmitted,r.prepareElement(i),r.formSubmitted=l,r.successList.push(i),delete r.invalid[i.name],r.showErrors()):(s={},a=n||r.defaultMessage(i,"remote"),s[i.name]=o.message=e.isFunction(a)?a(t):a,r.invalid[i.name]=!0,r.showErrors(s)),o.valid=u,r.stopRequest(i,u)}},n)),"pending")}}}),e.format=function(){throw"$.format has been deprecated. Please use $.validator.format instead."};var t,i={};e.ajaxPrefilter?e.ajaxPrefilter(function(e,t,n){var r=e.port;"abort"===e.mode&&(i[r]&&i[r].abort(),i[r]=n)}):(t=e.ajax,e.ajax=function(n){var r=("mode"in n?n:e.ajaxSettings).mode,s=("port"in n?n:e.ajaxSettings).port;return"abort"===r?(i[s]&&i[s].abort(),i[s]=t.apply(this,arguments),i[s]):t.apply(this,arguments)}),e.extend(e.fn,{validateDelegate:function(t,i,n){return this.bind(i,function(i){var r=e(i.target);if(r.is(t))return n.apply(r,arguments)})}})}),function(e){function t(e,t,i){e.rules[t]=i,e.message&&(e.messages[t]=e.message)}function i(e){return e.replace(/([!"#$%&'()*+,./:;<=>?@\[\\\]^`{|}~])/g,"\\$1")}function n(e){return e.substr(0,e.lastIndexOf(".")+1)}function r(e,t){return 0===e.indexOf("*.")&&(e=e.replace("*.",t)),e}function s(t,n){var r=e(this).find("[data-valmsg-for='"+i(n[0].name)+"']"),s=r.attr("data-valmsg-replace"),o=s?!1!==e.parseJSON(s):null;r.removeClass("field-validation-valid").addClass("field-validation-error"),t.data("unobtrusiveContainer",r),o?(r.empty(),t.removeClass("input-validation-error").appendTo(r)):t.hide()}function o(t,i){var n=e(this).find("[data-valmsg-summary=true]"),r=n.find("ul");r&&r.length&&i.errorList.length&&(r.empty(),n.addClass("validation-summary-errors").removeClass("validation-summary-valid"),e.each(i.errorList,function(){e("<li />").html(this.message).appendTo(r)}))}function a(t){var i=t.data("unobtrusiveContainer"),n=i.attr("data-valmsg-replace"),r=n?e.parseJSON(n):null;i&&(i.addClass("field-validation-valid").removeClass("field-validation-error"),t.removeData("unobtrusiveContainer"),r&&i.empty())}function l(){var t=e(this);t.data("validator").resetForm(),t.find(".validation-summary-errors").addClass("validation-summary-valid").removeClass("validation-summary-errors"),t.find(".field-validation-error").addClass("field-validation-valid").removeClass("field-validation-error").removeData("unobtrusiveContainer").find(">*").removeData("unobtrusiveContainer")}function u(t){var i=e(t),n=i.data(h),r=e.proxy(l,t);return n||(n={options:{errorClass:"input-validation-error",errorElement:"span",errorPlacement:e.proxy(s,t),invalidHandler:e.proxy(o,t),messages:{},rules:{},success:e.proxy(a,t)},attachValidation:function(){i.unbind("reset."+h,r).bind("reset."+h,r).validate(this.options)},validate:function(){return i.validate(),i.valid()}},i.data(h,n)),n}var c,d=e.validator,h="unobtrusiveValidation";d.unobtrusive={adapters:[],parseElement:function(t,i){var n,r,s,o=e(t),a=o.parents("form")[0];a&&((n=u(a)).options.rules[t.name]=r={},n.options.messages[t.name]=s={},e.each(this.adapters,function(){var i="data-val-"+this.name,n=o.attr(i),l={};void 0!==n&&(i+="-",e.each(this.params,function(){l[this]=o.attr(i+this)}),this.adapt({element:t,form:a,message:n,params:l,rules:r,messages:s}))}),e.extend(r,{__dummy__:!0}),i||n.attachValidation())},parse:function(t){var i=e(t).parents("form").andSelf().add(e(t).find("form")).filter("form");e(t).find(":input[data-val=true]").each(function(){d.unobtrusive.parseElement(this,!0)}),i.each(function(){var e=u(this);e&&e.attachValidation()})}},(c=d.unobtrusive.adapters).add=function(e,t,i){return i||(i=t,t=[]),this.push({name:e,params:t,adapt:i}),this},c.addBool=function(e,i){return this.add(e,function(n){t(n,i||e,!0)})},c.addMinMax=function(e,i,n,r,s,o){return this.add(e,[s||"min",o||"max"],function(e){var s=e.params.min,o=e.params.max;s&&o?t(e,r,[s,o]):s?t(e,i,s):o&&t(e,n,o)})},c.addSingleVal=function(e,i,n){return this.add(e,[i||"val"],function(r){t(r,n||e,r.params[i])})},d.addMethod("__dummy__",function(){return!0}),d.addMethod("regex",function(e,t,i){var n;return!!this.optional(t)||(n=new RegExp(i).exec(e))&&0===n.index&&n[0].length===e.length}),d.addMethod("nonalphamin",function(e,t,i){var n;return i&&(n=(n=e.match(/\W/g))&&n.length>=i),n}),c.addSingleVal("accept","exts").addSingleVal("regex","pattern"),c.addBool("creditcard").addBool("date").addBool("digits").addBool("email").addBool("number").addBool("url"),c.addMinMax("length","minlength","maxlength","rangelength").addMinMax("range","min","max","range"),c.add("equalto",["other"],function(s){var o=n(s.element.name),a=r(s.params.other,o);t(s,"equalTo",e(s.form).find(":input[name='"+i(a)+"']")[0])}),c.add("required",function(e){("INPUT"!==e.element.tagName.toUpperCase()||"CHECKBOX"!==e.element.type.toUpperCase())&&t(e,"required",!0)}),c.add("remote",["url","type","additionalfields"],function(s){var o={url:s.params.url,type:s.params.type||"GET",data:{}},a=n(s.element.name);e.each(function(e){return e.replace(/^\s+|\s+$/g,"").split(/\s*,\s*/g)}(s.params.additionalfields||s.element.name),function(t,n){var l=r(n,a);o.data[l]=function(){return e(s.form).find(":input[name='"+i(l)+"']").val()}}),t(s,"remote",o)}),c.add("password",["min","nonalphamin","regex"],function(e){e.params.min&&t(e,"minlength",e.params.min),e.params.nonalphamin&&t(e,"nonalphamin",e.params.nonalphamin),e.params.regex&&t(e,"regex",e.params.regex)}),e(function(){d.unobtrusive.parse(document)})}(jQuery),jQuery.validator.setDefaults({highlight:function(e,t,i){"radio"===e.type?this.findByName(e.name).addClass(t).removeClass(i):($(e).addClass(t).removeClass(i),$(e).closest(".form-group").addClass("has-error"))},unhighlight:function(e,t,i){"radio"===e.type?this.findByName(e.name).removeClass(t).addClass(i):($(e).removeClass(t).addClass(i),$(e).closest(".form-group").removeClass("has-error"))}}),$(function(){$("span.field-validation-valid, span.field-validation-error").addClass("help-block"),$("div.form-group").has("span.field-validation-error").addClass("has-error"),$("div.validation-summary-errors").has("li:visible").addClass("alert alert-block alert-danger")}),function(e){function t(e,t,r){var s,o=e[0],a=/er/.test(r)?_indeterminate:/bl/.test(r)?p:d,l=r==_update?{checked:o[d],disabled:o[p],indeterminate:"true"==e.attr(_indeterminate)||"false"==e.attr(_determinate)}:o[a];if(/^(ch|di|in)/.test(r)&&!l)i(e,a);else if(/^(un|en|de)/.test(r)&&l)n(e,a);else if(r==_update)for(s in l)l[s]?i(e,s,!0):n(e,s,!0);else t&&"toggle"!=r||(t||e[_callback]("ifClicked"),l?o[_type]!==c&&n(e,a):i(e,a))}function i(t,i,r){var f=t[0],m=t.parent(),g=i==d,v=i==_indeterminate,y=i==p,_=v?_determinate:g?h:"enabled",b=s(t,_+o(f[_type])),w=s(t,i+o(f[_type]));if(!0!==f[i]){if(!r&&i==d&&f[_type]==c&&f.name){var T=t.closest("form"),C='input[name="'+f.name+'"]';(C=T.length?T.find(C):e(C)).each(function(){this!==f&&e(this).data(l)&&n(e(this),i)})}v?(f[i]=!0,f[d]&&n(t,d,"force")):(r||(f[i]=!0),g&&f[_indeterminate]&&n(t,_indeterminate,!1)),a(t,g,i,r)}f[p]&&s(t,_cursor,!0)&&m.find("."+u).css(_cursor,"default"),m[_add](w||s(t,i)||""),m.attr("role")&&!v&&m.attr("aria-"+(y?p:d),"true"),m[_remove](b||s(t,_)||"")}function n(e,t,i){var n=e[0],r=e.parent(),l=t==d,c=t==_indeterminate,f=t==p,m=c?_determinate:l?h:"enabled",g=s(e,m+o(n[_type])),v=s(e,t+o(n[_type]));!1!==n[t]&&((c||!i||"force"==i)&&(n[t]=!1),a(e,l,m,i)),!n[p]&&s(e,_cursor,!0)&&r.find("."+u).css(_cursor,"pointer"),r[_remove](v||s(e,t)||""),r.attr("role")&&!c&&r.attr("aria-"+(f?p:d),"false"),r[_add](g||s(e,m)||"")}function r(t,i){t.data(l)&&(t.parent().html(t.attr("style",t.data(l).s||"")),i&&t[_callback](i),t.off(".i").unwrap(),e(_label+'[for="'+t[0].id+'"]').add(t.closest(_label)).off(".i"))}function s(e,t,i){if(e.data(l))return e.data(l).o[t+(i?"":"Class")]}function o(e){return e.charAt(0).toUpperCase()+e.slice(1)}function a(e,t,i,n){n||(t&&e[_callback]("ifToggled"),e[_callback]("ifChanged")[_callback]("if"+o(i)))}var l="iCheck",u=l+"-helper",c="radio",d="checked",h="un"+d,p="disabled";_determinate="determinate",_indeterminate="in"+_determinate,_update="update",_type="type",_click="click",_touch="touchbegin.i touchend.i",_add="addClass",_remove="removeClass",_callback="trigger",_label="label",_cursor="cursor",_mobile=/ipad|iphone|ipod|android|blackberry|windows phone|opera mini|silk/i.test(navigator.userAgent),e.fn[l]=function(s,o){var a='input[type="checkbox"], input[type="'+c+'"]',h=e(),f=function(t){t.each(function(){var t=e(this);h=t.is(a)?h.add(t):h.add(t.find(a))})};if(/^(check|uncheck|toggle|indeterminate|determinate|disable|enable|update|destroy)$/i.test(s))return s=s.toLowerCase(),f(this),h.each(function(){var i=e(this);"destroy"==s?r(i,"ifDestroyed"):t(i,!0,s),e.isFunction(o)&&o()});if("object"!=typeof s&&s)return this;var m=e.extend({checkedClass:d,disabledClass:p,indeterminateClass:_indeterminate,labelHover:!0},s),g=m.handle,v=m.hoverClass||"hover",y=m.focusClass||"focus",_=m.activeClass||"active",b=!!m.labelHover,w=m.labelHoverClass||"hover",T=0|(""+m.increaseArea).replace("%","");return("checkbox"==g||g==c)&&(a='input[type="'+g+'"]'),-50>T&&(T=-50),f(this),h.each(function(){var s=e(this);r(s);var o=this,a=o.id,h={position:"absolute",top:f=-T+"%",left:f,display:"block",width:h=100+2*T+"%",height:h,margin:0,padding:0,background:"#fff",border:0,opacity:0},f=_mobile?{position:"absolute",visibility:"hidden"}:T?h:{position:"absolute",opacity:0},g="checkbox"==o[_type]?m.checkboxClass||"icheckbox":m.radioClass||"i"+c,C=e(_label+'[for="'+a+'"]').add(s.closest(_label)),S=!!m.aria,k=l+"-"+Math.random().toString(36).substr(2,6),$='<div class="'+g+'" '+(S?'role="'+o[_type]+'" ':"");S&&C.each(function(){$+='aria-labelledby="',this.id?$+=this.id:(this.id=k,$+=k),$+='"'}),$=s.wrap($+"/>")[_callback]("ifCreated").parent().append(m.insert),h=e('<ins class="'+u+'"/>').css(h).appendTo($),s.data(l,{o:m,s:s.attr("style")}).css(f),m.inheritClass&&$[_add](o.className||""),m.inheritID&&a&&$.attr("id",l+"-"+a),"static"==$.css("position")&&$.css("position","relative"),t(s,!0,_update),C.length&&C.on(_click+".i mouseover.i mouseout.i "+_touch,function(i){var n=i[_type],r=e(this);if(!o[p]){if(n==_click){if(e(i.target).is("a"))return;t(s,!1,!0)}else b&&(/ut|nd/.test(n)?($[_remove](v),r[_remove](w)):($[_add](v),r[_add](w)));if(!_mobile)return!1;i.stopPropagation()}}),s.on(_click+".i focus.i blur.i keyup.i keydown.i keypress.i",function(e){var t=e[_type];return e=e.keyCode,t!=_click&&("keydown"==t&&32==e?(o[_type]==c&&o[d]||(o[d]?n(s,d):i(s,d)),!1):void("keyup"==t&&o[_type]==c?o[d]||i(s,d):/us|ur/.test(t)&&$["blur"==t?_remove:_add](y)))}),h.on(_click+" mousedown mouseup mouseover mouseout "+_touch,function(e){var i=e[_type],n=/wn|up/.test(i)?_:v;if(!o[p]){if(i==_click?t(s,!1,!0):(/wn|er|in/.test(i)?$[_add](n):$[_remove](n+" "+_),C.length&&b&&n==v&&C[/ut|nd/.test(i)?_remove:_add](w)),!_mobile)return!1;e.stopPropagation()}})})}}(window.jQuery||window.Zepto),jQuery(function(e){"use strict";function t(){var t=e(this),i=t.parent().text();t.parent().empty().append(t),t.iCheck({checkboxClass:"icheckbox_"+r,radioClass:"iradio_"+r,insert:'<div class="icheck_line-icon"></div>'+i})}var i,n,r,s,o={flat:[null,"aero","blue","green","grey","orange","pink","purple","red","yellow"],futurico:[null],line:[null,"aero","blue","green","grey","orange","pink","purple","red","yellow"],minimal:[null,"aero","blue","green","grey","orange","pink","purple","red","yellow"],polaris:[null],square:[null,"aero","blue","green","grey","orange","pink","purple","red","yellow"]},a=e("input.icheck");for(n in o)for(s=o[n],i=0;i<s.length;i++)r=n,s[i]&&(r+="-"+s[i]),"line"==n?a.filter("."+r).each(t):a.filter("."+r).iCheck({checkboxClass:"icheckbox_"+r,radioClass:"iradio_"+r});a.on("ifChanged",function(){if("checkbox"==e(this).attr("type")){var t=e(this).attr("checked");void 0!==t&&!1!==t?e(this).removeAttr("checked"):e(this).attr("checked",!0),e(this).trigger("change")}}),a.on("ifChecked",function(){if("radio"==e(this).attr("type")){var t=e(this).attr("checked");void 0!==t&&!1!==t||e(this).attr("checked",!0),e(this).trigger("change")}})}),function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports&&"object"==typeof module?module.exports=e(require("jquery")):e(jQuery)}(function(e,t){"use strict";function i(t,i,n,r){for(var s,o,a,l,u,c=[],d=0;d<t.length;d++)(s=t[d])?(a=(o=tinycolor(s)).toHsl().l<.5?"sp-thumb-el sp-thumb-dark":"sp-thumb-el sp-thumb-light",a+=tinycolor.equals(i,s)?" sp-thumb-active":"",l=o.toString(r.preferredFormat||"rgb"),u=p?"background-color:"+o.toRgbString():"filter:"+o.toFilter(),c.push('<span title="'+l+'" data-color="'+o.toRgbString()+'" class="'+a+'"><span class="sp-thumb-inner" style="'+u+';" /></span>')):("sp-clear-display",c.push(e("<div />").append(e('<span data-color="" style="background-color:transparent;" class="sp-clear-display"></span>').attr("title",r.noColorSelectedText)).html()));return"<div class='sp-cf "+n+"'>"+c.join("")+"</div>"}function n(t,i){var n=e.extend({},c,t);return n.callbacks={move:a(n.move,i),change:a(n.change,i),show:a(n.show,i),hide:a(n.hide,i),beforeShow:a(n.beforeShow,i)},n}function r(r,s){function a(){var t,i,n;if(z.showPaletteOnly&&(z.showPalette=!0),xe.text(z.showPaletteOnly?z.togglePaletteMoreText:z.togglePaletteLessText),z.palette)for(ne=z.palette.slice(0),re=e.isArray(ne[0])?ne:[ne],se={},t=0;t<re.length;t++)for(i=0;i<re[t].length;i++)n=tinycolor(re[t][i]).toRgbString(),se[n]=!0;pe.toggleClass("sp-flat",R),pe.toggleClass("sp-input-disabled",!z.showInput),pe.toggleClass("sp-alpha-enabled",z.showAlpha),pe.toggleClass("sp-clear-enabled",je),pe.toggleClass("sp-buttons-disabled",!z.showButtons),pe.toggleClass("sp-palette-buttons-disabled",!z.togglePaletteOnly),pe.toggleClass("sp-palette-disabled",!z.showPalette),pe.toggleClass("sp-palette-only",z.showPaletteOnly),pe.toggleClass("sp-initial-disabled",!z.showInitial),pe.addClass(z.className).addClass(z.containerClassName),N()}function c(){if(j&&window.localStorage){try{var t=window.localStorage[j].split(",#");t.length>1&&(delete window.localStorage[j],e.each(t,function(e,t){g(t)}))}catch(e){}try{oe=window.localStorage[j].split(";")}catch(e){}}}function g(t){if(M){var i=tinycolor(t).toRgbString();if(!se[i]&&-1===e.inArray(i,oe))for(oe.push(i);oe.length>ae;)oe.shift();if(j&&window.localStorage)try{window.localStorage[j]=oe.join(";")}catch(e){}}}function v(){var t=E(),n=e.map(re,function(e,n){return i(e,t,"sp-palette-row sp-palette-row-"+n,z)});c(),oe&&n.push(i(function(){var e,t,i=[];if(z.showPalette)for(e=0;e<oe.length;e++)t=tinycolor(oe[e]).toRgbString(),se[t]||i.push(oe[e]);return i.reverse().slice(0,z.maxSelectionSize)}(),t,"sp-palette-row sp-palette-row-selection",z)),Ce.html(n.join(""))}function y(){if(z.showInitial){var e=Fe,t=E();Se.html(i([e,t],t,"sp-palette-row-initial",z))}}function _(){(W<=0||V<=0||Y<=0)&&N(),U=!0,pe.addClass(le),ue=null,de.trigger("dragstart.spectrum",[E()])}function b(){U=!1,pe.removeClass(le),de.trigger("dragstop.spectrum",[E()])}function w(){var e,t=Te.val();null!==t&&""!==t||!je?(e=tinycolor(t)).isValid()?(x(e),P(!0)):Te.addClass("sp-validation-error"):(x(null),P(!0))}function T(){H?$():C()}function C(){var t=e.Event("beforeShow.spectrum");H?N():(de.trigger(t,[E()]),!1===J.beforeShow(E())||t.isDefaultPrevented()||(function(){for(var e=0;e<d.length;e++)d[e]&&d[e].hide()}(),H=!0,e(ce).bind("keydown.spectrum",S),e(ce).bind("click.spectrum",k),e(window).bind("resize.spectrum",q),Oe.addClass("sp-active"),pe.removeClass("sp-hidden"),N(),D(),Fe=E(),y(),J.show(Fe),de.trigger("show.spectrum",[Fe])))}function S(e){27===e.keyCode&&$()}function k(e){2!=e.button&&(U||(Re?P(!0):A(),$()))}function $(){H&&!R&&(H=!1,e(ce).unbind("keydown.spectrum",S),e(ce).unbind("click.spectrum",k),e(window).unbind("resize.spectrum",q),Oe.removeClass("sp-active"),pe.addClass("sp-hidden"),J.hide(E()),de.trigger("hide.spectrum",[E()]))}function A(){x(Fe,!0)}function x(e,t){var i,n;tinycolor.equals(e,E())?D():(!e&&je?Me=!0:(Me=!1,n=(i=tinycolor(e)).toHsv(),Z=n.h%360/360,ee=n.s,te=n.v,ie=n.a),D(),i&&i.isValid()&&!t&&(ze=z.preferredFormat||i.getFormat()))}function E(e){return e=e||{},je&&Me?null:tinycolor.fromRatio({h:Z,s:ee,v:te,a:Math.round(100*ie)/100},{format:e.format||ze})}function I(){D(),J.move(E()),de.trigger("move.spectrum",[E()])}function D(){var e,t,i,n,r,s,o,a,l;Te.removeClass("sp-validation-error"),O(),e=tinycolor.fromRatio({h:Z,s:1,v:1}),me.css("background-color",e.toHexString()),t=ze,ie<1&&(0!==ie||"name"!==t)&&("hex"===t||"hex3"===t||"hex6"===t||"name"===t)&&(t="rgb"),i=E({format:t}),n="",Ne.removeClass("sp-clear-display"),Ne.css("background-color","transparent"),!i&&je?Ne.addClass("sp-clear-display"):(r=i.toHexString(),s=i.toRgbString(),p||1===i.alpha?Ne.css("background-color",s):(Ne.css("background-color","transparent"),Ne.css("filter",i.toFilter())),z.showAlpha&&((o=i.toRgb()).a=0,l="linear-gradient(left, "+(a=tinycolor(o).toRgbString())+", "+r+")",h?_e.css("filter",tinycolor(a).toFilter({gradientType:1},r)):(_e.css("background","-webkit-"+l),_e.css("background","-moz-"+l),_e.css("background","-ms-"+l),_e.css("background","linear-gradient(to right, "+a+", "+r+")"))),n=i.toString(t)),z.showInput&&Te.val(n),z.showPalette&&v(),y()}function O(){var e,t,i,n,r=ee,s=te;je&&Me?(we.hide(),ye.hide(),ge.hide()):(we.show(),ye.show(),ge.show(),e=r*V,t=W-s*W,e=Math.max(-G,Math.min(V-G,e-G)),t=Math.max(-G,Math.min(W-G,t-G)),ge.css({top:t+"px",left:e+"px"}),i=ie*K,we.css({left:i-Q/2+"px"}),n=Z*Y,ye.css({top:n-X+"px"}))}function P(e){var t=E(),i="",n=!tinycolor.equals(t,Fe);t&&(i=t.toString(ze),g(t)),Ee&&de.val(i),e&&n&&(J.change(t),de.trigger("change",[t]))}function N(){H&&(V=me.width(),W=me.height(),G=ge.height(),ve.width(),Y=ve.height(),X=ye.height(),K=be.width(),Q=we.width(),R||(pe.css("position","absolute"),z.offset?pe.offset(z.offset):pe.offset(function(t,i){var n=t.outerWidth(),r=t.outerHeight(),s=i.outerHeight(),o=t[0].ownerDocument,a=o.documentElement,l=a.clientWidth+e(o).scrollLeft(),u=a.clientHeight+e(o).scrollTop(),c=i.offset();return c.top+=s,c.left-=Math.min(c.left,c.left+n>l&&l>n?Math.abs(c.left+n-l):0),c.top-=Math.min(c.top,c.top+r>u&&u>r?Math.abs(r+s-0):0),c}(pe,Pe))),O(),z.showPalette&&v(),de.trigger("reflow.spectrum"))}function L(){$(),he=!0,de.attr("disabled",!0),Pe.addClass("sp-disabled")}var F,z=n(s,r),R=z.flat,M=z.showSelectionPalette,j=z.localStorageKey,B=z.theme,J=z.callbacks,q=function(e,t,i){var n;return function(){var r=this,s=arguments;i&&clearTimeout(n),(i||!n)&&(n=setTimeout(function(){n=null,e.apply(r,s)},t))}}(N,10),H=!1,U=!1,V=0,W=0,G=0,Y=0,K=0,Q=0,X=0,Z=0,ee=0,te=0,ie=1,ne=[],re=[],se={},oe=z.selectionPalette.slice(0),ae=z.maxSelectionSize,le="sp-dragging",ue=null,ce=r.ownerDocument,de=(ce.body,e(r)),he=!1,pe=e(m,ce).addClass(B),fe=pe.find(".sp-picker-container"),me=pe.find(".sp-color"),ge=pe.find(".sp-dragger"),ve=pe.find(".sp-hue"),ye=pe.find(".sp-slider"),_e=pe.find(".sp-alpha-inner"),be=pe.find(".sp-alpha"),we=pe.find(".sp-alpha-handle"),Te=pe.find(".sp-input"),Ce=pe.find(".sp-palette"),Se=pe.find(".sp-initial"),ke=pe.find(".sp-cancel"),$e=pe.find(".sp-clear"),Ae=pe.find(".sp-choose"),xe=pe.find(".sp-palette-toggle"),Ee=de.is("input"),Ie=Ee&&"color"===de.attr("type")&&u(),De=Ee&&!R,Oe=De?e(f).addClass(B).addClass(z.className).addClass(z.replacerClassName):e([]),Pe=De?Oe:de,Ne=Oe.find(".sp-preview-inner"),Le=z.color||Ee&&de.val(),Fe=!1,ze=z.preferredFormat,Re=!z.showButtons||z.clickoutFiresChange,Me=!Le,je=z.allowEmpty&&!Ie;return function(){function t(t){return t.data&&t.data.ignore?(x(e(t.target).closest(".sp-thumb-el").data("color")),I()):(x(e(t.target).closest(".sp-thumb-el").data("color")),I(),P(!0),z.hideAfterPaletteSelect&&$()),!1}var i,n;h&&pe.find("*:not(input)").attr("unselectable","on"),a(),De&&de.after(Oe).hide(),je||$e.hide(),R?de.after(pe).hide():(1!==(i="parent"===z.appendTo?de.parent():e(z.appendTo)).length&&(i=e("body")),i.append(pe)),c(),Pe.bind("click.spectrum touchstart.spectrum",function(t){he||T(),t.stopPropagation(),e(t.target).is("input")||t.preventDefault()}),(de.is(":disabled")||!0===z.disabled)&&L(),pe.click(o),Te.change(w),Te.bind("paste",function(){setTimeout(w,1)}),Te.keydown(function(e){13==e.keyCode&&w()}),ke.text(z.cancelText),ke.bind("click.spectrum",function(e){e.stopPropagation(),e.preventDefault(),A(),$()}),$e.attr("title",z.clearText),$e.bind("click.spectrum",function(e){e.stopPropagation(),e.preventDefault(),Me=!0,I(),R&&P(!0)}),Ae.text(z.chooseText),Ae.bind("click.spectrum",function(e){e.stopPropagation(),e.preventDefault(),h&&Te.is(":focus")&&Te.trigger("change"),!Te.hasClass("sp-validation-error")&&(P(!0),$())}),xe.text(z.showPaletteOnly?z.togglePaletteMoreText:z.togglePaletteLessText),xe.bind("click.spectrum",function(e){e.stopPropagation(),e.preventDefault(),z.showPaletteOnly=!z.showPaletteOnly,z.showPaletteOnly||R||pe.css("left","-="+(fe.outerWidth(!0)+5)),a()}),l(be,function(e,t,i){ie=e/K,Me=!1,i.shiftKey&&(ie=Math.round(10*ie)/10),I()},_,b),l(ve,function(e,t){Z=parseFloat(t/Y),Me=!1,z.showAlpha||(ie=1),I()},_,b),l(me,function(e,t,i){var n;if(i.shiftKey){if(!ue){var r=ee*V,s=W-te*W,o=Math.abs(e-r)>Math.abs(t-s);ue=o?"x":"y"}}else ue=null;n=!ue||"y"===ue,(!ue||"x"===ue)&&(ee=parseFloat(e/V)),n&&(te=parseFloat((W-t)/W)),Me=!1,z.showAlpha||(ie=1),I()},_,b),Le?(x(Le),D(),ze=z.preferredFormat||tinycolor(Le).format,g(Le)):D(),R&&C(),n=h?"mousedown.spectrum":"click.spectrum touchstart.spectrum",Ce.delegate(".sp-thumb-el",n,t),Se.delegate(".sp-thumb-el:nth-child(1)",n,{ignore:!0},t)}(),(F={show:C,hide:$,toggle:T,reflow:N,option:function(i,n){return i===t?e.extend({},z):n===t?z[i]:(z[i]=n,"preferredFormat"===i&&(ze=z.preferredFormat),void a())},enable:function(){he=!1,de.attr("disabled",!1),Pe.removeClass("sp-disabled")},disable:L,offset:function(e){z.offset=e,N()},set:function(e){x(e),P()},get:E,destroy:function(){de.show(),Pe.unbind("click.spectrum touchstart.spectrum"),pe.remove(),Oe.remove(),d[F.id]=null},container:pe}).id=d.push(F)-1,F}function s(){}function o(e){e.stopPropagation()}function a(e,t){var i=Array.prototype.slice,n=i.call(arguments,2);return function(){return e.apply(t,n.concat(i.call(arguments)))}}function l(t,i,n,r){function s(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault(),e.returnValue=!1}function o(e){if(u){if(h&&l.documentMode<9&&!e.button)return a();var n=e.originalEvent&&e.originalEvent.touches&&e.originalEvent.touches[0],r=n&&n.pageX||e.pageX,o=n&&n.pageY||e.pageY,m=Math.max(0,Math.min(r-c.left,p)),g=Math.max(0,Math.min(o-c.top,d));f&&s(e),i.apply(t,[m,g,e])}}function a(){u&&(e(l).unbind(m),e(l.body).removeClass("sp-dragging"),setTimeout(function(){r.apply(t,arguments)},0)),u=!1}i=i||function(){},n=n||function(){},r=r||function(){};var l=document,u=!1,c={},d=0,p=0,f="ontouchstart"in window,m={};m.selectstart=s,m.dragstart=s,m["touchmove mousemove"]=o,m["touchend mouseup"]=a,e(t).bind("touchstart mousedown",function(i){(i.which?3==i.which:2==i.button)||u||!1!==n.apply(t,arguments)&&(u=!0,d=e(t).height(),p=e(t).width(),c=e(t).offset(),e(l).bind(m),e(l.body).addClass("sp-dragging"),o(i),s(i))})}function u(){return e.fn.spectrum.inputTypeColorSupport()}var c={beforeShow:s,move:s,change:s,show:s,hide:s,color:!1,flat:!1,showInput:!1,allowEmpty:!1,showButtons:!0,clickoutFiresChange:!0,showInitial:!1,showPalette:!1,showPaletteOnly:!1,hideAfterPaletteSelect:!1,togglePaletteOnly:!1,showSelectionPalette:!0,localStorageKey:!1,appendTo:"body",maxSelectionSize:7,cancelText:"cancel",chooseText:"choose",togglePaletteMoreText:"more",togglePaletteLessText:"less",clearText:"Clear Color Selection",noColorSelectedText:"No Color Selected",preferredFormat:!1,className:"",containerClassName:"",replacerClassName:"",showAlpha:!1,theme:"sp-light",palette:[["#ffffff","#000000","#ff0000","#ff8000","#ffff00","#008000","#0000ff","#4b0082","#9400d3"]],selectionPalette:[],disabled:!1,offset:null},d=[],h=!!/msie/i.exec(window.navigator.userAgent),p=function(){function e(e,t){return!!~(""+e).indexOf(t)}var t=document.createElement("div").style;return t.cssText="background-color:rgba(0,0,0,.5)",e(t.backgroundColor,"rgba")||e(t.backgroundColor,"hsla")}(),f="<div class='sp-replacer'><div class='sp-preview'><div class='sp-preview-inner'></div></div><div class='sp-dd'>&#9660;</div></div>",m=function(){var e,t="";if(h)for(e=1;e<=6;e++)t+="<div class='sp-"+e+"'></div>";return["<div class='sp-container sp-hidden'>","<div class='sp-palette-container'>","<div class='sp-palette sp-thumb sp-cf'></div>","<div class='sp-palette-button-container sp-cf'>","<button type='button' class='sp-palette-toggle'></button>","</div>","</div>","<div class='sp-picker-container'>","<div class='sp-top sp-cf'>","<div class='sp-fill'></div>","<div class='sp-top-inner'>","<div class='sp-color'>","<div class='sp-sat'>","<div class='sp-val'>","<div class='sp-dragger'></div>","</div>","</div>","</div>","<div class='sp-clear sp-clear-display'>","</div>","<div class='sp-hue'>","<div class='sp-slider'></div>",t,"</div>","</div>","<div class='sp-alpha'><div class='sp-alpha-inner'><div class='sp-alpha-handle'></div></div></div>","</div>","<div class='sp-input-container sp-cf'>","<input class='sp-input' type='text' spellcheck='false'  />","</div>","<div class='sp-initial sp-thumb sp-cf'></div>","<div class='sp-button-container sp-cf'>","<div class='button-group'>","<a class='sp-cancel ui-button ui-button--size-small' href='#'></a>","<button type='button' class='sp-choose ui-button ui-button--primary ui-button--size-small'></button>","</div>","</div>","</div>","</div>"].join("")}(),g="spectrum.id";e.fn.spectrum=function(t){if("string"==typeof t){var i=this,n=Array.prototype.slice.call(arguments,1);return this.each(function(){var r,s=d[e(this).data(g)];if(s){if(!(r=s[t]))throw new Error("Spectrum: no such method: '"+t+"'");"get"==t?i=s.get():"container"==t?i=s.container:"option"==t?i=s.option.apply(s,n):"destroy"==t?(s.destroy(),e(this).removeData(g)):r.apply(s,n)}}),i}return this.spectrum("destroy").each(function(){var i=r(this,e.extend({},t,e(this).data()));e(this).data(g,i.id)})},e.fn.spectrum.load=!0,e.fn.spectrum.loadOpts={},e.fn.spectrum.draggable=l,e.fn.spectrum.defaults=c,e.fn.spectrum.inputTypeColorSupport=function t(){if(void 0===t._cachedResult){var i=e("<input type='color'/>")[0];t._cachedResult="color"===i.type&&""!==i.value}return t._cachedResult},e.spectrum={},e.spectrum.localization={},e.spectrum.palettes={},e.fn.spectrum.processNativeColorInputs=function(){var t=e("input[type=color]");t.length&&!u()&&t.spectrum({preferredFormat:"hex6"})},function(){function e(e){var i={r:0,g:0,b:0},r=1,o=!1,a=!1;return"string"==typeof e&&(e=E(e)),"object"==typeof e&&(e.hasOwnProperty("r")&&e.hasOwnProperty("g")&&e.hasOwnProperty("b")?(i=t(e.r,e.g,e.b),o=!0,a="%"===String(e.r).substr(-1)?"prgb":"rgb"):e.hasOwnProperty("h")&&e.hasOwnProperty("s")&&e.hasOwnProperty("v")?(e.s=$(e.s),e.v=$(e.v),i=s(e.h,e.s,e.v),o=!0,a="hsv"):e.hasOwnProperty("h")&&e.hasOwnProperty("s")&&e.hasOwnProperty("l")&&(e.s=$(e.s),e.l=$(e.l),i=n(e.h,e.s,e.l),o=!0,a="hsl"),e.hasOwnProperty("a")&&(r=e.a)),r=w(r),{ok:o,format:e.format||a,r:R(255,M(i.r,0)),g:R(255,M(i.g,0)),b:R(255,M(i.b,0)),a:r}}function t(e,t,i){return{r:255*T(e,255),g:255*T(t,255),b:255*T(i,255)}}function i(e,t,i){var n;e=T(e,255),t=T(t,255),i=T(i,255);var r,s,o=M(e,t,i),a=R(e,t,i),l=(o+a)/2;if(o==a)r=s=0;else{switch(n=o-a,s=l>.5?n/(2-o-a):n/(o+a),o){case e:r=(t-i)/n+(t<i?6:0);break;case t:r=(i-e)/n+2;break;case i:r=(e-t)/n+4}r/=6}return{h:r,s:s,l:l}}function n(e,t,i){function n(e,t,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?e+6*(t-e)*i:i<.5?t:i<2/3?e+(t-e)*(2/3-i)*6:e}var r,s,o,a,l;return e=T(e,360),t=T(t,100),i=T(i,100),0===t?r=s=o=i:(r=n(l=2*i-(a=i<.5?i*(1+t):i+t-i*t),a,e+1/3),s=n(l,a,e),o=n(l,a,e-1/3)),{r:255*r,g:255*s,b:255*o}}function r(e,t,i){e=T(e,255),t=T(t,255),i=T(i,255);var n,r,s=M(e,t,i),o=R(e,t,i),a=s,l=s-o;if(r=0===s?0:l/s,s==o)n=0;else{switch(s){case e:n=(t-i)/l+(t<i?6:0);break;case t:n=(i-e)/l+2;break;case i:n=(e-t)/l+4}n/=6}return{h:n,s:r,v:a}}function s(e,t,i){e=6*T(e,360),t=T(t,100),i=T(i,100);var n=F.floor(e),r=e-n,s=i*(1-t),o=i*(1-r*t),a=i*(1-(1-r)*t),l=n%6;return{r:255*[i,o,s,s,a,i][l],g:255*[a,i,i,o,s,s][l],b:255*[s,s,a,i,i,o][l]}}function o(e,t,i,n){var r=[k(z(e).toString(16)),k(z(t).toString(16)),k(z(i).toString(16))];return n&&r[0].charAt(0)==r[0].charAt(1)&&r[1].charAt(0)==r[1].charAt(1)&&r[2].charAt(0)==r[2].charAt(1)?r[0].charAt(0)+r[1].charAt(0)+r[2].charAt(0):r.join("")}function a(e,t,i,n){return[k(A(n)),k(z(e).toString(16)),k(z(t).toString(16)),k(z(i).toString(16))].join("")}function l(e,t){t=0===t?0:t||10;var i=B(e).toHsl();return i.s-=t/100,i.s=C(i.s),B(i)}function u(e,t){t=0===t?0:t||10;var i=B(e).toHsl();return i.s+=t/100,i.s=C(i.s),B(i)}function c(e){return B(e).desaturate(100)}function d(e,t){t=0===t?0:t||10;var i=B(e).toHsl();return i.l+=t/100,i.l=C(i.l),B(i)}function h(e,t){t=0===t?0:t||10;var i=B(e).toRgb();return i.r=M(0,R(255,i.r-z(-t/100*255))),i.g=M(0,R(255,i.g-z(-t/100*255))),i.b=M(0,R(255,i.b-z(-t/100*255))),B(i)}function p(e,t){t=0===t?0:t||10;var i=B(e).toHsl();return i.l-=t/100,i.l=C(i.l),B(i)}function f(e,t){var i=B(e).toHsl(),n=(z(i.h)+t)%360;return i.h=n<0?360+n:n,B(i)}function m(e){var t=B(e).toHsl();return t.h=(t.h+180)%360,B(t)}function g(e){var t=B(e).toHsl(),i=t.h;return[B(e),B({h:(i+120)%360,s:t.s,l:t.l}),B({h:(i+240)%360,s:t.s,l:t.l})]}function v(e){var t=B(e).toHsl(),i=t.h;return[B(e),B({h:(i+90)%360,s:t.s,l:t.l}),B({h:(i+180)%360,s:t.s,l:t.l}),B({h:(i+270)%360,s:t.s,l:t.l})]}function y(e){var t=B(e).toHsl(),i=t.h;return[B(e),B({h:(i+72)%360,s:t.s,l:t.l}),B({h:(i+216)%360,s:t.s,l:t.l})]}function _(e,t,i){t=t||6,i=i||30;var n=B(e).toHsl(),r=360/i,s=[B(e)];for(n.h=(n.h-(r*t>>1)+720)%360;--t;)n.h=(n.h+r)%360,s.push(B(n));return s}function b(e,t){t=t||6;for(var i=B(e).toHsv(),n=i.h,r=i.s,s=i.v,o=[],a=1/t;t--;)o.push(B({h:n,s:r,v:s})),s=(s+a)%1;return o}function w(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function T(e,t){(function(e){return"string"==typeof e&&-1!=e.indexOf(".")&&1===parseFloat(e)})(e)&&(e="100%");var i=function(e){return"string"==typeof e&&-1!=e.indexOf("%")}(e);return e=R(t,M(0,parseFloat(e))),i&&(e=parseInt(e*t,10)/100),F.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function C(e){return R(1,M(0,e))}function S(e){return parseInt(e,16)}function k(e){return 1==e.length?"0"+e:""+e}function $(e){return e<=1&&(e=100*e+"%"),e}function A(e){return Math.round(255*parseFloat(e)).toString(16)}function x(e){return S(e)/255}function E(e){var t,i;if(e=e.replace(P,"").replace(N,"").toLowerCase(),t=!1,I[e])e=I[e],t=!0;else if("transparent"==e)return{r:0,g:0,b:0,a:0,format:"name"};return(i=O.rgb.exec(e))?{r:i[1],g:i[2],b:i[3]}:(i=O.rgba.exec(e))?{r:i[1],g:i[2],b:i[3],a:i[4]}:(i=O.hsl.exec(e))?{h:i[1],s:i[2],l:i[3]}:(i=O.hsla.exec(e))?{h:i[1],s:i[2],l:i[3],a:i[4]}:(i=O.hsv.exec(e))?{h:i[1],s:i[2],v:i[3]}:(i=O.hsva.exec(e))?{h:i[1],s:i[2],v:i[3],a:i[4]}:(i=O.hex8.exec(e))?{a:x(i[1]),r:S(i[2]),g:S(i[3]),b:S(i[4]),format:t?"name":"hex8"}:(i=O.hex6.exec(e))?{r:S(i[1]),g:S(i[2]),b:S(i[3]),format:t?"name":"hex"}:!!(i=O.hex3.exec(e))&&{r:S(i[1]+""+i[1]),g:S(i[2]+""+i[2]),b:S(i[3]+""+i[3]),format:t?"name":"hex"}}var I,D,O,P=/^[\s,#]+/,N=/\s+$/,L=0,F=Math,z=F.round,R=F.min,M=F.max,j=F.random,B=function(t,i){if(i=i||{},(t=t||"")instanceof B)return t;if(!(this instanceof B))return new B(t,i);var n=e(t);this._originalInput=t,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=z(100*this._a)/100,this._format=i.format||n.format,this._gradientType=i.gradientType,this._r<1&&(this._r=z(this._r)),this._g<1&&(this._g=z(this._g)),this._b<1&&(this._b=z(this._b)),this._ok=n.ok,this._tc_id=L++};B.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},setAlpha:function(e){return this._a=w(e),this._roundA=z(100*this._a)/100,this},toHsv:function(){var e=r(this._r,this._g,this._b);return{h:360*e.h,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=r(this._r,this._g,this._b),t=z(360*e.h),i=z(100*e.s),n=z(100*e.v);return 1==this._a?"hsv("+t+", "+i+"%, "+n+"%)":"hsva("+t+", "+i+"%, "+n+"%, "+this._roundA+")"},toHsl:function(){var e=i(this._r,this._g,this._b);return{h:360*e.h,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=i(this._r,this._g,this._b),t=z(360*e.h),n=z(100*e.s),r=z(100*e.l);return 1==this._a?"hsl("+t+", "+n+"%, "+r+"%)":"hsla("+t+", "+n+"%, "+r+"%, "+this._roundA+")"},toHex:function(e){return o(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(){return a(this._r,this._g,this._b,this._a)},toHex8String:function(){return"#"+this.toHex8()},toRgb:function(){return{r:z(this._r),g:z(this._g),b:z(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+z(this._r)+", "+z(this._g)+", "+z(this._b)+")":"rgba("+z(this._r)+", "+z(this._g)+", "+z(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:z(100*T(this._r,255))+"%",g:z(100*T(this._g,255))+"%",b:z(100*T(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+z(100*T(this._r,255))+"%, "+z(100*T(this._g,255))+"%, "+z(100*T(this._b,255))+"%)":"rgba("+z(100*T(this._r,255))+"%, "+z(100*T(this._g,255))+"%, "+z(100*T(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(D[o(this._r,this._g,this._b,!0)]||!1)},toFilter:function(e){var t="#"+a(this._r,this._g,this._b,this._a),i=t,n=this._gradientType?"GradientType = 1, ":"";return e&&(i=B(e).toHex8String()),"progid:DXImageTransform.Microsoft.gradient("+n+"startColorstr="+t+",endColorstr="+i+")"},toString:function(e){var t=!!e;e=e||this._format;var i=!1,n=this._a<1&&this._a>=0;return!t&&n&&("hex"===e||"hex6"===e||"hex3"===e||"name"===e)?"name"===e&&0===this._a?this.toName():this.toRgbString():("rgb"===e&&(i=this.toRgbString()),"prgb"===e&&(i=this.toPercentageRgbString()),("hex"===e||"hex6"===e)&&(i=this.toHexString()),"hex3"===e&&(i=this.toHexString(!0)),"hex8"===e&&(i=this.toHex8String()),"name"===e&&(i=this.toName()),"hsl"===e&&(i=this.toHslString()),"hsv"===e&&(i=this.toHsvString()),i||this.toHexString())},_applyModification:function(e,t){var i=e.apply(null,[this].concat([].slice.call(t)));return this._r=i._r,this._g=i._g,this._b=i._b,this.setAlpha(i._a),this},lighten:function(){return this._applyModification(d,arguments)},brighten:function(){return this._applyModification(h,arguments)},darken:function(){return this._applyModification(p,arguments)},desaturate:function(){return this._applyModification(l,arguments)},saturate:function(){return this._applyModification(u,arguments)},greyscale:function(){return this._applyModification(c,arguments)},spin:function(){return this._applyModification(f,arguments)},_applyCombination:function(e,t){return e.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination(_,arguments)},complement:function(){return this._applyCombination(m,arguments)},monochromatic:function(){return this._applyCombination(b,arguments)},splitcomplement:function(){return this._applyCombination(y,arguments)},triad:function(){return this._applyCombination(g,arguments)},tetrad:function(){return this._applyCombination(v,arguments)}},B.fromRatio=function(e,t){var i,n;if("object"==typeof e){for(n in i={},e)e.hasOwnProperty(n)&&(i[n]="a"===n?e[n]:$(e[n]));e=i}return B(e,t)},B.equals=function(e,t){return!(!e||!t)&&B(e).toRgbString()==B(t).toRgbString()},B.random=function(){return B.fromRatio({r:j(),g:j(),b:j()})},B.mix=function(e,t,i){var n,r;i=0===i?0:i||50;var s,o=B(e).toRgb(),a=B(t).toRgb(),l=i/100,u=2*l-1,c=a.a-o.a;return n=1-(s=((s=u*c==-1?u:(u+c)/(1+u*c))+1)/2),r={r:a.r*s+o.r*n,g:a.g*s+o.g*n,b:a.b*s+o.b*n,a:a.a*l+o.a*(1-l)},B(r)},B.readability=function(e,t){var i=B(e),n=B(t),r=i.toRgb(),s=n.toRgb(),o=i.getBrightness(),a=n.getBrightness(),l=Math.max(r.r,s.r)-Math.min(r.r,s.r)+Math.max(r.g,s.g)-Math.min(r.g,s.g)+Math.max(r.b,s.b)-Math.min(r.b,s.b);return{brightness:Math.abs(o-a),color:l}},B.isReadable=function(e,t){var i=B.readability(e,t);return i.brightness>125&&i.color>500},B.mostReadable=function(e,t){for(var i=null,n=0,r=!1,s=0;s<t.length;s++){var o=B.readability(e,t[s]),a=o.brightness>125&&o.color>500,l=o.brightness/125*3+o.color/500;(a&&!r||a&&r&&l>n||!a&&!r&&l>n)&&(r=a,n=l,i=B(t[s]))}return i},I=B.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},D=B.hexNames=function(e){var t={};for(var i in e)e.hasOwnProperty(i)&&(t[e[i]]=i);return t}(I),O=function(){var e="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)",t="[\\s|\\(]+("+e+")[,|\\s]+("+e+")[,|\\s]+("+e+")\\s*\\)?",i="[\\s|\\(]+("+e+")[,|\\s]+("+e+")[,|\\s]+("+e+")[,|\\s]+("+e+")\\s*\\)?";return{rgb:new RegExp("rgb"+t),rgba:new RegExp("rgba"+i),hsl:new RegExp("hsl"+t),hsla:new RegExp("hsla"+i),hsv:new RegExp("hsv"+t),hsva:new RegExp("hsva"+i),hex3:/^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex8:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}(),window.tinycolor=B}(),e(function(){e.fn.spectrum.load&&e.fn.spectrum.processNativeColorInputs()})}),jQuery&&function(e){function t(e){var t=e.parent();e.removeData("minicolors-initialized").removeData("minicolors-settings").removeProp("size").removeClass("minicolors-input"),t.before(e).remove()}function i(e){var t=e.parent(),i=t.find(".minicolors-panel"),r=e.data("minicolors-settings");!e.data("minicolors-initialized")||e.prop("disabled")||t.hasClass("minicolors-inline")||t.hasClass("minicolors-focus")||(n(),t.addClass("minicolors-focus"),i.stop(!0,!0).fadeIn(r.showSpeed,function(){r.show&&r.show.call(e.get(0))}))}function n(){e(".minicolors-focus").each(function(){var t=e(this),i=t.find(".minicolors-input"),n=t.find(".minicolors-panel"),r=i.data("minicolors-settings");n.fadeOut(r.hideSpeed,function(){r.hide&&r.hide.call(i.get(0)),t.removeClass("minicolors-focus")})})}function r(e,t,i){var n,r,o,a,l=e.parents(".minicolors").find(".minicolors-input"),u=l.data("minicolors-settings"),c=e.find("[class$=-picker]"),d=e.offset().left,h=e.offset().top,p=Math.round(t.pageX-d),f=Math.round(t.pageY-h),m=i?u.animationSpeed:0;t.originalEvent.changedTouches&&(p=t.originalEvent.changedTouches[0].pageX-d,f=t.originalEvent.changedTouches[0].pageY-h),p<0&&(p=0),f<0&&(f=0),p>e.width()&&(p=e.width()),f>e.height()&&(f=e.height()),e.parent().is(".minicolors-slider-wheel")&&c.parent().is(".minicolors-grid")&&(n=75-p,r=75-f,o=Math.sqrt(n*n+r*r),(a=Math.atan2(r,n))<0&&(a+=2*Math.PI),o>75&&(o=75,p=75-75*Math.cos(a),f=75-75*Math.sin(a)),p=Math.round(p),f=Math.round(f)),e.is(".minicolors-grid")?c.stop(!0).animate({top:f+"px",left:p+"px"},m,u.animationEasing,function(){s(l,e)}):c.stop(!0).animate({top:f+"px"},m,u.animationEasing,function(){s(l,e)})}function s(e,t){function i(e,t){var i,n;return e.length&&t?(i=e.offset().left,n=e.offset().top,{x:i-t.offset().left+e.outerWidth()/2,y:n-t.offset().top+e.outerHeight()/2}):null}var n,r,s,o,u,d,p,f=e.val(),m=e.attr("data-opacity"),g=e.parent(),v=e.data("minicolors-settings"),y=g.find(".minicolors-swatch"),_=g.find(".minicolors-grid"),b=g.find(".minicolors-slider"),w=g.find(".minicolors-opacity-slider"),T=_.find("[class$=-picker]"),C=b.find("[class$=-picker]"),S=w.find("[class$=-picker]"),k=i(T,_),$=i(C,b),A=i(S,w);if(t.is(".minicolors-grid, .minicolors-slider")){switch(v.control){case"wheel":o=_.width()/2-k.x,u=_.height()/2-k.y,d=Math.sqrt(o*o+u*u),(p=Math.atan2(u,o))<0&&(p+=2*Math.PI),d>75&&(d=75,k.x=69-75*Math.cos(p),k.y=69-75*Math.sin(p)),r=c(d/.75,0,100),f=h({h:n=c(180*p/Math.PI,0,360),s:r,b:s=c(100-Math.floor($.y*(100/b.height())),0,100)}),b.css("backgroundColor",h({h:n,s:r,b:100}));break;case"saturation":f=h({h:n=c(parseInt(k.x*(360/_.width()),10),0,360),s:r=c(100-Math.floor($.y*(100/b.height())),0,100),b:s=c(100-Math.floor(k.y*(100/_.height())),0,100)}),b.css("backgroundColor",h({h:n,s:100,b:s})),g.find(".minicolors-grid-inner").css("opacity",r/100);break;case"brightness":f=h({h:n=c(parseInt(k.x*(360/_.width()),10),0,360),s:r=c(100-Math.floor(k.y*(100/_.height())),0,100),b:s=c(100-Math.floor($.y*(100/b.height())),0,100)}),b.css("backgroundColor",h({h:n,s:r,b:100})),g.find(".minicolors-grid-inner").css("opacity",1-s/100);break;default:f=h({h:n=c(360-parseInt($.y*(360/b.height()),10),0,360),s:r=c(Math.floor(k.x*(100/_.width())),0,100),b:s=c(100-Math.floor(k.y*(100/_.height())),0,100)}),_.css("backgroundColor",h({h:n,s:100,b:100}))}e.val(l(f,v.letterCase))}t.is(".minicolors-opacity-slider")&&(m=v.opacity?parseFloat(1-A.y/w.height()).toFixed(2):1,v.opacity&&e.attr("data-opacity",m)),y.find("SPAN").css({backgroundColor:f,opacity:m}),a(e,f,m)}function o(e,t){var i,n,r,s,o,d,f,m=e.parent(),g=e.data("minicolors-settings"),v=m.find(".minicolors-swatch"),y=m.find(".minicolors-grid"),_=m.find(".minicolors-slider"),b=m.find(".minicolors-opacity-slider"),w=y.find("[class$=-picker]"),T=_.find("[class$=-picker]"),C=b.find("[class$=-picker]");switch((i=l(u(e.val(),!0),g.letterCase))||(i=l(u(g.defaultValue,!0),g.letterCase)),n=p(i),t||e.val(i),g.opacity&&(r=""===e.attr("data-opacity")?1:c(parseFloat(e.attr("data-opacity")).toFixed(2),0,1),isNaN(r)&&(r=1),e.attr("data-opacity",r),v.find("SPAN").css("opacity",r),o=c(b.height()-b.height()*r,0,b.height()),C.css("top",o+"px")),v.find("SPAN").css("backgroundColor",i),g.control){case"wheel":d=c(Math.ceil(.75*n.s),0,y.height()/2),f=n.h*Math.PI/180,s=c(75-Math.cos(f)*d,0,y.width()),o=c(75-Math.sin(f)*d,0,y.height()),w.css({top:o+"px",left:s+"px"}),o=150-n.b/(100/y.height()),""===i&&(o=0),T.css("top",o+"px"),_.css("backgroundColor",h({h:n.h,s:n.s,b:100}));break;case"saturation":s=c(5*n.h/12,0,150),o=c(y.height()-Math.ceil(n.b/(100/y.height())),0,y.height()),w.css({top:o+"px",left:s+"px"}),o=c(_.height()-n.s*(_.height()/100),0,_.height()),T.css("top",o+"px"),_.css("backgroundColor",h({h:n.h,s:100,b:n.b})),m.find(".minicolors-grid-inner").css("opacity",n.s/100);break;case"brightness":s=c(5*n.h/12,0,150),o=c(y.height()-Math.ceil(n.s/(100/y.height())),0,y.height()),w.css({top:o+"px",left:s+"px"}),o=c(_.height()-n.b*(_.height()/100),0,_.height()),T.css("top",o+"px"),_.css("backgroundColor",h({h:n.h,s:n.s,b:100})),m.find(".minicolors-grid-inner").css("opacity",1-n.b/100);break;default:s=c(Math.ceil(n.s/(100/y.width())),0,y.width()),o=c(y.height()-Math.ceil(n.b/(100/y.height())),0,y.height()),w.css({top:o+"px",left:s+"px"}),o=c(_.height()-n.h/(360/_.height()),0,_.height()),T.css("top",o+"px"),y.css("backgroundColor",h({h:n.h,s:100,b:100}))}e.data("minicolors-initialized")&&a(e,i,r)}function a(e,t,i){var n=e.data("minicolors-settings"),r=e.data("minicolors-lastChange");r&&r.hex===t&&r.opacity===i||(e.data("minicolors-lastChange",{hex:t,opacity:i}),n.change&&(n.changeDelay?(clearTimeout(e.data("minicolors-changeTimeout")),e.data("minicolors-changeTimeout",setTimeout(function(){n.change.call(e.get(0),t,i)},n.changeDelay))):n.change.call(e.get(0),t,i)),e.trigger("change").trigger("input"))}function l(e,t){return"uppercase"===t?e.toUpperCase():e.toLowerCase()}function u(e,t){return 3!==(e=e.replace(/[^A-F0-9]/gi,"")).length&&6!==e.length?"":(3===e.length&&t&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]),"#"+e)}function c(e,t,i){return e<t&&(e=t),e>i&&(e=i),e}function d(t){var i=[t.r.toString(16),t.g.toString(16),t.b.toString(16)];return e.each(i,function(e,t){1===t.length&&(i[e]="0"+t)}),"#"+i.join("")}function h(e){return d(function(e){var t={},i=Math.round(e.h),n=Math.round(255*e.s/100),r=Math.round(255*e.b/100);if(0===n)t.r=t.g=t.b=r;else{var s=r,o=(255-n)*r/255,a=i%60*(s-o)/60;360===i&&(i=0),i<60?(t.r=s,t.b=o,t.g=o+a):i<120?(t.g=s,t.b=o,t.r=s-a):i<180?(t.g=s,t.r=o,t.b=o+a):i<240?(t.b=s,t.r=o,t.g=s-a):i<300?(t.b=s,t.g=o,t.r=o+a):i<360?(t.r=s,t.g=o,t.b=s-a):(t.r=0,t.g=0,t.b=0)}return{r:Math.round(t.r),g:Math.round(t.g),b:Math.round(t.b)}}(e))}function p(e){var t=function(e){var t={h:0,s:0,b:0},i=Math.min(e.r,e.g,e.b),n=Math.max(e.r,e.g,e.b),r=n-i;return t.b=n,t.s=0!==n?255*r/n:0,t.h=0!==t.s?e.r===n?(e.g-e.b)/r:e.g===n?2+(e.b-e.r)/r:4+(e.r-e.g)/r:-1,t.h*=60,t.h<0&&(t.h+=360),t.s*=100/255,t.b*=100/255,t}(f(e));return 0===t.s&&(t.h=360),t}function f(e){return{r:(e=parseInt(e.indexOf("#")>-1?e.substring(1):e,16))>>16,g:(65280&e)>>8,b:255&e}}e.minicolors={defaults:{animationSpeed:50,animationEasing:"swing",change:null,changeDelay:0,control:"hue",dataUris:!0,defaultValue:"",hide:null,hideSpeed:100,inline:!1,letterCase:"lowercase",opacity:!1,position:"bottom left",show:null,showSpeed:100,theme:"default"}},e.extend(e.fn,{minicolors:function(r,s){switch(r){case"destroy":return e(this).each(function(){t(e(this))}),e(this);case"hide":return n(),e(this);case"opacity":return void 0===s?e(this).attr("data-opacity"):(e(this).each(function(){o(e(this).attr("data-opacity",s))}),e(this));case"rgbObject":return function(t){var i=f(u(e(t).val(),!0)),n=e(t).attr("data-opacity");return i?(void 0!==n&&e.extend(i,{a:parseFloat(n)}),i):null}(e(this));case"rgbString":case"rgbaString":return function(t,i){var n=f(u(e(t).val(),!0)),r=e(t).attr("data-opacity");return n?(void 0===r&&(r=1),i?"rgba("+n.r+", "+n.g+", "+n.b+", "+parseFloat(r)+")":"rgb("+n.r+", "+n.g+", "+n.b+")"):null}(e(this),"rgbaString"===r);case"settings":return void 0===s?e(this).data("minicolors-settings"):(e(this).each(function(){var i=e(this).data("minicolors-settings")||{};t(e(this)),e(this).minicolors(e.extend(!0,i,s))}),e(this));case"show":return i(e(this).eq(0)),e(this);case"value":return void 0===s?e(this).val():(e(this).each(function(){o(e(this).val(s))}),e(this));default:return"create"!==r&&(s=r),e(this).each(function(){!function(t,i){var n=e('<div class="minicolors" />'),r=e.minicolors.defaults;t.data("minicolors-initialized")||(i=e.extend(!0,{},r,i),n.addClass("minicolors-theme-"+i.theme).toggleClass("minicolors-with-opacity",i.opacity).toggleClass("minicolors-no-data-uris",!0!==i.dataUris),void 0!==i.position&&e.each(i.position.split(" "),function(){n.addClass("minicolors-position-"+this)}),t.addClass("minicolors-input").data("minicolors-initialized",!1).data("minicolors-settings",i).prop("size",7).wrap(n).after('<div class="minicolors-panel minicolors-slider-'+i.control+'"><div class="minicolors-slider minicolors-sprite"><div class="minicolors-picker"></div></div><div class="minicolors-opacity-slider minicolors-sprite"><div class="minicolors-picker"></div></div><div class="minicolors-grid minicolors-sprite"><div class="minicolors-grid-inner"></div><div class="minicolors-picker"><div></div></div></div></div>'),i.inline||(t.after('<span class="minicolors-swatch minicolors-sprite"><span class="minicolors-swatch-color"></span></span>'),t.next(".minicolors-swatch").on("click",function(e){e.preventDefault(),t.focus()})),t.parent().find(".minicolors-panel").on("selectstart",function(){return!1}).end(),i.inline&&t.parent().addClass("minicolors-inline"),o(t,!1),t.data("minicolors-initialized",!0))}(e(this),s)}),e(this)}}}),e(document).on("mousedown.minicolors touchstart.minicolors",function(t){e(t.target).parents().add(t.target).hasClass("minicolors")||n()}).on("mousedown.minicolors touchstart.minicolors",".minicolors-grid, .minicolors-slider, .minicolors-opacity-slider",function(t){var i=e(this);t.preventDefault(),e(document).data("minicolors-target",i),r(i,t,!0)}).on("mousemove.minicolors touchmove.minicolors",function(t){var i=e(document).data("minicolors-target");i&&r(i,t)}).on("mouseup.minicolors touchend.minicolors",function(){e(this).removeData("minicolors-target")}).on("mousedown.minicolors touchstart.minicolors",".minicolors-swatch",function(t){var n=e(this).parent().find(".minicolors-input");t.preventDefault(),i(n)}).on("focus.minicolors",".minicolors-input",function(){var t=e(this);t.data("minicolors-initialized")&&i(t)}).on("blur.minicolors",".minicolors-input",function(){var t=e(this),i=t.data("minicolors-settings");t.data("minicolors-initialized")&&(t.val(u(t.val(),!0)),""===t.val()&&t.val(u(i.defaultValue,!0)),t.val(l(t.val(),i.letterCase)))}).on("keydown.minicolors",".minicolors-input",function(t){var i=e(this);if(i.data("minicolors-initialized"))switch(t.keyCode){case 9:n();break;case 13:case 27:n(),i.blur()}}).on("keyup.minicolors",".minicolors-input",function(){var t=e(this);t.data("minicolors-initialized")&&o(t,!0)}).on("paste.minicolors",".minicolors-input",function(){var t=e(this);t.data("minicolors-initialized")&&setTimeout(function(){o(t,!0)},1)})}(jQuery),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e(require("jquery")):e(jQuery)}(function(e){function t(e){var t=e.parent();e.removeData("minicolors-initialized").removeData("minicolors-settings").removeProp("size").removeClass("minicolors-input"),t.before(e).remove()}function i(e){var t=e.parent(),i=t.find(".minicolors-panel"),r=e.data("minicolors-settings");!e.data("minicolors-initialized")||e.prop("disabled")||t.hasClass("minicolors-inline")||t.hasClass("minicolors-focus")||(n(),t.addClass("minicolors-focus"),i.stop(!0,!0).fadeIn(r.showSpeed,function(){r.show&&r.show.call(e.get(0))}))}function n(){e(".minicolors-focus").each(function(){var t,i=e(this),n=i.find(".minicolors-input"),r=i.find(".minicolors-panel"),s=n.data("minicolors-settings"),o=e(n).attr("theme-setting-id");null!=o&&"undefined"!=o&&(t=e(".theme-setting-minicolor-"+o),e(t).length>0&&(e(t).val(n.val()),e(t).trigger("change"))),r.fadeOut(s.hideSpeed,function(){s.hide&&s.hide.call(n.get(0)),i.removeClass("minicolors-focus")})})}function r(e,t,i){var n,r,o,a,l=e.parents(".minicolors").find(".minicolors-input"),u=l.data("minicolors-settings"),c=e.find("[class$=-picker]"),d=e.offset().left,h=e.offset().top,p=Math.round(t.pageX-d),f=Math.round(t.pageY-h),m=i?u.animationSpeed:0;t.originalEvent.changedTouches&&(p=t.originalEvent.changedTouches[0].pageX-d,f=t.originalEvent.changedTouches[0].pageY-h),p<0&&(p=0),f<0&&(f=0),p>e.width()&&(p=e.width()),f>e.height()&&(f=e.height()),e.parent().is(".minicolors-slider-wheel")&&c.parent().is(".minicolors-grid")&&(n=75-p,r=75-f,o=Math.sqrt(n*n+r*r),(a=Math.atan2(r,n))<0&&(a+=2*Math.PI),o>75&&(o=75,p=75-75*Math.cos(a),f=75-75*Math.sin(a)),p=Math.round(p),f=Math.round(f)),e.is(".minicolors-grid")?c.stop(!0).animate({top:f+"px",left:p+"px"},m,u.animationEasing,function(){s(l,e)}):c.stop(!0).animate({top:f+"px"},m,u.animationEasing,function(){s(l,e)})}function s(e,t){function i(e,t){var i,n;return e.length&&t?(i=e.offset().left,n=e.offset().top,{x:i-t.offset().left+e.outerWidth()/2,y:n-t.offset().top+e.outerHeight()/2}):null}var n,r,s,o,u,d,p,f=e.val(),m=e.attr("data-opacity"),g=e.parent(),v=e.data("minicolors-settings"),y=g.find(".minicolors-swatch"),_=g.find(".minicolors-grid"),b=g.find(".minicolors-slider"),w=g.find(".minicolors-opacity-slider"),T=_.find("[class$=-picker]"),C=b.find("[class$=-picker]"),S=w.find("[class$=-picker]"),k=i(T,_),$=i(C,b),A=i(S,w);if(t.is(".minicolors-grid, .minicolors-slider")){switch(v.control){case"wheel":o=_.width()/2-k.x,u=_.height()/2-k.y,d=Math.sqrt(o*o+u*u),(p=Math.atan2(u,o))<0&&(p+=2*Math.PI),d>75&&(d=75,k.x=69-75*Math.cos(p),k.y=69-75*Math.sin(p)),r=c(d/.75,0,100),f=h({h:n=c(180*p/Math.PI,0,360),s:r,b:s=c(100-Math.floor($.y*(100/b.height())),0,100)}),b.css("backgroundColor",h({h:n,s:r,b:100}));break;case"saturation":f=h({h:n=c(parseInt(k.x*(360/_.width()),10),0,360),s:r=c(100-Math.floor($.y*(100/b.height())),0,100),b:s=c(100-Math.floor(k.y*(100/_.height())),0,100)}),b.css("backgroundColor",h({h:n,s:100,b:s})),g.find(".minicolors-grid-inner").css("opacity",r/100);break;case"brightness":f=h({h:n=c(parseInt(k.x*(360/_.width()),10),0,360),s:r=c(100-Math.floor(k.y*(100/_.height())),0,100),b:s=c(100-Math.floor($.y*(100/b.height())),0,100)}),b.css("backgroundColor",h({h:n,s:r,b:100})),g.find(".minicolors-grid-inner").css("opacity",1-s/100);break;default:f=h({h:n=c(360-parseInt($.y*(360/b.height()),10),0,360),s:r=c(Math.floor(k.x*(100/_.width())),0,100),b:s=c(100-Math.floor(k.y*(100/_.height())),0,100)}),_.css("backgroundColor",h({h:n,s:100,b:100}))}e.val(l(f,v.letterCase))}t.is(".minicolors-opacity-slider")&&(m=v.opacity?parseFloat(1-A.y/w.height()).toFixed(2):1,v.opacity&&e.attr("data-opacity",m)),y.find("SPAN").css({backgroundColor:f,opacity:m}),a(e,f,m)}function o(e,t){var i,n,r,s,o,d,f,m=e.parent(),g=e.data("minicolors-settings"),v=m.find(".minicolors-swatch"),y=m.find(".minicolors-grid"),_=m.find(".minicolors-slider"),b=m.find(".minicolors-opacity-slider"),w=y.find("[class$=-picker]"),T=_.find("[class$=-picker]"),C=b.find("[class$=-picker]");switch((i=l(u(e.val(),!0),g.letterCase))||(i=l(u(g.defaultValue,!0),g.letterCase)),n=p(i),t||e.val(i),g.opacity&&(r=""===e.attr("data-opacity")?1:c(parseFloat(e.attr("data-opacity")).toFixed(2),0,1),isNaN(r)&&(r=1),e.attr("data-opacity",r),v.find("SPAN").css("opacity",r),o=c(b.height()-b.height()*r,0,b.height()),C.css("top",o+"px")),v.find("SPAN").css("backgroundColor",i),g.control){case"wheel":d=c(Math.ceil(.75*n.s),0,y.height()/2),f=n.h*Math.PI/180,s=c(75-Math.cos(f)*d,0,y.width()),o=c(75-Math.sin(f)*d,0,y.height()),w.css({top:o+"px",left:s+"px"}),o=150-n.b/(100/y.height()),""===i&&(o=0),T.css("top",o+"px"),_.css("backgroundColor",h({h:n.h,s:n.s,b:100}));break;case"saturation":s=c(5*n.h/12,0,150),o=c(y.height()-Math.ceil(n.b/(100/y.height())),0,y.height()),w.css({top:o+"px",left:s+"px"}),o=c(_.height()-n.s*(_.height()/100),0,_.height()),T.css("top",o+"px"),_.css("backgroundColor",h({h:n.h,s:100,b:n.b})),m.find(".minicolors-grid-inner").css("opacity",n.s/100);break;case"brightness":s=c(5*n.h/12,0,150),o=c(y.height()-Math.ceil(n.s/(100/y.height())),0,y.height()),w.css({top:o+"px",left:s+"px"}),o=c(_.height()-n.b*(_.height()/100),0,_.height()),T.css("top",o+"px"),_.css("backgroundColor",h({h:n.h,s:n.s,b:100})),m.find(".minicolors-grid-inner").css("opacity",1-n.b/100);break;default:s=c(Math.ceil(n.s/(100/y.width())),0,y.width()),o=c(y.height()-Math.ceil(n.b/(100/y.height())),0,y.height()),w.css({top:o+"px",left:s+"px"}),o=c(_.height()-n.h/(360/_.height()),0,_.height()),T.css("top",o+"px"),y.css("backgroundColor",h({h:n.h,s:100,b:100}))}e.data("minicolors-initialized")&&a(e,i,r)}function a(e,t,i){var n=e.data("minicolors-settings"),r=e.data("minicolors-lastChange");r&&r.hex===t&&r.opacity===i||(e.data("minicolors-lastChange",{hex:t,opacity:i}),n.change&&(n.changeDelay?(clearTimeout(e.data("minicolors-changeTimeout")),e.data("minicolors-changeTimeout",setTimeout(function(){n.change.call(e.get(0),t,i)},n.changeDelay))):n.change.call(e.get(0),t,i)))}function l(e,t){return"uppercase"===t?e.toUpperCase():e.toLowerCase()}function u(e,t){return 3!==(e=e.replace(/[^A-F0-9]/gi,"")).length&&6!==e.length?"":(3===e.length&&t&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]),"#"+e)}function c(e,t,i){return e<t&&(e=t),e>i&&(e=i),e}function d(t){var i=[t.r.toString(16),t.g.toString(16),t.b.toString(16)];return e.each(i,function(e,t){1===t.length&&(i[e]="0"+t)}),"#"+i.join("")}function h(e){return d(function(e){var t={},i=Math.round(e.h),n=Math.round(255*e.s/100),r=Math.round(255*e.b/100);if(0===n)t.r=t.g=t.b=r;else{var s=r,o=(255-n)*r/255,a=i%60*(s-o)/60;360===i&&(i=0),i<60?(t.r=s,t.b=o,t.g=o+a):i<120?(t.g=s,t.b=o,t.r=s-a):i<180?(t.g=s,t.r=o,t.b=o+a):i<240?(t.b=s,t.r=o,t.g=s-a):i<300?(t.b=s,t.g=o,t.r=o+a):i<360?(t.r=s,t.g=o,t.b=s-a):(t.r=0,t.g=0,t.b=0)}return{r:Math.round(t.r),g:Math.round(t.g),b:Math.round(t.b)}}(e))}function p(e){var t=function(e){var t={h:0,s:0,b:0},i=Math.min(e.r,e.g,e.b),n=Math.max(e.r,e.g,e.b),r=n-i;return t.b=n,t.s=0!==n?255*r/n:0,t.h=0!==t.s?e.r===n?(e.g-e.b)/r:e.g===n?2+(e.b-e.r)/r:4+(e.r-e.g)/r:-1,t.h*=60,t.h<0&&(t.h+=360),t.s*=100/255,t.b*=100/255,t}(f(e));return 0===t.s&&(t.h=360),t}function f(e){return{r:(e=parseInt(e.indexOf("#")>-1?e.substring(1):e,16))>>16,g:(65280&e)>>8,b:255&e}}e.minicolors={defaults:{animationSpeed:50,animationEasing:"swing",change:null,changeDelay:0,control:"hue",dataUris:!0,defaultValue:"",hide:null,hideSpeed:100,inline:!1,letterCase:"lowercase",opacity:!1,position:"bottom left",show:null,showSpeed:100,theme:"default"}},e.extend(e.fn,{minicolors:function(r,s){switch(r){case"destroy":return e(this).each(function(){t(e(this))}),e(this);case"hide":return n(),e(this);case"opacity":return void 0===s?e(this).attr("data-opacity"):(e(this).each(function(){o(e(this).attr("data-opacity",s))}),e(this));case"rgbObject":return function(t){var i=f(u(e(t).val(),!0)),n=e(t).attr("data-opacity");return i?(void 0!==n&&e.extend(i,{a:parseFloat(n)}),i):null}(e(this));case"rgbString":case"rgbaString":return function(t,i){var n=f(u(e(t).val(),!0)),r=e(t).attr("data-opacity");return n?(void 0===r&&(r=1),i?"rgba("+n.r+", "+n.g+", "+n.b+", "+parseFloat(r)+")":"rgb("+n.r+", "+n.g+", "+n.b+")"):null}(e(this),"rgbaString"===r);case"settings":return void 0===s?e(this).data("minicolors-settings"):(e(this).each(function(){var i=e(this).data("minicolors-settings")||{};t(e(this)),e(this).minicolors(e.extend(!0,i,s))}),e(this));case"show":return i(e(this).eq(0)),e(this);case"value":return void 0===s?e(this).val():(e(this).each(function(){o(e(this).val(s))}),e(this));default:return"create"!==r&&(s=r),e(this).each(function(){!function(t,i){var n=e('<div class="minicolors" />'),r=e.minicolors.defaults;t.data("minicolors-initialized")||(i=e.extend(!0,{},r,i),n.addClass("minicolors-theme-"+i.theme).toggleClass("minicolors-with-opacity",i.opacity).toggleClass("minicolors-no-data-uris",!0!==i.dataUris),void 0!==i.position&&e.each(i.position.split(" "),function(){n.addClass("minicolors-position-"+this)}),t.addClass("minicolors-input").data("minicolors-initialized",!1).data("minicolors-settings",i).prop("size",7).wrap(n).after('<div class="minicolors-panel minicolors-slider-'+i.control+'"><div class="minicolors-slider minicolors-sprite"><div class="minicolors-picker"></div></div><div class="minicolors-opacity-slider minicolors-sprite"><div class="minicolors-picker"></div></div><div class="minicolors-grid minicolors-sprite"><div class="minicolors-grid-inner"></div><div class="minicolors-picker"><div></div></div></div></div>'),i.inline||(t.after('<span class="minicolors-swatch minicolors-sprite"><span class="minicolors-swatch-color"></span></span>'),t.next(".minicolors-swatch").on("click",function(e){e.preventDefault(),t.focus()})),t.parent().find(".minicolors-panel").on("selectstart",function(){return!1}).end(),i.inline&&t.parent().addClass("minicolors-inline"),o(t,!1),t.data("minicolors-initialized",!0))}(e(this),s)}),e(this)}}}),e(document).on("mousedown.minicolors touchstart.minicolors",function(t){e(t.target).parents().add(t.target).hasClass("minicolors")||n()}).on("mousedown.minicolors touchstart.minicolors",".minicolors-grid, .minicolors-slider, .minicolors-opacity-slider",function(t){var i=e(this);t.preventDefault(),e(document).data("minicolors-target",i),r(i,t,!0)}).on("mousemove.minicolors touchmove.minicolors",function(t){var i=e(document).data("minicolors-target");i&&r(i,t)}).on("mouseup.minicolors touchend.minicolors",function(){e(this).removeData("minicolors-target")}).on("mousedown.minicolors touchstart.minicolors",".minicolors-swatch",function(t){var n=e(this).parent().find(".minicolors-input");t.preventDefault(),i(n)}).on("focus.minicolors",".minicolors-input",function(){var t=e(this);t.data("minicolors-initialized")&&i(t)}).on("blur.minicolors",".minicolors-input",function(){var t=e(this),i=t.data("minicolors-settings");t.data("minicolors-initialized")&&(t.val(u(t.val(),!0)),""===t.val()&&t.val(u(i.defaultValue,!0)),t.val(l(t.val(),i.letterCase)))}).on("keydown.minicolors",".minicolors-input",function(t){var i=e(this);if(i.data("minicolors-initialized"))switch(t.keyCode){case 9:n();break;case 13:case 27:n(),i.blur()}}).on("keyup.minicolors",".minicolors-input",function(){var t=e(this);t.data("minicolors-initialized")&&o(t,!0)}).on("paste.minicolors",".minicolors-input",function(){var t=e(this);t.data("minicolors-initialized")&&setTimeout(function(){o(t,!0)},1)})}),function(e){var t=function(){"use strict";var e={DAY:864e5,HOUR:36e5,MINUTE:6e4,SECOND:1e3,BASELINE_YEAR:2014,MAX_SCORE:864e6,AMBIGUITIES:{"America/Denver":["America/Mazatlan"],"Europe/London":["Africa/Casablanca"],"America/Chicago":["America/Mexico_City"],"America/Asuncion":["America/Campo_Grande","America/Santiago"],"America/Montevideo":["America/Sao_Paulo","America/Santiago"],"Asia/Beirut":["Asia/Amman","Asia/Jerusalem","Europe/Helsinki","Asia/Damascus","Africa/Cairo","Asia/Gaza","Europe/Minsk"],"Pacific/Auckland":["Pacific/Fiji"],"America/Los_Angeles":["America/Santa_Isabel"],"America/New_York":["America/Havana"],"America/Halifax":["America/Goose_Bay"],"America/Godthab":["America/Miquelon"],"Asia/Dubai":["Asia/Yerevan"],"Asia/Jakarta":["Asia/Krasnoyarsk"],"Asia/Shanghai":["Asia/Irkutsk","Australia/Perth"],"Australia/Sydney":["Australia/Lord_Howe"],"Asia/Tokyo":["Asia/Yakutsk"],"Asia/Dhaka":["Asia/Omsk"],"Asia/Baku":["Asia/Yerevan"],"Australia/Brisbane":["Asia/Vladivostok"],"Pacific/Noumea":["Asia/Vladivostok"],"Pacific/Majuro":["Asia/Kamchatka","Pacific/Fiji"],"Pacific/Tongatapu":["Pacific/Apia"],"Asia/Baghdad":["Europe/Minsk","Europe/Moscow"],"Asia/Karachi":["Asia/Yekaterinburg"],"Africa/Johannesburg":["Asia/Gaza","Africa/Cairo"]}},i=function(e){var t=-e.getTimezoneOffset();return null!==t?t:0},n=function(){var t=i(new Date(e.BASELINE_YEAR,0,2)),n=i(new Date(e.BASELINE_YEAR,5,2)),r=t-n;return 0>r?t+",1":r>0?n+",1,s":t+",0"},r=function(e){for(var t,i,n=new Date(e,0,1,0,0,1,0).getTime(),r=new Date(e,12,31,23,59,59).getTime(),o=n,a=new Date(o).getTimezoneOffset(),l=null,u=null;r-864e5>o;)(i=(t=new Date(o)).getTimezoneOffset())!==a&&(a>i&&(l=t),i>a&&(u=t),a=i),o+=864e5;return!(!l||!u)&&{s:s(l).getTime(),e:s(u).getTime()}},s=function t(i,n,r){var s;void 0===n&&(n=e.DAY,r=e.HOUR);for(var o=new Date(i.getTime()-n).getTime(),a=i.getTime()+n,l=new Date(o).getTimezoneOffset(),u=o,c=null;a-r>u;){if((s=new Date(u)).getTimezoneOffset()!==l){c=s;break}u+=r}return n===e.DAY?t(c,e.HOUR,e.MINUTE):n===e.HOUR?t(c,e.MINUTE,e.SECOND):c},o=function(i,n){for(var r,s,o,a,l=function(t){for(var r=0,s=0;s<i.length;s++)if(t.rules[s]&&i[s]){if(!(i[s].s>=t.rules[s].s&&i[s].e<=t.rules[s].e)){r="N/A";break}if(r=0,r+=Math.abs(i[s].s-t.rules[s].s),(r+=Math.abs(t.rules[s].e-i[s].e))>e.MAX_SCORE){r="N/A";break}}return function(e,t,i,n){if("N/A"!==i)return i;if("Asia/Beirut"===t){if("Africa/Cairo"===n.name&&13983768e5===e[6].s&&14116788e5===e[6].e||"Asia/Jerusalem"===n.name&&13959648e5===e[6].s&&14118588e5===e[6].e)return 0}else if("America/Santiago"===t){if("America/Asuncion"===n.name&&14124816e5===e[6].s&&1397358e6===e[6].e||"America/Campo_Grande"===n.name&&14136912e5===e[6].s&&13925196e5===e[6].e)return 0}else if("America/Montevideo"===t){if("America/Sao_Paulo"===n.name&&14136876e5===e[6].s&&1392516e6===e[6].e)return 0}else if("Pacific/Auckland"===t&&"Pacific/Fiji"===n.name&&14142456e5===e[6].s&&13961016e5===e[6].e)return 0;return i}(i,n,r,t)},u={},c=t.olson.dst_rules.zones,d=c.length,h=e.AMBIGUITIES[n],p=0;d>p;p++)r=c[p],"N/A"!==(s=l(c[p]))&&(u[r.name]=s);for(o in u)if(u.hasOwnProperty(o))for(a=0;a<h.length;a++)if(h[a]===o)return o;return n};return{determine:function(){var i=function(){var e,t;if("undefined"!=typeof Intl&&void 0!==Intl.DateTimeFormat&&void 0!==(e=Intl.DateTimeFormat())&&void 0!==e.resolvedOptions)return(t=e.resolvedOptions().timeZone)&&(t.indexOf("/")>-1||"UTC"===t)?t:void 0}();return i||(i=t.olson.timezones[n()],void 0!==e.AMBIGUITIES[i]&&(i=function(e){var i=function(){for(var e,i=[],n=0;n<t.olson.dst_rules.years.length;n++)e=r(t.olson.dst_rules.years[n]),i.push(e);return i}();return function(e){for(var t=0;t<e.length;t++)if(!1!==e[t])return!0;return!1}(i)?o(i,e):e}(i))),{name:function(){return i}}}}}();t.olson=t.olson||{},t.olson.timezones={"-720,0":"Etc/GMT+12","-660,0":"Pacific/Pago_Pago","-660,1,s":"Pacific/Apia","-600,1":"America/Adak","-600,0":"Pacific/Honolulu","-570,0":"Pacific/Marquesas","-540,0":"Pacific/Gambier","-540,1":"America/Anchorage","-480,1":"America/Los_Angeles","-480,0":"Pacific/Pitcairn","-420,0":"America/Phoenix","-420,1":"America/Denver","-360,0":"America/Guatemala","-360,1":"America/Chicago","-360,1,s":"Pacific/Easter","-300,0":"America/Bogota","-300,1":"America/New_York","-270,0":"America/Caracas","-240,1":"America/Halifax","-240,0":"America/Santo_Domingo","-240,1,s":"America/Asuncion","-210,1":"America/St_Johns","-180,1":"America/Godthab","-180,0":"America/Argentina/Buenos_Aires","-180,1,s":"America/Montevideo","-120,0":"America/Noronha","-120,1":"America/Noronha","-60,1":"Atlantic/Azores","-60,0":"Atlantic/Cape_Verde","0,0":"UTC","0,1":"Europe/London","60,1":"Europe/Berlin","60,0":"Africa/Lagos","60,1,s":"Africa/Windhoek","120,1":"Asia/Beirut","120,0":"Africa/Johannesburg","180,0":"Asia/Baghdad","180,1":"Europe/Moscow","210,1":"Asia/Tehran","240,0":"Asia/Dubai","240,1":"Asia/Baku","270,0":"Asia/Kabul","300,1":"Asia/Yekaterinburg","300,0":"Asia/Karachi","330,0":"Asia/Kolkata","345,0":"Asia/Kathmandu","360,0":"Asia/Dhaka","360,1":"Asia/Omsk","390,0":"Asia/Rangoon","420,1":"Asia/Krasnoyarsk","420,0":"Asia/Jakarta","480,0":"Asia/Shanghai","480,1":"Asia/Irkutsk","525,0":"Australia/Eucla","525,1,s":"Australia/Eucla","540,1":"Asia/Yakutsk","540,0":"Asia/Tokyo","570,0":"Australia/Darwin","570,1,s":"Australia/Adelaide","600,0":"Australia/Brisbane","600,1":"Asia/Vladivostok","600,1,s":"Australia/Sydney","630,1,s":"Australia/Lord_Howe","660,1":"Asia/Kamchatka","660,0":"Pacific/Noumea","690,0":"Pacific/Norfolk","720,1,s":"Pacific/Auckland","720,0":"Pacific/Majuro","765,1,s":"Pacific/Chatham","780,0":"Pacific/Tongatapu","780,1,s":"Pacific/Apia","840,0":"Pacific/Kiritimati"},t.olson.dst_rules={years:[2008,2009,2010,2011,2012,2013,2014],zones:[{name:"Africa/Cairo",rules:[{e:12199572e5,s:12090744e5},{e:1250802e6,s:1240524e6},{e:12858804e5,s:12840696e5},!1,!1,!1,{e:14116788e5,s:1406844e6}]},{name:"Africa/Casablanca",rules:[{e:12202236e5,s:12122784e5},{e:12508092e5,s:12438144e5},{e:1281222e6,s:12727584e5},{e:13120668e5,s:13017888e5},{e:13489704e5,s:1345428e6},{e:13828392e5,s:13761e8},{e:14142888e5,s:14069448e5}]},{name:"America/Asuncion",rules:[{e:12050316e5,s:12243888e5},{e:12364812e5,s:12558384e5},{e:12709548e5,s:12860784e5},{e:13024044e5,s:1317528e6},{e:1333854e6,s:13495824e5},{e:1364094e6,s:1381032e6},{e:13955436e5,s:14124816e5}]},{name:"America/Campo_Grande",rules:[{e:12032172e5,s:12243888e5},{e:12346668e5,s:12558384e5},{e:12667212e5,s:1287288e6},{e:12981708e5,s:13187376e5},{e:13302252e5,s:1350792e6},{e:136107e7,s:13822416e5},{e:13925196e5,s:14136912e5}]},{name:"America/Goose_Bay",rules:[{e:122559486e4,s:120503526e4},{e:125704446e4,s:123648486e4},{e:128909886e4,s:126853926e4},{e:13205556e5,s:129998886e4},{e:13520052e5,s:13314456e5},{e:13834548e5,s:13628952e5},{e:14149044e5,s:13943448e5}]},{name:"America/Havana",rules:[{e:12249972e5,s:12056436e5},{e:12564468e5,s:12364884e5},{e:12885012e5,s:12685428e5},{e:13211604e5,s:13005972e5},{e:13520052e5,s:13332564e5},{e:13834548e5,s:13628916e5},{e:14149044e5,s:13943412e5}]},{name:"America/Mazatlan",rules:[{e:1225008e6,s:12074724e5},{e:12564576e5,s:1238922e6},{e:1288512e6,s:12703716e5},{e:13199616e5,s:13018212e5},{e:13514112e5,s:13332708e5},{e:13828608e5,s:13653252e5},{e:14143104e5,s:13967748e5}]},{name:"America/Mexico_City",rules:[{e:12250044e5,s:12074688e5},{e:1256454e6,s:12389184e5},{e:12885084e5,s:1270368e6},{e:1319958e6,s:13018176e5},{e:13514076e5,s:13332672e5},{e:13828572e5,s:13653216e5},{e:14143068e5,s:13967712e5}]},{name:"America/Miquelon",rules:[{e:12255984e5,s:12050388e5},{e:1257048e6,s:12364884e5},{e:12891024e5,s:12685428e5},{e:1320552e6,s:12999924e5},{e:13520016e5,s:1331442e6},{e:13834512e5,s:13628916e5},{e:14149008e5,s:13943412e5}]},{name:"America/Santa_Isabel",rules:[{e:12250116e5,s:1207476e6},{e:12564612e5,s:12389256e5},{e:12885156e5,s:12703752e5},{e:13199652e5,s:13018248e5},{e:13514148e5,s:13332744e5},{e:13828644e5,s:13653288e5},{e:1414314e6,s:13967784e5}]},{name:"America/Santiago",rules:[{e:1206846e6,s:1223784e6},{e:1237086e6,s:12552336e5},{e:127035e7,s:12866832e5},{e:13048236e5,s:13138992e5},{e:13356684e5,s:13465584e5},{e:1367118e6,s:13786128e5},{e:13985676e5,s:14100624e5}]},{name:"America/Sao_Paulo",rules:[{e:12032136e5,s:12243852e5},{e:12346632e5,s:12558348e5},{e:12667176e5,s:12872844e5},{e:12981672e5,s:1318734e6},{e:13302216e5,s:13507884e5},{e:13610664e5,s:1382238e6},{e:1392516e6,s:14136876e5}]},{name:"Asia/Amman",rules:[{e:1225404e6,s:12066552e5},{e:12568536e5,s:12381048e5},{e:12883032e5,s:12695544e5},{e:13197528e5,s:13016088e5},!1,!1,{e:14147064e5,s:13959576e5}]},{name:"Asia/Damascus",rules:[{e:12254868e5,s:120726e7},{e:125685e7,s:12381048e5},{e:12882996e5,s:12701592e5},{e:13197492e5,s:13016088e5},{e:13511988e5,s:13330584e5},{e:13826484e5,s:1364508e6},{e:14147028e5,s:13959576e5}]},{name:"Asia/Dubai",rules:[!1,!1,!1,!1,!1,!1,!1]},{name:"Asia/Gaza",rules:[{e:12199572e5,s:12066552e5},{e:12520152e5,s:12381048e5},{e:1281474e6,s:126964086e4},{e:1312146e6,s:130160886e4},{e:13481784e5,s:13330584e5},{e:13802292e5,s:1364508e6},{e:1414098e6,s:13959576e5}]},{name:"Asia/Irkutsk",rules:[{e:12249576e5,s:12068136e5},{e:12564072e5,s:12382632e5},{e:12884616e5,s:12697128e5},!1,!1,!1,!1]},{name:"Asia/Jerusalem",rules:[{e:12231612e5,s:12066624e5},{e:1254006e6,s:1238112e6},{e:1284246e6,s:12695616e5},{e:131751e7,s:1301616e6},{e:13483548e5,s:13330656e5},{e:13828284e5,s:13645152e5},{e:1414278e6,s:13959648e5}]},{name:"Asia/Kamchatka",rules:[{e:12249432e5,s:12067992e5},{e:12563928e5,s:12382488e5},{e:12884508e5,s:12696984e5},!1,!1,!1,!1]},{name:"Asia/Krasnoyarsk",rules:[{e:12249612e5,s:12068172e5},{e:12564108e5,s:12382668e5},{e:12884652e5,s:12697164e5},!1,!1,!1,!1]},{name:"Asia/Omsk",rules:[{e:12249648e5,s:12068208e5},{e:12564144e5,s:12382704e5},{e:12884688e5,s:126972e7},!1,!1,!1,!1]},{name:"Asia/Vladivostok",rules:[{e:12249504e5,s:12068064e5},{e:12564e8,s:1238256e6},{e:12884544e5,s:12697056e5},!1,!1,!1,!1]},{name:"Asia/Yakutsk",rules:[{e:1224954e6,s:120681e7},{e:12564036e5,s:12382596e5},{e:1288458e6,s:12697092e5},!1,!1,!1,!1]},{name:"Asia/Yekaterinburg",rules:[{e:12249684e5,s:12068244e5},{e:1256418e6,s:1238274e6},{e:12884724e5,s:12697236e5},!1,!1,!1,!1]},{name:"Asia/Yerevan",rules:[{e:1224972e6,s:1206828e6},{e:12564216e5,s:12382776e5},{e:1288476e6,s:12697272e5},{e:13199256e5,s:13011768e5},!1,!1,!1]},{name:"Australia/Lord_Howe",rules:[{e:12074076e5,s:12231342e5},{e:12388572e5,s:12545838e5},{e:12703068e5,s:12860334e5},{e:13017564e5,s:1317483e6},{e:1333206e6,s:13495374e5},{e:13652604e5,s:1380987e6},{e:139671e7,s:14124366e5}]},{name:"Australia/Perth",rules:[{e:12068136e5,s:12249576e5},!1,!1,!1,!1,!1,!1]},{name:"Europe/Helsinki",rules:[{e:12249828e5,s:12068388e5},{e:12564324e5,s:12382884e5},{e:12884868e5,s:1269738e6},{e:13199364e5,s:13011876e5},{e:1351386e6,s:13326372e5},{e:13828356e5,s:13646916e5},{e:14142852e5,s:13961412e5}]},{name:"Europe/Minsk",rules:[{e:12249792e5,s:12068352e5},{e:12564288e5,s:12382848e5},{e:12884832e5,s:12697344e5},!1,!1,!1,!1]},{name:"Europe/Moscow",rules:[{e:12249756e5,s:12068316e5},{e:12564252e5,s:12382812e5},{e:12884796e5,s:12697308e5},!1,!1,!1,!1]},{name:"Pacific/Apia",rules:[!1,!1,!1,{e:13017528e5,s:13168728e5},{e:13332024e5,s:13489272e5},{e:13652568e5,s:13803768e5},{e:13967064e5,s:14118264e5}]},{name:"Pacific/Fiji",rules:[!1,!1,{e:12696984e5,s:12878424e5},{e:13271544e5,s:1319292e6},{e:1358604e6,s:13507416e5},{e:139005e7,s:1382796e6},{e:14215032e5,s:14148504e5}]},{name:"Europe/London",rules:[{e:12249828e5,s:12068388e5},{e:12564324e5,s:12382884e5},{e:12884868e5,s:1269738e6},{e:13199364e5,s:13011876e5},{e:1351386e6,s:13326372e5},{e:13828356e5,s:13646916e5},{e:14142852e5,s:13961412e5}]}]},"undefined"!=typeof module&&void 0!==module.exports?module.exports=t:"undefined"!=typeof define&&null!==define&&null!=define.amd?define([],function(){return t}):window.jstz=t}(),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.moment=t()}(this,function(){"use strict";function e(){return Ge.apply(null,arguments)}function t(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function i(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function n(e){return void 0===e}function r(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function s(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function o(e,t){for(var i=[],n=0;n<e.length;++n)i.push(t(e[n],n));return i}function a(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function l(e,t){for(var i in t)a(t,i)&&(e[i]=t[i]);return a(t,"toString")&&(e.toString=t.toString),a(t,"valueOf")&&(e.valueOf=t.valueOf),e}function u(e,t,i,n){return fe(e,t,i,n,!0).utc()}function c(e){return null==e._pf&&(e._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}),e._pf}function d(e){if(null==e._isValid){var t=c(e),i=Ye.call(t.parsedDateParts,function(e){return null!=e}),n=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&i);if(e._strict&&(n=n&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return n;e._isValid=n}return e._isValid}function h(e){var t=u(NaN);return null!=e?l(c(t),e):c(t).userInvalidated=!0,t}function p(e,t){var i,r,s;if(n(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),n(t._i)||(e._i=t._i),n(t._f)||(e._f=t._f),n(t._l)||(e._l=t._l),n(t._strict)||(e._strict=t._strict),n(t._tzm)||(e._tzm=t._tzm),n(t._isUTC)||(e._isUTC=t._isUTC),n(t._offset)||(e._offset=t._offset),n(t._pf)||(e._pf=c(t)),n(t._locale)||(e._locale=t._locale),Ke.length>0)for(i=0;i<Ke.length;i++)n(s=t[r=Ke[i]])||(e[r]=s);return e}function f(t){p(this,t),this._d=new Date(null!=t._d?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===Qe&&(Qe=!0,e.updateOffset(this),Qe=!1)}function m(e){return e instanceof f||null!=e&&null!=e._isAMomentObject}function g(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function v(e){var t=+e,i=0;return 0!==t&&isFinite(t)&&(i=g(t)),i}function y(e,t,i){for(var n=Math.min(e.length,t.length),r=Math.abs(e.length-t.length),s=0,o=0;o<n;o++)(i&&e[o]!==t[o]||!i&&v(e[o])!==v(t[o]))&&s++;return s+r}function _(t){!1===e.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function b(t,i){var n=!0;return l(function(){var r,s,o,a;if(null!=e.deprecationHandler&&e.deprecationHandler(null,t),n){for(s=[],o=0;o<arguments.length;o++){if(r="","object"==typeof arguments[o]){for(a in r+="\n["+o+"] ",arguments[0])r+=a+": "+arguments[0][a]+", ";r=r.slice(0,-2)}else r=arguments[o];s.push(r)}_(t+"\nArguments: "+Array.prototype.slice.call(s).join("")+"\n"+(new Error).stack),n=!1}return i.apply(this,arguments)},i)}function w(t,i){null!=e.deprecationHandler&&e.deprecationHandler(t,i),Ze[t]||(_(i),Ze[t]=!0)}function T(e){return e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function C(e,t){var n,r=l({},e);for(n in t)a(t,n)&&(i(e[n])&&i(t[n])?(r[n]={},l(r[n],e[n]),l(r[n],t[n])):null!=t[n]?r[n]=t[n]:delete r[n]);for(n in e)a(e,n)&&!a(t,n)&&i(e[n])&&(r[n]=l({},r[n]));return r}function S(e){null!=e&&this.set(e)}function k(e,t){var i=e.toLowerCase();et[i]=et[i+"s"]=et[t]=e}function $(e){if("string"==typeof e)return et[e]||et[e.toLowerCase()]}function A(e){var t,i,n={};for(i in e)a(e,i)&&(t=$(i))&&(n[t]=e[i]);return n}function x(e,t){tt[e]=t}function E(e,t,i){var n=""+Math.abs(e),r=t-n.length;return(e>=0?i?"+":"":"-")+Math.pow(10,Math.max(0,r)).toString().substr(1)+n}function I(e,t,i,n){var r=n;"string"==typeof n&&(r=function(){return this[n]()}),e&&(It[e]=r),t&&(It[t[0]]=function(){return E(r.apply(this,arguments),t[1],t[2])}),i&&(It[i]=function(){return this.localeData().ordinal(r.apply(this,arguments),e)})}function D(e,t){return e.isValid()?(t=O(t,e.localeData()),Et[t]=Et[t]||function(e){for(var t,i=e.match(At),n=0,r=i.length;n<r;n++)i[n]=It[i[n]]?It[i[n]]:(t=i[n]).match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"");return function(t){for(var n="",s=0;s<r;s++)n+=T(i[s])?i[s].call(t,e):i[s];return n}}(t),Et[t](e)):e.localeData().invalidDate()}function O(e,t){function i(e){return t.longDateFormat(e)||e}var n=5;for(xt.lastIndex=0;n>=0&&xt.test(e);)e=e.replace(xt,i),xt.lastIndex=0,n-=1;return e}function P(e,t,i){Vt[e]=T(t)?t:function(e){return e&&i?i:t}}function N(e,t){return a(Vt,e)?Vt[e](t._strict,t._locale):new RegExp(L(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,i,n,r){return t||i||n||r})))}function L(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function F(e,t){var i,n=t;for("string"==typeof e&&(e=[e]),r(t)&&(n=function(e,i){i[t]=v(e)}),i=0;i<e.length;i++)it[e[i]]=n}function z(e,t){F(e,function(e,i,n,r){n._w=n._w||{},t(e,n._w,n,r)})}function R(e){return M(e)?366:365}function M(e){return e%4==0&&e%100!=0||e%400==0}function j(t,i){return function(n){return null!=n?(J(this,t,n),e.updateOffset(this,i),this):B(this,t)}}function B(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function J(e,t,i){e.isValid()&&!isNaN(i)&&("FullYear"===t&&M(e.year())&&1===e.month()&&29===e.date()?e._d["set"+(e._isUTC?"UTC":"")+t](i,e.month(),q(i,e.month())):e._d["set"+(e._isUTC?"UTC":"")+t](i))}function q(e,t){if(isNaN(e)||isNaN(t))return NaN;var i=(t%12+12)%12;return e+=(t-i)/12,1===i?M(e)?29:28:31-i%7%2}function H(e,t){var i;if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=v(t);else if(!r(t=e.localeData().monthsParse(t)))return e;return i=Math.min(e.date(),q(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,i),e}function U(t){return null!=t?(H(this,t),e.updateOffset(this,!0),this):B(this,"Month")}function V(){function e(e,t){return t.length-e.length}for(var t,i=[],n=[],r=[],s=0;s<12;s++)t=u([2e3,s]),i.push(this.monthsShort(t,"")),n.push(this.months(t,"")),r.push(this.months(t,"")),r.push(this.monthsShort(t,""));for(i.sort(e),n.sort(e),r.sort(e),s=0;s<12;s++)i[s]=L(i[s]),n[s]=L(n[s]);for(s=0;s<24;s++)r[s]=L(r[s]);this._monthsRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+i.join("|")+")","i")}function W(e){var t=new Date(Date.UTC.apply(null,arguments));return e<100&&e>=0&&isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e),t}function G(e,t,i){var n=7+t-i;return-(7+W(e,0,n).getUTCDay()-t)%7+n-1}function Y(e,t,i,n,r){var s,o,a=1+7*(t-1)+(7+i-n)%7+G(e,n,r);return a<=0?o=R(s=e-1)+a:a>R(e)?(s=e+1,o=a-R(e)):(s=e,o=a),{year:s,dayOfYear:o}}function K(e,t,i){var n,r,s=G(e.year(),t,i),o=Math.floor((e.dayOfYear()-s-1)/7)+1;return o<1?n=o+Q(r=e.year()-1,t,i):o>Q(e.year(),t,i)?(n=o-Q(e.year(),t,i),r=e.year()+1):(r=e.year(),n=o),{week:n,year:r}}function Q(e,t,i){var n=G(e,t,i),r=G(e+1,t,i);return(R(e)-n+r)/7}function X(){function e(e,t){return t.length-e.length}for(var t,i,n,r,s=[],o=[],a=[],l=[],c=0;c<7;c++)t=u([2e3,1]).day(c),i=this.weekdaysMin(t,""),n=this.weekdaysShort(t,""),r=this.weekdays(t,""),s.push(i),o.push(n),a.push(r),l.push(i),l.push(n),l.push(r);for(s.sort(e),o.sort(e),a.sort(e),l.sort(e),c=0;c<7;c++)o[c]=L(o[c]),a[c]=L(a[c]),l[c]=L(l[c]);this._weekdaysRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+a.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+o.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+s.join("|")+")","i")}function Z(){return this.hours()%12||12}function ee(e,t){I(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function te(e,t){return t._meridiemParse}function ie(e){return e?e.toLowerCase().replace("_","-"):e}function ne(e){var t=null;if(!fi[e]&&"undefined"!=typeof module&&module&&module.exports)try{t=di._abbr,require("./locale/"+e),re(t)}catch(e){}return fi[e]}function re(e,t){var i;return e&&((i=n(t)?oe(e):se(e,t))?di=i:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),di._abbr}function se(e,t){if(null!==t){var i,n=pi;if(t.abbr=e,null!=fi[e])w("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=fi[e]._config;else if(null!=t.parentLocale)if(null!=fi[t.parentLocale])n=fi[t.parentLocale]._config;else{if(null==(i=ne(t.parentLocale)))return mi[t.parentLocale]||(mi[t.parentLocale]=[]),mi[t.parentLocale].push({name:e,config:t}),null;n=i._config}return fi[e]=new S(C(n,t)),mi[e]&&mi[e].forEach(function(e){se(e.name,e.config)}),re(e),fi[e]}return delete fi[e],null}function oe(e){var i;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return di;if(!t(e)){if(i=ne(e))return i;e=[e]}return function(e){for(var t,i,n,r,s=0;s<e.length;){for(t=(r=ie(e[s]).split("-")).length,i=(i=ie(e[s+1]))?i.split("-"):null;t>0;){if(n=ne(r.slice(0,t).join("-")))return n;if(i&&i.length>=t&&y(r,i,!0)>=t-1)break;t--}s++}return di}(e)}function ae(e){var t,i=e._a;return i&&-2===c(e).overflow&&(t=i[Gt]<0||i[Gt]>11?Gt:i[Yt]<1||i[Yt]>q(i[Wt],i[Gt])?Yt:i[Kt]<0||i[Kt]>24||24===i[Kt]&&(0!==i[Qt]||0!==i[Xt]||0!==i[Zt])?Kt:i[Qt]<0||i[Qt]>59?Qt:i[Xt]<0||i[Xt]>59?Xt:i[Zt]<0||i[Zt]>999?Zt:-1,c(e)._overflowDayOfYear&&(t<Wt||t>Yt)&&(t=Yt),c(e)._overflowWeeks&&-1===t&&(t=ei),c(e)._overflowWeekday&&-1===t&&(t=ti),c(e).overflow=t),e}function le(e,t,i){return null!=e?e:null!=t?t:i}function ue(t){var i,n,r,s,o,a,l,u=[];if(!t._d){for(a=t,l=new Date(e.now()),r=a._useUTC?[l.getUTCFullYear(),l.getUTCMonth(),l.getUTCDate()]:[l.getFullYear(),l.getMonth(),l.getDate()],t._w&&null==t._a[Yt]&&null==t._a[Gt]&&function(e){var t,i,n,r,s,o,a,l,u;null!=(t=e._w).GG||null!=t.W||null!=t.E?(s=1,o=4,i=le(t.GG,e._a[Wt],K(me(),1,4).year),n=le(t.W,1),((r=le(t.E,1))<1||r>7)&&(l=!0)):(s=e._locale._week.dow,o=e._locale._week.doy,u=K(me(),s,o),i=le(t.gg,e._a[Wt],u.year),n=le(t.w,u.week),null!=t.d?((r=t.d)<0||r>6)&&(l=!0):null!=t.e?(r=t.e+s,(t.e<0||t.e>6)&&(l=!0)):r=s),n<1||n>Q(i,s,o)?c(e)._overflowWeeks=!0:null!=l?c(e)._overflowWeekday=!0:(a=Y(i,n,r,s,o),e._a[Wt]=a.year,e._dayOfYear=a.dayOfYear)}(t),null!=t._dayOfYear&&(o=le(t._a[Wt],r[Wt]),(t._dayOfYear>R(o)||0===t._dayOfYear)&&(c(t)._overflowDayOfYear=!0),n=W(o,0,t._dayOfYear),t._a[Gt]=n.getUTCMonth(),t._a[Yt]=n.getUTCDate()),i=0;i<3&&null==t._a[i];++i)t._a[i]=u[i]=r[i];for(;i<7;i++)t._a[i]=u[i]=null==t._a[i]?2===i?1:0:t._a[i];24===t._a[Kt]&&0===t._a[Qt]&&0===t._a[Xt]&&0===t._a[Zt]&&(t._nextDay=!0,t._a[Kt]=0),t._d=(t._useUTC?W:function(e,t,i,n,r,s,o){var a=new Date(e,t,i,n,r,s,o);return e<100&&e>=0&&isFinite(a.getFullYear())&&a.setFullYear(e),a}).apply(null,u),s=t._useUTC?t._d.getUTCDay():t._d.getDay(),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[Kt]=24),t._w&&void 0!==t._w.d&&t._w.d!==s&&(c(t).weekdayMismatch=!0)}}function ce(e){var t,i,n,r,s,o,a=e._i,l=gi.exec(a)||vi.exec(a);if(l){for(c(e).iso=!0,t=0,i=_i.length;t<i;t++)if(_i[t][1].exec(l[1])){r=_i[t][0],n=!1!==_i[t][2];break}if(null==r)return void(e._isValid=!1);if(l[3]){for(t=0,i=bi.length;t<i;t++)if(bi[t][1].exec(l[3])){s=(l[2]||" ")+bi[t][0];break}if(null==s)return void(e._isValid=!1)}if(!n&&null!=s)return void(e._isValid=!1);if(l[4]){if(!yi.exec(l[4]))return void(e._isValid=!1);o="Z"}e._f=r+(s||"")+(o||""),he(e)}else e._isValid=!1}function de(e){var t,i,n,r,s=at.exec(e._i.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim());if(s){if(i=r=function(e,t,i,n,r,s){var o=[function(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}(e),ri.indexOf(t),parseInt(i,10),parseInt(n,10),parseInt(r,10)];return s&&o.push(parseInt(s,10)),o}(s[4],s[3],s[2],s[5],s[6],s[7]),n=e,(t=s[1])&&oi.indexOf(t)!==new Date(i[0],i[1],i[2]).getDay()&&(c(n).weekdayMismatch=!0,n._isValid=!1,1))return;e._a=r,e._tzm=function(e,t,i){if(e)return lt[e];if(t)return 0;var n=parseInt(i,10),r=n%100;return(n-r)/100*60+r}(s[8],s[9],s[10]),e._d=W.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),c(e).rfc2822=!0}else e._isValid=!1}function he(t){if(t._f!==e.ISO_8601)if(t._f!==e.RFC_2822){t._a=[],c(t).empty=!0;for(var i,n,r,s,o,l,u=""+t._i,d=u.length,h=0,p=O(t._f,t._locale).match(At)||[],f=0;f<p.length;f++)n=p[f],(i=(u.match(N(n,t))||[])[0])&&((r=u.substr(0,u.indexOf(i))).length>0&&c(t).unusedInput.push(r),u=u.slice(u.indexOf(i)+i.length),h+=i.length),It[n]?(i?c(t).empty=!1:c(t).unusedTokens.push(n),s=n,l=t,null!=(o=i)&&a(it,s)&&it[s](o,l._a,l,s)):t._strict&&!i&&c(t).unusedTokens.push(n);c(t).charsLeftOver=d-h,u.length>0&&c(t).unusedInput.push(u),t._a[Kt]<=12&&!0===c(t).bigHour&&t._a[Kt]>0&&(c(t).bigHour=void 0),c(t).parsedDateParts=t._a.slice(0),c(t).meridiem=t._meridiem,t._a[Kt]=function(e,t,i){var n;return null==i?t:null!=e.meridiemHour?e.meridiemHour(t,i):null!=e.isPM?((n=e.isPM(i))&&t<12&&(t+=12),n||12!==t||(t=0),t):t}(t._locale,t._a[Kt],t._meridiem),ue(t),ae(t)}else de(t);else ce(t)}function pe(a){var u,g,v,y,_=a._i,b=a._f;return a._locale=a._locale||oe(a._l),null===_||void 0===b&&""===_?h({nullInput:!0}):("string"==typeof _&&(a._i=_=a._locale.preparse(_)),m(_)?new f(ae(_)):(s(_)?a._d=_:t(b)?function(e){var t,i,n,r,s;if(0===e._f.length)return c(e).invalidFormat=!0,void(e._d=new Date(NaN));for(r=0;r<e._f.length;r++)s=0,t=p({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[r],he(t),d(t)&&(s+=c(t).charsLeftOver,s+=10*c(t).unusedTokens.length,c(t).score=s,(null==n||s<n)&&(n=s,i=t));l(e,i||t)}(a):b?he(a):n(g=(u=a)._i)?u._d=new Date(e.now()):s(g)?u._d=new Date(g.valueOf()):"string"==typeof g?(v=u,null===(y=wi.exec(v._i))?(ce(v),!1===v._isValid&&(delete v._isValid,de(v),!1===v._isValid&&(delete v._isValid,e.createFromInputFallback(v)))):v._d=new Date(+y[1])):t(g)?(u._a=o(g.slice(0),function(e){return parseInt(e,10)}),ue(u)):i(g)?function(e){if(!e._d){var t=A(e._i);e._a=o([t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],function(e){return e&&parseInt(e,10)}),ue(e)}}(u):r(g)?u._d=new Date(g):e.createFromInputFallback(u),d(a)||(a._d=null),a))}function fe(e,n,r,s,o){var a,l={};return!0!==r&&!1!==r||(s=r,r=void 0),(i(e)&&function(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}(e)||t(e)&&0===e.length)&&(e=void 0),l._isAMomentObject=!0,l._useUTC=l._isUTC=o,l._l=r,l._i=e,l._f=n,l._strict=s,(a=new f(ae(pe(l))))._nextDay&&(a.add(1,"d"),a._nextDay=void 0),a}function me(e,t,i,n){return fe(e,t,i,n,!1)}function ge(e,i){var n,r;if(1===i.length&&t(i[0])&&(i=i[0]),!i.length)return me();for(n=i[0],r=1;r<i.length;++r)i[r].isValid()&&!i[r][e](n)||(n=i[r]);return n}function ve(e){var t=A(e),i=t.year||0,n=t.quarter||0,r=t.month||0,s=t.week||0,o=t.day||0,a=t.hour||0,l=t.minute||0,u=t.second||0,c=t.millisecond||0;this._isValid=function(e){var t,i,n;for(t in e)if(-1===nt.call(dt,t)||null!=e[t]&&isNaN(e[t]))return!1;for(i=!1,n=0;n<dt.length;++n)if(e[dt[n]]){if(i)return!1;parseFloat(e[dt[n]])!==v(e[dt[n]])&&(i=!0)}return!0}(t),this._milliseconds=+c+1e3*u+6e4*l+36e5*a,this._days=+o+7*s,this._months=+r+3*n+12*i,this._data={},this._locale=oe(),this._bubble()}function ye(e){return e instanceof ve}function _e(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function be(e,t){I(e,0,0,function(){var e=this.utcOffset(),i="+";return e<0&&(e=-e,i="-"),i+E(~~(e/60),2)+t+E(~~e%60,2)})}function we(e,t){var i,n,r=(t||"").match(e);return null===r?null:0===(n=60*(i=((r[r.length-1]||[])+"").match(ht)||["-",0,0])[1]+v(i[2]))?0:"+"===i[0]?n:-n}function Te(t,i){var n,r;return i._isUTC?(n=i.clone(),r=(m(t)||s(t)?t.valueOf():me(t).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+r),e.updateOffset(n,!1),n):me(t).local()}function Ce(e){return 15*-Math.round(e._d.getTimezoneOffset()/15)}function Se(){return!!this.isValid()&&this._isUTC&&0===this._offset}function ke(e,t){var i,n,s,o=e,l=null;return ye(e)?o={ms:e._milliseconds,d:e._days,M:e._months}:r(e)?(o={},t?o[t]=e:o.milliseconds=e):(l=pt.exec(e))?(i="-"===l[1]?-1:1,o={y:0,d:v(l[Yt])*i,h:v(l[Kt])*i,m:v(l[Qt])*i,s:v(l[Xt])*i,ms:v(_e(1e3*l[Zt]))*i}):(l=ft.exec(e))?(i="-"===l[1]?-1:(l[1],1),o={y:$e(l[2],i),M:$e(l[3],i),w:$e(l[4],i),d:$e(l[5],i),h:$e(l[6],i),m:$e(l[7],i),s:$e(l[8],i)}):null==o?o={}:"object"==typeof o&&("from"in o||"to"in o)&&(s=function(e,t){var i;return e.isValid()&&t.isValid()?(t=Te(t,e),e.isBefore(t)?i=Ae(e,t):((i=Ae(t,e)).milliseconds=-i.milliseconds,i.months=-i.months),i):{milliseconds:0,months:0}}(me(o.from),me(o.to)),(o={}).ms=s.milliseconds,o.M=s.months),n=new ve(o),ye(e)&&a(e,"_locale")&&(n._locale=e._locale),n}function $e(e,t){var i=e&&parseFloat(e.replace(",","."));return(isNaN(i)?0:i)*t}function Ae(e,t){var i={milliseconds:0,months:0};return i.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(i.months,"M").isAfter(t)&&--i.months,i.milliseconds=+t-+e.clone().add(i.months,"M"),i}function xe(e,t){return function(i,n){var r;return null===n||isNaN(+n)||(w(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),r=i,i=n,n=r),Ee(this,ke(i="string"==typeof i?+i:i,n),e),this}}function Ee(t,i,n,r){var s=i._milliseconds,o=_e(i._days),a=_e(i._months);t.isValid()&&(r=null==r||r,a&&H(t,B(t,"Month")+a*n),o&&J(t,"Date",B(t,"Date")+o*n),s&&t._d.setTime(t._d.valueOf()+s*n),r&&e.updateOffset(t,o||a))}function Ie(e,t){var i=12*(t.year()-e.year())+(t.month()-e.month()),n=e.clone().add(i,"months");return-(i+(t-n<0?(t-n)/(n-e.clone().add(i-1,"months")):(t-n)/(e.clone().add(i+1,"months")-n)))||0}function De(e){var t;return void 0===e?this._locale._abbr:(null!=(t=oe(e))&&(this._locale=t),this)}function Oe(){return this._locale}function Pe(e,t){I(0,[e,e.length],0,t)}function Ne(e,t,i,n,r){var s;return null==e?K(this,n,r).year:(t>(s=Q(e,n,r))&&(t=s),function(e,t,i,n,r){var s=Y(e,t,i,n,r),o=W(s.year,0,s.dayOfYear);return this.year(o.getUTCFullYear()),this.month(o.getUTCMonth()),this.date(o.getUTCDate()),this}.call(this,e,t,i,n,r))}function Le(e,t){t[Zt]=v(1e3*("0."+e))}function Fe(e){return e}function ze(e,t,i,n){var r=oe(),s=u().set(n,t);return r[i](s,e)}function Re(e,t,i){if(r(e)&&(t=e,e=void 0),e=e||"",null!=t)return ze(e,t,i,"month");for(var n=[],s=0;s<12;s++)n[s]=ze(e,s,i,"month");return n}function Me(e,t,i,n){var s,o,a,l;if("boolean"==typeof e?(r(t)&&(i=t,t=void 0),t=t||""):(i=t=e,e=!1,r(t)&&(i=t,t=void 0),t=t||""),o=oe(),a=e?o._week.dow:0,null!=i)return ze(t,(i+a)%7,n,"day");for(l=[],s=0;s<7;s++)l[s]=ze(t,(s+a)%7,n,"day");return l}function je(e,t,i,n){var r=ke(t,i);return e._milliseconds+=n*r._milliseconds,e._days+=n*r._days,e._months+=n*r._months,e._bubble()}function Be(e){return e<0?Math.floor(e):Math.ceil(e)}function Je(e){return 4800*e/146097}function qe(e){return 146097*e/4800}function He(e){return function(){return this.as(e)}}function Ue(e){return function(){return this.isValid()?this._data[e]:NaN}}function Ve(e){return(e>0)-(e<0)||+e}function We(){if(!this.isValid())return this.localeData().invalidDate();var e,t,i=Mi(this._milliseconds)/1e3,n=Mi(this._days),r=Mi(this._months);t=g((e=g(i/60))/60),i%=60,e%=60;var s=g(r/12),o=r%=12,a=n,l=t,u=e,c=i?i.toFixed(3).replace(/\.?0+$/,""):"",d=this.asSeconds();if(!d)return"P0D";var h=d<0?"-":"",p=Ve(this._months)!==Ve(d)?"-":"",f=Ve(this._days)!==Ve(d)?"-":"",m=Ve(this._milliseconds)!==Ve(d)?"-":"";return h+"P"+(s?p+s+"Y":"")+(o?p+o+"M":"")+(a?f+a+"D":"")+(l||u||c?"T":"")+(l?m+l+"H":"")+(u?m+u+"M":"")+(c?m+c+"S":"")}var Ge,Ye,Ke,Qe,Xe,Ze,et,tt,it,nt,rt,st,ot,at,lt,ut,ct,dt,ht,pt,ft,mt,gt,vt,yt,_t,bt,wt,Tt,Ct,St,kt,$t;Ye=Array.prototype.some?Array.prototype.some:function(e){for(var t=Object(this),i=t.length>>>0,n=0;n<i;n++)if(n in t&&e.call(this,t[n],n,t))return!0;return!1},Ke=e.momentProperties=[],Qe=!1,Ze={},e.suppressDeprecationWarnings=!1,e.deprecationHandler=null,Xe=Object.keys?Object.keys:function(e){var t,i=[];for(t in e)a(e,t)&&i.push(t);return i},et={},tt={};var At=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,xt=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Et={},It={},Dt=/\d/,Ot=/\d\d/,Pt=/\d{3}/,Nt=/\d{4}/,Lt=/[+-]?\d{6}/,Ft=/\d\d?/,zt=/\d\d\d\d?/,Rt=/\d\d\d\d\d\d?/,Mt=/\d{1,3}/,jt=/\d{1,4}/,Bt=/[+-]?\d{1,6}/,Jt=/[+-]?\d+/,qt=/Z|[+-]\d\d:?\d\d/gi,Ht=/Z|[+-]\d\d(?::?\d\d)?/gi,Ut=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,Vt={};it={};var Wt=0,Gt=1,Yt=2,Kt=3,Qt=4,Xt=5,Zt=6,ei=7,ti=8;I("Y",0,0,function(){var e=this.year();return e<=9999?""+e:"+"+e}),I(0,["YY",2],0,function(){return this.year()%100}),I(0,["YYYY",4],0,"year"),I(0,["YYYYY",5],0,"year"),I(0,["YYYYYY",6,!0],0,"year"),k("year","y"),x("year",1),P("Y",Jt),P("YY",Ft,Ot),P("YYYY",jt,Nt),P("YYYYY",Bt,Lt),P("YYYYYY",Bt,Lt),F(["YYYYY","YYYYYY"],Wt),F("YYYY",function(t,i){i[Wt]=2===t.length?e.parseTwoDigitYear(t):v(t)}),F("YY",function(t,i){i[Wt]=e.parseTwoDigitYear(t)}),F("Y",function(e,t){t[Wt]=parseInt(e,10)}),e.parseTwoDigitYear=function(e){return v(e)+(v(e)>68?1900:2e3)},rt=j("FullYear",!0),nt=Array.prototype.indexOf?Array.prototype.indexOf:function(e){for(var t=0;t<this.length;++t)if(this[t]===e)return t;return-1},I("M",["MM",2],"Mo",function(){return this.month()+1}),I("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),I("MMMM",0,0,function(e){return this.localeData().months(this,e)}),k("month","M"),x("month",8),P("M",Ft),P("MM",Ft,Ot),P("MMM",function(e,t){return t.monthsShortRegex(e)}),P("MMMM",function(e,t){return t.monthsRegex(e)}),F(["M","MM"],function(e,t){t[Gt]=v(e)-1}),F(["MMM","MMMM"],function(e,t,i,n){var r=i._locale.monthsParse(e,n,i._strict);null!=r?t[Gt]=r:c(i).invalidMonth=e});var ii=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,ni="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ri="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_");st=Ut,ot=Ut,I("w",["ww",2],"wo","week"),I("W",["WW",2],"Wo","isoWeek"),k("week","w"),k("isoWeek","W"),x("week",5),x("isoWeek",5),P("w",Ft),P("ww",Ft,Ot),P("W",Ft),P("WW",Ft,Ot),z(["w","ww","W","WW"],function(e,t,i,n){t[n.substr(0,1)]=v(e)}),I("d",0,"do","day"),I("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),I("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),I("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),I("e",0,0,"weekday"),I("E",0,0,"isoWeekday"),k("day","d"),k("weekday","e"),k("isoWeekday","E"),x("day",11),x("weekday",11),x("isoWeekday",11),P("d",Ft),P("e",Ft),P("E",Ft),P("dd",function(e,t){return t.weekdaysMinRegex(e)}),P("ddd",function(e,t){return t.weekdaysShortRegex(e)}),P("dddd",function(e,t){return t.weekdaysRegex(e)}),z(["dd","ddd","dddd"],function(e,t,i,n){var r=i._locale.weekdaysParse(e,n,i._strict);null!=r?t.d=r:c(i).invalidWeekday=e}),z(["d","e","E"],function(e,t,i,n){t[n]=v(e)});var si="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),oi="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),ai="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),li=Ut,ui=Ut,ci=Ut;I("H",["HH",2],0,"hour"),I("h",["hh",2],0,Z),I("k",["kk",2],0,function(){return this.hours()||24}),I("hmm",0,0,function(){return""+Z.apply(this)+E(this.minutes(),2)}),I("hmmss",0,0,function(){return""+Z.apply(this)+E(this.minutes(),2)+E(this.seconds(),2)}),I("Hmm",0,0,function(){return""+this.hours()+E(this.minutes(),2)}),I("Hmmss",0,0,function(){return""+this.hours()+E(this.minutes(),2)+E(this.seconds(),2)}),ee("a",!0),ee("A",!1),k("hour","h"),x("hour",13),P("a",te),P("A",te),P("H",Ft),P("h",Ft),P("k",Ft),P("HH",Ft,Ot),P("hh",Ft,Ot),P("kk",Ft,Ot),P("hmm",zt),P("hmmss",Rt),P("Hmm",zt),P("Hmmss",Rt),F(["H","HH"],Kt),F(["k","kk"],function(e,t){var i=v(e);t[Kt]=24===i?0:i}),F(["a","A"],function(e,t,i){i._isPm=i._locale.isPM(e),i._meridiem=e}),F(["h","hh"],function(e,t,i){t[Kt]=v(e),c(i).bigHour=!0}),F("hmm",function(e,t,i){var n=e.length-2;t[Kt]=v(e.substr(0,n)),t[Qt]=v(e.substr(n)),c(i).bigHour=!0}),F("hmmss",function(e,t,i){var n=e.length-4,r=e.length-2;t[Kt]=v(e.substr(0,n)),t[Qt]=v(e.substr(n,2)),t[Xt]=v(e.substr(r)),c(i).bigHour=!0}),F("Hmm",function(e,t){var i=e.length-2;t[Kt]=v(e.substr(0,i)),t[Qt]=v(e.substr(i))}),F("Hmmss",function(e,t){var i=e.length-4,n=e.length-2;t[Kt]=v(e.substr(0,i)),t[Qt]=v(e.substr(i,2)),t[Xt]=v(e.substr(n))});var di,hi=j("Hours",!0),pi={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:ni,monthsShort:ri,week:{dow:0,doy:6},weekdays:si,weekdaysMin:ai,weekdaysShort:oi,meridiemParse:/[ap]\.?m?\.?/i},fi={},mi={},gi=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,vi=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,yi=/Z|[+-]\d\d(?::?\d\d)?/,_i=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],bi=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],wi=/^\/?Date\((\-?\d+)/i;for(at=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,lt={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480},e.createFromInputFallback=b("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),e.ISO_8601=function(){},e.RFC_2822=function(){},ut=b("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=me.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:h()}),ct=b("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=me.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:h()}),dt=["year","quarter","month","week","day","hour","minute","second","millisecond"],be("Z",":"),be("ZZ",""),P("Z",Ht),P("ZZ",Ht),F(["Z","ZZ"],function(e,t,i){i._useUTC=!0,i._tzm=we(Ht,e)}),ht=/([\+\-]|\d\d)/gi,e.updateOffset=function(){},pt=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,ft=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/,ke.fn=ve.prototype,ke.invalid=function(){return ke(NaN)},mt=xe(1,"add"),gt=xe(-1,"subtract"),e.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",e.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]",vt=b("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return void 0===e?this.localeData():this.locale(e)}),I(0,["gg",2],0,function(){return this.weekYear()%100}),I(0,["GG",2],0,function(){return this.isoWeekYear()%100}),Pe("gggg","weekYear"),Pe("ggggg","weekYear"),Pe("GGGG","isoWeekYear"),Pe("GGGGG","isoWeekYear"),k("weekYear","gg"),k("isoWeekYear","GG"),x("weekYear",1),x("isoWeekYear",1),P("G",Jt),P("g",Jt),P("GG",Ft,Ot),P("gg",Ft,Ot),P("GGGG",jt,Nt),P("gggg",jt,Nt),P("GGGGG",Bt,Lt),P("ggggg",Bt,Lt),z(["gggg","ggggg","GGGG","GGGGG"],function(e,t,i,n){t[n.substr(0,2)]=v(e)}),z(["gg","GG"],function(t,i,n,r){i[r]=e.parseTwoDigitYear(t)}),I("Q",0,"Qo","quarter"),k("quarter","Q"),x("quarter",7),P("Q",Dt),F("Q",function(e,t){t[Gt]=3*(v(e)-1)}),I("D",["DD",2],"Do","date"),k("date","D"),x("date",9),P("D",Ft),P("DD",Ft,Ot),P("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient}),F(["D","DD"],Yt),F("Do",function(e,t){t[Yt]=v(e.match(Ft)[0])}),yt=j("Date",!0),I("DDD",["DDDD",3],"DDDo","dayOfYear"),k("dayOfYear","DDD"),x("dayOfYear",4),P("DDD",Mt),P("DDDD",Pt),F(["DDD","DDDD"],function(e,t,i){i._dayOfYear=v(e)}),I("m",["mm",2],0,"minute"),k("minute","m"),x("minute",14),P("m",Ft),P("mm",Ft,Ot),F(["m","mm"],Qt),_t=j("Minutes",!1),I("s",["ss",2],0,"second"),k("second","s"),x("second",15),P("s",Ft),P("ss",Ft,Ot),F(["s","ss"],Xt),wt=j("Seconds",!1),I("S",0,0,function(){return~~(this.millisecond()/100)}),I(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),I(0,["SSS",3],0,"millisecond"),I(0,["SSSS",4],0,function(){return 10*this.millisecond()}),I(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),I(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),I(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),I(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),I(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),k("millisecond","ms"),x("millisecond",16),P("S",Mt,Dt),P("SS",Mt,Ot),P("SSS",Mt,Pt),bt="SSSS";bt.length<=9;bt+="S")P(bt,/\d+/);for(bt="S";bt.length<=9;bt+="S")F(bt,Le);Tt=j("Milliseconds",!1),I("z",0,0,"zoneAbbr"),I("zz",0,0,"zoneName"),(Ct=f.prototype).add=mt,Ct.calendar=function(t,i){var n=t||me(),r=Te(n,this).startOf("day"),s=e.calendarFormat(this,r)||"sameElse",o=i&&(T(i[s])?i[s].call(this,n):i[s]);return this.format(o||this.localeData().calendar(s,this,me(n)))},Ct.clone=function(){return new f(this)},Ct.diff=function(e,t,i){var n,r,s;if(!this.isValid())return NaN;if(!(n=Te(e,this)).isValid())return NaN;switch(r=6e4*(n.utcOffset()-this.utcOffset()),t=$(t)){case"year":s=Ie(this,n)/12;break;case"month":s=Ie(this,n);break;case"quarter":s=Ie(this,n)/3;break;case"second":s=(this-n)/1e3;break;case"minute":s=(this-n)/6e4;break;case"hour":s=(this-n)/36e5;break;case"day":s=(this-n-r)/864e5;break;case"week":s=(this-n-r)/6048e5;break;default:s=this-n}return i?s:g(s)},Ct.endOf=function(e){return void 0===(e=$(e))||"millisecond"===e?this:("date"===e&&(e="day"),this.startOf(e).add(1,"isoWeek"===e?"week":e).subtract(1,"ms"))},Ct.format=function(t){t||(t=this.isUtc()?e.defaultFormatUtc:e.defaultFormat);var i=D(this,t);return this.localeData().postformat(i)},Ct.from=function(e,t){return this.isValid()&&(m(e)&&e.isValid()||me(e).isValid())?ke({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},Ct.fromNow=function(e){return this.from(me(),e)},Ct.to=function(e,t){return this.isValid()&&(m(e)&&e.isValid()||me(e).isValid())?ke({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},Ct.toNow=function(e){return this.to(me(),e)},Ct.get=function(e){return T(this[e=$(e)])?this[e]():this},Ct.invalidAt=function(){return c(this).overflow},Ct.isAfter=function(e,t){var i=m(e)?e:me(e);return!(!this.isValid()||!i.isValid())&&("millisecond"===(t=$(n(t)?"millisecond":t))?this.valueOf()>i.valueOf():i.valueOf()<this.clone().startOf(t).valueOf())},Ct.isBefore=function(e,t){var i=m(e)?e:me(e);return!(!this.isValid()||!i.isValid())&&("millisecond"===(t=$(n(t)?"millisecond":t))?this.valueOf()<i.valueOf():this.clone().endOf(t).valueOf()<i.valueOf())},Ct.isBetween=function(e,t,i,n){return("("===(n=n||"()")[0]?this.isAfter(e,i):!this.isBefore(e,i))&&(")"===n[1]?this.isBefore(t,i):!this.isAfter(t,i))},Ct.isSame=function(e,t){var i,n=m(e)?e:me(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=$(t||"millisecond"))?this.valueOf()===n.valueOf():(i=n.valueOf(),this.clone().startOf(t).valueOf()<=i&&i<=this.clone().endOf(t).valueOf()))},Ct.isSameOrAfter=function(e,t){return this.isSame(e,t)||this.isAfter(e,t)},Ct.isSameOrBefore=function(e,t){return this.isSame(e,t)||this.isBefore(e,t)},Ct.isValid=function(){return d(this)},Ct.lang=vt,Ct.locale=De,Ct.localeData=Oe,Ct.max=ct,Ct.min=ut,Ct.parsingFlags=function(){return l({},c(this))},Ct.set=function(e,t){if("object"==typeof e)for(var i=function(e){var t=[];for(var i in e)t.push({unit:i,priority:tt[i]});return t.sort(function(e,t){return e.priority-t.priority}),t}(e=A(e)),n=0;n<i.length;n++)this[i[n].unit](e[i[n].unit]);else if(T(this[e=$(e)]))return this[e](t);return this},Ct.startOf=function(e){switch(e=$(e)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e&&this.weekday(0),"isoWeek"===e&&this.isoWeekday(1),"quarter"===e&&this.month(3*Math.floor(this.month()/3)),this},Ct.subtract=gt,Ct.toArray=function(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]},Ct.toObject=function(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}},Ct.toDate=function(){return new Date(this.valueOf())},Ct.toISOString=function(e){if(!this.isValid())return null;var t=!0!==e,i=t?this.clone().utc():this;return i.year()<0||i.year()>9999?D(i,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):T(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+6e4*this.utcOffset()).toISOString().replace("Z",D(i,"Z")):D(i,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},Ct.inspect=function(){var e,t;if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";e="moment",t="",this.isLocal()||(e=0===this.utcOffset()?"moment.utc":"moment.parseZone",t="Z");var i="["+e+'("]',n=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",r=t+'[")]';return this.format(i+n+"-MM-DD[T]HH:mm:ss.SSS"+r)},Ct.toJSON=function(){return this.isValid()?this.toISOString():null},Ct.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},Ct.unix=function(){return Math.floor(this.valueOf()/1e3)},Ct.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},Ct.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},Ct.year=rt,Ct.isLeapYear=function(){return M(this.year())},Ct.weekYear=function(e){return Ne.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},Ct.isoWeekYear=function(e){return Ne.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)},Ct.quarter=Ct.quarters=function(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)},Ct.month=U,Ct.daysInMonth=function(){return q(this.year(),this.month())},Ct.week=Ct.weeks=function(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")},Ct.isoWeek=Ct.isoWeeks=function(e){var t=K(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")},Ct.weeksInYear=function(){var e=this.localeData()._week;return Q(this.year(),e.dow,e.doy)},Ct.isoWeeksInYear=function(){return Q(this.year(),1,4)},Ct.date=yt,Ct.day=Ct.days=function(e){if(!this.isValid())return null!=e?this:NaN;var t,i,n=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(t=e,i=this.localeData(),e="string"!=typeof t?t:isNaN(t)?"number"==typeof(t=i.weekdaysParse(t))?t:null:parseInt(t,10),this.add(e-n,"d")):n},Ct.weekday=function(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")},Ct.isoWeekday=function(e){var t,i,n;return this.isValid()?null!=e?(i=e,n=this.localeData(),t="string"==typeof i?n.weekdaysParse(i)%7||7:isNaN(i)?null:i,this.day(this.day()%7?t:t-7)):this.day()||7:null!=e?this:NaN},Ct.dayOfYear=function(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")},Ct.hour=Ct.hours=hi,Ct.minute=Ct.minutes=_t,Ct.second=Ct.seconds=wt,Ct.millisecond=Ct.milliseconds=Tt,Ct.utcOffset=function(t,i,n){var r,s=this._offset||0;if(!this.isValid())return null!=t?this:NaN;if(null!=t){if("string"==typeof t){if(null===(t=we(Ht,t)))return this}else Math.abs(t)<16&&!n&&(t*=60);return!this._isUTC&&i&&(r=Ce(this)),this._offset=t,this._isUTC=!0,null!=r&&this.add(r,"m"),s!==t&&(!i||this._changeInProgress?Ee(this,ke(t-s,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,e.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?s:Ce(this)},Ct.utc=function(e){return this.utcOffset(0,e)},Ct.local=function(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Ce(this),"m")),this},Ct.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var e=we(qt,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this},Ct.hasAlignedHourOffset=function(e){return!!this.isValid()&&(e=e?me(e).utcOffset():0,(this.utcOffset()-e)%60==0)},Ct.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},Ct.isLocal=function(){return!!this.isValid()&&!this._isUTC},Ct.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},Ct.isUtc=Se,Ct.isUTC=Se,Ct.zoneAbbr=function(){return this._isUTC?"UTC":""},Ct.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},Ct.dates=b("dates accessor is deprecated. Use date instead.",yt),Ct.months=b("months accessor is deprecated. Use month instead",U),Ct.years=b("years accessor is deprecated. Use year instead",rt),Ct.zone=b("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",function(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}),Ct.isDSTShifted=b("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",function(){var e,t;return n(this._isDSTShifted)?(p(e={},this),(e=pe(e))._a?(t=e._isUTC?u(e._a):me(e._a),this._isDSTShifted=this.isValid()&&y(e._a,t.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted):this._isDSTShifted}),(St=S.prototype).calendar=function(e,t,i){var n=this._calendar[e]||this._calendar.sameElse;return T(n)?n.call(t,i):n},St.longDateFormat=function(e){var t=this._longDateFormat[e],i=this._longDateFormat[e.toUpperCase()];return t||!i?t:(this._longDateFormat[e]=i.replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e])},St.invalidDate=function(){return this._invalidDate},St.ordinal=function(e){return this._ordinal.replace("%d",e)},St.preparse=Fe,St.postformat=Fe,St.relativeTime=function(e,t,i,n){var r=this._relativeTime[i];return T(r)?r(e,t,i,n):r.replace(/%d/i,e)},St.pastFuture=function(e,t){var i=this._relativeTime[e>0?"future":"past"];return T(i)?i(t):i.replace(/%s/i,t)},St.set=function(e){var t;for(var i in e)T(t=e[i])?this[i]=t:this["_"+i]=t;this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},St.months=function(e,i){return e?t(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||ii).test(i)?"format":"standalone"][e.month()]:t(this._months)?this._months:this._months.standalone},St.monthsShort=function(e,i){return e?t(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[ii.test(i)?"format":"standalone"][e.month()]:t(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},St.monthsParse=function(e,t,i){var n,r,s;if(this._monthsParseExact)return function(e,t,i){var n,r,s,o=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],n=0;n<12;++n)s=u([2e3,n]),this._shortMonthsParse[n]=this.monthsShort(s,"").toLocaleLowerCase(),this._longMonthsParse[n]=this.months(s,"").toLocaleLowerCase();return i?"MMM"===t?-1!==(r=nt.call(this._shortMonthsParse,o))?r:null:-1!==(r=nt.call(this._longMonthsParse,o))?r:null:"MMM"===t?-1!==(r=nt.call(this._shortMonthsParse,o))?r:-1!==(r=nt.call(this._longMonthsParse,o))?r:null:-1!==(r=nt.call(this._longMonthsParse,o))?r:-1!==(r=nt.call(this._shortMonthsParse,o))?r:null}.call(this,e,t,i);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),n=0;n<12;n++)if(r=u([2e3,n]),i&&!this._longMonthsParse[n]&&(this._longMonthsParse[n]=new RegExp("^"+this.months(r,"").replace(".","")+"$","i"),this._shortMonthsParse[n]=new RegExp("^"+this.monthsShort(r,"").replace(".","")+"$","i")),i||this._monthsParse[n]||(s="^"+this.months(r,"")+"|^"+this.monthsShort(r,""),this._monthsParse[n]=new RegExp(s.replace(".",""),"i")),i&&"MMMM"===t&&this._longMonthsParse[n].test(e)||i&&"MMM"===t&&this._shortMonthsParse[n].test(e)||!i&&this._monthsParse[n].test(e))return n},St.monthsRegex=function(e){return this._monthsParseExact?(a(this,"_monthsRegex")||V.call(this),e?this._monthsStrictRegex:this._monthsRegex):(a(this,"_monthsRegex")||(this._monthsRegex=ot),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)},St.monthsShortRegex=function(e){return this._monthsParseExact?(a(this,"_monthsRegex")||V.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(a(this,"_monthsShortRegex")||(this._monthsShortRegex=st),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)},St.week=function(e){return K(e,this._week.dow,this._week.doy).week},St.firstDayOfYear=function(){return this._week.doy},St.firstDayOfWeek=function(){return this._week.dow},St.weekdays=function(e,i){return e?t(this._weekdays)?this._weekdays[e.day()]:this._weekdays[this._weekdays.isFormat.test(i)?"format":"standalone"][e.day()]:t(this._weekdays)?this._weekdays:this._weekdays.standalone},St.weekdaysMin=function(e){return e?this._weekdaysMin[e.day()]:this._weekdaysMin},St.weekdaysShort=function(e){return e?this._weekdaysShort[e.day()]:this._weekdaysShort},St.weekdaysParse=function(e,t,i){var n,r,s;if(this._weekdaysParseExact)return function(e,t,i){var n,r,s,o=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],n=0;n<7;++n)s=u([2e3,1]).day(n),this._minWeekdaysParse[n]=this.weekdaysMin(s,"").toLocaleLowerCase(),this._shortWeekdaysParse[n]=this.weekdaysShort(s,"").toLocaleLowerCase(),this._weekdaysParse[n]=this.weekdays(s,"").toLocaleLowerCase();return i?"dddd"===t?-1!==(r=nt.call(this._weekdaysParse,o))?r:null:"ddd"===t?-1!==(r=nt.call(this._shortWeekdaysParse,o))?r:null:-1!==(r=nt.call(this._minWeekdaysParse,o))?r:null:"dddd"===t?-1!==(r=nt.call(this._weekdaysParse,o))?r:-1!==(r=nt.call(this._shortWeekdaysParse,o))?r:-1!==(r=nt.call(this._minWeekdaysParse,o))?r:null:"ddd"===t?-1!==(r=nt.call(this._shortWeekdaysParse,o))?r:-1!==(r=nt.call(this._weekdaysParse,o))?r:-1!==(r=nt.call(this._minWeekdaysParse,o))?r:null:-1!==(r=nt.call(this._minWeekdaysParse,o))?r:-1!==(r=nt.call(this._weekdaysParse,o))?r:-1!==(r=nt.call(this._shortWeekdaysParse,o))?r:null}.call(this,e,t,i);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),n=0;n<7;n++)if(r=u([2e3,1]).day(n),i&&!this._fullWeekdaysParse[n]&&(this._fullWeekdaysParse[n]=new RegExp("^"+this.weekdays(r,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[n]=new RegExp("^"+this.weekdaysShort(r,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[n]=new RegExp("^"+this.weekdaysMin(r,"").replace(".",".?")+"$","i")),this._weekdaysParse[n]||(s="^"+this.weekdays(r,"")+"|^"+this.weekdaysShort(r,"")+"|^"+this.weekdaysMin(r,""),this._weekdaysParse[n]=new RegExp(s.replace(".",""),"i")),i&&"dddd"===t&&this._fullWeekdaysParse[n].test(e)||i&&"ddd"===t&&this._shortWeekdaysParse[n].test(e)||i&&"dd"===t&&this._minWeekdaysParse[n].test(e)||!i&&this._weekdaysParse[n].test(e))return n},St.weekdaysRegex=function(e){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||X.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(a(this,"_weekdaysRegex")||(this._weekdaysRegex=li),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)},St.weekdaysShortRegex=function(e){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||X.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(a(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=ui),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},St.weekdaysMinRegex=function(e){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||X.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(a(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=ci),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},St.isPM=function(e){return"p"===(e+"").toLowerCase().charAt(0)},St.meridiem=function(e,t,i){return e>11?i?"pm":"PM":i?"am":"AM"},re("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===v(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),e.lang=b("moment.lang is deprecated. Use moment.locale instead.",re),e.langData=b("moment.langData is deprecated. Use moment.localeData instead.",oe),kt=Math.abs;var Ti=He("ms"),Ci=He("s"),Si=He("m"),ki=He("h"),$i=He("d"),Ai=He("w"),xi=He("M"),Ei=He("y"),Ii=Ue("milliseconds"),Di=Ue("seconds"),Oi=Ue("minutes"),Pi=Ue("hours"),Ni=Ue("days"),Li=Ue("months"),Fi=Ue("years"),zi=Math.round,Ri={ss:44,s:45,m:45,h:22,d:26,M:11},Mi=Math.abs;return($t=ve.prototype).isValid=function(){return this._isValid},$t.abs=function(){var e=this._data;return this._milliseconds=kt(this._milliseconds),this._days=kt(this._days),this._months=kt(this._months),e.milliseconds=kt(e.milliseconds),e.seconds=kt(e.seconds),e.minutes=kt(e.minutes),e.hours=kt(e.hours),e.months=kt(e.months),e.years=kt(e.years),this},$t.add=function(e,t){return je(this,e,t,1)},$t.subtract=function(e,t){return je(this,e,t,-1)},$t.as=function(e){if(!this.isValid())return NaN;var t,i,n=this._milliseconds;if("month"===(e=$(e))||"year"===e)return t=this._days+n/864e5,i=this._months+Je(t),"month"===e?i:i/12;switch(t=this._days+Math.round(qe(this._months)),e){case"week":return t/7+n/6048e5;case"day":return t+n/864e5;case"hour":return 24*t+n/36e5;case"minute":return 1440*t+n/6e4;case"second":return 86400*t+n/1e3;case"millisecond":return Math.floor(864e5*t)+n;default:throw new Error("Unknown unit "+e)}},$t.asMilliseconds=Ti,$t.asSeconds=Ci,$t.asMinutes=Si,$t.asHours=ki,$t.asDays=$i,$t.asWeeks=Ai,$t.asMonths=xi,$t.asYears=Ei,$t.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*v(this._months/12):NaN},$t._bubble=function(){var e,t,i,n,r,s=this._milliseconds,o=this._days,a=this._months,l=this._data;return s>=0&&o>=0&&a>=0||s<=0&&o<=0&&a<=0||(s+=864e5*Be(qe(a)+o),o=0,a=0),l.milliseconds=s%1e3,e=g(s/1e3),l.seconds=e%60,t=g(e/60),l.minutes=t%60,i=g(t/60),l.hours=i%24,a+=r=g(Je(o+=g(i/24))),o-=Be(qe(r)),n=g(a/12),a%=12,l.days=o,l.months=a,l.years=n,this},$t.clone=function(){return ke(this)},$t.get=function(e){return e=$(e),this.isValid()?this[e+"s"]():NaN},$t.milliseconds=Ii,$t.seconds=Di,$t.minutes=Oi,$t.hours=Pi,$t.days=Ni,$t.weeks=function(){return g(this.days()/7)},$t.months=Li,$t.years=Fi,$t.humanize=function(e){if(!this.isValid())return this.localeData().invalidDate();var t,i,n,r,s,o,a,l,u,c,d=this.localeData(),h=(t=!e,i=d,n=ke(this).abs(),r=zi(n.as("s")),s=zi(n.as("m")),o=zi(n.as("h")),a=zi(n.as("d")),l=zi(n.as("M")),u=zi(n.as("y")),(c=r<=Ri.ss&&["s",r]||r<Ri.s&&["ss",r]||s<=1&&["m"]||s<Ri.m&&["mm",s]||o<=1&&["h"]||o<Ri.h&&["hh",o]||a<=1&&["d"]||a<Ri.d&&["dd",a]||l<=1&&["M"]||l<Ri.M&&["MM",l]||u<=1&&["y"]||["yy",u])[2]=t,c[3]=+this>0,c[4]=i,function(e,t,i,n,r){return r.relativeTime(t||1,!!i,e,n)}.apply(null,c));return e&&(h=d.pastFuture(+this,h)),d.postformat(h)},$t.toISOString=We,$t.toString=We,$t.toJSON=We,$t.locale=De,$t.localeData=Oe,$t.toIsoString=b("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",We),$t.lang=vt,I("X",0,0,"unix"),I("x",0,0,"valueOf"),P("x",Jt),P("X",/[+-]?\d+(\.\d{1,3})?/),F("X",function(e,t,i){i._d=new Date(1e3*parseFloat(e,10))}),F("x",function(e,t,i){i._d=new Date(v(e))}),e.version="2.21.0",Ge=me,e.fn=Ct,e.min=function(){return ge("isBefore",[].slice.call(arguments,0))},e.max=function(){return ge("isAfter",[].slice.call(arguments,0))},e.now=function(){return Date.now?Date.now():+new Date},e.utc=u,e.unix=function(e){return me(1e3*e)},e.months=function(e,t){return Re(e,t,"months")},e.isDate=s,e.locale=re,e.invalid=h,e.duration=ke,e.isMoment=m,e.weekdays=function(e,t,i){return Me(e,t,i,"weekdays")},e.parseZone=function(){return me.apply(null,arguments).parseZone()},e.localeData=oe,e.isDuration=ye,e.monthsShort=function(e,t){return Re(e,t,"monthsShort")},e.weekdaysMin=function(e,t,i){return Me(e,t,i,"weekdaysMin")},e.defineLocale=se,e.updateLocale=function(e,t){if(null!=t){var i,n,r=pi;null!=(n=ne(e))&&(r=n._config),(i=new S(t=C(r,t))).parentLocale=fi[e],fi[e]=i,re(e)}else null!=fi[e]&&(null!=fi[e].parentLocale?fi[e]=fi[e].parentLocale:null!=fi[e]&&delete fi[e]);return fi[e]},e.locales=function(){return Xe(fi)},e.weekdaysShort=function(e,t,i){return Me(e,t,i,"weekdaysShort")},e.normalizeUnits=$,e.relativeTimeRounding=function(e){return void 0===e?zi:"function"==typeof e&&(zi=e,!0)},e.relativeTimeThreshold=function(e,t){return void 0!==Ri[e]&&(void 0===t?Ri[e]:(Ri[e]=t,"s"===e&&(Ri.ss=t-1),!0))},e.calendarFormat=function(e,t){var i=e.diff(t,"days",!0);return i<-6?"sameElse":i<-1?"lastWeek":i<0?"lastDay":i<1?"sameDay":i<2?"nextDay":i<7?"nextWeek":"sameElse"},e.prototype=Ct,e.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"YYYY-[W]WW",MONTH:"YYYY-MM"},e}),function(){var e,i,n;for(key in null!=(e=$("meta[name='juzaweb-admin-context']").attr("content"))?window.Juzaweb||(window.Juzaweb=JSON.parse(e)):window.Juzaweb||(window.Juzaweb={}),Juzaweb.DEFAULT_OPTION_NAME="Title",Juzaweb.DEFAULT_OPTION_VALUE="Default title",Juzaweb.DEFAULT_OPTION_NAMES=["Kích thước","Màu sắc","Chất liệu","Kiểu dáng"],Juzaweb.LOADING="<i class='fa fa-lg fa-spinner fa-pulse'></i>",Juzaweb.config={theme_extension:"bwt",aviary_api_key:"27f70770623f4ba7b0e9ab52ddfa3e3b"},Juzaweb.funcRoutes={},Juzaweb.routes={},i=[].slice,n=function(){var e,t,n,r,s,o,a,l,u;for(n=arguments[0],t=2<=arguments.length?i.call(arguments,1):[],_.isObject(_.last(t))&&(a=t.pop()),l=n,r=s=0,o=t.length;o>s;r=++s)e=t[r],l=l.replace(":"+(r+1),e);if(-1!==l.indexOf(":"))throw"Path '"+l+"' is expecting more arguments";return{html:""+l+(u=a?"?"+$.param(a):""),json:l+".json"+u}},Juzaweb.routes)t=Juzaweb.routes[key],Juzaweb.funcRoutes[key]=n.bind(null,t);_urlMappings={collection:"/admin/collections/SingleDropdown",product:"/admin/products/SingleDropdown",page:"/admin/pages/SingleDropdown",blog:"/admin/blogs/SingleDropdown",customer:"/admin/customers/singledropdown",article:"/admin/articles/SingleDropdown"},_urlSuggestMappings={collection:"/admin/collections/SingleSuggest",product:"/admin/products/SingleSuggest",page:"/admin/pages/SingleSuggest",blog:"/admin/blogs/SingleSuggest",customer:"/admin/customers/singlesuggest",article:"/admin/articles/SingleSuggest"},_urlMultipleMappings={collection:"/admin/collections/Dropdown?type=custom&",product:"/admin/products/Dropdown?"},_urlMultipleSuggestMappings={collection:"/admin/collections/Suggest?type=custom&",product:"/admin/products/Suggest?"}}.call(this),function(){function e(e,t){return e.set(t[0],t[1]),e}function t(e,t){return e.add(t),e}function i(e,t,i){switch(i.length){case 0:return e.call(t);case 1:return e.call(t,i[0]);case 2:return e.call(t,i[0],i[1]);case 3:return e.call(t,i[0],i[1],i[2])}return e.apply(t,i)}function n(e,t,i,n){for(var r,s=-1,o=e.length;++s<o;)t(n,r=e[s],i(r),e);return n}function r(e,t){for(var i=-1,n=e.length;++i<n&&!1!==t(e[i],i,e););return e}function s(e,t){for(var i=-1,n=e.length;++i<n;)if(!t(e[i],i,e))return!1;return!0}function o(e,t){for(var i,n=-1,r=e.length,s=0,o=[];++n<r;)t(i=e[n],n,e)&&(o[s++]=i);return o}function a(e,t){return!!e.length&&v(e,t,0)>-1}function l(e,t,i){for(var n=-1,r=e.length;++n<r;)if(i(t,e[n]))return!0;return!1}function u(e,t){for(var i=-1,n=e.length,r=Array(n);++i<n;)r[i]=t(e[i],i,e);return r}function c(e,t){for(var i=-1,n=t.length,r=e.length;++i<n;)e[r+i]=t[i];return e}function d(e,t,i,n){var r=-1,s=e.length;for(n&&s&&(i=e[++r]);++r<s;)i=t(i,e[r],r,e);return i}function h(e,t,i,n){var r=e.length;for(n&&r&&(i=e[--r]);r--;)i=t(i,e[r],r,e);return i}function p(e,t){for(var i=-1,n=e.length;++i<n;)if(t(e[i],i,e))return!0;return!1}function f(e,t,i){for(var n,r,s,o,a=-1,l=e.length;++a<l;)null!=(r=t(n=e[a]))&&(s===J?r==r:i(r,s))&&(s=r,o=n);return o}function m(e,t,i,n){var r;return i(e,function(e,i,s){if(t(e,i,s))return r=n?i:e,!1}),r}function g(e,t,i){for(var n=e.length,r=i?n:-1;i?r--:++r<n;)if(t(e[r],r,e))return r;return-1}function v(e,t,i){if(t!=t)return O(e,i);for(var n=i-1,r=e.length;++n<r;)if(e[n]===t)return n;return-1}function y(e,t,i,n){for(var r=i-1,s=e.length;++r<s;)if(n(e[r],t))return r;return-1}function _(e,t,i,n,r){return r(e,function(e,r,s){i=n?(n=!1,e):t(i,e,r,s)}),i}function b(e,t){for(var i,n,r=-1,s=e.length;++r<s;)(n=t(e[r]))!==J&&(i=i===J?n:i+n);return i}function w(e,t){for(var i=-1,n=Array(e);++i<e;)n[i]=t(i);return n}function T(e,t){return u(t,function(t){return[t,e[t]]})}function C(e){return function(t){return e(t)}}function S(e,t){return u(t,function(t){return e[t]})}function k(e,t){for(var i=-1,n=e.length;++i<n&&v(t,e[i],0)>-1;);return i}function $(e,t){for(var i=e.length;i--&&v(t,e[i],0)>-1;);return i}function A(e){return e&&e.Object===Object?e:null}function x(e,t){if(e!==t){var i=null===e,n=e===J,r=e==e,s=null===t,o=t===J,a=t==t;if(e>t&&!s||!r||i&&!o&&a||n&&a)return 1;if(t>e&&!i||!a||s&&!n&&r||o&&r)return-1}return 0}function E(e){return oi[e]}function I(e){return ai[e]}function D(e){return"\\"+ci[e]}function O(e,t,i){for(var n,r=e.length,s=t+(i?0:-1);i?s--:++s<r;)if((n=e[s])!=n)return s;return-1}function P(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}function N(e,t){return e="number"==typeof e||_t.test(e)?+e:-1,t=null==t?me:t,e>-1&&e%1==0&&t>e}function L(e){for(var t,i=[];!(t=e.next()).done;)i.push(t.value);return i}function F(e){var t=-1,i=Array(e.size);return e.forEach(function(e,n){i[++t]=[n,e]}),i}function z(e,t){for(var i,n=-1,r=e.length,s=0,o=[];++n<r;)((i=e[n])===t||i===G)&&(e[n]=G,o[s++]=n);return o}function R(e){var t=-1,i=Array(e.size);return e.forEach(function(e){i[++t]=e}),i}function M(e){if(!e||!Zt.test(e))return e.length;for(var t=Xt.lastIndex=0;Xt.test(e);)t++;return t}function j(e){return e.match(Xt)}function B(e){return li[e]}var J,q,H="4.6.1",U=200,V="Expected a function",W="__lodash_hash_undefined__",G="__lodash_placeholder__",Y=1,K=2,Q=4,X=8,Z=16,ee=32,te=64,ie=128,ne=256,re=512,se=1,oe=2,ae=30,le="...",ue=150,ce=16,de=1,he=2,pe=3,fe=1/0,me=9007199254740991,ge=1.7976931348623157e308,ve=NaN,ye=4294967295,_e=ye-1,be=ye>>>1,we="[object Arguments]",Te="[object Array]",Ce="[object Boolean]",Se="[object Date]",ke="[object Error]",$e="[object Function]",Ae="[object GeneratorFunction]",xe="[object Map]",Ee="[object Number]",Ie="[object Object]",De="[object RegExp]",Oe="[object Set]",Pe="[object String]",Ne="[object Symbol]",Le="[object WeakMap]",Fe="[object WeakSet]",ze="[object ArrayBuffer]",Re="[object Float32Array]",Me="[object Float64Array]",je="[object Int8Array]",Be="[object Int16Array]",Je="[object Int32Array]",qe="[object Uint8Array]",He="[object Uint8ClampedArray]",Ue="[object Uint16Array]",Ve="[object Uint32Array]",We=/\b__p \+= '';/g,Ge=/\b(__p \+=) '' \+/g,Ye=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Ke=/&(?:amp|lt|gt|quot|#39|#96);/g,Qe=/[&<>"'`]/g,Xe=RegExp(Ke.source),Ze=RegExp(Qe.source),et=/(?:\[%|\{\{)=([\s\S]+?)(?:\}\}|%\])/g,tt=/(?:\[%|\{\{)([\s\S]+?)(?:\}\}|%\])/g,it=/(?:\[%|\{\{)!([\s\S]+?)(?:\}\}|%\])/g,nt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,rt=/^\w*$/,st=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]/g,ot=/[\\^$.*+?()[\]{}|]/g,at=RegExp(ot.source),lt=/^\s+|\s+$/g,ut=/^\s+/,ct=/\s+$/,dt=/\\(\\)?/g,ht=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,pt=/\w*$/,ft=/^0x/i,mt=/^[-+]0x[0-9a-f]+$/i,gt=/^0b[01]+$/i,vt=/^\[object .+?Constructor\]$/,yt=/^0o[0-7]+$/i,_t=/^(?:0|[1-9]\d*)$/,bt=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,wt=/($^)/,Tt=/['\n\r\u2028\u2029\\]/g,Ct="\\ud800-\\udfff",St="\\u0300-\\u036f\\ufe20-\\ufe23",kt="\\u20d0-\\u20f0",$t="\\u2700-\\u27bf",At="a-z\\xdf-\\xf6\\xf8-\\xff",xt="A-Z\\xc0-\\xd6\\xd8-\\xde",Et="\\ufe0e\\ufe0f",It="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2018\\u2019\\u201c\\u201d \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Dt="["+Ct+"]",Ot="["+It+"]",Pt="["+St+kt+"]",Nt="\\d+",Lt="["+$t+"]",Ft="["+At+"]",zt="[^"+Ct+It+Nt+$t+At+xt+"]",Rt="\\ud83c[\\udffb-\\udfff]",Mt="[^"+Ct+"]",jt="(?:\\ud83c[\\udde6-\\uddff]){2}",Bt="[\\ud800-\\udbff][\\udc00-\\udfff]",Jt="["+xt+"]",qt="\\u200d",Ht="(?:"+Ft+"|"+zt+")",Ut="(?:"+Jt+"|"+zt+")",Vt="(?:"+Pt+"|"+Rt+")"+"?",Wt="["+Et+"]?",Gt=Wt+Vt+("(?:"+qt+"(?:"+[Mt,jt,Bt].join("|")+")"+Wt+Vt+")*"),Yt="(?:"+[Lt,jt,Bt].join("|")+")"+Gt,Kt="(?:"+[Mt+Pt+"?",Pt,jt,Bt,Dt].join("|")+")",Qt=RegExp(Pt,"g"),Xt=RegExp(Rt+"(?="+Rt+")|"+Kt+Gt,"g"),Zt=RegExp("["+qt+Ct+St+kt+Et+"]"),ei=/[a-zA-Z0-9]+/g,ti=RegExp([Jt+"?"+Ft+"+(?="+[Ot,Jt,"$"].join("|")+")",Ut+"+(?="+[Ot,Jt+Ht,"$"].join("|")+")",Jt+"?"+Ht+"+",Jt+"+",Nt,Yt].join("|"),"g"),ii=/[a-z][A-Z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,ni=["Array","Buffer","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Reflect","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],ri=-1,si={};si[Re]=si[Me]=si[je]=si[Be]=si[Je]=si[qe]=si[He]=si[Ue]=si[Ve]=!0,si[we]=si[Te]=si[ze]=si[Ce]=si[Se]=si[ke]=si[$e]=si[xe]=si[Ee]=si[Ie]=si[De]=si[Oe]=si[Pe]=si[Le]=!1,(q={})[we]=q[Te]=q[ze]=q[Ce]=q[Se]=q[Re]=q[Me]=q[je]=q[Be]=q[Je]=q[xe]=q[Ee]=q[Ie]=q[De]=q[Oe]=q[Pe]=q[Ne]=q[qe]=q[He]=q[Ue]=q[Ve]=!0,q[ke]=q[$e]=q[Le]=!1;var oi={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss"},ai={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},li={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},ui={function:!0,object:!0},ci={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},di=parseFloat,hi=parseInt,pi=ui[typeof exports]&&exports&&!exports.nodeType?exports:J,fi=ui[typeof module]&&module&&!module.nodeType?module:J,mi=fi&&fi.exports===pi?pi:J,gi=A(pi&&fi&&"object"==typeof global&&global),vi=A(ui[typeof self]&&self),yi=A(ui[typeof window]&&window),_i=A(ui[typeof this]&&this),bi=gi||yi!==(_i&&_i.window)&&yi||vi||_i||Function("return this")(),wi=function A(_t){function Ct(e){if(Cr(e)&&!Wo(e)&&!(e instanceof $t)){if(e instanceof kt)return e;if(fs.call(e,"__wrapped__"))return Wn(e)}return new kt(e)}function St(){}function kt(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=J}function $t(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=ye,this.__views__=[]}function At(){}function xt(e,t){if(Vs){var i=e[t];return i===W?J:i}return fs.call(e,t)?e[t]:J}function Et(e,t){return Vs?e[t]!==J:fs.call(e,t)}function It(e,t,i){e[t]=Vs&&i===J?W:i}function Dt(e){var t,i=-1,n=e?e.length:0;for(this.clear();++i<n;)t=e[i],this.set(t[0],t[1])}function Ot(e){var t=-1,i=e?e.length:0;for(this.__data__=new Dt;++t<i;)this.push(e[t])}function Pt(e,t){var i,n=e.__data__;return Rn(t)?(i=n.__data__,("string"==typeof t?i.string:i.hash)[t]===W):n.has(t)}function Nt(e){var t,i=-1,n=e?e.length:0;for(this.clear();++i<n;)t=e[i],this.set(t[0],t[1])}function Lt(e,t){var i=Rt(e,t);return!(0>i||(i==e.length-1?e.pop():Os.call(e,i,1),0))}function Ft(e,t){var i=Rt(e,t);return 0>i?J:e[i][1]}function zt(e,t){return Rt(e,t)>-1}function Rt(e,t){for(var i=e.length;i--;)if(pr(e[i][0],t))return i;return-1}function Mt(e,t,i){var n=Rt(e,t);0>n?e.push([t,i]):e[n][1]=i}function jt(e,t,i,n){return e===J||pr(e,hs[i])&&!fs.call(n,i)?t:e}function Bt(e,t,i){(i===J||pr(e[t],i))&&("number"!=typeof t||i!==J||t in e)||(e[t]=i)}function Jt(e,t,i){var n=e[t];fs.call(e,t)&&pr(n,i)&&(i!==J||t in e)||(e[t]=i)}function qt(e,t,i,n){return io(e,function(e,r,s){t(n,e,i(e),s)}),n}function Ht(e,t){return e&&rn(t,Br(t),e)}function Ut(e,t){for(var i=-1,n=null==e,r=t.length,s=Array(r);++i<r;)s[i]=n?J:Rr(e,t[i]);return s}function Vt(e){return vr(e)?e:[]}function Wt(e){return"function"==typeof e?e:Kr}function Gt(e){return Wo(e)?e:Vn(e)}function Yt(e,t,i){return e==e&&(i!==J&&(e=i>=e?e:i),t!==J&&(e=e>=t?e:t)),e}function Kt(i,n,s,o,a,l,u){var c,h,p,f;if(o&&(c=l?o(i,a,l,u):o(i)),c!==J)return c;if(!Tr(i))return i;if(h=Wo(i)){if(c=function(e){var t=e.length,i=e.constructor(t);return t&&"string"==typeof e[0]&&fs.call(e,"index")&&(i.index=e.index,i.input=e.input),i}(i),!n)return nn(i,c)}else{if(f=(p=Pn(i))==$e||p==Ae,Go(i))return function(e,t){if(t)return e.slice();var i=new e.constructor(e.length);return e.copy(i),i}(i,n);if(p==Ie||p==we||f&&!l){if(P(i))return l?i:{};if(c=function(e){return"function"!=typeof e.constructor||jn(e)?{}:oi($s(e))}(f?{}:i),!n)return c=Ht(c,i),s?on(i,c):c}else{if(!q[p])return l?i:{};c=function(i,n,r){var s=i.constructor;switch(n){case ze:return Zi(i);case Ce:case Se:return new s(+i);case Re:case Me:case je:case Be:case Je:case qe:case He:case Ue:case Ve:return function(e,t){var i=t?Zi(e.buffer):e.buffer;return new e.constructor(i,e.byteOffset,e.length)}(i,r);case xe:return function(t){return d(F(t),e,new t.constructor)}(i);case Ee:case Pe:return new s(i);case De:return function(e){var t=new e.constructor(e.source,pt.exec(e));return t.lastIndex=e.lastIndex,t}(i);case Oe:return function(e){return d(R(e),t,new e.constructor)}(i);case Ne:return function(e){return eo?Object(eo.call(e)):{}}(i)}}(i,p,n)}}return u||(u=new Nt),u.get(i)||(u.set(i,c),(h?r:gi)(i,function(e,t){Jt(c,t,Kt(e,n,s,o,t,i,u))}),s&&!h?on(i,c):c)}function Xt(e){var t=Br(e),i=t.length;return function(n){var r;if(null==n)return!i;for(r=i;r--;){var s=t[r],o=e[s],a=n[s];if(a===J&&!(s in Object(n))||!o(a))return!1}return!0}}function oi(e){return Tr(e)?Es(e):{}}function ai(e,t,i){if("function"!=typeof e)throw new cs(V);return Ds(function(){e.apply(J,i)},t)}function li(e,t,i,n){var r,s,o,c=-1,d=a,h=!0,p=e.length,f=[],m=t.length;if(!p)return f;i&&(t=u(t,C(i))),n?(d=l,h=!1):t.length>=U&&(d=Pt,h=!1,t=new Ot(t));e:for(;++c<p;)if(r=e[c],s=i?i(r):r,h&&s==s){for(o=m;o--;)if(t[o]===s)continue e;f.push(r)}else d(t,s,n)||f.push(r);return f}function ui(e,t){var i=!0;return io(e,function(e,n,r){return i=!!t(e,n,r)}),i}function ci(e,t,i,n){var r=e.length;for(0>(i=Pr(i))&&(i=-i>r?0:r+i),0>(n=n===J||n>r?r:Pr(n))&&(n+=r),n=i>n?0:Nr(n);n>i;)e[i++]=t;return e}function pi(e,t){var i=[];return io(e,function(e,n,r){t(e,n,r)&&i.push(e)}),i}function fi(e,t,i,n){var r,s,o;for(n||(n=[]),r=-1,s=e.length;++r<s;)o=e[r],t>0&&vr(o)&&(i||Wo(o)||mr(o))?t>1?fi(o,t-1,i,n):c(n,o):i||(n[n.length]=o);return n}function gi(e,t){return e&&ro(e,t,Br)}function vi(e,t){return e&&so(e,t,Br)}function yi(e,t){return o(t,function(t){return _r(e[t])})}function _i(e,t){for(var i=0,n=(t=zn(t,e)?[t+""]:Gt(t)).length;null!=e&&n>i;)e=e[t[i++]];return i&&i==n?e:J}function Ti(e,t){return fs.call(e,t)||"object"==typeof e&&t in e&&null===$s(e)}function Ci(e,t){return t in Object(e)}function Si(e,t,i){for(var n,r,s,o,c,d,h=i?l:a,p=e[0].length,f=e.length,m=f,g=Array(f),v=1/0,y=[];m--;)n=e[m],m&&t&&(n=u(n,C(t))),v=Ms(n.length,v),g[m]=!i&&(t||p>=120&&n.length>=120)?new Ot(m&&n):J;n=e[0],r=-1,s=g[0];e:for(;++r<p&&y.length<v;)if(o=n[r],c=t?t(o):o,!(s?Pt(s,c):h(y,c,i))){for(m=f;--m;)if(!((d=g[m])?Pt(d,c):h(e[m],c,i)))continue e;s&&s.push(c),y.push(o)}return y}function ki(e,t,n){zn(t,e)||(e=Hn(e,t=Gt(t)),t=Qn(t));var r=null==e?e:e[t];return null==r?J:i(r,e,n)}function $i(e,t,i,n,r){return e===t||(null==e||null==t||!Tr(e)&&!Cr(t)?e!=e&&t!=t:function(e,t,i,n,r,s){var o,a,l=Wo(e),u=Wo(t),c=Te,d=Te;l||(c=(c=Pn(e))==we?Ie:c),u||(d=(d=Pn(t))==we?Ie:d);var h=c==Ie&&!P(e),p=d==Ie&&!P(t),f=c==d;return f&&!h?(s||(s=new Nt),l||Ir(e)?$n(e,t,i,n,r,s):function(e,t,i,n,r,s,o){var a,l,u;switch(i){case ze:return!(e.byteLength!=t.byteLength||!n(new Cs(e),new Cs(t)));case Ce:case Se:return+e==+t;case ke:return e.name==t.name&&e.message==t.message;case Ee:return e!=+e?t!=+t:e==+t;case De:case Pe:return e==t+"";case xe:a=F;case Oe:return l=s&oe,a||(a=R),!(e.size!=t.size&&!l)&&((u=o.get(e))?u==t:$n(a(e),a(t),n,r,s|se,o.set(e,t)));case Ne:if(eo)return eo.call(e)==eo.call(t)}return!1}(e,t,c,i,n,r,s)):r&oe||(o=h&&fs.call(e,"__wrapped__"),a=p&&fs.call(t,"__wrapped__"),!o&&!a)?!!f&&(s||(s=new Nt),An(e,t,i,n,r,s)):(s||(s=new Nt),i(o?e.value():e,a?t.value():t,n,r,s))}(e,t,$i,i,n,r))}function Ai(e,t,i,n){var r,s,o,a=i.length,l=a,u=!n;if(null==e)return!l;for(e=Object(e);a--;)if(r=i[a],u&&r[2]?r[1]!==e[r[0]]:!(r[0]in e))return!1;for(;++a<l;){var c=(r=i[a])[0],d=e[c],h=r[1];if(u&&r[2]){if(d===J&&!(c in e))return!1}else if(s=new Nt,!((o=n?n(d,h,c,e,t,s):J)===J?$i(h,d,n,se|oe,s):o))return!1}return!0}function xi(e){var t=typeof e;return"function"==t?e:null==e?Kr:"object"==t?Wo(e)?Oi(e[0],e[1]):Di(e):es(e)}function Ei(e){var t,i;for(i in t=[],e=null==e?e:Object(e))t.push(i);return t}function Ii(e,t){var i=-1,n=gr(e)?Array(e.length):[];return io(e,function(e,r,s){n[++i]=t(e,r,s)}),n}function Di(e){var t,i,n=In(e);return 1==n.length&&n[0][2]?(t=n[0][0],i=n[0][1],function(e){return null!=e&&e[t]===i&&(i!==J||t in Object(e))}):function(t){return t===e||Ai(t,e,n)}}function Oi(e,t){return function(i){var n=Rr(i,e);return n===J&&n===t?jr(i,e):$i(t,n,J,se|oe)}}function Pi(e,t,i,n,s){if(e!==t){var o=Wo(t)||Ir(t)?J:Jr(t);r(o||t,function(r,a){if(o&&(r=t[a=r]),Tr(r))s||(s=new Nt),function(e,t,i,n,r,s,o){var a,l,u=e[i],c=t[i],d=o.get(c);d?Bt(e,i,d):(a=s?s(u,c,i+"",e,t,o):J,(l=a===J)&&(a=c,Wo(c)||Ir(c)?Wo(u)?a=u:vr(u)?a=nn(u):(l=!1,a=Kt(c,!s)):$r(c)||mr(c)?mr(u)?a=Fr(u):!Tr(u)||n&&_r(u)?(l=!1,a=Kt(c,!s)):a=u:l=!1),o.set(c,a),l&&r(a,c,n,s,o),o.delete(c),Bt(e,i,a))}(e,t,a,i,Pi,n,s);else{var l=n?n(e[a],r,a+"",e,t,s):J;l===J&&(l=r),Bt(e,a,l)}})}}function Ni(e,t,i){var n=-1;return t=u(t.length?t:Array(1),En()),function(e,t){var i=e.length;for(e.sort(t);i--;)e[i]=e[i].value;return e}(Ii(e,function(e){return{criteria:u(t,function(t){return t(e)}),index:++n,value:e}}),function(e,t){return function(e,t,i){for(var n,r=-1,s=e.criteria,o=t.criteria,a=s.length,l=i.length;++r<a;)if(n=x(s[r],o[r]))return r>=l?n:n*("desc"==i[r]?-1:1);return e.index-t.index}(e,t,i)})}function Li(e,t){return e=Object(e),d(t,function(t,i){return i in e&&(t[i]=e[i]),t},{})}function Fi(e,t){var i={};return function(e,t){null==e||ro(e,t,Jr)}(e,function(e,n){t(e,n)&&(i[n]=e)}),i}function zi(e){return function(t){return null==t?J:t[e]}}function Ri(e,t,i,n){var r=n?y:v,s=-1,o=t.length,a=e;for(i&&(a=u(e,C(i)));++s<o;)for(var l=0,c=t[s],d=i?i(c):c;(l=r(a,d,l,n))>-1;)a!==e&&Os.call(a,l,1),Os.call(e,l,1);return e}function Mi(e,t){for(var i,n,r,s,o=e?t.length:0,a=o-1;o--;)i=t[o],(a==o||i!=n)&&(n=i,N(i)?Os.call(e,i,1):zn(i,e)?delete e[i]:null!=(s=Hn(e,r=Gt(i)))&&delete s[Qn(r)]);return e}function ji(e,t){return e+Ns(Bs()*(t-e+1))}function Bi(e,t,i,n){for(var r,s,o,a=-1,l=(t=zn(t,e)?[t+""]:Gt(t)).length,u=l-1,c=e;null!=c&&++a<l;)r=t[a],Tr(c)&&(s=i,a!=u&&(o=c[r],(s=n?n(o,r,c):J)===J&&(s=null==o?N(t[a+1])?[]:{}:o)),Jt(c,r,s)),c=c[r];return e}function Ji(e,t,i){var n,r=-1,s=e.length;for(0>t&&(t=-t>s?0:s+t),0>(i=i>s?s:i)&&(i+=s),s=t>i?0:i-t>>>0,t>>>=0,n=Array(s);++r<s;)n[r]=e[r+t];return n}function qi(e,t){var i;return io(e,function(e,n,r){return!(i=t(e,n,r))}),!!i}function Hi(e,t,i){var n,r,s=0,o=e?e.length:s;if("number"==typeof t&&t==t&&be>=o){for(;o>s;)r=e[n=s+o>>>1],(i?t>=r:t>r)&&null!==r?s=n+1:o=n;return o}return Ui(e,t,Kr,i)}function Ui(e,t,i,n){t=i(t);for(var r=0,s=e?e.length:0,o=t!=t,a=null===t,l=t===J;s>r;){var u=Ns((r+s)/2),c=i(e[u]),d=c!==J,h=c==c;(o?h||n:a?h&&d&&(n||null!=c):l?h&&(n||d):null!=c&&(n?t>=c:t>c))?r=u+1:s=u}return Ms(s,_e)}function Vi(e,t){for(var i=0,n=e.length,r=e[0],s=t?t(r):r,o=s,a=1,l=[r];++i<n;)r=e[i],pr(s=t?t(r):r,o)||(o=s,l[a++]=r);return l}function Wi(e,t,i){var n,r,s,o,u=-1,c=a,d=e.length,h=!0,p=[],f=p;if(i)h=!1,c=l;else if(d>=U){if(n=t?null:ao(e))return R(n);h=!1,c=Pt,f=new Ot}else f=t?[]:p;e:for(;++u<d;)if(r=e[u],s=t?t(r):r,h&&s==s){for(o=f.length;o--;)if(f[o]===s)continue e;t&&f.push(s),p.push(r)}else c(f,s,i)||(f!==p&&f.push(s),p.push(r));return p}function Gi(e,t,i,n){return Bi(e,t,i(_i(e,t)),n)}function Yi(e,t,i,n){for(var r=e.length,s=n?r:-1;(n?s--:++s<r)&&t(e[s],s,e););return i?Ji(e,n?0:s,n?s+1:r):Ji(e,n?s+1:0,n?r:s)}function Ki(e,t){var i=e;return i instanceof $t&&(i=i.value()),d(t,function(e,t){return t.func.apply(t.thisArg,c([e],t.args))},i)}function Qi(e,t,i){for(var n,r=-1,s=e.length;++r<s;)n=n?c(li(n,e[r],t,i),li(e[r],n,t,i)):e[r];return n&&n.length?Wi(n,t,i):[]}function Xi(e,t,i){for(var n=-1,r=e.length,s=t.length,o={};++n<r;)i(o,e[n],s>n?t[n]:J);return o}function Zi(e){var t=new e.constructor(e.byteLength);return new Cs(t).set(new Cs(e)),t}function en(e,t,i,n){for(var r=-1,s=e.length,o=i.length,a=-1,l=t.length,u=Rs(s-o,0),c=Array(l+u),d=!n;++a<l;)c[a]=t[a];for(;++r<o;)(d||s>r)&&(c[i[r]]=e[r]);for(;u--;)c[a++]=e[r++];return c}function tn(e,t,i,n){for(var r,s=-1,o=e.length,a=-1,l=i.length,u=-1,c=t.length,d=Rs(o-l,0),h=Array(d+c),p=!n;++s<d;)h[s]=e[s];for(r=s;++u<c;)h[r+u]=t[u];for(;++a<l;)(p||o>s)&&(h[r+i[a]]=e[s++]);return h}function nn(e,t){var i=-1,n=e.length;for(t||(t=Array(n));++i<n;)t[i]=e[i];return t}function rn(e,t,i){return sn(e,t,i)}function sn(e,t,i,n){var r,s,o;for(i||(i={}),r=-1,s=t.length;++r<s;)Jt(i,o=t[r],n?n(i[o],e[o],o,i,e):e[o]);return i}function on(e,t){return rn(e,co(e),t)}function an(e,t){return function(i,r){var s=Wo(i)?n:qt,o=t?t():{};return s(i,e,En(r),o)}}function ln(e){return hr(function(t,i){var n,r=-1,s=i.length,o=s>1?i[s-1]:J,a=s>2?i[2]:J;for(o="function"==typeof o?(s--,o):J,a&&Fn(i[0],i[1],a)&&(o=3>s?J:o,s=1),t=Object(t);++r<s;)(n=i[r])&&e(t,n,r,o);return t})}function un(e,t){return function(i,n){if(null==i)return i;if(!gr(i))return e(i,n);for(var r=i.length,s=t?r:-1,o=Object(i);(t?s--:++s<r)&&!1!==n(o[s],s,o););return i}}function cn(e){return function(t,i,n){for(var r,s=-1,o=Object(t),a=n(t),l=a.length;l--&&!1!==i(o[r=a[e?l:++s]],r,o););return t}}function dn(e,t,i){var n=t&Y,r=fn(e);return function t(){return(this&&this!==bi&&this instanceof t?r:e).apply(n?i:this,arguments)}}function hn(e){return function(t){t=zr(t);var i=Zt.test(t)?j(t):J,n=i?i[0]:t.charAt(0),r=i?i.slice(1).join(""):t.slice(1);return n[e]()+r}}function pn(e){return function(t){return d(Gr(Vr(t)),e,"")}}function fn(e){return function(){var t,i,n=arguments;switch(n.length){case 0:return new e;case 1:return new e(n[0]);case 2:return new e(n[0],n[1]);case 3:return new e(n[0],n[1],n[2]);case 4:return new e(n[0],n[1],n[2],n[3]);case 5:return new e(n[0],n[1],n[2],n[3],n[4]);case 6:return new e(n[0],n[1],n[2],n[3],n[4],n[5]);case 7:return new e(n[0],n[1],n[2],n[3],n[4],n[5],n[6])}return t=oi(e.prototype),Tr(i=e.apply(t,n))?i:t}}function mn(e,t,n){var r=fn(e);return function s(){for(var o,a=arguments.length,l=Array(a),u=a,c=On(s);u--;)l[u]=arguments[u];return a-=(o=3>a&&l[0]!==c&&l[a-1]!==c?[]:z(l,c)).length,n>a?Cn(e,t,vn,s.placeholder,J,l,o,J,J,n-a):i(this&&this!==bi&&this instanceof s?r:e,this,l)}}function gn(e){return hr(function(t){var i,n,r,s,o=(t=fi(t,1)).length,a=o,l=kt.prototype.thru;for(e&&t.reverse();a--;){if("function"!=typeof(i=t[a]))throw new cs(V);l&&!n&&"wrapper"==xn(i)&&(n=new kt([],!0))}for(a=n?a:o;++a<o;)s="wrapper"==(r=xn(i=t[a]))?lo(i):J,n=s&&Mn(s[0])&&s[1]==(ie|X|ee|ne)&&!s[4].length&&1==s[9]?n[xn(s[0])].apply(n,s[3]):1==i.length&&Mn(i)?n[r]():n.thru(i);return function(){var e,i,r=arguments,s=r[0];if(n&&1==r.length&&Wo(s)&&s.length>=U)return n.plant(s).value();for(e=0,i=o?t[e].apply(this,r):s;++e<o;)i=t[e].call(this,i);return i}})}function vn(e,t,i,n,r,s,o,a,l,u){var c=t&ie,d=t&Y,h=t&K,p=t&(X|Z),f=t&re,m=h?J:fn(e);return function g(){for(var v,y,_,b,w,T=arguments.length,C=T,S=Array(T);C--;)S[C]=arguments[C];return p&&(y=function(e,t){for(var i=e.length,n=0;i--;)e[i]===t&&n++;return n}(S,v=On(g))),n&&(S=en(S,n,r,p)),s&&(S=tn(S,s,o,p)),T-=y,p&&u>T?(_=z(S,v),Cn(e,t,vn,g.placeholder,i,S,_,a,l,u-T)):(b=d?i:this,w=h?b[e]:e,T=S.length,a?S=Un(S,a):f&&T>1&&S.reverse(),c&&T>l&&(S.length=l),this&&this!==bi&&this instanceof g&&(w=m||fn(w)),w.apply(b,S))}}function yn(e,t){return function(i,n){return function(e,t,i,n){return gi(e,function(e,r,s){t(n,i(e),r,s)}),n}(i,e,t(n),{})}}function _n(e){return hr(function(t){return t=u(fi(t,1),En()),hr(function(n){var r=this;return e(t,function(e){return i(e,r,n)})})})}function bn(e,t,i){var n,r,s;return t=Pr(t),n=M(e),!t||n>=t?"":(s=Wr(i=i===J?" ":i+"",Ps((r=t-n)/M(i))),Zt.test(i)?j(s).slice(0,r).join(""):s.slice(0,r))}function wn(e,t,n,r){var s=t&Y,o=fn(e);return function t(){for(var a=-1,l=arguments.length,u=-1,c=r.length,d=Array(c+l),h=this&&this!==bi&&this instanceof t?o:e;++u<c;)d[u]=r[u];for(;l--;)d[u++]=arguments[++a];return i(h,s?n:this,d)}}function Tn(e){return function(t,i,n){return n&&"number"!=typeof n&&Fn(t,i,n)&&(i=n=J),t=(t=Lr(t))==t?t:0,i===J?(i=t,t=0):i=Lr(i)||0,function(e,t,i,n){for(var r=-1,s=Rs(Ps((t-e)/(i||1)),0),o=Array(s);s--;)o[n?s:++r]=e,e+=i;return o}(t,i,n=n===J?i>t?1:-1:Lr(n)||0,e)}}function Cn(e,t,i,n,r,s,o,a,l,u){var c,d,h=t&X,p=a?nn(a):J;return t|=h?ee:te,(t&=~(h?te:ee))&Q||(t&=~(Y|K)),c=[e,t,r,h?s:J,h?o:J,h?J:s,h?J:o,p,l,u],d=i.apply(J,c),Mn(e)&&ho(d,c),d.placeholder=n,d}function Sn(e){var t=ls[e];return function(e,i){if(e=Lr(e),i=Pr(i)){var n=(zr(e)+"e").split("e");return+((n=(zr(t(n[0]+"e"+(+n[1]+i)))+"e").split("e"))[0]+"e"+(+n[1]-i))}return t(e)}}function kn(e,t,i,n,r,s,o,a){var l,u,c,d,h,p,f=t&K;if(!f&&"function"!=typeof e)throw new cs(V);return(l=n?n.length:0)||(t&=~(ee|te),n=r=J),o=o===J?o:Rs(Pr(o),0),a=a===J?a:Pr(a),l-=r?r.length:0,t&te&&(u=n,c=r,n=r=J),h=[e,t,i,n,r,u,c,s,o,a],(d=f?J:lo(e))&&Jn(h,d),e=h[0],t=h[1],i=h[2],n=h[3],r=h[4],!(a=h[9]=null==h[9]?f?0:e.length:Rs(h[9]-l,0))&&t&(X|Z)&&(t&=~(X|Z)),p=t&&t!=Y?t==X||t==Z?mn(e,t,a):t!=ee&&t!=(Y|ee)||r.length?vn.apply(J,h):wn(e,t,i,n):dn(e,t,i),(d?oo:ho)(p,h)}function $n(e,t,i,n,r,s){var o,a,l,u,c,d=-1,h=r&oe,f=r&se,m=e.length,g=t.length;if(m!=g&&!(h&&g>m))return!1;if(o=s.get(e))return o==t;for(a=!0,s.set(e,t);++d<m;){if(l=e[d],u=t[d],n&&(c=h?n(u,l,d,t,e,s):n(l,u,d,e,t,s)),c!==J){if(c)continue;a=!1;break}if(f){if(!p(t,function(e){return l===e||i(l,e,n,r,s)})){a=!1;break}}else if(l!==u&&!i(l,u,n,r,s)){a=!1;break}}return s.delete(e),a}function An(e,t,i,n,r,s){var o,a,l,u,c,d,h,p,f,m,g=r&oe,v=Br(e),y=v.length;if(y!=Br(t).length&&!g)return!1;for(o=y;o--;)if(a=v[o],!(g?a in t:Ti(t,a)))return!1;if(l=s.get(e))return l==t;for(u=!0,s.set(e,t),c=g;++o<y;){if(d=e[a=v[o]],h=t[a],n&&(p=g?n(h,d,a,t,e,s):n(d,h,a,e,t,s)),!(p===J?d===h||i(d,h,n,r,s):p)){u=!1;break}c||(c="constructor"==a)}return u&&!c&&(f=e.constructor)!=(m=t.constructor)&&"constructor"in e&&"constructor"in t&&!("function"==typeof f&&f instanceof f&&"function"==typeof m&&m instanceof m)&&(u=!1),s.delete(e),u}function xn(e){for(var t,i,n=e.name+"",r=Ys[n],s=fs.call(Ys,n)?r.length:0;s--;)if(null==(i=(t=r[s]).func)||i==e)return t.name;return n}function En(){var e=Ct.iteratee||Qr;return e=e===Qr?xi:e,arguments.length?e(arguments[0],arguments[1]):e}function In(e){for(var t=qr(e),i=t.length;i--;)t[i][2]=Bn(t[i][1]);return t}function Dn(e,t){var i=e[t];return Sr(i)?i:J}function On(e){return(fs.call(Ct,"placeholder")?Ct:e).placeholder}function Pn(e){return vs.call(e)}function Nn(e,t,i){var n,r;return null!=e&&((n=i(e,t))||zn(t)||null!=(e=Hn(e,t=Gt(t)))&&(n=i(e,t=Qn(t))),r=e?e.length:J,n||!!r&&wr(r)&&N(t,r)&&(Wo(e)||xr(e)||mr(e)))}function Ln(e){var t=e?e.length:J;return wr(t)&&(Wo(e)||xr(e)||mr(e))?w(t,String):null}function Fn(e,t,i){if(!Tr(i))return!1;var n=typeof t;return!!("number"==n?gr(i)&&N(t,i.length):"string"==n&&t in i)&&pr(i[t],e)}function zn(e,t){return"number"==typeof e||!Wo(e)&&(rt.test(e)||!nt.test(e)||null!=t&&e in Object(t))}function Rn(e){var t=typeof e;return"number"==t||"boolean"==t||"string"==t&&"__proto__"!=e||null==e}function Mn(e){var t,i=xn(e),n=Ct[i];return"function"==typeof n&&i in $t.prototype&&(e===n||!!(t=lo(n))&&e===t[0])}function jn(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||hs)}function Bn(e){return e==e&&!Tr(e)}function Jn(e,t){var i,n,r=e[1],s=t[1],o=r|s,a=(Y|K|ie)>o,l=s==ie&&r==X||s==ie&&r==ne&&e[7].length<=t[8]||s==(ie|ne)&&t[7].length<=t[8]&&r==X;return a||l?(s&Y&&(e[2]=t[2],o|=r&Y?0:Q),(i=t[3])&&(n=e[3],e[3]=n?en(n,i,t[4]):nn(i),e[4]=n?z(e[3],G):nn(t[4])),(i=t[5])&&(n=e[5],e[5]=n?tn(n,i,t[6]):nn(i),e[6]=n?z(e[5],G):nn(t[6])),(i=t[7])&&(e[7]=nn(i)),s&ie&&(e[8]=null==e[8]?t[8]:Ms(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=o,e):e}function qn(e,t,i,n,r,s){return Tr(e)&&Tr(t)&&Pi(e,t,J,qn,s.set(t,e)),e}function Hn(e,t){return 1==t.length?e:Rr(e,Ji(t,0,-1))}function Un(e,t){for(var i,n=e.length,r=Ms(t.length,n),s=nn(e);r--;)i=t[r],e[r]=N(i,n)?s[i]:J;return e}function Vn(e){var t=[];return zr(e).replace(st,function(e,i,n,r){t.push(n?r.replace(dt,"$1"):i||e)}),t}function Wn(e){if(e instanceof $t)return e.clone();var t=new kt(e.__wrapped__,e.__chain__);return t.__actions__=nn(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}function Gn(e,t,i){var n=e?e.length:0;return n?Ji(e,0>(t=i||t===J?1:Pr(t))?0:t,n):[]}function Yn(e,t,i){var n=e?e.length:0;return n?Ji(e,0,0>(t=n-(t=i||t===J?1:Pr(t)))?0:t):[]}function Kn(e){return e?e[0]:J}function Qn(e){var t=e?e.length:0;return t?e[t-1]:J}function Xn(e,t){return e&&e.length&&t&&t.length?Ri(e,t):e}function Zn(e){return e?Js.call(e):e}function er(e){if(!e||!e.length)return[];var t=0;return e=o(e,function(e){if(vr(e))return t=Rs(e.length,t),!0}),w(t,function(t){return u(e,zi(t))})}function tr(e,t){if(!e||!e.length)return[];var n=er(e);return null==t?n:u(n,function(e){return i(t,J,e)})}function ir(e){var t=Ct(e);return t.__chain__=!0,t}function nr(e,t){return t(e)}function rr(e,t){return"function"==typeof t&&Wo(e)?r(e,t):io(e,Wt(t))}function sr(e,t){return"function"==typeof t&&Wo(e)?function(e,t){for(var i=e.length;i--&&!1!==t(e[i],i,e););return e}(e,t):no(e,Wt(t))}function or(e,t){return(Wo(e)?u:Ii)(e,En(t,3))}function ar(e,t){var i,n,r=-1,s=Or(e),o=s.length,a=o-1;for(t=Yt(Pr(t),0,o);++r<t;)n=s[i=ji(r,a)],s[i]=s[r],s[r]=n;return s.length=t,s}function lr(e,t,i){return t=i?J:t,t=e&&null==t?e.length:t,kn(e,ie,J,J,J,J,t)}function ur(e,t){var i;if("function"!=typeof t)throw new cs(V);return e=Pr(e),function(){return--e>0&&(i=t.apply(this,arguments)),1>=e&&(t=J),i}}function cr(e,t,i){function n(){p&&Ss(p),u&&Ss(u),m=0,l=u=h=p=f=J}function r(t,i){i&&Ss(i),u=p=f=J,t&&(m=Ro(),c=e.apply(h,l),p||u||(l=h=J))}function s(){var e=t-(Ro()-d);0>=e||e>t?r(f,u):p=Ds(s,e)}function o(){r(y,p)}function a(){var i,n,r;return l=arguments,d=Ro(),h=this,f=y&&(p||!g),!1===v?i=g&&!p:(m||u||g||(m=d),(r=(0>=(n=v-(d-m))||n>v)&&(g||u))?(u&&(u=Ss(u)),m=d,c=e.apply(h,l)):u||(u=Ds(o,n))),r&&p?p=Ss(p):p||t===v||(p=Ds(s,t)),i&&(r=!0,c=e.apply(h,l)),!r||p||u||(l=h=J),c}var l,u,c,d,h,p,f,m=0,g=!1,v=!1,y=!0;if("function"!=typeof e)throw new cs(V);return t=Lr(t)||0,Tr(i)&&(g=!!i.leading,v="maxWait"in i&&Rs(Lr(i.maxWait)||0,t),y="trailing"in i?!!i.trailing:y),a.cancel=n,a.flush=function(){return(p&&f||u&&y)&&(c=e.apply(h,l)),n(),c},a}function dr(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new cs(V);var i=function(){var n,r=arguments,s=t?t.apply(this,r):r[0],o=i.cache;return o.has(s)?o.get(s):(n=e.apply(this,r),i.cache=o.set(s,n),n)};return i.cache=new dr.Cache,i}function hr(e,t){if("function"!=typeof e)throw new cs(V);return t=Rs(t===J?e.length-1:Pr(t),0),function(){for(var n,r=arguments,s=-1,o=Rs(r.length-t,0),a=Array(o);++s<o;)a[s]=r[t+s];switch(t){case 0:return e.call(this,a);case 1:return e.call(this,r[0],a);case 2:return e.call(this,r[0],r[1],a)}for(n=Array(t+1),s=-1;++s<t;)n[s]=r[s];return n[t]=a,i(e,this,n)}}function pr(e,t){return e===t||e!=e&&t!=t}function fr(e,t){return e>t}function mr(e){return vr(e)&&fs.call(e,"callee")&&(!Is.call(e,"callee")||vs.call(e)==we)}function gr(e){return null!=e&&wr(uo(e))&&!_r(e)}function vr(e){return Cr(e)&&gr(e)}function yr(e){return!!Cr(e)&&(vs.call(e)==ke||"string"==typeof e.message&&"string"==typeof e.name)}function _r(e){var t=Tr(e)?vs.call(e):"";return t==$e||t==Ae}function br(e){return"number"==typeof e&&e==Pr(e)}function wr(e){return"number"==typeof e&&e>-1&&e%1==0&&me>=e}function Tr(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function Cr(e){return!!e&&"object"==typeof e}function Sr(e){return null!=e&&(_r(e)?_s.test(ps.call(e)):Cr(e)&&(P(e)?_s:vt).test(e))}function kr(e){return"number"==typeof e||Cr(e)&&vs.call(e)==Ee}function $r(e){var t,i;return!(!Cr(e)||vs.call(e)!=Ie||P(e))&&(null===(t=$s(e))||"function"==typeof(i=t.constructor)&&i instanceof i&&ps.call(i)==gs)}function Ar(e){return Tr(e)&&vs.call(e)==De}function xr(e){return"string"==typeof e||!Wo(e)&&Cr(e)&&vs.call(e)==Pe}function Er(e){return"symbol"==typeof e||Cr(e)&&vs.call(e)==Ne}function Ir(e){return Cr(e)&&wr(e.length)&&!!si[vs.call(e)]}function Dr(e,t){return t>e}function Or(e){if(!e)return[];if(gr(e))return xr(e)?j(e):nn(e);if(xs&&e[xs])return L(e[xs]());var t=Pn(e);return(t==xe?F:t==Oe?R:Hr)(e)}function Pr(e){var t;return e?(e=Lr(e))===fe||e===-fe?(0>e?-1:1)*ge:(t=e%1,e==e?t?e-t:e:0):0===e?e:0}function Nr(e){return e?Yt(Pr(e),0,ye):0}function Lr(e){var t,i;return Tr(e)&&(t=_r(e.valueOf)?e.valueOf():e,e=Tr(t)?t+"":t),"string"!=typeof e?0===e?e:+e:(e=e.replace(lt,""),(i=gt.test(e))||yt.test(e)?hi(e.slice(2),i?2:8):mt.test(e)?ve:+e)}function Fr(e){return rn(e,Jr(e))}function zr(e){if("string"==typeof e)return e;if(null==e)return"";if(Er(e))return to?to.call(e):"";var t=e+"";return"0"==t&&1/e==-fe?"-0":t}function Rr(e,t,i){var n=null==e?J:_i(e,t);return n===J?i:n}function Mr(e,t){return Nn(e,t,Ti)}function jr(e,t){return Nn(e,t,Ci)}function Br(e){var t,i=jn(e);if(!i&&!gr(e))return function(e){return zs(Object(e))}(e);var n=Ln(e),r=!!n,s=n||[],o=s.length;for(t in e)!Ti(e,t)||r&&("length"==t||N(t,o))||i&&"constructor"==t||s.push(t);return s}function Jr(e){for(var t,i=-1,n=jn(e),r=Ei(e),s=r.length,o=Ln(e),a=!!o,l=o||[],u=l.length;++i<s;)t=r[i],a&&("length"==t||N(t,u))||"constructor"==t&&(n||!fs.call(e,t))||l.push(t);return l}function qr(e){return T(e,Br(e))}function Hr(e){return e?S(e,Br(e)):[]}function Ur(e){return pa(zr(e).toLowerCase())}function Vr(e){return(e=zr(e))&&e.replace(bt,E).replace(Qt,"")}function Wr(e,t){e=zr(e),t=Pr(t);var i="";if(!e||1>t||t>me)return i;do{t%2&&(i+=e),t=Ns(t/2),e+=e}while(t);return i}function Gr(e,t,i){return e=zr(e),(t=i?J:t)===J&&(t=ii.test(e)?ti:ei),e.match(t)||[]}function Yr(e){return function(){return e}}function Kr(e){return e}function Qr(e){return xi("function"==typeof e?e:Kt(e,!0))}function Xr(e,t,i){var n,s,o=Br(t),a=yi(t,o);return null!=i||Tr(t)&&(a.length||!o.length)||(i=t,t=e,e=this,a=yi(t,Br(t))),n=!(Tr(i)&&"chain"in i)||i.chain,s=_r(e),r(a,function(i){var r=t[i];e[i]=r,s&&(e.prototype[i]=function(){var t,i=this.__chain__;return n||i?(((t=e(this.__wrapped__)).__actions__=nn(this.__actions__)).push({func:r,args:arguments,thisArg:e}),t.__chain__=i,t):r.apply(e,c([this.value()],arguments))})}),e}function Zr(){}function es(e){return zn(e)?zi(e):function(e){return function(t){return _i(t,e)}}(e)}function ts(e){return e&&e.length?b(e,Kr):0}var is,ns,rs=function(e){if(void 0===e)return"undefined";if(null===e)return"null";var t=typeof e;return"object"===t&&(t=function(e){return Object.prototype.toString.call(e).match(/^\[object\s(.*)\]$/)[1]}(e).toLowerCase()),"number"===t?e.toString().indexOf(".")>0?"float":"integer":t},ss={};ss.array=function(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(var i=0;i<e.length;i++)if(!is(e[i],t[i]))return!1;return!0},ss.object=function(e,t){var i;if(e===t)return!0;for(i in e){if(!t.hasOwnProperty(i))return!1;if(!is(e[i],t[i]))return!1}for(i in t)if(!e.hasOwnProperty(i))return!1;return!0},ss.date=function(e,t){return e.getTime()===t.getTime()},ss.regexp=function(e,t){return e.toString()===t.toString()},is=function(e,t){if(e!==t){var i=rs(e);return i===rs(t)&&(ss.hasOwnProperty(i)?ss[i](e,t):e==t)}return!0},ns=function(e){return jQuery(e).each(function(){var t,i,n=jQuery(e);n.one("TransitionEnd webkitTransitionEnd transitionend oTransitionEnd",function(){n.removeClass("is-transitioning")}),t=["transition-duration","-moz-transition-duration","-webkit-transition-duration","-o-transition-duration"],i=0,jQuery.each(t,function(e,t){i||(i=parseFloat(n.css(t)))}),0!=i&&(n.addClass("is-transitioning"),n[0].offsetWidth)})};var os=(_t=_t?wi.defaults({},_t,wi.pick(bi,ni)):bi).Date,as=_t.Error,ls=_t.Math,us=_t.RegExp,cs=_t.TypeError,ds=_t.Array.prototype,hs=_t.Object.prototype,ps=_t.Function.prototype.toString,fs=hs.hasOwnProperty,ms=0,gs=ps.call(Object),vs=hs.toString,ys=bi._,_s=us("^"+ps.call(fs).replace(ot,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),bs=mi?_t.Buffer:J,ws=_t.Reflect,Ts=_t.Symbol,Cs=_t.Uint8Array,Ss=_t.clearTimeout,ks=ws?ws.enumerate:J,$s=Object.getPrototypeOf,As=Object.getOwnPropertySymbols,xs="symbol"==typeof(xs=Ts&&Ts.iterator)?xs:J,Es=Object.create,Is=hs.propertyIsEnumerable,Ds=_t.setTimeout,Os=ds.splice,Ps=ls.ceil,Ns=ls.floor,Ls=_t.isFinite,Fs=ds.join,zs=Object.keys,Rs=ls.max,Ms=ls.min,js=_t.parseInt,Bs=ls.random,Js=ds.reverse,qs=Dn(_t,"Map"),Hs=Dn(_t,"Set"),Us=Dn(_t,"WeakMap"),Vs=Dn(Object,"create"),Ws=Us&&new Us,Gs=!Is.call({valueOf:1},"valueOf"),Ys={},Ks=qs?ps.call(qs):"",Qs=Hs?ps.call(Hs):"",Xs=Us?ps.call(Us):"",Zs=Ts?Ts.prototype:J,eo=Zs?Zs.valueOf:J,to=Zs?Zs.toString:J;Ct.templateSettings={escape:et,evaluate:tt,interpolate:it,variable:"",imports:{_:Ct}};var io=un(gi),no=un(vi,!0),ro=cn(),so=cn(!0);ks&&!Is.call({valueOf:1},"valueOf")&&(Ei=function(e){return L(ks(e))});var oo=Ws?function(e,t){return Ws.set(e,t),e}:Kr,ao=Hs&&2===new Hs([1,2]).size?function(e){return new Hs(e)}:Zr,lo=Ws?function(e){return Ws.get(e)}:Zr,uo=zi("length"),co=As||function(){return[]};(qs&&Pn(new qs)!=xe||Hs&&Pn(new Hs)!=Oe||Us&&Pn(new Us)!=Le)&&(Pn=function(e){var t=vs.call(e),i=t==Ie?e.constructor:null,n="function"==typeof i?ps.call(i):"";if(n)switch(n){case Ks:return xe;case Qs:return Oe;case Xs:return Le}return t});var ho=function(){var e=0,t=0;return function(i,n){var r=Ro(),s=ce-(r-t);if(t=r,s>0){if(++e>=ue)return i}else e=0;return oo(i,n)}}(),po=hr(function(e,t){return Wo(e)||(e=null==e?[]:[Object(e)]),function(e,t){for(var i=-1,n=e.length,r=-1,s=t.length,o=Array(n+s);++i<n;)o[i]=e[i];for(;++r<s;)o[i++]=t[r];return o}(e,t=fi(t,1))}),fo=hr(function(e,t){return vr(e)?li(e,fi(t,1,!0)):[]}),mo=hr(function(e,t){var i=Qn(t);return vr(i)&&(i=J),vr(e)?li(e,fi(t,1,!0),En(i)):[]}),go=hr(function(e,t){var i=Qn(t);return vr(i)&&(i=J),vr(e)?li(e,fi(t,1,!0),J,i):[]}),vo=hr(function(e){var t=u(e,Vt);return t.length&&t[0]===e[0]?Si(t):[]}),yo=hr(function(e){var t=Qn(e),i=u(e,Vt);return t===Qn(i)?t=J:i.pop(),i.length&&i[0]===e[0]?Si(i,En(t)):[]}),_o=hr(function(e){var t=Qn(e),i=u(e,Vt);return t===Qn(i)?t=J:i.pop(),i.length&&i[0]===e[0]?Si(i,J,t):[]}),bo=hr(Xn),wo=hr(function(e,t){var i=Ut(e,t=u(fi(t,1),String));return Mi(e,t.sort(x)),i}),To=hr(function(e){return Wi(fi(e,1,!0))}),Co=hr(function(e){var t=Qn(e);return vr(t)&&(t=J),Wi(fi(e,1,!0),En(t))}),So=hr(function(e){var t=Qn(e);return vr(t)&&(t=J),Wi(fi(e,1,!0),J,t)}),ko=hr(function(e,t){return vr(e)?li(e,t):[]}),$o=hr(function(e){return Qi(o(e,vr))}),Ao=hr(function(e){var t=Qn(e);return vr(t)&&(t=J),Qi(o(e,vr),En(t))}),xo=hr(function(e){var t=Qn(e);return vr(t)&&(t=J),Qi(o(e,vr),J,t)}),Eo=hr(er),Io=hr(function(e){var t=e.length,i=t>1?e[t-1]:J;return i="function"==typeof i?(e.pop(),i):J,tr(e,i)}),Do=hr(function(e){var t=(e=fi(e,1)).length,i=t?e[0]:0,n=this.__wrapped__,r=function(t){return Ut(t,e)};return!(t>1||this.__actions__.length)&&n instanceof $t&&N(i)?((n=n.slice(i,+i+(t?1:0))).__actions__.push({func:nr,args:[r],thisArg:J}),new kt(n,this.__chain__).thru(function(e){return t&&!e.length&&e.push(J),e})):this.thru(r)}),Oo=an(function(e,t,i){fs.call(e,i)?++e[i]:e[i]=1}),Po=an(function(e,t,i){fs.call(e,i)?e[i].push(t):e[i]=[t]}),No=hr(function(e,t,n){var r=-1,s="function"==typeof t,o=zn(t),a=gr(e)?Array(e.length):[];return io(e,function(e){var l=s?t:o&&null!=e?e[t]:J;a[++r]=l?i(l,e,n):ki(e,t,n)}),a}),Lo=an(function(e,t,i){e[i]=t}),Fo=an(function(e,t,i){e[i?0:1].push(t)},function(){return[[],[]]}),zo=hr(function(e,t){if(null==e)return[];var i=t.length;return i>1&&Fn(e,t[0],t[1])?t=[]:i>2&&Fn(t[0],t[1],t[2])&&(t.length=1),Ni(e,fi(t,1),[])}),Ro=os.now,Mo=hr(function(e,t,i){var n,r=Y;return i.length&&(n=z(i,On(Mo)),r|=ee),kn(e,r,t,i,n)}),jo=hr(function(e,t,i){var n,r=Y|K;return i.length&&(n=z(i,On(jo)),r|=ee),kn(t,r,e,i,n)}),Bo=hr(function(e,t){return ai(e,1,t)}),Jo=hr(function(e,t,i){return ai(e,Lr(t)||0,i)}),qo=hr(function(e,t){var n=(t=u(fi(t,1),En())).length;return hr(function(r){for(var s=-1,o=Ms(r.length,n);++s<o;)r[s]=t[s].call(this,r[s]);return i(e,this,r)})}),Ho=hr(function(e,t){var i=z(t,On(Ho));return kn(e,ee,J,t,i)}),Uo=hr(function(e,t){var i=z(t,On(Uo));return kn(e,te,J,t,i)}),Vo=hr(function(e,t){return kn(e,ne,J,J,J,fi(t,1))}),Wo=Array.isArray,Go=bs?function(e){return e instanceof bs}:Yr(!1),Yo=ln(function(e,t){if(Gs||jn(t)||gr(t))rn(t,Br(t),e);else for(var i in t)fs.call(t,i)&&Jt(e,i,t[i])}),Ko=ln(function(e,t){if(Gs||jn(t)||gr(t))rn(t,Jr(t),e);else for(var i in t)Jt(e,i,t[i])}),Qo=ln(function(e,t,i,n){sn(t,Jr(t),e,n)}),Xo=ln(function(e,t,i,n){sn(t,Br(t),e,n)}),Zo=hr(function(e,t){return Ut(e,fi(t,1))}),ea=hr(function(e){return e.push(J,jt),i(Qo,J,e)}),ta=hr(function(e){return e.push(J,qn),i(oa,J,e)}),ia=yn(function(e,t,i){e[t]=i},Yr(Kr)),na=yn(function(e,t,i){fs.call(e,t)?e[t].push(i):e[t]=[i]},En),ra=hr(ki),sa=ln(function(e,t,i){Pi(e,t,i)}),oa=ln(function(e,t,i,n){Pi(e,t,i,n)}),aa=hr(function(e,t){return null==e?{}:(t=u(fi(t,1),String),Li(e,li(Jr(e),t)))}),la=hr(function(e,t){return null==e?{}:Li(e,fi(t,1))}),ua=pn(function(e,t,i){return t=t.toLowerCase(),e+(i?Ur(t):t)}),ca=pn(function(e,t,i){return e+(i?"-":"")+t.toLowerCase()}),da=pn(function(e,t,i){return e+(i?" ":"")+t.toLowerCase()}),ha=hn("toLowerCase"),pa=hn("toUpperCase"),fa=pn(function(e,t,i){return e+(i?"_":"")+t.toLowerCase()}),ma=pn(function(e,t,i){return e+(i?" ":"")+Ur(t)}),ga=pn(function(e,t,i){return e+(i?" ":"")+t.toUpperCase()}),va=hr(function(e,t){try{return i(e,J,t)}catch(e){return yr(e)?e:new as(e)}}),ya=hr(function(e,t){return r(fi(t,1),function(t){e[t]=Mo(e[t],e)}),e}),_a=gn(),ba=gn(!0),wa=hr(function(e,t){return function(i){return ki(i,e,t)}}),Ta=hr(function(e,t){return function(i){return ki(e,i,t)}}),Ca=_n(u),Sa=_n(s),ka=_n(p),$a=Tn(),Aa=Tn(!0),xa=Sn("ceil"),Ea=Sn("floor"),Ia=Sn("round");return Ct.prototype=St.prototype,Ct.prototype.constructor=Ct,kt.prototype=oi(St.prototype),kt.prototype.constructor=kt,$t.prototype=oi(St.prototype),$t.prototype.constructor=$t,At.prototype=Vs?Vs(null):hs,Dt.prototype.clear=function(){this.__data__={hash:new At,map:qs?new qs:[],string:new At}},Dt.prototype.delete=function(e){var t=this.__data__;return Rn(e)?function(e,t){return Et(e,t)&&delete e[t]}("string"==typeof e?t.string:t.hash,e):qs?t.map.delete(e):Lt(t.map,e)},Dt.prototype.get=function(e){var t=this.__data__;return Rn(e)?xt("string"==typeof e?t.string:t.hash,e):qs?t.map.get(e):Ft(t.map,e)},Dt.prototype.has=function(e){var t=this.__data__;return Rn(e)?Et("string"==typeof e?t.string:t.hash,e):qs?t.map.has(e):zt(t.map,e)},Dt.prototype.set=function(e,t){var i=this.__data__;return Rn(e)?It("string"==typeof e?i.string:i.hash,e,t):qs?i.map.set(e,t):Mt(i.map,e,t),this},Ot.prototype.push=function(e){var t,i=this.__data__;Rn(e)?(t=i.__data__,("string"==typeof e?t.string:t.hash)[e]=W):i.set(e,W)},Nt.prototype.clear=function(){this.__data__={array:[],map:null}},Nt.prototype.delete=function(e){var t=this.__data__,i=t.array;return i?Lt(i,e):t.map.delete(e)},Nt.prototype.get=function(e){var t=this.__data__,i=t.array;return i?Ft(i,e):t.map.get(e)},Nt.prototype.has=function(e){var t=this.__data__,i=t.array;return i?zt(i,e):t.map.has(e)},Nt.prototype.set=function(e,t){var i,n=this.__data__,r=n.array;return r&&(r.length<U-1?Mt(r,e,t):(n.array=null,n.map=new Dt(r))),(i=n.map)&&i.set(e,t),this},dr.Cache=Dt,Ct.equal=is,Ct.prepareTransition=ns,Ct.after=function(e,t){if("function"!=typeof t)throw new cs(V);return e=Pr(e),function(){if(--e<1)return t.apply(this,arguments)}},Ct.ary=lr,Ct.assign=Yo,Ct.assignIn=Ko,Ct.assignInWith=Qo,Ct.assignWith=Xo,Ct.at=Zo,Ct.before=ur,Ct.bind=Mo,Ct.bindAll=ya,Ct.bindKey=jo,Ct.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return Wo(e)?e:[e]},Ct.chain=ir,Ct.chunk=function(e,t){var i;if(t=Rs(Pr(t),0),!(i=e?e.length:0)||1>t)return[];for(var n=0,r=0,s=Array(Ps(i/t));i>n;)s[r++]=Ji(e,n,n+=t);return s},Ct.compact=function(e){for(var t,i=-1,n=e?e.length:0,r=0,s=[];++i<n;)(t=e[i])&&(s[r++]=t);return s},Ct.concat=po,Ct.cond=function(e){var t=e?e.length:0,n=En();return e=t?u(e,function(e){if("function"!=typeof e[1])throw new cs(V);return[n(e[0]),e[1]]}):[],hr(function(n){for(var r,s=-1;++s<t;)if(i((r=e[s])[0],this,n))return i(r[1],this,n)})},Ct.conforms=function(e){return Xt(Kt(e,!0))},Ct.constant=Yr,Ct.countBy=Oo,Ct.create=function(e,t){var i=oi(e);return t?Ht(i,t):i},Ct.curry=function e(t,i,n){var r=kn(t,X,J,J,J,J,J,i=n?J:i);return r.placeholder=e.placeholder,r},Ct.curryRight=function e(t,i,n){var r=kn(t,Z,J,J,J,J,J,i=n?J:i);return r.placeholder=e.placeholder,r},Ct.debounce=cr,Ct.defaults=ea,Ct.defaultsDeep=ta,Ct.defer=Bo,Ct.delay=Jo,Ct.difference=fo,Ct.differenceBy=mo,Ct.differenceWith=go,Ct.drop=Gn,Ct.dropRight=Yn,Ct.dropRightWhile=function(e,t){return e&&e.length?Yi(e,En(t,3),!0,!0):[]},Ct.dropWhile=function(e,t){return e&&e.length?Yi(e,En(t,3),!0):[]},Ct.fill=function(e,t,i,n){var r=e?e.length:0;return r?(i&&"number"!=typeof i&&Fn(e,t,i)&&(i=0,n=r),ci(e,t,i,n)):[]},Ct.filter=function(e,t){return(Wo(e)?o:pi)(e,En(t,3))},Ct.flatMap=function(e,t){return fi(or(e,t),1)},Ct.flatten=function(e){return e&&e.length?fi(e,1):[]},Ct.flattenDeep=function(e){return e&&e.length?fi(e,fe):[]},Ct.flattenDepth=function(e,t){return e&&e.length?fi(e,t=t===J?1:Pr(t)):[]},Ct.flip=function(e){return kn(e,re)},Ct.flow=_a,Ct.flowRight=ba,Ct.fromPairs=function(e){for(var t,i=-1,n=e?e.length:0,r={};++i<n;)r[(t=e[i])[0]]=t[1];return r},Ct.functions=function(e){return null==e?[]:yi(e,Br(e))},Ct.functionsIn=function(e){return null==e?[]:yi(e,Jr(e))},Ct.groupBy=Po,Ct.initial=function(e){return Yn(e,1)},Ct.intersection=vo,Ct.intersectionBy=yo,Ct.intersectionWith=_o,Ct.invert=ia,Ct.invertBy=na,Ct.invokeMap=No,Ct.iteratee=Qr,Ct.keyBy=Lo,Ct.keys=Br,Ct.keysIn=Jr,Ct.map=or,Ct.mapKeys=function(e,t){var i={};return t=En(t,3),gi(e,function(e,n,r){i[t(e,n,r)]=e}),i},Ct.mapValues=function(e,t){var i={};return t=En(t,3),gi(e,function(e,n,r){i[n]=t(e,n,r)}),i},Ct.matches=function(e){return Di(Kt(e,!0))},Ct.matchesProperty=function(e,t){return Oi(e,Kt(t,!0))},Ct.memoize=dr,Ct.merge=sa,Ct.mergeWith=oa,Ct.method=wa,Ct.methodOf=Ta,Ct.mixin=Xr,Ct.negate=function(e){if("function"!=typeof e)throw new cs(V);return function(){return!e.apply(this,arguments)}},Ct.nthArg=function(e){return e=Pr(e),function(){return arguments[e]}},Ct.omit=aa,Ct.omitBy=function(e,t){return t=En(t),Fi(e,function(e,i){return!t(e,i)})},Ct.once=function(e){return ur(2,e)},Ct.orderBy=function(e,t,i,n){return null==e?[]:(Wo(t)||(t=null==t?[]:[t]),Wo(i=n?J:i)||(i=null==i?[]:[i]),Ni(e,t,i))},Ct.over=Ca,Ct.overArgs=qo,Ct.overEvery=Sa,Ct.overSome=ka,Ct.partial=Ho,Ct.partialRight=Uo,Ct.partition=Fo,Ct.pick=la,Ct.pickBy=function(e,t){return null==e?{}:Fi(e,En(t))},Ct.property=es,Ct.propertyOf=function(e){return function(t){return null==e?J:_i(e,t)}},Ct.pull=bo,Ct.pullAll=Xn,Ct.pullAllBy=function(e,t,i){return e&&e.length&&t&&t.length?Ri(e,t,En(i)):e},Ct.pullAllWith=function(e,t,i){return e&&e.length&&t&&t.length?Ri(e,t,J,i):e},Ct.pullAt=wo,Ct.range=$a,Ct.rangeRight=Aa,Ct.rearg=Vo,Ct.reject=function(e,t){var i=Wo(e)?o:pi;return t=En(t,3),i(e,function(e,i,n){return!t(e,i,n)})},Ct.remove=function(e,t){var i,n=[];if(!e||!e.length)return n;var r=-1,s=[],o=e.length;for(t=En(t,3);++r<o;)t(i=e[r],r,e)&&(n.push(i),s.push(r));return Mi(e,s),n},Ct.rest=hr,Ct.reverse=Zn,Ct.sampleSize=ar,Ct.set=function(e,t,i){return null==e?e:Bi(e,t,i)},Ct.setWith=function(e,t,i,n){return n="function"==typeof n?n:J,null==e?e:Bi(e,t,i,n)},Ct.shuffle=function(e){return ar(e,ye)},Ct.slice=function(e,t,i){var n=e?e.length:0;return n?(i&&"number"!=typeof i&&Fn(e,t,i)?(t=0,i=n):(t=null==t?0:Pr(t),i=i===J?n:Pr(i)),Ji(e,t,i)):[]},Ct.sortBy=zo,Ct.sortedUniq=function(e){return e&&e.length?function(e){return Vi(e)}(e):[]},Ct.sortedUniqBy=function(e,t){return e&&e.length?Vi(e,En(t)):[]},Ct.split=function(e,t,i){return zr(e).split(t,i)},Ct.spread=function(e,t){if("function"!=typeof e)throw new cs(V);return t=t===J?0:Rs(Pr(t),0),hr(function(n){var r=n[t],s=n.slice(0,t);return r&&c(s,r),i(e,this,s)})},Ct.tail=function(e){return Gn(e,1)},Ct.take=function(e,t,i){return e&&e.length?Ji(e,0,0>(t=i||t===J?1:Pr(t))?0:t):[]},Ct.takeRight=function(e,t,i){var n=e?e.length:0;return n?Ji(e,0>(t=n-(t=i||t===J?1:Pr(t)))?0:t,n):[]},Ct.takeRightWhile=function(e,t){return e&&e.length?Yi(e,En(t,3),!1,!0):[]},Ct.takeWhile=function(e,t){return e&&e.length?Yi(e,En(t,3)):[]},Ct.tap=function(e,t){return t(e),e},Ct.throttle=function(e,t,i){var n=!0,r=!0;if("function"!=typeof e)throw new cs(V);return Tr(i)&&(n="leading"in i?!!i.leading:n,r="trailing"in i?!!i.trailing:r),cr(e,t,{leading:n,maxWait:t,trailing:r})},Ct.thru=nr,Ct.toArray=Or,Ct.toPairs=qr,Ct.toPairsIn=function(e){return T(e,Jr(e))},Ct.toPath=function(e){return Wo(e)?u(e,String):Vn(e)},Ct.toPlainObject=Fr,Ct.transform=function(e,t,i){var n,s=Wo(e)||Ir(e);return t=En(t,4),null==i&&(s||Tr(e)?(n=e.constructor,i=s?Wo(e)?new n:[]:_r(n)?oi($s(e)):{}):i={}),(s?r:gi)(e,function(e,n,r){return t(i,e,n,r)}),i},Ct.unary=function(e){return lr(e,1)},Ct.union=To,Ct.unionBy=Co,Ct.unionWith=So,Ct.uniq=function(e){return e&&e.length?Wi(e):[]},Ct.uniqBy=function(e,t){return e&&e.length?Wi(e,En(t)):[]},Ct.uniqWith=function(e,t){return e&&e.length?Wi(e,J,t):[]},Ct.unset=function(e,t){return null==e||function(e,t){e=Hn(e,t=zn(t,e)?[t+""]:Gt(t));var i=Qn(t);return null==e||!Mr(e,i)||delete e[i]}(e,t)},Ct.unzip=er,Ct.unzipWith=tr,Ct.update=function(e,t,i){return null==e?e:Gi(e,t,Wt(i))},Ct.updateWith=function(e,t,i,n){return n="function"==typeof n?n:J,null==e?e:Gi(e,t,Wt(i),n)},Ct.values=Hr,Ct.valuesIn=function(e){return null==e?[]:S(e,Jr(e))},Ct.without=ko,Ct.words=Gr,Ct.wrap=function(e,t){return Ho(t=null==t?Kr:t,e)},Ct.xor=$o,Ct.xorBy=Ao,Ct.xorWith=xo,Ct.zip=Eo,Ct.zipObject=function(e,t){return Xi(e||[],t||[],Jt)},Ct.zipObjectDeep=function(e,t){return Xi(e||[],t||[],Bi)},Ct.zipWith=Io,Ct.extend=Ko,Ct.extendWith=Qo,Xr(Ct,Ct),Ct.add=function(e,t){var i;return e===J&&t===J?0:(e!==J&&(i=e),t!==J&&(i=i===J?t:i+t),i)},Ct.attempt=va,Ct.camelCase=ua,Ct.capitalize=Ur,Ct.ceil=xa,Ct.clamp=function(e,t,i){return i===J&&(i=t,t=J),i!==J&&(i=(i=Lr(i))==i?i:0),t!==J&&(t=(t=Lr(t))==t?t:0),Yt(Lr(e),t,i)},Ct.clone=function(e){return Kt(e,!1,!0)},Ct.cloneDeep=function(e){return Kt(e,!0,!0)},Ct.cloneDeepWith=function(e,t){return Kt(e,!0,!0,t)},Ct.cloneWith=function(e,t){return Kt(e,!1,!0,t)},Ct.deburr=Vr,Ct.endsWith=function(e,t,i){t="string"==typeof t?t:t+"";var n=(e=zr(e)).length;return i=i===J?n:Yt(Pr(i),0,n),(i-=t.length)>=0&&e.indexOf(t,i)==i},Ct.eq=pr,Ct.escape=function(e){return(e=zr(e))&&Ze.test(e)?e.replace(Qe,I):e},Ct.escapeRegExp=function(e){return(e=zr(e))&&at.test(e)?e.replace(ot,"\\$&"):e},Ct.every=function(e,t,i){var n=Wo(e)?s:ui;return i&&Fn(e,t,i)&&(t=J),n(e,En(t,3))},Ct.find=function(e,t){if(t=En(t,3),Wo(e)){var i=g(e,t);return i>-1?e[i]:J}return m(e,t,io)},Ct.findIndex=function(e,t){return e&&e.length?g(e,En(t,3)):-1},Ct.findKey=function(e,t){return m(e,En(t,3),gi,!0)},Ct.findLast=function(e,t){if(t=En(t,3),Wo(e)){var i=g(e,t,!0);return i>-1?e[i]:J}return m(e,t,no)},Ct.findLastIndex=function(e,t){return e&&e.length?g(e,En(t,3),!0):-1},Ct.findLastKey=function(e,t){return m(e,En(t,3),vi,!0)},Ct.floor=Ea,Ct.forEach=rr,Ct.forEachRight=sr,Ct.forIn=function(e,t){return null==e?e:ro(e,Wt(t),Jr)},Ct.forInRight=function(e,t){return null==e?e:so(e,Wt(t),Jr)},Ct.forOwn=function(e,t){return e&&gi(e,Wt(t))},Ct.forOwnRight=function(e,t){return e&&vi(e,Wt(t))},Ct.get=Rr,Ct.gt=fr,Ct.gte=function(e,t){return e>=t},Ct.has=Mr,Ct.hasIn=jr,Ct.head=Kn,Ct.identity=Kr,Ct.includes=function(e,t,i,n){e=gr(e)?e:Hr(e),i=i&&!n?Pr(i):0;var r=e.length;return 0>i&&(i=Rs(r+i,0)),xr(e)?r>=i&&e.indexOf(t,i)>-1:!!r&&v(e,t,i)>-1},Ct.indexOf=function(e,t,i){var n=e?e.length:0;return n?(0>(i=Pr(i))&&(i=Rs(n+i,0)),v(e,t,i)):-1},Ct.inRange=function(e,t,i){return t=Lr(t)||0,i===J?(i=t,t=0):i=Lr(i)||0,function(e,t,i){return e>=Ms(t,i)&&e<Rs(t,i)}(e=Lr(e),t,i)},Ct.invoke=ra,Ct.isArguments=mr,Ct.isArray=Wo,Ct.isArrayBuffer=function(e){return Cr(e)&&vs.call(e)==ze},Ct.isArrayLike=gr,Ct.isArrayLikeObject=vr,Ct.isBoolean=function(e){return!0===e||!1===e||Cr(e)&&vs.call(e)==Ce},Ct.isBuffer=Go,Ct.isDate=function(e){return Cr(e)&&vs.call(e)==Se},Ct.isElement=function(e){return!!e&&1===e.nodeType&&Cr(e)&&!$r(e)},Ct.isEmpty=function(e){if(gr(e)&&(Wo(e)||xr(e)||_r(e.splice)||mr(e)))return!e.length;for(var t in e)if(fs.call(e,t))return!1;return!0},Ct.isEqual=function(e,t){return $i(e,t)},Ct.isEqualWith=function(e,t,i){var n=(i="function"==typeof i?i:J)?i(e,t):J;return n===J?$i(e,t,i):!!n},Ct.isError=yr,Ct.isFinite=function(e){return"number"==typeof e&&Ls(e)},Ct.isFunction=_r,Ct.isInteger=br,Ct.isLength=wr,Ct.isMap=function(e){return Cr(e)&&Pn(e)==xe},Ct.isMatch=function(e,t){return e===t||Ai(e,t,In(t))},Ct.isMatchWith=function(e,t,i){return i="function"==typeof i?i:J,Ai(e,t,In(t),i)},Ct.isNaN=function(e){return kr(e)&&e!=+e},Ct.isNative=Sr,Ct.isNil=function(e){return null==e},Ct.isNull=function(e){return null===e},Ct.isNumber=kr,Ct.isObject=Tr,Ct.isObjectLike=Cr,Ct.isPlainObject=$r,Ct.isRegExp=Ar,Ct.isSafeInteger=function(e){return br(e)&&e>=-me&&me>=e},Ct.isSet=function(e){return Cr(e)&&Pn(e)==Oe},Ct.isString=xr,Ct.isSymbol=Er,Ct.isTypedArray=Ir,Ct.isUndefined=function(e){return e===J},Ct.isWeakMap=function(e){return Cr(e)&&Pn(e)==Le},Ct.isWeakSet=function(e){return Cr(e)&&vs.call(e)==Fe},Ct.join=function(e,t){return e?Fs.call(e,t):""},Ct.kebabCase=ca,Ct.last=Qn,Ct.lastIndexOf=function(e,t,i){var n,r=e?e.length:0;if(!r)return-1;if(n=r,i!==J&&(n=(0>(n=Pr(i))?Rs(r+n,0):Ms(n,r-1))+1),t!=t)return O(e,n,!0);for(;n--;)if(e[n]===t)return n;return-1},Ct.lowerCase=da,Ct.lowerFirst=ha,Ct.lt=Dr,Ct.lte=function(e,t){return t>=e},Ct.max=function(e){return e&&e.length?f(e,Kr,fr):J},Ct.maxBy=function(e,t){return e&&e.length?f(e,En(t),fr):J},Ct.mean=function(e){return ts(e)/(e?e.length:0)},Ct.min=function(e){return e&&e.length?f(e,Kr,Dr):J},Ct.minBy=function(e,t){return e&&e.length?f(e,En(t),Dr):J},Ct.noConflict=function(){return bi._===this&&(bi._=ys),this},Ct.noop=Zr,Ct.now=Ro,Ct.pad=function(e,t,i){var n;if(e=zr(e),t=Pr(t),n=M(e),!t||n>=t)return e;var r=(t-n)/2,s=Ns(r),o=Ps(r);return bn("",s,i)+e+bn("",o,i)},Ct.padEnd=function(e,t,i){return(e=zr(e))+bn(e,t,i)},Ct.padStart=function(e,t,i){return bn(e=zr(e),t,i)+e},Ct.parseInt=function(e,t,i){return i||null==t?t=0:t&&(t=+t),e=zr(e).replace(lt,""),js(e,t||(ft.test(e)?16:10))},Ct.random=function(e,t,i){var n,r;return i&&"boolean"!=typeof i&&Fn(e,t,i)&&(t=i=J),i===J&&("boolean"==typeof t?(i=t,t=J):"boolean"==typeof e&&(i=e,e=J)),e===J&&t===J?(e=0,t=1):(e=Lr(e)||0,t===J?(t=e,e=0):t=Lr(t)||0),e>t&&(n=e,e=t,t=n),i||e%1||t%1?(r=Bs(),Ms(e+r*(t-e+di("1e-"+((r+"").length-1))),t)):ji(e,t)},Ct.reduce=function(e,t,i){var n=Wo(e)?d:_,r=arguments.length<3;return n(e,En(t,4),i,r,io)},Ct.reduceRight=function(e,t,i){var n=Wo(e)?h:_,r=arguments.length<3;return n(e,En(t,4),i,r,no)},Ct.repeat=Wr,Ct.replace=function(){var e=arguments,t=zr(e[0]);return e.length<3?t:t.replace(e[1],e[2])},Ct.result=function(e,t,i){if(zn(t,e))n=null==e?J:e[t];else{var n=Rr(e,t=Gt(t));e=Hn(e,t)}return n===J&&(n=i),_r(n)?n.call(e):n},Ct.round=Ia,Ct.runInContext=A,Ct.sample=function(e){var t=gr(e)?e:Hr(e),i=t.length;return i>0?t[ji(0,i-1)]:J},Ct.size=function(e){if(null==e)return 0;if(gr(e)){var t=e.length;return t&&xr(e)?M(e):t}return Br(e).length},Ct.snakeCase=fa,Ct.some=function(e,t,i){var n=Wo(e)?p:qi;return i&&Fn(e,t,i)&&(t=J),n(e,En(t,3))},Ct.sortedIndex=function(e,t){return Hi(e,t)},Ct.sortedIndexBy=function(e,t,i){return Ui(e,t,En(i))},Ct.sortedIndexOf=function(e,t){var i,n=e?e.length:0;return n&&n>(i=Hi(e,t))&&pr(e[i],t)?i:-1},Ct.sortedLastIndex=function(e,t){return Hi(e,t,!0)},Ct.sortedLastIndexBy=function(e,t,i){return Ui(e,t,En(i),!0)},Ct.sortedLastIndexOf=function(e,t){var i;return e&&e.length&&pr(e[i=Hi(e,t,!0)-1],t)?i:-1},Ct.startCase=ma,Ct.startsWith=function(e,t,i){return e=zr(e),i=Yt(Pr(i),0,e.length),e.lastIndexOf(t,i)==i},Ct.subtract=function(e,t){var i;return e===J&&t===J?0:(e!==J&&(i=e),t!==J&&(i=i===J?t:i-t),i)},Ct.sum=ts,Ct.sumBy=function(e,t){return e&&e.length?b(e,En(t)):0},Ct.template=function(e,t,i){var n,r,s=Ct.templateSettings;i&&Fn(e,t,i)&&(t=J),e=zr(e),t=Qo({},t,s,jt);var o,a,l=Qo({},t.imports,s.imports,jt),u=Br(l),c=S(l,u),d=0,h=t.interpolate||wt,p="__p += '",f=us((t.escape||wt).source+"|"+h.source+"|"+(h===it?ht:wt).source+"|"+(t.evaluate||wt).source+"|$","g"),m="//# sourceURL="+("sourceURL"in t?t.sourceURL:"lodash.templateSources["+ ++ri+"]")+"\n";if(e.replace(f,function(t,i,n,r,s,l){return n||(n=r),p+=e.slice(d,l).replace(Tt,D),i&&(o=!0,p+="' +\n__e("+i+") +\n'"),s&&(a=!0,p+="';\n"+s+";\n__p += '"),n&&(p+="' +\n((__t = ("+n+")) == null ? '' : __t) +\n'"),d=l+t.length,t}),p+="';\n",(n=t.variable)||(p="with (obj) {\n"+p+"\n}\n"),p=(a?p.replace(We,""):p).replace(Ge,"$1").replace(Ye,"$1;"),p="function("+(n||"obj")+") {\n"+(n?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+p+"return __p\n}",(r=va(function(){return Function(u,m+"return "+p).apply(J,c)})).source=p,yr(r))throw r;return r},Ct.times=function(e,t){var i,n,r;if(1>(e=Pr(e))||e>me)return[];for(i=ye,n=Ms(e,ye),t=Wt(t),e-=ye,r=w(n,t);++i<e;)t(i);return r},Ct.toInteger=Pr,Ct.toLength=Nr,Ct.toLower=function(e){return zr(e).toLowerCase()},Ct.toNumber=Lr,Ct.toSafeInteger=function(e){return Yt(Pr(e),-me,me)},Ct.toString=zr,Ct.toUpper=function(e){return zr(e).toUpperCase()},Ct.trim=function(e,t,i){if(!(e=zr(e)))return e;if(i||t===J)return e.replace(lt,"");if(!(t+=""))return e;var n=j(e),r=j(t);return n.slice(k(n,r),$(n,r)+1).join("")},Ct.trimEnd=function(e,t,i){if(!(e=zr(e)))return e;if(i||t===J)return e.replace(ct,"");if(!(t+=""))return e;var n=j(e);return n.slice(0,$(n,j(t))+1).join("")},Ct.trimStart=function(e,t,i){if(!(e=zr(e)))return e;if(i||t===J)return e.replace(ut,"");if(!(t+=""))return e;var n=j(e);return n.slice(k(n,j(t))).join("")},Ct.truncate=function(e,t){var i,n,r,s,o,a,l,u,c,d=ae,h=le;if(Tr(t)&&(i="separator"in t?t.separator:i,d="length"in t?Pr(t.length):d,h="omission"in t?zr(t.omission):h),n=(e=zr(e)).length,Zt.test(e)&&(n=(r=j(e)).length),d>=n)return e;if(1>(s=d-M(h)))return h;if(o=r?r.slice(0,s).join(""):e.slice(0,s),i===J)return o+h;if(r&&(s+=o.length-s),Ar(i)){if(e.slice(s).search(i)){for(l=o,i.global||(i=us(i.source,zr(pt.exec(i))+"g")),i.lastIndex=0;a=i.exec(l);)u=a.index;o=o.slice(0,u===J?s:u)}}else e.indexOf(i,s)!=s&&(c=o.lastIndexOf(i))>-1&&(o=o.slice(0,c));return o+h},Ct.unescape=function(e){return(e=zr(e))&&Xe.test(e)?e.replace(Ke,B):e},Ct.uniqueId=function(e){var t=++ms;return zr(e)+t},Ct.upperCase=ga,Ct.upperFirst=pa,Ct.each=rr,Ct.eachRight=sr,Ct.first=Kn,Xr(Ct,function(){var e={};return gi(Ct,function(t,i){fs.call(Ct.prototype,i)||(e[i]=t)}),e}(),{chain:!1}),Ct.VERSION=H,r(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){Ct[e].placeholder=Ct}),r(["drop","take"],function(e,t){$t.prototype[e]=function(i){var n,r=this.__filtered__;return r&&!t?new $t(this):(i=i===J?1:Rs(Pr(i),0),n=this.clone(),r?n.__takeCount__=Ms(i,n.__takeCount__):n.__views__.push({size:Ms(i,ye),type:e+(n.__dir__<0?"Right":"")}),n)},$t.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}}),r(["filter","map","takeWhile"],function(e,t){var i=t+1,n=i==de||i==pe;$t.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:En(e,3),type:i}),t.__filtered__=t.__filtered__||n,t}}),r(["head","last"],function(e,t){var i="take"+(t?"Right":"");$t.prototype[e]=function(){return this[i](1).value()[0]}}),r(["initial","tail"],function(e,t){var i="drop"+(t?"":"Right");$t.prototype[e]=function(){return this.__filtered__?new $t(this):this[i](1)}}),$t.prototype.compact=function(){return this.filter(Kr)},$t.prototype.find=function(e){return this.filter(e).head()},$t.prototype.findLast=function(e){return this.reverse().find(e)},$t.prototype.invokeMap=hr(function(e,t){return"function"==typeof e?new $t(this):this.map(function(i){return ki(i,e,t)})}),$t.prototype.reject=function(e){return e=En(e,3),this.filter(function(t){return!e(t)})},$t.prototype.slice=function(e,t){e=Pr(e);var i=this;return i.__filtered__&&(e>0||0>t)?new $t(i):(0>e?i=i.takeRight(-e):e&&(i=i.drop(e)),t!==J&&(i=0>(t=Pr(t))?i.dropRight(-t):i.take(t-e)),i)},$t.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},$t.prototype.toArray=function(){return this.take(ye)},gi($t.prototype,function(e,t){var i=/^(?:filter|find|map|reject)|While$/.test(t),n=/^(?:head|last)$/.test(t),r=Ct[n?"take"+("last"==t?"Right":""):t],s=n||/^find/.test(t);r&&(Ct.prototype[t]=function(){var t,o=this.__wrapped__,a=n?[1]:arguments,l=o instanceof $t,u=a[0],d=l||Wo(o),h=function(e){var t=r.apply(Ct,c([e],a));return n&&p?t[0]:t};d&&i&&"function"==typeof u&&1!=u.length&&(l=d=!1);var p=this.__chain__,f=!!this.__actions__.length,m=s&&!p,g=l&&!f;return!s&&d?(o=g?o:new $t(this),(t=e.apply(o,a)).__actions__.push({func:nr,args:[h],thisArg:J}),new kt(t,p)):m&&g?e.apply(this,a):(t=this.thru(h),m?n?t.value()[0]:t.value():t)})}),r(["pop","push","shift","sort","splice","unshift"],function(e){var t=ds[e],i=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",n=/^(?:pop|shift)$/.test(e);Ct.prototype[e]=function(){var e=arguments;return n&&!this.__chain__?t.apply(this.value(),e):this[i](function(i){return t.apply(i,e)})}}),gi($t.prototype,function(e,t){var i,n=Ct[t];n&&(i=n.name+"",(Ys[i]||(Ys[i]=[])).push({name:t,func:n}))}),Ys[vn(J,K).name]=[{name:"wrapper",func:J}],$t.prototype.clone=function(){var e=new $t(this.__wrapped__);return e.__actions__=nn(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=nn(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=nn(this.__views__),e},$t.prototype.reverse=function(){if(this.__filtered__){var e=new $t(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},$t.prototype.value=function(){var e,t,i,n=this.__wrapped__.value(),r=this.__dir__,s=Wo(n),o=0>r,a=s?n.length:0,l=function(e,t,i){for(var n,r,s=-1,o=i.length;++s<o;)switch(n=i[s],r=n.size,n.type){case"drop":e+=r;break;case"dropRight":t-=r;break;case"take":t=Ms(t,e+r);break;case"takeRight":e=Rs(e,t-r)}return{start:e,end:t}}(0,a,this.__views__),u=l.start,c=l.end,d=c-u,h=o?c:u-1,p=this.__iteratees__,f=p.length,m=0,g=Ms(d,this.__takeCount__);if(!s||U>a||a==d&&g==d)return Ki(n,this.__actions__);e=[];e:for(;d--&&g>m;){for(t=-1,i=n[h+=r];++t<f;){var v=p[t],y=v.iteratee,_=v.type,b=y(i);if(_==he)i=b;else if(!b){if(_==de)continue e;break e}}e[m++]=i}return e},Ct.prototype.at=Do,Ct.prototype.chain=function(){return ir(this)},Ct.prototype.commit=function(){return new kt(this.value(),this.__chain__)},Ct.prototype.flatMap=function(e){return this.map(e).flatten()},Ct.prototype.next=function(){this.__values__===J&&(this.__values__=Or(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?J:this.__values__[this.__index__++]}},Ct.prototype.plant=function(e){for(var t,i,n,r=this;r instanceof St;)(i=Wn(r)).__index__=0,i.__values__=J,t?n.__wrapped__=i:t=i,n=i,r=r.__wrapped__;return n.__wrapped__=e,t},Ct.prototype.reverse=function(){var e,t=this.__wrapped__;return t instanceof $t?(e=t,this.__actions__.length&&(e=new $t(this)),(e=e.reverse()).__actions__.push({func:nr,args:[Zn],thisArg:J}),new kt(e,this.__chain__)):this.thru(Zn)},Ct.prototype.toJSON=Ct.prototype.valueOf=Ct.prototype.value=function(){return Ki(this.__wrapped__,this.__actions__)},xs&&(Ct.prototype[xs]=function(){return this}),Ct}();(yi||vi||{})._=wi,"function"==typeof define&&"object"==typeof define.amd&&define.amd?define(function(){return wi}):pi&&fi?(mi&&((fi.exports=wi)._=wi),pi._=wi):bi._=wi}.call(this),function(){var e,t;e=this,t=function(e){var t=e&&e.IPv6;return{best:function(e){var t,i,n;for(r=(e=e.toLowerCase().split(":")).length,t=8,""===e[0]&&""===e[1]&&""===e[2]?(e.shift(),e.shift()):""===e[0]&&""===e[1]?e.shift():""===e[r-1]&&""===e[r-2]&&e.pop(),-1!==e[(r=e.length)-1].indexOf(".")&&(t=7),i=0;i<r&&""!==e[i];i++);if(i<t)for(e.splice(i,1,"0000");e.length<t;)e.splice(i,0,"0000");for(i=0;i<t;i++){for(r=e[i].split(""),n=0;3>n&&("0"===r[0]&&1<r.length);n++)r.splice(0,1);e[i]=r.join("")}var r=-1,s=n=0,o=-1,a=!1;for(i=0;i<t;i++)a?"0"===e[i]?s+=1:(a=!1,s>n&&(r=o,n=s)):"0"===e[i]&&(a=!0,o=i,s=1);for(s>n&&(r=o,n=s),1<n&&e.splice(r,n,""),r=e.length,t="",""===e[0]&&(t=":"),i=0;i<r&&(t+=e[i],i!==r-1);i++)t+=":";return""===e[r-1]&&(t+=":"),t},noConflict:function(){return e.IPv6===this&&(e.IPv6=t),this}}},"object"==typeof exports?module.exports=t():"function"==typeof define&&define.amd?define(t):e.IPv6=t(e),function(e){function t(e){throw RangeError(y[e])}function i(e,t){for(var i=e.length;i--;)e[i]=t(e[i]);return e}function n(e,t){return i(e.split(v),t).join(".")}function r(e){for(var t,i,n=[],r=0,s=e.length;r<s;)55296<=(t=e.charCodeAt(r++))&&56319>=t&&r<s?56320==(64512&(i=e.charCodeAt(r++)))?n.push(((1023&t)<<10)+(1023&i)+65536):(n.push(t),r--):n.push(t);return n}function s(e){return i(e,function(e){var t="";return 65535<e&&(t+=b((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+b(e)}).join("")}function o(e,t){return e+22+75*(26>e)-((0!=t)<<5)}function a(e,t,i){var n=0;for(e=i?_(e/700):e>>1,e+=_(e/t);455<e;n+=36)e=_(e/35);return _(n+36*e/(e+38))}function l(e){var i,n,r,o,l,u,c=[],d=e.length,h=0,p=128,f=72;for(0>(n=e.lastIndexOf("-"))&&(n=0),r=0;r<n;++r)128<=e.charCodeAt(r)&&t("not-basic"),c.push(e.charCodeAt(r));for(n=0<n?n+1:0;n<d;){for(r=h,i=1,o=36;n>=d&&t("invalid-input"),(36<=(l=10>(l=e.charCodeAt(n++))-48?l-22:26>l-65?l-65:26>l-97?l-97:36)||l>_((2147483647-h)/i))&&t("overflow"),h+=l*i,!(l<(u=o<=f?1:o>=f+26?26:o-f));o+=36)i>_(2147483647/(l=36-u))&&t("overflow"),i*=l;f=a(h-r,i=c.length+1,0==r),_(h/i)>2147483647-p&&t("overflow"),p+=_(h/i),h%=i,c.splice(h++,0,p)}return s(c)}function u(e){var i,n,s,l,u,c,d,h,p,f,m,g,v=[];for(f=(e=r(e)).length,i=128,n=0,u=72,c=0;c<f;++c)128>(p=e[c])&&v.push(b(p));for((s=l=v.length)&&v.push("-");s<f;){for(d=2147483647,c=0;c<f;++c)(p=e[c])>=i&&p<d&&(d=p);for(d-i>_((2147483647-n)/(m=s+1))&&t("overflow"),n+=(d-i)*m,i=d,c=0;c<f;++c)if((p=e[c])<i&&2147483647<++n&&t("overflow"),p==i){for(h=n,d=36;!(h<(p=d<=u?1:d>=u+26?26:d-u));d+=36)g=h-p,h=36-p,v.push(b(o(p+g%h,0))),h=_(g/h);v.push(b(o(h,0))),u=a(n,m,s==l),n=0,++s}++n,++i}return v.join("")}var c="object"==typeof exports&&exports,d="object"==typeof module&&module&&module.exports==c&&module,h="object"==typeof global&&global;(h.global===h||h.window===h)&&(e=h);var p,f,m=/^xn--/,g=/[^ -~]/,v=/\x2E|\u3002|\uFF0E|\uFF61/g,y={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},_=Math.floor,b=String.fromCharCode;if(p={version:"1.2.3",ucs2:{decode:r,encode:s},decode:l,encode:u,toASCII:function(e){return n(e,function(e){return g.test(e)?"xn--"+u(e):e})},toUnicode:function(e){return n(e,function(e){return m.test(e)?l(e.slice(4).toLowerCase()):e})}},"function"==typeof define&&"object"==typeof define.amd&&define.amd)define(function(){return p});else if(c&&!c.nodeType)if(d)d.exports=p;else for(f in p)p.hasOwnProperty(f)&&(c[f]=p[f]);else e.punycode=p}(this),function(e,t){"object"==typeof exports?module.exports=t():"function"==typeof define&&define.amd?define(t):e.SecondLevelDomains=t(e)}(this,function(e){var t=e&&e.SecondLevelDomains,i={list:{ac:" com gov mil net org ",ae:" ac co gov mil name net org pro sch ",af:" com edu gov net org ",al:" com edu gov mil net org ",ao:" co ed gv it og pb ",ar:" com edu gob gov int mil net org tur ",at:" ac co gv or ",au:" asn com csiro edu gov id net org ",ba:" co com edu gov mil net org rs unbi unmo unsa untz unze ",bb:" biz co com edu gov info net org store tv ",bh:" biz cc com edu gov info net org ",bn:" com edu gov net org ",bo:" com edu gob gov int mil net org tv ",br:" adm adv agr am arq art ato b bio blog bmd cim cng cnt com coop ecn edu eng esp etc eti far flog fm fnd fot fst g12 ggf gov imb ind inf jor jus lel mat med mil mus net nom not ntr odo org ppg pro psc psi qsl rec slg srv tmp trd tur tv vet vlog wiki zlg ",bs:" com edu gov net org ",bz:" du et om ov rg ",ca:" ab bc mb nb nf nl ns nt nu on pe qc sk yk ",ck:" biz co edu gen gov info net org ",cn:" ac ah bj com cq edu fj gd gov gs gx gz ha hb he hi hl hn jl js jx ln mil net nm nx org qh sc sd sh sn sx tj tw xj xz yn zj ",co:" com edu gov mil net nom org ",cr:" ac c co ed fi go or sa ",cy:" ac biz com ekloges gov ltd name net org parliament press pro tm ",do:" art com edu gob gov mil net org sld web ",dz:" art asso com edu gov net org pol ",ec:" com edu fin gov info med mil net org pro ",eg:" com edu eun gov mil name net org sci ",er:" com edu gov ind mil net org rochest w ",es:" com edu gob nom org ",et:" biz com edu gov info name net org ",fj:" ac biz com info mil name net org pro ",fk:" ac co gov net nom org ",fr:" asso com f gouv nom prd presse tm ",gg:" co net org ",gh:" com edu gov mil org ",gn:" ac com gov net org ",gr:" com edu gov mil net org ",gt:" com edu gob ind mil net org ",gu:" com edu gov net org ",hk:" com edu gov idv net org ",hu:" 2000 agrar bolt casino city co erotica erotika film forum games hotel info ingatlan jogasz konyvelo lakas media news org priv reklam sex shop sport suli szex tm tozsde utazas video ",id:" ac co go mil net or sch web ",il:" ac co gov idf k12 muni net org ",in:" ac co edu ernet firm gen gov i ind mil net nic org res ",iq:" com edu gov i mil net org ",ir:" ac co dnssec gov i id net org sch ",it:" edu gov ",je:" co net org ",jo:" com edu gov mil name net org sch ",jp:" ac ad co ed go gr lg ne or ",ke:" ac co go info me mobi ne or sc ",kh:" com edu gov mil net org per ",ki:" biz com de edu gov info mob net org tel ",km:" asso com coop edu gouv k medecin mil nom notaires pharmaciens presse tm veterinaire ",kn:" edu gov net org ",kr:" ac busan chungbuk chungnam co daegu daejeon es gangwon go gwangju gyeongbuk gyeonggi gyeongnam hs incheon jeju jeonbuk jeonnam k kg mil ms ne or pe re sc seoul ulsan ",kw:" com edu gov net org ",ky:" com edu gov net org ",kz:" com edu gov mil net org ",lb:" com edu gov net org ",lk:" assn com edu gov grp hotel int ltd net ngo org sch soc web ",lr:" com edu gov net org ",lv:" asn com conf edu gov id mil net org ",ly:" com edu gov id med net org plc sch ",ma:" ac co gov m net org press ",mc:" asso tm ",me:" ac co edu gov its net org priv ",mg:" com edu gov mil nom org prd tm ",mk:" com edu gov inf name net org pro ",ml:" com edu gov net org presse ",mn:" edu gov org ",mo:" com edu gov net org ",mt:" com edu gov net org ",mv:" aero biz com coop edu gov info int mil museum name net org pro ",mw:" ac co com coop edu gov int museum net org ",mx:" com edu gob net org ",my:" com edu gov mil name net org sch ",nf:" arts com firm info net other per rec store web ",ng:" biz com edu gov mil mobi name net org sch ",ni:" ac co com edu gob mil net nom org ",np:" com edu gov mil net org ",nr:" biz com edu gov info net org ",om:" ac biz co com edu gov med mil museum net org pro sch ",pe:" com edu gob mil net nom org sld ",ph:" com edu gov i mil net ngo org ",pk:" biz com edu fam gob gok gon gop gos gov net org web ",pl:" art bialystok biz com edu gda gdansk gorzow gov info katowice krakow lodz lublin mil net ngo olsztyn org poznan pwr radom slupsk szczecin torun warszawa waw wroc wroclaw zgora ",pr:" ac biz com edu est gov info isla name net org pro prof ",ps:" com edu gov net org plo sec ",pw:" belau co ed go ne or ",ro:" arts com firm info nom nt org rec store tm www ",rs:" ac co edu gov in org ",sb:" com edu gov net org ",sc:" com edu gov net org ",sh:" co com edu gov net nom org ",sl:" com edu gov net org ",st:" co com consulado edu embaixada gov mil net org principe saotome store ",sv:" com edu gob org red ",sz:" ac co org ",tr:" av bbs bel biz com dr edu gen gov info k12 name net org pol tel tsk tv web ",tt:" aero biz cat co com coop edu gov info int jobs mil mobi museum name net org pro tel travel ",tw:" club com ebiz edu game gov idv mil net org ",mu:" ac co com gov net or org ",mz:" ac co edu gov org ",na:" co com ",nz:" ac co cri geek gen govt health iwi maori mil net org parliament school ",pa:" abo ac com edu gob ing med net nom org sld ",pt:" com edu gov int net nome org publ ",py:" com edu gov mil net org ",qa:" com edu gov mil net org ",re:" asso com nom ",ru:" ac adygeya altai amur arkhangelsk astrakhan bashkiria belgorod bir bryansk buryatia cbg chel chelyabinsk chita chukotka chuvashia com dagestan e-burg edu gov grozny int irkutsk ivanovo izhevsk jar joshkar-ola kalmykia kaluga kamchatka karelia kazan kchr kemerovo khabarovsk khakassia khv kirov koenig komi kostroma kranoyarsk kuban kurgan kursk lipetsk magadan mari mari-el marine mil mordovia mosreg msk murmansk nalchik net nnov nov novosibirsk nsk omsk orenburg org oryol penza perm pp pskov ptz rnd ryazan sakhalin samara saratov simbirsk smolensk spb stavropol stv surgut tambov tatarstan tom tomsk tsaritsyn tsk tula tuva tver tyumen udm udmurtia ulan-ude vladikavkaz vladimir vladivostok volgograd vologda voronezh vrn vyatka yakutia yamal yekaterinburg yuzhno-sakhalinsk ",rw:" ac co com edu gouv gov int mil net ",sa:" com edu gov med net org pub sch ",sd:" com edu gov info med net org tv ",se:" a ac b bd c d e f g h i k l m n o org p parti pp press r s t tm u w x y z ",sg:" com edu gov idn net org per ",sn:" art com edu gouv org perso univ ",sy:" com edu gov mil net news org ",th:" ac co go in mi net or ",tj:" ac biz co com edu go gov info int mil name net nic org test web ",tn:" agrinet com defense edunet ens fin gov ind info intl mincom nat net org perso rnrt rns rnu tourism ",tz:" ac co go ne or ",ua:" biz cherkassy chernigov chernovtsy ck cn co com crimea cv dn dnepropetrovsk donetsk dp edu gov if in ivano-frankivsk kh kharkov kherson khmelnitskiy kiev kirovograd km kr ks kv lg lugansk lutsk lviv me mk net nikolaev od odessa org pl poltava pp rovno rv sebastopol sumy te ternopil uzhgorod vinnica vn zaporizhzhe zhitomir zp zt ",ug:" ac co go ne or org sc ",uk:" ac bl british-library co cym gov govt icnet jet lea ltd me mil mod national-library-scotland nel net nhs nic nls org orgn parliament plc police sch scot soc ",us:" dni fed isa kids nsn ",uy:" com edu gub mil net org ",ve:" co com edu gob info mil net org web ",vi:" co com k12 net org ",vn:" ac biz com edu gov health info int name net org pro ",ye:" co com gov ltd me net org plc ",yu:" ac co edu gov org ",za:" ac agric alt bourse city co cybernet db edu gov grondar iaccess imt inca landesign law mil net ngo nis nom olivetti org pix school tm web ",zm:" ac co com edu gov net org sch "},has:function(e){var t,n,r=e.lastIndexOf(".");return!(0>=r||r>=e.length-1)&&(!(0>=(t=e.lastIndexOf(".",r-1))||t>=r-1)&&(!!(n=i.list[e.slice(r+1)])&&0<=n.indexOf(" "+e.slice(t+1,r)+" ")))},is:function(e){var t,n=e.lastIndexOf(".");return!(0>=n||n>=e.length-1||0<=e.lastIndexOf(".",n-1))&&(!!(t=i.list[e.slice(n+1)])&&0<=t.indexOf(" "+e.slice(0,n)+" "))},get:function(e){var t,n,r=e.lastIndexOf(".");return 0>=r||r>=e.length-1?null:0>=(t=e.lastIndexOf(".",r-1))||t>=r-1?null:!(n=i.list[e.slice(r+1)])||0>n.indexOf(" "+e.slice(t+1,r)+" ")?null:e.slice(t+1)},noConflict:function(){return e.SecondLevelDomains===this&&(e.SecondLevelDomains=t),this}};return i}),function(e,t){"object"==typeof exports?module.exports=t(require("./punycode"),require("./IPv6"),require("./SecondLevelDomains")):"function"==typeof define&&define.amd?define(["./punycode","./IPv6","./SecondLevelDomains"],t):e.URI=t(e.punycode,e.IPv6,e.SecondLevelDomains,e)}(this,function(e,t,i,n){function r(e,t){var i=1<=arguments.length,n=2<=arguments.length;if(!(this instanceof r))return i?n?new r(e,t):new r(e):new r;if(void 0===e){if(i)throw new TypeError("undefined is not a valid argument for URI");e="undefined"!=typeof location?location.href+"":""}return this.href(e),void 0!==t?this.absoluteTo(t):this}function s(e){return e.replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")}function o(e){return void 0===e?"Undefined":String(Object.prototype.toString.call(e)).slice(8,-1)}function a(e){return"Array"===o(e)}function l(e,t){var i,n,r={};if("RegExp"===o(t))r=null;else if(a(t))for(i=0,n=t.length;i<n;i++)r[t[i]]=!0;else r[t]=!0;for(i=0,n=e.length;i<n;i++)(r&&void 0!==r[e[i]]||!r&&t.test(e[i]))&&(e.splice(i,1),n--,i--);return e}function u(e,t){var i,n,r;if(a(t)){for(i=0,n=t.length;i<n;i++)if(!u(e,t[i]))return!1;return!0}for(r=o(t),i=0,n=e.length;i<n;i++)if("RegExp"===r){if("string"==typeof e[i]&&e[i].match(t))return!0}else if(e[i]===t)return!0;return!1}function c(e,t){if(!a(e)||!a(t)||e.length!==t.length)return!1;e.sort(),t.sort();for(var i=0,n=e.length;i<n;i++)if(e[i]!==t[i])return!1;return!0}function d(e){return escape(e)}function h(e){return encodeURIComponent(e).replace(/[!'()*]/g,d).replace(/\*/g,"%2A")}function p(e){return function(t,i){return void 0===t?this._parts[e]||"":(this._parts[e]=t||null,this.build(!i),this)}}function f(e,t){return function(i,n){return void 0===i?this._parts[e]||"":(null!==i&&((i+="").charAt(0)===t&&(i=i.substring(1))),this._parts[e]=i,this.build(!n),this)}}var m,g,v,y,_,b,w=n&&n.URI;for(y in r.version="1.15.1",m=r.prototype,g=Object.prototype.hasOwnProperty,r._parts=function(){return{protocol:null,username:null,password:null,hostname:null,urn:null,port:null,path:null,query:null,fragment:null,duplicateQueryParameters:r.duplicateQueryParameters,escapeQuerySpace:r.escapeQuerySpace}},r.duplicateQueryParameters=!1,r.escapeQuerySpace=!0,r.protocol_expression=/^[a-z][a-z0-9.+-]*$/i,r.idn_expression=/[^a-z0-9\.-]/i,r.punycode_expression=/(xn--)/i,r.ip4_expression=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,r.ip6_expression=/^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/,r.find_uri_expression=/\b((?:[a-z][\w-]+:(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]+|\(([^\s()<>]+|(\([^\s()<>]+\)))*\))+(?:\(([^\s()<>]+|(\([^\s()<>]+\)))*\)|[^\s`!()\[\]{};:'".,<>?\u00ab\u00bb\u201c\u201d\u2018\u2019]))/gi,r.findUri={start:/\b(?:([a-z][a-z0-9.+-]*:\/\/)|www\.)/gi,end:/[\s\r\n]|$/,trim:/[`!()\[\]{};:'".,<>?\u00ab\u00bb\u201c\u201d\u201e\u2018\u2019]+$/},r.defaultPorts={http:"80",https:"443",ftp:"21",gopher:"70",ws:"80",wss:"443"},r.invalid_hostname_characters=/[^a-zA-Z0-9\.-]/,r.domAttributes={a:"href",blockquote:"cite",link:"href",base:"href",script:"src",form:"action",img:"src",area:"href",iframe:"src",embed:"src",source:"src",track:"src",input:"src",audio:"src",video:"src"},r.getDomAttribute=function(e){if(e&&e.nodeName){var t=e.nodeName.toLowerCase();return"input"===t&&"image"!==e.type?void 0:r.domAttributes[t]}},r.encode=h,r.decode=decodeURIComponent,r.iso8859=function(){r.encode=escape,r.decode=unescape},r.unicode=function(){r.encode=h,r.decode=decodeURIComponent},r.characters={pathname:{encode:{expression:/%(24|26|2B|2C|3B|3D|3A|40)/gi,map:{"%24":"$","%26":"&","%2B":"+","%2C":",","%3B":";","%3D":"=","%3A":":","%40":"@"}},decode:{expression:/[\/\?#]/g,map:{"/":"%2F","?":"%3F","#":"%23"}}},reserved:{encode:{expression:/%(21|23|24|26|27|28|29|2A|2B|2C|2F|3A|3B|3D|3F|40|5B|5D)/gi,map:{"%3A":":","%2F":"/","%3F":"?","%23":"#","%5B":"[","%5D":"]","%40":"@","%21":"!","%24":"$","%26":"&","%27":"'","%28":"(","%29":")","%2A":"*","%2B":"+","%2C":",","%3B":";","%3D":"="}}},urnpath:{encode:{expression:/%(21|24|27|28|29|2A|2B|2C|3B|3D|40)/gi,map:{"%21":"!","%24":"$","%27":"'","%28":"(","%29":")","%2A":"*","%2B":"+","%2C":",","%3B":";","%3D":"=","%40":"@"}},decode:{expression:/[\/\?#:]/g,map:{"/":"%2F","?":"%3F","#":"%23",":":"%3A"}}}},r.encodeQuery=function(e,t){var i=r.encode(e+"");return void 0===t&&(t=r.escapeQuerySpace),t?i.replace(/%20/g,"+"):i},r.decodeQuery=function(e,t){e+="",void 0===t&&(t=r.escapeQuerySpace);try{return r.decode(t?e.replace(/\+/g,"%20"):e)}catch(t){return e}},_=function(e,t){return function(i){try{return r[t](i+"").replace(r.characters[e][t].expression,function(i){return r.characters[e][t].map[i]})}catch(e){return i}}},v={encode:"encode",decode:"decode"})r[y+"PathSegment"]=_("pathname",v[y]),r[y+"UrnPathSegment"]=_("urnpath",v[y]);v=function(e,t,i){return function(n){var s,o,a;for(s=i?function(e){return r[t](r[i](e))}:r[t],o=0,a=(n=(n+"").split(e)).length;o<a;o++)n[o]=s(n[o]);return n.join(e)}},r.decodePath=v("/","decodePathSegment"),r.decodeUrnPath=v(":","decodeUrnPathSegment"),r.recodePath=v("/","encodePathSegment","decode"),r.recodeUrnPath=v(":","encodeUrnPathSegment","decode"),r.encodeReserved=_("reserved","encode"),r.parse=function(e,t){var i;return t||(t={}),-1<(i=e.indexOf("#"))&&(t.fragment=e.substring(i+1)||null,e=e.substring(0,i)),-1<(i=e.indexOf("?"))&&(t.query=e.substring(i+1)||null,e=e.substring(0,i)),"//"===e.substring(0,2)?(t.protocol=null,e=e.substring(2),e=r.parseAuthority(e,t)):-1<(i=e.indexOf(":"))&&(t.protocol=e.substring(0,i)||null,t.protocol&&!t.protocol.match(r.protocol_expression)?t.protocol=void 0:"//"===e.substring(i+1,i+3)?(e=e.substring(i+3),e=r.parseAuthority(e,t)):(e=e.substring(i+1),t.urn=!0)),t.path=e,t},r.parseHost=function(e,t){var i,n,r=e.indexOf("/");return-1===r&&(r=e.length),"["===e.charAt(0)?(i=e.indexOf("]"),t.hostname=e.substring(1,i)||null,t.port=e.substring(i+2,r)||null,"/"===t.port&&(t.port=null)):(n=e.indexOf(":"),i=e.indexOf("/"),-1!==(n=e.indexOf(":",n+1))&&(-1===i||n<i)?(t.hostname=e.substring(0,r)||null,t.port=null):(i=e.substring(0,r).split(":"),t.hostname=i[0]||null,t.port=i[1]||null)),t.hostname&&"/"!==e.substring(r).charAt(0)&&(r++,e="/"+e),e.substring(r)||"/"},r.parseAuthority=function(e,t){return e=r.parseUserinfo(e,t),r.parseHost(e,t)},r.parseUserinfo=function(e,t){var i=e.indexOf("/"),n=e.lastIndexOf("@",-1<i?i:e.length-1);return-1<n&&(-1===i||n<i)?(i=e.substring(0,n).split(":"),t.username=i[0]?r.decode(i[0]):null,i.shift(),t.password=i[0]?r.decode(i.join(":")):null,e=e.substring(n+1)):(t.username=null,t.password=null),e},r.parseQuery=function(e,t){if(!e)return{};if(!(e=e.replace(/&+/g,"&").replace(/^\?*&*|&+$/g,"")))return{};for(var i,n,s={},o=e.split("&"),a=o.length,l=0;l<a;l++)i=o[l].split("="),n=r.decodeQuery(i.shift(),t),i=i.length?r.decodeQuery(i.join("="),t):null,g.call(s,n)?("string"==typeof s[n]&&(s[n]=[s[n]]),s[n].push(i)):s[n]=i;return s},r.build=function(e){var t="";return e.protocol&&(t+=e.protocol+":"),!e.urn&&(t||e.hostname)&&(t+="//"),t+=r.buildAuthority(e)||"","string"==typeof e.path&&("/"!==e.path.charAt(0)&&"string"==typeof e.hostname&&(t+="/"),t+=e.path),"string"==typeof e.query&&e.query&&(t+="?"+e.query),"string"==typeof e.fragment&&e.fragment&&(t+="#"+e.fragment),t},r.buildHost=function(e){var t="";return e.hostname?(t=r.ip6_expression.test(e.hostname)?t+"["+e.hostname+"]":t+e.hostname,e.port&&(t+=":"+e.port),t):""},r.buildAuthority=function(e){return r.buildUserinfo(e)+r.buildHost(e)},r.buildUserinfo=function(e){var t="";return e.username&&(t+=r.encode(e.username),e.password&&(t+=":"+r.encode(e.password)),t+="@"),t},r.buildQuery=function(e,t,i){var n,s,o,l,u="";for(s in e)if(g.call(e,s)&&s)if(a(e[s]))for(n={},o=0,l=e[s].length;o<l;o++)void 0!==e[s][o]&&void 0===n[e[s][o]+""]&&(u+="&"+r.buildQueryParameter(s,e[s][o],i),!0!==t&&(n[e[s][o]+""]=!0));else void 0!==e[s]&&(u+="&"+r.buildQueryParameter(s,e[s],i));return u.substring(1)},r.buildQueryParameter=function(e,t,i){return r.encodeQuery(e,i)+(null!==t?"="+r.encodeQuery(t,i):"")},r.addQuery=function(e,t,i){if("object"==typeof t)for(var n in t)g.call(t,n)&&r.addQuery(e,n,t[n]);else{if("string"!=typeof t)throw new TypeError("URI.addQuery() accepts an object, string as the name parameter");void 0===e[t]?e[t]=i:("string"==typeof e[t]&&(e[t]=[e[t]]),a(i)||(i=[i]),e[t]=(e[t]||[]).concat(i))}},r.removeQuery=function(e,t,i){var n;if(a(t))for(i=0,n=t.length;i<n;i++)e[t[i]]=void 0;else if("RegExp"===o(t))for(n in e)t.test(n)&&(e[n]=void 0);else if("object"==typeof t)for(n in t)g.call(t,n)&&r.removeQuery(e,n,t[n]);else{if("string"!=typeof t)throw new TypeError("URI.removeQuery() accepts an object, string, RegExp as the first parameter");void 0!==i?"RegExp"===o(i)?e[t]=!a(e[t])&&i.test(e[t])?void 0:l(e[t],i):e[t]===i?e[t]=void 0:a(e[t])&&(e[t]=l(e[t],i)):e[t]=void 0}},r.hasQuery=function(e,t,i,n){if("object"==typeof t){for(var s in t)if(g.call(t,s)&&!r.hasQuery(e,s,t[s]))return!1;return!0}if("string"!=typeof t)throw new TypeError("URI.hasQuery() accepts an object, string as the name parameter");switch(o(i)){case"Undefined":return t in e;case"Boolean":return i===(e=Boolean(a(e[t])?e[t].length:e[t]));case"Function":return!!i(e[t],t,e);case"Array":return!!a(e[t])&&(n?u:c)(e[t],i);case"RegExp":return a(e[t])?!!n&&u(e[t],i):Boolean(e[t]&&e[t].match(i));case"Number":i=String(i);case"String":return a(e[t])?!!n&&u(e[t],i):e[t]===i;default:throw new TypeError("URI.hasQuery() accepts undefined, boolean, string, number, RegExp, Function as the value parameter")}},r.commonPath=function(e,t){for(var i=Math.min(e.length,t.length),n=0;n<i;n++)if(e.charAt(n)!==t.charAt(n)){n--;break}return 1>n?e.charAt(0)===t.charAt(0)&&"/"===e.charAt(0)?"/":"":(("/"!==e.charAt(n)||"/"!==t.charAt(n))&&(n=e.substring(0,n).lastIndexOf("/")),e.substring(0,n+1))},r.withinString=function(e,t,i){var n,s,o;i||(i={});var a=i.start||r.findUri.start,l=i.end||r.findUri.end,u=i.trim||r.findUri.trim;for(a.lastIndex=0;n=a.exec(e);)n=n.index,i.ignoreHtml&&((s=e.slice(Math.max(n-3,0),n))&&/[a-z0-9-]=["']?$/i.test(s))||(s=n+e.slice(n).search(l),o=e.slice(n,s).replace(u,""),i.ignore&&i.ignore.test(o)||(o=t(o,n,s=n+o.length,e),e=e.slice(0,n)+o+e.slice(s),a.lastIndex=n+o.length));return a.lastIndex=0,e},r.ensureValidHostname=function(t){if(t.match(r.invalid_hostname_characters)){if(!e)throw new TypeError('Hostname "'+t+'" contains characters other than [A-Z0-9.-] and Punycode.js is not available');if(e.toASCII(t).match(r.invalid_hostname_characters))throw new TypeError('Hostname "'+t+'" contains characters other than [A-Z0-9.-]')}},r.noConflict=function(e){return e?(e={URI:this.noConflict()},n.URITemplate&&"function"==typeof n.URITemplate.noConflict&&(e.URITemplate=n.URITemplate.noConflict()),n.IPv6&&"function"==typeof n.IPv6.noConflict&&(e.IPv6=n.IPv6.noConflict()),n.SecondLevelDomains&&"function"==typeof n.SecondLevelDomains.noConflict&&(e.SecondLevelDomains=n.SecondLevelDomains.noConflict()),e):(n.URI===this&&(n.URI=w),this)},m.build=function(e){return!0===e?this._deferred_build=!0:(void 0===e||this._deferred_build)&&(this._string=r.build(this._parts),this._deferred_build=!1),this},m.clone=function(){return new r(this)},m.valueOf=m.toString=function(){return this.build(!1)._string},m.protocol=p("protocol"),m.username=p("username"),m.password=p("password"),m.hostname=p("hostname"),m.port=p("port"),m.query=f("query","?"),m.fragment=f("fragment","#"),m.search=function(e,t){var i=this.query(e,t);return"string"==typeof i&&i.length?"?"+i:i},m.hash=function(e,t){var i=this.fragment(e,t);return"string"==typeof i&&i.length?"#"+i:i},m.pathname=function(e,t){if(void 0===e||!0===e){var i=this._parts.path||(this._parts.hostname?"/":"");return e?(this._parts.urn?r.decodeUrnPath:r.decodePath)(i):i}return this._parts.path=this._parts.urn?e?r.recodeUrnPath(e):"":e?r.recodePath(e):"/",this.build(!t),this},m.path=m.pathname,m.href=function(e,t){var i,n,s;if(void 0===e)return this.toString();if(this._string="",this._parts=r._parts(),n=e instanceof r,s="object"==typeof e&&(e.hostname||e.path||e.pathname),e.nodeName&&(e=e[s=r.getDomAttribute(e)]||"",s=!1),!n&&s&&void 0!==e.pathname&&(e=e.toString()),"string"==typeof e||e instanceof String)this._parts=r.parse(String(e),this._parts);else{if(!n&&!s)throw new TypeError("invalid input");for(i in n=n?e._parts:e)g.call(this._parts,i)&&(this._parts[i]=n[i])}return this.build(!t),this},m.is=function(e){var t=!1,n=!1,s=!1,o=!1,a=!1,l=!1,u=!1,c=!this._parts.urn;switch(this._parts.hostname&&(c=!1,n=r.ip4_expression.test(this._parts.hostname),s=r.ip6_expression.test(this._parts.hostname),a=(o=!(t=n||s))&&i&&i.has(this._parts.hostname),l=o&&r.idn_expression.test(this._parts.hostname),u=o&&r.punycode_expression.test(this._parts.hostname)),e.toLowerCase()){case"relative":return c;case"absolute":return!c;case"domain":case"name":return o;case"sld":return a;case"ip":return t;case"ip4":case"ipv4":case"inet4":return n;case"ip6":case"ipv6":case"inet6":return s;case"idn":return l;case"url":return!this._parts.urn;case"urn":return!!this._parts.urn;case"punycode":return u}return null};var T=m.protocol,C=m.port,S=m.hostname;return m.protocol=function(e,t){if(void 0!==e&&e&&!(e=e.replace(/:(\/\/)?$/,"")).match(r.protocol_expression))throw new TypeError('Protocol "'+e+"\" contains characters other than [A-Z0-9.+-] or doesn't start with [A-Z]");return T.call(this,e,t)},m.scheme=m.protocol,m.port=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0!==e&&(0===e&&(e=null),e&&(":"===(e+="").charAt(0)&&(e=e.substring(1)),e.match(/[^0-9]/))))throw new TypeError('Port "'+e+'" contains characters other than [0-9]');return C.call(this,e,t)},m.hostname=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0!==e){var i={};r.parseHost(e,i),e=i.hostname}return S.call(this,e,t)},m.host=function(e,t){return this._parts.urn?void 0===e?"":this:void 0===e?this._parts.hostname?r.buildHost(this._parts):"":(r.parseHost(e,this._parts),this.build(!t),this)},m.authority=function(e,t){return this._parts.urn?void 0===e?"":this:void 0===e?this._parts.hostname?r.buildAuthority(this._parts):"":(r.parseAuthority(e,this._parts),this.build(!t),this)},m.userinfo=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e){if(!this._parts.username)return"";var i=r.buildUserinfo(this._parts);return i.substring(0,i.length-1)}return"@"!==e[e.length-1]&&(e+="@"),r.parseUserinfo(e,this._parts),this.build(!t),this},m.resource=function(e,t){var i;return void 0===e?this.path()+this.search()+this.hash():(i=r.parse(e),this._parts.path=i.path,this._parts.query=i.query,this._parts.fragment=i.fragment,this.build(!t),this)},m.subdomain=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e){if(!this._parts.hostname||this.is("IP"))return"";var i=this._parts.hostname.length-this.domain().length-1;return this._parts.hostname.substring(0,i)||""}return i=this._parts.hostname.length-this.domain().length,i=this._parts.hostname.substring(0,i),i=new RegExp("^"+s(i)),e&&"."!==e.charAt(e.length-1)&&(e+="."),e&&r.ensureValidHostname(e),this._parts.hostname=this._parts.hostname.replace(i,e),this.build(!t),this},m.domain=function(e,t){if(this._parts.urn)return void 0===e?"":this;if("boolean"==typeof e&&(t=e,e=void 0),void 0===e){if(!this._parts.hostname||this.is("IP"))return"";var i=this._parts.hostname.match(/\./g);return i&&2>i.length?this._parts.hostname:(i=this._parts.hostname.length-this.tld(t).length-1,i=this._parts.hostname.lastIndexOf(".",i-1)+1,this._parts.hostname.substring(i)||"")}if(!e)throw new TypeError("cannot set domain empty");return r.ensureValidHostname(e),!this._parts.hostname||this.is("IP")?this._parts.hostname=e:(i=new RegExp(s(this.domain())+"$"),this._parts.hostname=this._parts.hostname.replace(i,e)),this.build(!t),this},m.tld=function(e,t){if(this._parts.urn)return void 0===e?"":this;if("boolean"==typeof e&&(t=e,e=void 0),void 0===e){if(!this._parts.hostname||this.is("IP"))return"";var n=this._parts.hostname.lastIndexOf(".");n=this._parts.hostname.substring(n+1);return!0!==t&&i&&i.list[n.toLowerCase()]&&i.get(this._parts.hostname)||n}if(!e)throw new TypeError("cannot set TLD empty");if(e.match(/[^a-zA-Z0-9-]/)){if(!i||!i.is(e))throw new TypeError('TLD "'+e+'" contains characters other than [A-Z0-9]');n=new RegExp(s(this.tld())+"$"),this._parts.hostname=this._parts.hostname.replace(n,e)}else{if(!this._parts.hostname||this.is("IP"))throw new ReferenceError("cannot set TLD on non-domain host");n=new RegExp(s(this.tld())+"$"),this._parts.hostname=this._parts.hostname.replace(n,e)}return this.build(!t),this},m.directory=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e||!0===e){if(!this._parts.path&&!this._parts.hostname)return"";if("/"===this._parts.path)return"/";var i=this._parts.path.length-this.filename().length-1;i=this._parts.path.substring(0,i)||(this._parts.hostname?"/":"");return e?r.decodePath(i):i}return i=this._parts.path.length-this.filename().length,i=this._parts.path.substring(0,i),i=new RegExp("^"+s(i)),this.is("relative")||(e||(e="/"),"/"!==e.charAt(0)&&(e="/"+e)),e&&"/"!==e.charAt(e.length-1)&&(e+="/"),e=r.recodePath(e),this._parts.path=this._parts.path.replace(i,e),this.build(!t),this},m.filename=function(e,t){var i,n;return this._parts.urn?void 0===e?"":this:void 0===e||!0===e?this._parts.path&&"/"!==this._parts.path?(i=this._parts.path.lastIndexOf("/"),i=this._parts.path.substring(i+1),e?r.decodePathSegment(i):i):"":(i=!1,"/"===e.charAt(0)&&(e=e.substring(1)),e.match(/\.?\//)&&(i=!0),n=new RegExp(s(this.filename())+"$"),e=r.recodePath(e),this._parts.path=this._parts.path.replace(n,e),i?this.normalizePath(t):this.build(!t),this)},m.suffix=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e||!0===e){if(!this._parts.path||"/"===this._parts.path)return"";var i=this.filename(),n=i.lastIndexOf(".");return-1===n?"":(i=i.substring(n+1),i=/^[a-z0-9%]+$/i.test(i)?i:"",e?r.decodePathSegment(i):i)}if("."===e.charAt(0)&&(e=e.substring(1)),i=this.suffix())n=e?new RegExp(s(i)+"$"):new RegExp(s("."+i)+"$");else{if(!e)return this;this._parts.path+="."+r.recodePath(e)}return n&&(e=r.recodePath(e),this._parts.path=this._parts.path.replace(n,e)),this.build(!t),this},m.segment=function(e,t,i){var n,r=this._parts.urn?":":"/",s="/"===(o=this.path()).substring(0,1),o=o.split(r);if(void 0!==e&&"number"!=typeof e&&(i=t,t=e,e=void 0),void 0!==e&&"number"!=typeof e)throw Error('Bad segment "'+e+'", must be 0-based integer');if(s&&o.shift(),0>e&&(e=Math.max(o.length+e,0)),void 0===t)return void 0===e?o:o[e];if(null===e||void 0===o[e])if(a(t))for(o=[],e=0,n=t.length;e<n;e++)(t[e].length||o.length&&o[o.length-1].length)&&(o.length&&!o[o.length-1].length&&o.pop(),o.push(t[e]));else(t||"string"==typeof t)&&(""===o[o.length-1]?o[o.length-1]=t:o.push(t));else t?o[e]=t:o.splice(e,1);return s&&o.unshift(""),this.path(o.join(r),i)},m.segmentCoded=function(e,t,i){var n,s;if("number"!=typeof e&&(i=t,t=e,e=void 0),void 0===t){if(a(e=this.segment(e,t,i)))for(n=0,s=e.length;n<s;n++)e[n]=r.decode(e[n]);else e=void 0!==e?r.decode(e):void 0;return e}if(a(t))for(n=0,s=t.length;n<s;n++)t[n]=r.decode(t[n]);else t="string"==typeof t||t instanceof String?r.encode(t):t;return this.segment(e,t,i)},b=m.query,m.query=function(e,t){if(!0===e)return r.parseQuery(this._parts.query,this._parts.escapeQuerySpace);if("function"==typeof e){var i=r.parseQuery(this._parts.query,this._parts.escapeQuerySpace),n=e.call(this,i);return this._parts.query=r.buildQuery(n||i,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),this.build(!t),this}return void 0!==e&&"string"!=typeof e?(this._parts.query=r.buildQuery(e,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),this.build(!t),this):b.call(this,e,t)},m.setQuery=function(e,t,i){var n,s=r.parseQuery(this._parts.query,this._parts.escapeQuerySpace);if("string"==typeof e||e instanceof String)s[e]=void 0!==t?t:null;else{if("object"!=typeof e)throw new TypeError("URI.addQuery() accepts an object, string as the name parameter");for(n in e)g.call(e,n)&&(s[n]=e[n])}return this._parts.query=r.buildQuery(s,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),"string"!=typeof e&&(i=t),this.build(!i),this},m.addQuery=function(e,t,i){var n=r.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return r.addQuery(n,e,void 0===t?null:t),this._parts.query=r.buildQuery(n,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),"string"!=typeof e&&(i=t),this.build(!i),this},m.removeQuery=function(e,t,i){var n=r.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return r.removeQuery(n,e,t),this._parts.query=r.buildQuery(n,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),"string"!=typeof e&&(i=t),this.build(!i),this},m.hasQuery=function(e,t,i){var n=r.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return r.hasQuery(n,e,t,i)},m.setSearch=m.setQuery,m.addSearch=m.addQuery,m.removeSearch=m.removeQuery,m.hasSearch=m.hasQuery,m.normalize=function(){return this._parts.urn?this.normalizeProtocol(!1).normalizePath(!1).normalizeQuery(!1).normalizeFragment(!1).build():this.normalizeProtocol(!1).normalizeHostname(!1).normalizePort(!1).normalizePath(!1).normalizeQuery(!1).normalizeFragment(!1).build()},m.normalizeProtocol=function(e){return"string"==typeof this._parts.protocol&&(this._parts.protocol=this._parts.protocol.toLowerCase(),this.build(!e)),this},m.normalizeHostname=function(i){return this._parts.hostname&&(this.is("IDN")&&e?this._parts.hostname=e.toASCII(this._parts.hostname):this.is("IPv6")&&t&&(this._parts.hostname=t.best(this._parts.hostname)),this._parts.hostname=this._parts.hostname.toLowerCase(),this.build(!i)),this},m.normalizePort=function(e){return"string"==typeof this._parts.protocol&&this._parts.port===r.defaultPorts[this._parts.protocol]&&(this._parts.port=null,this.build(!e)),this},m.normalizePath=function(e){var t,i,n,s,o=this._parts.path;if(!o)return this;if(this._parts.urn)return this._parts.path=r.recodeUrnPath(this._parts.path),this.build(!e),this;if("/"===this._parts.path)return this;for(i="","/"!==o.charAt(0)&&(t=!0,o="/"+o),o=o.replace(/(\/(\.\/)+)|(\/\.$)/g,"/").replace(/\/{2,}/g,"/"),t&&(i=o.substring(1).match(/^(\.\.\/)+/)||"")&&(i=i[0]);-1!==(n=o.indexOf("/.."));)0!==n?(-1===(s=o.substring(0,n).lastIndexOf("/"))&&(s=n),o=o.substring(0,s)+o.substring(n+3)):o=o.substring(3);return t&&this.is("relative")&&(o=i+o.substring(1)),o=r.recodePath(o),this._parts.path=o,this.build(!e),this},m.normalizePathname=m.normalizePath,m.normalizeQuery=function(e){return"string"==typeof this._parts.query&&(this._parts.query.length?this.query(r.parseQuery(this._parts.query,this._parts.escapeQuerySpace)):this._parts.query=null,this.build(!e)),this},m.normalizeFragment=function(e){return this._parts.fragment||(this._parts.fragment=null,this.build(!e)),this},m.normalizeSearch=m.normalizeQuery,m.normalizeHash=m.normalizeFragment,m.iso8859=function(){var e=r.encode,t=r.decode;r.encode=escape,r.decode=decodeURIComponent;try{this.normalize()}finally{r.encode=e,r.decode=t}return this},m.unicode=function(){var e=r.encode,t=r.decode;r.encode=h,r.decode=unescape;try{this.normalize()}finally{r.encode=e,r.decode=t}return this},m.readable=function(){var t,i,n=this.clone();if(n.username("").password("").normalize(),t="",n._parts.protocol&&(t+=n._parts.protocol+"://"),n._parts.hostname&&(n.is("punycode")&&e?(t+=e.toUnicode(n._parts.hostname),n._parts.port&&(t+=":"+n._parts.port)):t+=n.host()),n._parts.hostname&&n._parts.path&&"/"!==n._parts.path.charAt(0)&&(t+="/"),t+=n.path(!0),n._parts.query){for(var s="",o=0,a=n._parts.query.split("&"),l=a.length;o<l;o++)i=(a[o]||"").split("="),s=s+"&"+r.decodeQuery(i[0],this._parts.escapeQuerySpace).replace(/&/g,"%26"),void 0!==i[1]&&(s+="="+r.decodeQuery(i[1],this._parts.escapeQuerySpace).replace(/&/g,"%26"));t+="?"+s.substring(1)}return t+r.decodeQuery(n.hash(),!0)},m.absoluteTo=function(e){var t,i,n=this.clone(),s=["protocol","username","password","hostname","port"];if(this._parts.urn)throw Error("URNs do not have any generally defined hierarchical components");if(e instanceof r||(e=new r(e)),n._parts.protocol||(n._parts.protocol=e._parts.protocol),this._parts.hostname)return n;for(t=0;i=s[t];t++)n._parts[i]=e._parts[i];return n._parts.path?".."===n._parts.path.substring(-2)&&(n._parts.path+="/"):(n._parts.path=e._parts.path,n._parts.query||(n._parts.query=e._parts.query)),"/"!==n.path().charAt(0)&&(s=(s=e.directory())?s:0===e.path().indexOf("/")?"/":"",n._parts.path=(s?s+"/":"")+n._parts.path,n.normalizePath()),n.build(),n},m.relativeTo=function(e){var t,i,n,s,o=this.clone().normalize();if(o._parts.urn)throw Error("URNs do not have any generally defined hierarchical components");if(e=new r(e).normalize(),t=o._parts,i=e._parts,n=o.path(),s=e.path(),"/"!==n.charAt(0))throw Error("URI is already relative");if("/"!==s.charAt(0))throw Error("Cannot calculate a URI relative to another relative URI");return t.protocol===i.protocol&&(t.protocol=null),t.username!==i.username||t.password!==i.password||null!==t.protocol||null!==t.username||null!==t.password||t.hostname!==i.hostname||t.port!==i.port?o.build():(t.hostname=null,t.port=null,n===s?(t.path="",o.build()):(e=r.commonPath(o.path(),e.path()))?(i=i.path.substring(e.length).replace(/[^\/]*$/,"").replace(/.*?\//g,"../"),t.path=i+t.path.substring(e.length),o.build()):o.build())},m.equals=function(e){var t=this.clone();e=new r(e);var i,n={},s={},o={};if(t.normalize(),e.normalize(),t.toString()===e.toString())return!0;if(n=t.query(),s=e.query(),t.query(""),e.query(""),t.toString()!==e.toString()||n.length!==s.length)return!1;for(i in n=r.parseQuery(n,this._parts.escapeQuerySpace),s=r.parseQuery(s,this._parts.escapeQuerySpace),n)if(g.call(n,i)){if(a(n[i])){if(!c(n[i],s[i]))return!1}else if(n[i]!==s[i])return!1;o[i]=!0}for(i in s)if(g.call(s,i)&&!o[i])return!1;return!0},m.duplicateQueryParameters=function(e){return this._parts.duplicateQueryParameters=!!e,this},m.escapeQuerySpace=function(e){return this._parts.escapeQuerySpace=!!e,this},r}),function(e,t){"object"==typeof exports?module.exports=t(require("./URI")):"function"==typeof define&&define.amd?define(["./URI"],t):e.URITemplate=t(e.URI,e)}(this,function(e,t){function i(e){return i._cache[e]?i._cache[e]:this instanceof i?(this.expression=e,i._cache[e]=this,this):new i(e)}function n(e){this.data=e,this.cache={}}var r=t&&t.URITemplate,s=Object.prototype.hasOwnProperty,o=i.prototype,a={"":{prefix:"",separator:",",named:!1,empty_name_separator:!1,encode:"encode"},"+":{prefix:"",separator:",",named:!1,empty_name_separator:!1,encode:"encodeReserved"},"#":{prefix:"#",separator:",",named:!1,empty_name_separator:!1,encode:"encodeReserved"},".":{prefix:".",separator:".",named:!1,empty_name_separator:!1,encode:"encode"},"/":{prefix:"/",separator:"/",named:!1,empty_name_separator:!1,encode:"encode"},";":{prefix:";",separator:";",named:!0,empty_name_separator:!1,encode:"encode"},"?":{prefix:"?",separator:"&",named:!0,empty_name_separator:!0,encode:"encode"},"&":{prefix:"&",separator:"&",named:!0,empty_name_separator:!0,encode:"encode"}};return i._cache={},i.EXPRESSION_PATTERN=/\{([^a-zA-Z0-9%_]?)([^\}]+)(\}|$)/g,i.VARIABLE_PATTERN=/^([^*:]+)((\*)|:(\d+))?$/,i.VARIABLE_NAME_PATTERN=/[^a-zA-Z0-9%_]/,i.expand=function(e,t){for(var n,r,s=a[e.operator],o=s.named?"Named":"Unnamed",l=e.variables,u=[],c=0;r=l[c];c++)(n=t.get(r.name)).val.length?u.push(i["expand"+o](n,s,r.explode,r.explode&&s.separator||",",r.maxlength,r.name)):n.type&&u.push("");return u.length?s.prefix+u.join(s.separator):""},i.expandNamed=function(t,i,n,r,s,o){var a,l,u,c,d,h="",p=i.encode;for(i=i.empty_name_separator,a=!t[p].length,l=2===t.type?"":e[p](o),c=0,d=t.val.length;c<d;c++)s?(u=e[p](t.val[c][1].substring(0,s)),2===t.type&&(l=e[p](t.val[c][0].substring(0,s)))):a?(u=e[p](t.val[c][1]),2===t.type?(l=e[p](t.val[c][0]),t[p].push([l,u])):t[p].push([void 0,u])):(u=t[p][c][1],2===t.type&&(l=t[p][c][0])),h&&(h+=r),n?h+=l+(i||u?"=":"")+u:(c||(h+=e[p](o)+(i||u?"=":"")),2===t.type&&(h+=l+","),h+=u);return h},i.expandUnnamed=function(t,i,n,r,s){var o,a,l,u,c="",d=i.encode;for(i=i.empty_name_separator,o=!t[d].length,l=0,u=t.val.length;l<u;l++)s?a=e[d](t.val[l][1].substring(0,s)):o?(a=e[d](t.val[l][1]),t[d].push([2===t.type?e[d](t.val[l][0]):void 0,a])):a=t[d][l][1],c&&(c+=r),2===t.type&&(c+=s?e[d](t.val[l][0].substring(0,s)):t[d][l][0],c=n?c+(i||a?"=":""):c+","),c+=a;return c},i.noConflict=function(){return t.URITemplate===i&&(t.URITemplate=r),i},o.expand=function(e){var t,r,s="";for(this.parts&&this.parts.length||this.parse(),e instanceof n||(e=new n(e)),t=0,r=this.parts.length;t<r;t++)s+="string"==typeof this.parts[t]?this.parts[t]:i.expand(this.parts[t],e);return s},o.parse=function(){var e,t,n,r,s,o=this.expression,l=i.EXPRESSION_PATTERN,u=i.VARIABLE_PATTERN,c=i.VARIABLE_NAME_PATTERN,d=[],h=0;for(l.lastIndex=0;;){if(null===(t=l.exec(o))){d.push(o.substring(h));break}if(d.push(o.substring(h,t.index)),h=t.index+t[0].length,!a[t[1]])throw Error('Unknown Operator "'+t[1]+'" in "'+t[0]+'"');if(!t[3])throw Error('Unclosed Expression "'+t[0]+'"');for(r=0,s=(e=t[2].split(",")).length;r<s;r++){if(null===(n=e[r].match(u)))throw Error('Invalid Variable "'+e[r]+'" in "'+t[0]+'"');if(n[1].match(c))throw Error('Invalid Variable Name "'+n[1]+'" in "'+t[0]+'"');e[r]={name:n[1],explode:!!n[3],maxlength:n[4]&&parseInt(n[4],10)}}if(!e.length)throw Error('Expression Missing Variable(s) "'+t[0]+'"');d.push({expression:t[0],operator:t[1],variables:e})}return d.length||d.push(o),this.parts=d,this},n.prototype.get=function(e){var t,i=this.data,n={type:0,val:[],encode:[],encodeReserved:[]};if(void 0!==this.cache[e])return this.cache[e];if(this.cache[e]=n,null!=(i="[object Function]"===String(Object.prototype.toString.call(i))?i(e):"[object Function]"===String(Object.prototype.toString.call(i[e]))?i[e](e):i[e]))if("[object Array]"===String(Object.prototype.toString.call(i))){for(t=0,e=i.length;t<e;t++)void 0!==i[t]&&null!==i[t]&&n.val.push([void 0,String(i[t])]);n.val.length&&(n.type=3)}else if("[object Object]"===String(Object.prototype.toString.call(i))){for(t in i)s.call(i,t)&&void 0!==i[t]&&null!==i[t]&&n.val.push([t,String(i[t])]);n.val.length&&(n.type=2)}else n.type=1,n.val.push([void 0,String(i)]);return n},e.expand=function(t,n){var r=new i(t).expand(n);return new e(r)},i})}.call(this),function(){(function(){var e=[].slice;!function(e,t){"function"==typeof e.define&&e.define.amd?e.define([],t):"object"==typeof module&&module.exports?module.exports=t():e.Twine=t()}(this,function(){var t,i,n,r,s,o,a,l,u,c,d,h,p,f,m,g,v,y,_,b,w,T,C,S,k,$,A,x,E,I,D,O,P,N,L,F,z,R,M,j;for((t={}).shouldDiscardEvent={},l={},D={},S=0,P=null,b=/^[a-z]\w*(\.[a-z]\w*|\[\d+\])*$/i,I=!1,x=[],N=null,o=null,t.getAttribute=function(e,t){return e.getAttribute("data-"+t)||e.getAttribute(t)},t.reset=function(e,t){var i,n,r,s,o,a;for(r in null==t&&(t=document.documentElement),l)if(i=null!=(a=l[r])?a.bindings:void 0)for(n=0,s=i.length;n<s;n++)(o=i[n]).teardown&&o.teardown();return l={},P=e,(N=t).bindingId=S=1,this},t.bind=function(e,i){return null==e&&(e=N),null==i&&(i=t.context(e)),r(i,e,h(e),!0)},t.afterBound=function(e){return o?o.push(e):e()},r=function(e,i,n,l){var c,d,h,m,g,v,y,b,w,T,C,k,$,A,x,E,I,D,O,N,F,z,R,M,j,B,J,q;if(o=[],w=null,i.bindingId&&t.unbind(i),y=t.getAttribute(i,"define-array")){for(k in F=a(i,e,y),null==n&&(n={}),n)q=n[k],F.hasOwnProperty(k)||(F[k]=q);n=F,(w=u(i)).indexes=n}for(h=null,T=0,x=(z=i.attributes).length;T<x;T++)J=(c=z[T]).name,f(J)&&(J=J.slice(5)),(v=t.bindingTypes[J])&&(null==h&&(h=[]),b=c.value,h.push([J,v,b]));if(h)for(null==w&&(w=u(i)),null==w.bindings&&(w.bindings=[]),null==w.indexes&&(w.indexes=n),C=0,E=(R=h.sort(s)).length;C<E;C++)(M=R[C])[0],(d=(v=M[1])(i,e,b=M[2],w))&&w.bindings.push(d);for((N=t.getAttribute(i,"context"))&&("$root"===($=_(i,N))[0]&&(e=P,$=$.slice(1)),e=p(e,$)||L(e,$,{})),(w||N||l)&&(null==w&&(w=u(i)),w.childContext=e,null!=n&&null==w.indexes&&(w.indexes=n)),m=o,A=0,I=(j=i.children||[]).length;A<I;A++)g=j[A],r(e,g,null!=N?null:n);for(t.count=S,O=0,D=(B=m||[]).length;O<D;O++)(0,B[O])();return o=null,t},u=function(e){var t;return null==e.bindingId&&(e.bindingId=++S),null!=l[t=e.bindingId]?l[t]:l[t]={}},t.refresh=function(e){if(e&&x.push(e),!I)return I=!0,setTimeout(t.refreshImmediately,0)},E=function(e){var t,i,n,r;if(e.bindings)for(t=0,i=(r=e.bindings).length;t<i;t++)null!=(n=r[t]).refresh&&n.refresh()},t.refreshImmediately=function(){var e,t,i,n,r;for(n in I=!1,l)t=l[n],E(t);for(e=x,x=[],i=0,r=e.length;i<r;i++)(0,e[i])()},t.register=function(e,t){if(D[e])throw new Error("Twine error: '"+e+"' is already registered with Twine");return D[e]=t},t.change=function(e,t){var i;return null==t&&(t=!1),(i=document.createEvent("HTMLEvents")).initEvent("change",t,!0),e.dispatchEvent(i)},t.unbind=function(e){var i,n,r,s,o,a,u,c,d,h;if(r=e.bindingId){if(i=null!=(d=l[r])?d.bindings:void 0)for(s=0,a=i.length;s<a;s++)(c=i[s]).teardown&&c.teardown();delete l[r],delete e.bindingId}for(o=0,u=(h=e.children||[]).length;o<u;o++)n=h[o],t.unbind(n);return this},t.context=function(e){return d(e,!1)},t.childContext=function(e){return d(e,!0)},d=function(e,t){for(var i,n,r;e;){if(e===N)return P;if(t||(e=e.parentNode),!e)return console.warn("Unable to find context; please check that the node is attached to the DOM that Twine has bound, or that bindings have been initiated on this node's DOM"),null;if((n=e.bindingId)&&(i=null!=(r=l[n])?r.childContext:void 0))return i;t&&(e=e.parentNode)}},h=function(e){for(var t,i;e;){if(t=e.bindingId)return null!=(i=l[t])?i.indexes:void 0;e=e.parentNode}},t.contextKey=function(e,t){for(var i,n,r,s=[],o=function(e){var i,n;for(i in e)if(n=e[i],t===n){s.unshift(i);break}return t=e};e&&e!==N&&(e=e.parentNode);)(n=e.bindingId)&&(i=null!=(r=l[n])?r.childContext:void 0)&&o(i);return e===N&&o(P),s.join(".")},M=function(e){var t,i;return"input"===(t=e.nodeName.toLowerCase())||"textarea"===t||"select"===t?"checkbox"===(i=e.getAttribute("type"))||"radio"===i?"checked":"value":"textContent"},_=function(e,t){var i,n,r,s,o,a,l;for(s=[],n=r=0,o=(a=t.split(".")).length;r<o;n=++r)if(-1!==(l=(t=a[n]).indexOf("[")))for(0===n?s.push.apply(s,y(t.substr(0,l),e)):s.push(t.substr(0,l)),t=t.substr(l);-1!==(i=t.indexOf("]"));)s.push(parseInt(t.substr(1,i),10)),t=t.substr(i+1);else 0===n?s.push.apply(s,y(t,e)):s.push(t);return s},y=function(e,t){var i,n,r;return null!=(i=null!=(n=l[t.bindingId])&&null!=(r=n.indexes)?r[e]:void 0)?[e,i]:[e]},p=function(e,t){for(var i,n=0,r=t.length;n<r;n++)i=t[n],null!=e&&(e=e[i]);return e},L=function(t,i,n){var r,s,o,a,l,u;for(i=2<=(u=i).length?e.call(u,0,r=u.length-1):(r=0,[]),a=u[r++],s=0,l=i.length;s<l;s++)t=null!=t[o=i[s]]?t[o]:t[o]={};return t[a]=n},R=function(e){return[].map.call(e.attributes,function(e){return e.name+"="+JSON.stringify(e.value)}).join(" ")},j=function(e,t,i){var n,r;if(m(e)&&(r=_(i,e)))return"$root"===r[0]?function(e,t){return p(t,r)}:function(e){return p(e,r)};e="return "+e,C(i)&&(e="with($arrayPointers) { "+e+" }"),O(t)&&(e="with($registry) { "+e+" }");try{return new Function(t,"with($context) { "+e+" }")}catch(n){throw n,"Twine error: Unable to create function on "+i.nodeName+" node with attributes "+R(i)}},O=function(e){return/\$registry/.test(e)},C=function(e){var t;return null!=e.bindingId&&(null!=(t=l[e.bindingId])?t.indexes:void 0)},i=function(e,t){var i,n,r,s;if(!(n=C(e)))return{};for(r in s={},n)i=n[r],s[r]=t[r][i];return s},m=function(e){return"true"!==e&&"false"!==e&&"null"!==e&&"undefined"!==e&&b.test(e)},f=function(e){return"d"===e[0]&&"a"===e[1]&&"t"===e[2]&&"a"===e[3]&&"-"===e[4]},c=function(e){var t;return(t=document.createEvent("CustomEvent")).initCustomEvent("bindings:change",!0,!1,{}),e.dispatchEvent(t)},s=function(e,t){var i,n,r;return n=e[0],r=t[0],(i={define:1,bind:2,eval:3})[n]?i[r]?i[n]-i[r]:-1:1},t.bindingTypes={bind:function(e,n,r){var s,o,a,l,u,d,h,f,g,v,y;return y=M(e),v=e[y],u=void 0,f=void 0,o="radio"===e.getAttribute("type"),a=j(r,"$context,$root,$arrayPointers",e),d=function(){var t;if((t=a.call(e,n,P,i(e,n)))!==u)return u=t,t===e[y]?void 0:(e[y]=o?t===e.value:t,c(e))},m(r)?(h=function(){return o?e.checked?L(n,l,e.value):void 0:L(n,l,e[y])},l=_(e,r),g="textContent"!==y&&"hidden"!==e.type,"$root"===l[0]&&(n=P,l=l.slice(1)),null!=v&&(g||""!==v)&&null==p(n,l)&&h(),g&&(s=function(){if(p(n,l)!==this[y])return h(),t.refreshImmediately()},jQuery(e).on("input keyup change",s),f=function(){return jQuery(e).off("input keyup change",s)}),{refresh:d,teardown:f}):{refresh:d}},"bind-show":function(e,t,n){var r,s;return r=j(n,"$context,$root,$arrayPointers",e),s=void 0,{refresh:function(){var n;if((n=!r.call(e,t,P,i(e,t)))!==s)return jQuery(e).toggleClass("hide",s=n)}}},"bind-class":function(e,t,n){var r,s,o;return s=j(n,"$context,$root,$arrayPointers",e),o={},r=jQuery(e),{refresh:function(){var n,a,l,u,c,d;for(a in n=[],d=[],u=s.call(e,t,P,i(e,t)))u[a],l=u[a]=!!u[a],(null!=(c=o[a])?c:r.hasClass(a))!==l&&(l?n.push(a):d.push(a));return d.length&&r.removeClass(d.join(" ")),n.length&&r.addClass(n.join(" ")),o=u}}},"bind-attribute":function(e,t,n){var r,s;return r=j(n,"$context,$root,$arrayPointers",e),s={},{refresh:function(){var n,o,a;for(n in o=r.call(e,t,P,i(e,t)))a=o[n],s[n]!==a&&jQuery(e).attr(n,a||null);return s=o}}},define:function(e,t,n){var r,s,o;for(r in s=j(n,"$context,$root,$registry,$arrayPointers",e).call(e,t,P,D,i(e,t)))o=s[r],t[r]=o},eval:function(e,t,n){j(n,"$context,$root,$registry,$arrayPointers",e).call(e,t,P,D,i(e,t))}},a=function(e,t,i){var n,r,s,o;for(r in n={},s=j(i,"$context,$root",e).call(e,t,P)){if(o=s[r],null==t[r]&&(t[r]=[]),!(t[r]instanceof Array))throw"Twine error: expected '"+r+"' to be an array";n[r]=t[r].length,t[r].push(o)}return n},z=function(e,n){var r;return r="checked"===e||"indeterminate"===e||"disabled"===e||"readOnly"===e||"draggable"===e,t.bindingTypes["bind-"+n.toLowerCase()]=function(t,n,s){var o,a;return o=j(s,"$context,$root,$arrayPointers",t),a=void 0,{refresh:function(){var s;if(s=o.call(t,n,P,i(t,n)),r&&(s=!!s),s!==a)return t[e]=a=s,"checked"===e?c(t):void 0}}}},g=0,w=($=["placeholder","checked","indeterminate","disabled","href","title","readOnly","src","draggable"]).length;g<w;g++)z(n=$[g],n);for(z("innerHTML","unsafe-html"),k=function(e){var i;return!("submit"!==e.type&&"a"!==e.currentTarget.nodeName.toLowerCase()||"false"!==(i=t.getAttribute(e.currentTarget,"allow-default"))&&!1!==i&&0!==i&&null!=i)},F=function(e){return t.bindingTypes["bind-event-"+e]=function(n,r,s){var o=function(o,a){var l,u;if(((u="function"==typeof(l=t.shouldDiscardEvent)[e]?l[e](o):void 0)||k(o))&&o.preventDefault(),!u)return j(s,"$context,$root,$arrayPointers,event,data",n).call(n,r,P,i(n,r),o,a),t.refreshImmediately()};return jQuery(n).on(e,o),{teardown:function(){return jQuery(n).off(e,o)}}}},v=0,T=(A=["click","dblclick","mouseenter","mouseleave","mouseover","mouseout","mousedown","mouseup","submit","dragenter","dragleave","dragover","drop","drag","change","keypress","keydown","keyup","input","error","done","success","fail","blur","focus","load","paste"]).length;v<T;v++)F(A[v]);return t})}).call(this)}.call(this),function(){window.Bindings=window.Twine}.call(this),function(){var e=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var i,n,r=[],s=!0,o=!1,a=void 0;try{for(n=e[Symbol.iterator]();!(s=(i=n.next()).done)&&(r.push(i.value),!t||r.length!==t);s=!0);}catch(e){o=!0,a=e}finally{try{!s&&n.return&&n.return()}finally{if(o)throw a}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();!function(e){var t={exports:{}};e.call(t.exports,t,t.exports)}(function(t,i){"use strict";function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){return{}};l=e}function r(t){var i,n,r,u,c,d,h,p;if(location.href!==s&&(o={}),i=void 0,null!=l&&(i=l()||{},Bindings.reset(i),t||Bindings.bind(),l=null),t){var f=!0,m=!1,g=void 0;try{for(r=t[Symbol.iterator]();!(f=(n=r.next()).done);f=!0)u=n.value,Bindings.bind(u)}catch(t){m=!0,g=t}finally{try{!f&&r.return&&r.return()}finally{if(m)throw g}}}var v=!0,y=!1,_=void 0;try{for(d=a[Symbol.iterator]();!(v=(c=d.next()).done);v=!0)p=(h=e(c.value,2))[0],h[1](p)}catch(t){y=!0,_=t}finally{try{!v&&d.return&&d.return()}finally{if(y)throw _}}a.length=0,Bindings.refreshImmediately(),i&&"function"==typeof i.pageLoaded&&i.pageLoaded()}Object.defineProperty(i,"__esModule",{value:!0}),i.default=n;var s=location.href,o={},a=[],l=void 0;n.getLastUrl=function(){return s},n.onRefresh=function(e){for(var t,i,n=arguments.length,r=Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];t=void 0,i=void 0,r[1]?(t=r[0],i=r[1]):i=r[0],t&&Bindings.afterBound(function(){var n=Bindings.contextKey(t,e),r=o[n];r&&a.push([r,i]),o[n]=e})},n.pushState=function(e){window.history.pushState({turbolinks:!0,url:e},null,e)},n.replaceState=function(e){window.history.replaceState({turbolinks:!0,url:e},null,e)},n.openPopup=function(e,t,i){var r=_.defaults(i,{width:500,height:500,directories:"no",location:"no",menubar:"no",resizeable:"yes",scrollbars:"yes",toolbar:"no",status:"no"}),s=_.map(r,function(e,t){return t+"="+e}).toString();n.open(e,t,s)},document.addEventListener("DOMContentLoaded",function(){return r()}),document.addEventListener("page:load",function(e){r(e.data),s=location.href}),document.addEventListener("page:before-partial-replace",function(e){var t,i,n,r=e.data,s=!0,o=!1,a=void 0;try{for(i=r[Symbol.iterator]();!(s=(t=i.next()).done);s=!0)n=t.value,Bindings.unbind(n)}catch(e){o=!0,a=e}finally{try{!s&&i.return&&i.return()}finally{if(o)throw a}}}),document.addEventListener("page:after-node-removed",function(e){return $(e.data).remove()}),$(document).ajaxComplete(function(){return Bindings.refresh()}),window.Page=null!=i.default?i.default:i})}("undefined"!=typeof global?global:"undefined"!=typeof window&&window),function(){null==window.TurboGraft&&(window.TurboGraft={handlers:{}}),TurboGraft.tgAttribute=function(e){return"tg-"===e.slice(0,3)?"data-"+e:"data-tg-"+e},TurboGraft.getTGAttribute=function(e,t){var i;return i=TurboGraft.tgAttribute(t),e.getAttribute(i)||e.getAttribute(t)},TurboGraft.removeTGAttribute=function(e,t){var i;return i=TurboGraft.tgAttribute(t),e.removeAttribute(i),e.removeAttribute(t)},TurboGraft.hasTGAttribute=function(e,t){var i;return i=TurboGraft.tgAttribute(t),e.hasAttribute(i)||e.hasAttribute(t)},TurboGraft.querySelectorAllTGAttribute=function(e,t,i){var n;return null==i&&(i=null),n=TurboGraft.tgAttribute(t),i?e.querySelectorAll("["+n+"="+i+"], ["+t+"="+i+"]"):e.querySelectorAll("["+n+"], ["+t+"]")}}.call(this),function(){window.Click=function(){function e(e){this.event=e,this.event.defaultPrevented||(this._extractLink(),this._validForTurbolinks()&&(Turbolinks.visit(this.link.href),this.event.preventDefault()))}return e.installHandlerLast=function(t){if(!t.defaultPrevented)return document.removeEventListener("click",e.handle,!1),document.addEventListener("click",e.handle,!1)},e.handle=function(t){return new e(t)},e.prototype._extractLink=function(){for(var e=this.event.target;e.parentNode&&"A"!==e.nodeName;)e=e.parentNode;if("A"===e.nodeName&&0!==e.href.length)return this.link=new Link(e)},e.prototype._validForTurbolinks=function(){return null!=this.link&&!(this.link.shouldIgnore()||this._nonStandardClick())},e.prototype._nonStandardClick=function(){return this.event.which>1||this.event.metaKey||this.event.ctrlKey||this.event.shiftKey||this.event.altKey},e}()}.call(this),function(){window.ComponentUrl=function(){function e(t){if(this.original=null!=t?t:document.location.href,this.original.constructor===e)return this.original;this._parse()}return e.prototype.withoutHash=function(){return this.href.replace(this.hash,"")},e.prototype.withoutHashForIE10compatibility=function(){return this.withoutHash()},e.prototype.hasNoHash=function(){return 0===this.hash.length},e.prototype._parse=function(){var e;return(null!=this.link?this.link:this.link=document.createElement("a")).href=this.original,e=this.link,this.href=e.href,this.protocol=e.protocol,this.host=e.host,this.hostname=e.hostname,this.port=e.port,this.pathname=e.pathname,this.search=e.search,this.hash=e.hash,this.origin=[this.protocol,"//",this.hostname].join(""),0!==this.port.length&&(this.origin+=":"+this.port),this.relative=[this.pathname,this.search,this.hash].join(""),this.absolute=this.href},e}()}.call(this),function(){window.CSRFToken=function(){function e(){}return e.get=function(e){var t;return null==e&&(e=document),{node:t=e.querySelector('meta[name="csrf-token"]'),token:null!=t&&"function"==typeof t.getAttribute?t.getAttribute("content"):void 0}},e.update=function(e){var t;if(null!=(t=this.get()).token&&null!=e&&t.token!==e)return t.node.setAttribute("content",e)},e}()}.call(this),function(){TurboGraft.Document={create:function(e){var t;return/<(html|body)/i.test(e)?(t=document.documentElement.cloneNode()).innerHTML=e:(t=document.documentElement.cloneNode(!0)).querySelector("body").innerHTML=e,t.head=t.querySelector("head"),t.body=t.querySelector("body"),t}}}.call(this),function(){var e,t,i;e=function(e,t){return e.classList.contains(t)},t=function(t){return t.getAttribute("disabled")||e(t,"disabled")},i=function(e,t,i){var n,r;if(null==i&&(i=null),!(n=e.getAttribute("href")||e.getAttribute("action")))throw new Error("Turbograft developer error: You did not provide a URL ('"+urlAttribute+"' attribute) for data-tg-remote");return TurboGraft.getTGAttribute(e,"remote-once")&&(TurboGraft.removeTGAttribute(e,"remote-once"),TurboGraft.removeTGAttribute(e,"tg-remote")),r={httpRequestType:t,httpUrl:n,fullRefresh:null!=TurboGraft.getTGAttribute(e,"full-refresh"),refreshOnSuccess:TurboGraft.getTGAttribute(e,"refresh-on-success"),refreshOnSuccessExcept:TurboGraft.getTGAttribute(e,"full-refresh-on-success-except"),refreshOnError:TurboGraft.getTGAttribute(e,"refresh-on-error"),refreshOnErrorExcept:TurboGraft.getTGAttribute(e,"full-refresh-on-error-except")},new TurboGraft.Remote(r,i,e)},TurboGraft.handlers.remoteMethodHandler=function(e){var t,n;n=e.clickTarget,(t=TurboGraft.getTGAttribute(n,"tg-remote"))&&(e.preventDefault(),i(n,t).submit())},TurboGraft.handlers.remoteFormHandler=function(e){var t,n;t=(n=e.target).getAttribute("method"),TurboGraft.hasTGAttribute(n,"tg-remote")&&(e.preventDefault(),i(n,t,n).submit())},function(e,i,n){null==n&&(n=!1),document.addEventListener(e,function(e){for(var n,r=e.target;r!==document&&null!=r;){if(("A"===r.nodeName||"BUTTON"===r.nodeName)&&((n=t(r))&&e.preventDefault(),!n))return e.clickTarget=r,void i(e);r=r.parentNode}})}("click",TurboGraft.handlers.remoteMethodHandler,!0),document.addEventListener("submit",function(e){return TurboGraft.handlers.remoteFormHandler(e)})}.call(this),function(){var e=function(e,i){function n(){this.constructor=e}for(var r in i)t.call(i,r)&&(e[r]=i[r]);return n.prototype=i.prototype,e.prototype=new n,e.__super__=i.prototype,e},t={}.hasOwnProperty,i=[].slice;window.Link=function(t){function n(e){if(this.link=e,this.link.constructor===n)return this.link;this.original=this.link.href,n.__super__.constructor.apply(this,arguments)}return e(n,t),n.HTML_EXTENSIONS=["html"],n.allowExtensions=function(){var e,t,r,s;for(r=0,s=(t=1<=arguments.length?i.call(arguments,0):[]).length;r<s;r++)e=t[r],n.HTML_EXTENSIONS.push(e);return n.HTML_EXTENSIONS},n.prototype.shouldIgnore=function(){return this._crossOrigin()||this._anchored()||this._nonHtml()||this._optOut()||this._target()},n.prototype._crossOrigin=function(){return this.origin!==(new ComponentUrl).origin},n.prototype._anchored=function(){var e;return(this.hash&&this.withoutHash())===(e=new ComponentUrl).withoutHash()||this.href===e.href+"#"},n.prototype._nonHtml=function(){return this.pathname.match(/\.[a-z]+$/g)&&!this.pathname.match(new RegExp("\\.(?:"+n.HTML_EXTENSIONS.join("|")+")?$","g"))},n.prototype._optOut=function(){for(var e,t=this.link;!e&&t!==document&&null!==t;)e=null!=t.getAttribute("data-no-turbolink"),t=t.parentNode;return e},n.prototype._target=function(){return 0!==this.link.target.length},n}(ComponentUrl)}.call(this),function(){var e,t,i;window.Page||(window.Page={}),Page.visit=function(e,t){return null==t&&(t={}),t.reload?window.location=e:Turbolinks.visit(e)},Page.refresh=function(e,t){var i,n,r,s;return null==e&&(e={}),i=e.url?e.url:e.queryParams?((n=$.param(e.queryParams))&&(n="?"+n),location.pathname+n):location.href,r={partialReplace:!0,exceptKeys:e.exceptKeys,onlyKeys:e.onlyKeys,updatePushState:e.updatePushState,callback:t},(s=e.response)?Turbolinks.loadPage(null,s,r):Turbolinks.visit(i,r)},Page.open=function(){return window.open.apply(window,arguments)},i=[],Page.onReplace=function(e,n){if(!e||!n)throw new Error("Page.onReplace: Node and callback must both be specified");if(!t(n))throw new Error("Page.onReplace: Callback must be a function");return i.push({node:e,callback:n})},t=function(e){return!!(e&&e.constructor&&e.call&&e.apply)},e=function(e,t){return e.contains?e.contains(t):!!(e===t||e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)},document.addEventListener("page:before-partial-replace",function(t){var n,r,s,o,a,l,u,c,d;for(c=t.data,d=[],s=0,a=i.length;s<a;s++){for(n=i[s],r=!1,o=0,l=c.length;o<l;o++)if(u=c[o],e(u,n.node)){n.callback(),r=!0;break}r||d.push(n)}return i=d}),document.addEventListener("page:before-replace",function(){for(var e=0,t=i.length;e<t;e++)i[e].callback();return i=[]})}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};TurboGraft.Remote=function(){function t(t,i,n){var r,s,o,a;this.opts=t,this.onError=e(this.onError,this),this.onSuccess=e(this.onSuccess,this),this.initiator=i||n,this.actualRequestType="get"===(null!=(s=this.opts.httpRequestType)?s.toLowerCase():void 0)?"GET":"POST",this.useNativeEncoding=this.opts.useNativeEncoding,this.formData=this.createPayload(i),this.opts.refreshOnSuccess&&(this.refreshOnSuccess=this.opts.refreshOnSuccess.split(" ")),this.opts.refreshOnSuccessExcept&&(this.refreshOnSuccessExcept=this.opts.refreshOnSuccessExcept.split(" ")),this.opts.refreshOnError&&(this.refreshOnError=this.opts.refreshOnError.split(" ")),this.opts.refreshOnErrorExcept&&(this.refreshOnErrorExcept=this.opts.refreshOnErrorExcept.split(" ")),a=new XMLHttpRequest,"GET"===this.actualRequestType?(o=this.formData?this.opts.httpUrl+"?"+this.formData:this.opts.httpUrl,a.open(this.actualRequestType,o,!0)):a.open(this.actualRequestType,this.opts.httpUrl,!0),a.setRequestHeader("X-Requested-With","XMLHttpRequest"),a.setRequestHeader("Accept","text/html, application/xhtml+xml, application/xml"),this.contentType&&a.setRequestHeader("Content-Type",this.contentType),a.setRequestHeader("X-XHR-Referer",document.location.href),(r=CSRFToken.get().token)&&a.setRequestHeader("X-CSRF-Token",r),triggerEventFor("turbograft:remote:init",this.initiator,{xhr:a,initiator:this.initiator}),a.addEventListener("loadstart",function(e){return function(){return triggerEventFor("turbograft:remote:start",e.initiator,{xhr:a})}}(this)),a.addEventListener("error",this.onError),a.addEventListener("load",function(e){return function(t){return a.status<400?e.onSuccess(t):e.onError(t)}}(this)),a.addEventListener("loadend",function(e){return function(){var t;return"function"==typeof(t=e.opts).done&&t.done(),triggerEventFor("turbograft:remote:always",e.initiator,{initiator:e.initiator,xhr:a})}}(this)),this.xhr=a}return t.prototype.submit=function(){return this.xhr.send(this.formData)},t.prototype.createPayload=function(e){var t;return(t=e?this.useNativeEncoding||e.querySelectorAll("[type='file'][name]").length>0?this.nativeEncodeForm(e):this.uriEncodeForm(e):"")instanceof FormData||(this.contentType="application/x-www-form-urlencoded; charset=UTF-8",-1===t.indexOf("_method")&&this.opts.httpRequestType&&"GET"!==this.actualRequestType&&(t=this.formAppend(t,"_method",this.opts.httpRequestType))),t},t.prototype.formAppend=function(e,t,i){return e.length&&(e+="&"),e+(encodeURIComponent(t)+"=")+encodeURIComponent(i)},t.prototype.uriEncodeForm=function(e){var t;return t="",this._iterateOverFormInputs(e,function(e){return function(i){return t=e.formAppend(t,i.name,i.value)}}(this)),t},t.prototype.formDataAppend=function(e,t){var i,n,r,s;if("file"===t.type)for(n=0,r=(s=t.files).length;n<r;n++)i=s[n],e.append(t.name,i);else e.append(t.name,t.value);return e},t.prototype.nativeEncodeForm=function(e){var t;return t=new FormData,this._iterateOverFormInputs(e,function(e){return function(i){return t=e.formDataAppend(t,i)}}(this)),t},t.prototype._iterateOverFormInputs=function(e,t){var i,n,r,s,o,a,l;for(l=[],i=0,o=(s=this._enabledInputs(e)).length;i<o;i++)r=!(n=s[i]).disabled,a="checkbox"===n.type||"radio"===n.type,r&&n.name&&(a&&n.checked||!a)?l.push(t(n)):l.push(void 0);return l},t.prototype._enabledInputs=function(e){var t,i,n,r,s,o,a,l,u,c,d;if(d="input:not([type='reset']):not([type='button']):not([type='submit']):not([type='image']), select, textarea",o=Array.prototype.slice.call(e.querySelectorAll(d)),!(i=Array.prototype.slice.call(TurboGraft.querySelectorAllTGAttribute(e,"tg-remote-noserialize"))).length)return o;for(t=i,r=0,l=i.length;r<l;r++)c=i[r],t=t.concat(Array.prototype.slice.call(c.querySelectorAll(d)));for(n=[],a=0,u=o.length;a<u;a++)s=o[a],t.indexOf(s)<0&&n.push(s);return n},t.prototype.onSuccess=function(e){var t,i,n;return"function"==typeof(t=this.opts).success&&t.success(),n=e.target,triggerEventFor("turbograft:remote:success",this.initiator,{initiator:this.initiator,xhr:n}),(i=n.getResponseHeader("X-Next-Redirect"))?void Page.visit(i,{reload:!0}):TurboGraft.hasTGAttribute(this.initiator,"tg-remote-norefresh")?void 0:this.opts.fullRefresh&&this.refreshOnSuccess?Page.refresh({onlyKeys:this.refreshOnSuccess}):this.opts.fullRefresh?Page.refresh():this.refreshOnSuccess?Page.refresh({response:n,onlyKeys:this.refreshOnSuccess}):this.refreshOnSuccessExcept?Page.refresh({response:n,exceptKeys:this.refreshOnSuccessExcept}):Page.refresh({response:n})},t.prototype.onError=function(e){var t,i;return"function"==typeof(t=this.opts).fail&&t.fail(),i=e.target,triggerEventFor("turbograft:remote:fail",this.initiator,{initiator:this.initiator,xhr:i}),TurboGraft.hasTGAttribute(this.initiator,"tg-remote-norefresh")?triggerEventFor("turbograft:remote:fail:unhandled",this.initiator,{xhr:i}):this.opts.fullRefresh&&this.refreshOnError?Page.refresh({onlyKeys:this.refreshOnError}):this.opts.fullRefresh?Page.refresh():this.refreshOnError?Page.refresh({response:i,onlyKeys:this.refreshOnError}):this.refreshOnErrorExcept?Page.refresh({response:i,exceptKeys:this.refreshOnErrorExcept}):triggerEventFor("turbograft:remote:fail:unhandled",this.initiator,{xhr:i})},t}()}.call(this),function(){TurboGraft.Response=function(){function e(e,t){var i;this.xhr=e,i=t&&t.withoutHash()!==this.xhr.responseURL?this.xhr.responseURL:this.xhr.getResponseHeader("X-XHR-Redirected-To"),this.finalURL=i||t}return e.prototype.valid=function(){return this.hasRenderableHttpStatus()&&this.hasValidContent()},e.prototype.document=function(){if(this.valid())return TurboGraft.Document.create(this.xhr.responseText)},e.prototype.hasRenderableHttpStatus=function(){var e;return 422===this.xhr.status||!(400<=(e=this.xhr.status)&&e<600)},e.prototype.hasValidContent=function(){var e;if(e=this.xhr.getResponseHeader("Content-Type"))return e.match(/^(?:text\/html|application\/xhtml\+xml|application\/xml)(?:;|$)/);throw new Error("Error encountered for XHR Response: "+this)},e.prototype.toString=function(){return"URL: "+this.xhr.responseURL+", ReadyState: "+this.xhr.readyState+", Headers: "+this.xhr.getAllResponseHeaders()},e}(),TurboGraft.location=function(){return location.href}}.call(this),function(){var e,t,i,n,r,s,o,a,l,u,c,d,h,p,f=function(e,t){return function(){return e.apply(t,arguments)}};t="turbolinksTrack",e="true",c={},u=null,p=function(){var e;return e=Object.keys(c).map(function(e){return c[e]}),Promise.all(e)},TurboGraft.TurboHead=function(){function o(e,t){this.activeDocument=e,this.upstreamDocument=t,this._insertNewAssets=f(this._insertNewAssets,this),this.activeAssets=s(this.activeDocument),this.upstreamAssets=s(this.upstreamDocument),this.newScripts=this.upstreamAssets.filter(i("nodeName","SCRIPT")).filter(a("src",this.activeAssets)),this.newLinks=this.upstreamAssets.filter(i("nodeName","LINK")).filter(a("href",this.activeAssets))}return o._testAPI={reset:function(){return c={},u=null}},o.prototype.hasChangedAnonymousAssets=function(){var i,r,s,o;return r=this.upstreamAssets.filter(n(t,e)),(i=this.activeAssets.filter(n(t,e))).length!==r.length||(o=a("src",r),s=a("href",r),i.some(function(e){return o(e)||s(e)}))},o.prototype.movingFromTrackedToUntracked=function(){return 0===this.upstreamAssets.length&&this.activeAssets.length>0},o.prototype.hasNamedAssetConflicts=function(){return this.newScripts.concat(this.newLinks).filter(l(t,e)).some(r(t,this.activeAssets))},o.prototype.hasAssetConflicts=function(){return this.movingFromTrackedToUntracked()||this.hasNamedAssetConflicts()||this.hasChangedAnonymousAssets()},o.prototype.waitForAssets=function(){return"function"==typeof u&&u({isCanceled:!0}),new Promise((e=this,function(t){return u=t,p().then(e._insertNewAssets).then(p).then(t)}));var e},o.prototype._insertNewAssets=function(){return d(this.activeDocument,this.newLinks),h(this.activeDocument,this.newScripts)},o}(),s=function(e){return[].slice.call(e.querySelectorAll("[data-turbolinks-track]"))},i=function(e,t){return function(i){return i[e]===t}},a=function(e,t){return function(i){return!t.some(function(t){return i[e]===t[e]})}},n=function(e,t){return function(i){return i.dataset[e]===t}},l=function(e,t){return function(i){return i.dataset[e]!==t}},r=function(e,t){return function(i){var r;return r=i.dataset[e],t.some(n(e,r))}},d=function(e,t){return t.forEach(function(t){var i;return i=t.cloneNode(),e.head.appendChild(i),triggerEvent("page:after-link-inserted",i)})},h=function(e,t){var i;return i=Promise.resolve(),t.forEach(function(t){return i=i.then(function(){return o(e,t)})}),i},o=function(e,t){var i,n,r,s,o,a;if(a=t.src,c[a])return c[a];for(s=e.createElement("SCRIPT"),n=0,r=(o=t.attributes).length;n<r;n++)i=o[n],s.setAttribute(i.name,i.value);return s.appendChild(e.createTextNode(t.innerHTML)),c[a]=new Promise(function(t){var i;return i=function(e){return"error"===e.type&&triggerEvent("page:#script-error",e),s.removeEventListener("load",i),s.removeEventListener("error",i),t()},s.addEventListener("load",i),s.addEventListener("error",i),e.head.appendChild(s),triggerEvent("page:after-script-inserted",s)})}}.call(this),function(){var e,t,i,n,r,s,o,a,l,u,c,d,h,p;e=TurboGraft.Response,t=TurboGraft.TurboHead,l=window.jQuery,p=null,i=document,o=function(){return i.addEventListener("DOMContentLoaded",function(){return triggerEvent("page:change"),triggerEvent("page:update")},!0)},a=function(){if(void 0!==l)return l(i).on("ajaxSuccess",function(e,t){if(l.trim(t.responseText))return triggerEvent("page:update")})},s=void 0!==window.history.state||navigator.userAgent.match(/Firefox\/2[6|7]/),n=window.history&&window.history.pushState&&window.history.replaceState&&s,window.triggerEvent=function(e,t){var n;return n=i.createEvent("Events"),t&&(n.data=t),n.initEvent(e,!0,!0),i.dispatchEvent(n)},window.triggerEventFor=function(e,t,n){var r;return r=i.createEvent("Events"),n&&(r.data=n),r.initEvent(e,!0,!0),t.dispatchEvent(r)},h="GET"===(u=function(e){var t,n;return n=(null!=(t=i.cookie.match(new RegExp(e+"=(\\w+)")))?t[1].toUpperCase():void 0)||"",i.cookie=e+"=; expires=Thu, 01-Jan-70 00:00:01 GMT; path=/",n}("request_method"))||""===u,r=n&&h,i.addEventListener&&i.createEvent&&(o(),a()),d=function(e,t){var i;return i=t.parentNode.replaceChild(e,t),triggerEvent("page:after-node-removed",i)},c=function(e){var t;return t=e.parentNode.removeChild(e),triggerEvent("page:after-node-removed",t)},window.Turbolinks=function(){function n(){}var s,o,a,l,u,h,f,m,g,v,y,_,b,w,T,C,S,k,$,A,x,E,I;return null,C=null,f=function(e,t){if(null==t&&(t={}),!w(e))return e=new ComponentUrl(e),A(),m(e,t)},_=function(e,t){var i,n;return Boolean(t.partialReplace||(null!=(i=t.onlyKeys)?i.length:void 0)||(null!=(n=t.exceptKeys)?n.length:void 0))},n.fullPageNavigate=function(e){null!=e&&(e=new ComponentUrl(e).absolute,triggerEvent("page:before-full-refresh",{url:e}),i.location.href=e)},n.pushState=function(e,t,i){return window.history.pushState(e,t,i)},n.replaceState=function(e,t,i){return window.history.replaceState(e,t,i)},n.document=function(e){return e&&(i=e),i},m=function(e,t){var i,r,s;for(i in triggerEvent("page:fetch",{url:e.absolute}),null!=p&&(p.readyState=0,p.statusText="abort",p.abort()),(p=new XMLHttpRequest).open("GET",e.withoutHashForIE10compatibility(),!0),p.setRequestHeader("Accept","text/html, application/xhtml+xml, application/xml"),p.setRequestHeader("X-XHR-Referer",C),null==t.headers&&(t.headers={}),r=t.headers)s=r[i],p.setRequestHeader(i,s);p.onload=function(){return p.status>=500?n.fullPageNavigate(e):n.loadPage(e,p,t),p=null},p.onerror=function(){return"abort"===p.statusText?void(p=null):n.fullPageNavigate(e)},p.send()},n.loadPage=function(r,s,o){var a,l,u;return null==o&&(o={}),triggerEvent("page:receive"),a=new e(s,r),A(),null==o.updatePushState&&(o.updatePushState=!0),o.partialReplace=_(0,o),(u=a.document())?o.partialReplace?void I(u,a,o):(l=new t(i,u)).hasAssetConflicts()?n.fullPageNavigate(a.finalURL):l.waitForAssets().then(function(e){if(!(null!=e?e.isCanceled:void 0))return I(u,a,o)}):(triggerEvent("page:error",s),void n.fullPageNavigate(a.finalURL))},I=function(e,t,i){var r,s;return r=a(null!=(s=e.querySelector("title"))?s.textContent:void 0,x(e.querySelector("body")),CSRFToken.get(e).token,"runScripts",i),i.updatePushState&&S(t.finalURL),i.partialReplace||n.resetScrollPosition(),"function"==typeof i.callback&&i.callback(),triggerEvent("page:load",r)},a=function(e,t,n,r,o){var a,u,c,p;if(null==o&&(o={}),e&&(i.title=e),null!=(c=o.onlyKeys)?c.length:void 0)return u=[].concat(v(),g(o.onlyKeys)),a=$(u,t),s(a)&&E(),a;$(v(),t),T(t),(null!=(p=o.exceptKeys)?p.length:void 0)?k(o.exceptKeys,t):l(t),triggerEvent("page:before-replace"),d(t,i.body),null!=n&&CSRFToken.update(n),E(),r&&h(),window.history.state,triggerEvent("page:change"),triggerEvent("page:update")},g=function(e){var t,n,r,s,o,a,l,u;for(a=[],t=0,s=e.length;t<s;t++)for(r=e[t],n=0,o=(u=TurboGraft.querySelectorAllTGAttribute(i,"refresh",r)).length;n<o;n++)l=u[n],a.push(l);return a},v=function(){var e,t,n,r,s;for(n=[],e=0,t=(s=TurboGraft.querySelectorAllTGAttribute(i,"refresh-always")).length;e<t;e++)r=s[e],n.push(r);return n},s=function(e){for(var t=0,i=e.length;t<i;t++)if(e[t].querySelectorAll("input[autofocus], textarea[autofocus]").length>0)return!0;return!1},E=function(){var e,t;if((e=(t=i.querySelectorAll("input[autofocus], textarea[autofocus]"))[t.length-1])&&i.activeElement!==e)return e.focus()},l=function(e){var t,i,n,r;for(t=0,i=(r=TurboGraft.querySelectorAllTGAttribute(e,"refresh-never")).length;t<i;t++)n=r[t],c(n)},$=function(e,t){var i,n,r,s,o,a,l;for(triggerEvent("page:before-partial-replace",e),a=function(t){for(var i,n=0,r=e.length;n<r;n++)if(t!==(i=e[n])&&i.contains(t))return!0;return!1},l=[],n=0,r=e.length;n<r;n++)if(!a(i=e[n])){if(!(o=i.getAttribute("id")))throw new Error("Turbolinks refresh: Refresh key elements must have an id.");(s=t.querySelector("#"+o))?(s=s.cloneNode(!0),d(s,i),"SCRIPT"===s.nodeName&&"false"!==s.dataset.turbolinksEval?u(s):l.push(s)):TurboGraft.hasTGAttribute(i,"refresh-always")||c(i)}return l},b=function(e,t){var i,n,r,s,o,a;for(a=[],n=0,r=t.length;n<r;n++){if(!(s=(i=t[n]).getAttribute("id")))throw new Error("TurboGraft refresh: Kept nodes must have an id.");(o=e.querySelector("#"+s))?a.push(d(i,o)):a.push(void 0)}return a},T=function(e){var t,n,r,s,o;for(t=[],n=0,r=(o=TurboGraft.querySelectorAllTGAttribute(i,"tg-static")).length;n<r;n++)s=o[n],t.push(s);b(e,t)},k=function(e,t){var n,r,s,o,a,l,u,c;for(n=[],r=0,a=e.length;r<a;r++)for(o=e[r],s=0,l=(c=TurboGraft.querySelectorAllTGAttribute(i,"refresh",o)).length;s<l;s++)u=c[s],n.push(u);b(t,n)},h=function(){var e,t,n,r,s;for(e=0,t=(s=Array.prototype.slice.call(i.body.querySelectorAll('script:not([data-turbolinks-eval="false"])'))).length;e<t;e++)""!==(n=(r=s[e]).type)&&"text/javascript"!==n||u(r)},u=function(e){var t,n,r,s,o,a,l;for(n=i.createElement("script"),r=0,s=(l=e.attributes).length;r<s;r++)t=l[r],n.setAttribute(t.name,t.value);n.appendChild(i.createTextNode(e.innerHTML)),a=e.parentNode,o=e.nextSibling,a.removeChild(e),a.insertBefore(n,o)},x=function(e){return e.innerHTML=e.innerHTML.replace(/<noscript[\S\s]*?<\/noscript>/gi,""),e},S=function(e){(e=new ComponentUrl(e)).absolute!==C&&n.pushState({turbolinks:!0,url:e.absolute},"",e.absolute)},A=function(){return C=i.location.href},n.rememberCurrentUrl=function(){return n.replaceState({turbolinks:!0,url:i.location.href},"",i.location.href)},n.rememberCurrentState=function(){return window.history.state},n.resetScrollPosition=function(){return i.location.hash?i.location.href=i.location.href:window.scrollTo(0,0)},w=function(e){return!triggerEvent("page:before-change",e)},y=function(e){var t;if(null!=(t=e.state)?t.turbolinks:void 0)return n.visit(e.target.location.href)},o=function(e){return setTimeout(e,500)},r?(n.visit=f,n.rememberCurrentUrl(),n.rememberCurrentState(),i.addEventListener("click",Click.installHandlerLast,!0),o(function(){return window.addEventListener("popstate",y,!1)})):n.visit=function(e){return i.location.href=e},n}()}.call(this),function(){window.Common={include:function(e,t){if(!e)return!1;for(var i=0;i<e.length;i++)if(e[i]==t)return!0;return!1},difference:function(e,t){for(var i=[],n=0;n<e.length;n++)e[n]!=t&&i.push(e[n]);return i}}}.call(this),function(){Juzaweb.Utility={loadAjax:function(e,t,i,n){null==n&&(n={hide:!0}),Juzaweb.Utility.ajax&&n.abort&&Juzaweb.Utility.ajax.abort(),Juzaweb.Utility.ajax=$.ajax({url:e,data:n.data,beforeSend:function(e,t){n.pushState&&Page.pushState(t.url)},success:function(e){var r;if(n.hide&&(Juzaweb.Modal.hide(),$(".modal-backdrop.fade.in").remove()),$(t).get(0)){Bindings.unbind($(t).get(0));var s,o=$(e).find(t),a=null,l=e.match("<title>(.*?)</title>");null!=l&&l.length>0&&(a=l[1]),s=o.length>0?o.html():e,$(t).html(s),null!=a&&""!=a&&$("head title").html(a),r=$(e).find(".section-footer").html(),$(".section-footer").html(r),Bindings.bind($(t).get(0)),n.pageLoad&&$(document).trigger("page:load"),i&&i(e)}}})},getThumb:function(e,t){if(""==e)return"";if(e.startsWith("//")&&(e="http:"+e),"original"==t.toLowerCase())return e.replace("http://","//").replace("https://","//");var i=new URL(e),n=i.pathname+i.search;return Juzaweb.routes.domain.thumb+t.toLowerCase()+n},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},getParameter:function(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(location.search);return null===t?"":decodeURIComponent(t[1].replace(/\+/g," "))},isMobile:function(){return $(window).width()<855},toggleSidebar:function(){var e=Bindings.context(document.body).navDrawer;Juzaweb.Utility.isMobile()?e&&(e.isOpen?e.close():e.open()):($(".page-wrapper").toggleClass("page-hide-sidebar"),e&&e.isOpen&&e.close())},hideSidebar:function(){var e=Bindings.context(document.body).navDrawer;Juzaweb.Utility.isMobile()?e&&e.isOpen&&e.close():($(".page-wrapper").addClass("page-hide-sidebar"),e&&e.isOpen&&e.close())},showSidebar:function(){var e=Bindings.context(document.body).navDrawer;Juzaweb.Utility.isMobile()?e&&!e.isOpen&&e.open():$(".page-wrapper").removeClass("page-hide-sidebar")},toggleMenu:function(){$(".page-wrapper").toggleClass("page-hide-menu")},showMenu:function(){$(".page-wrapper").removeClass("page-hide-menu")},hideMenu:function(){$(".page-wrapper").addClass("page-hide-menu")},getCookie:function(e){for(var t,i=e+"=",n=document.cookie.split(";"),r=0;r<n.length;r++){for(t=n[r];" "==t.charAt(0);)t=t.substring(1);if(-1!=t.indexOf(i))return t.substring(i.length,t.length)}return""},setCookie:function(e,t,i){var n,r=new Date;r.setTime(r.getTime()+864e5*i),n="expires="+r.toGMTString(),document.cookie=e+"="+t+"; "+n},decodeHtml:function(e){return $("<textarea />").html(e).text()},changeUrl:function(e){window.history.pushState(null,null,e)},scrollTo:function(e,t){t||(t="fast"),$("html, body").animate({scrollTop:$(e).offset().top},t)},setParameter:function(e,t){e=encodeURI(e),t=encodeURI(t);for(var i,n=document.location.search.substr(1).split("&"),r=n.length;r--;)if((i=n[r].split("="))[0]==e){i[1]=t,n[r]=i.join("=");break}r<0&&(n[n.length]=[e,t].join("=")),window.history.pushState(null,null,document.location.pathname+"?"+n.filter(Boolean).join("&"))},money:function(e,t){return money(e,t)},textMoneyWithSymbol:function(e,t){Globalize.culture=Globalize.cultures[t],Juzaweb.Utility.isNumeric(e)||(e=0);var i=Globalize.format(parseFloat(e),"c",Globalize.culture.name);return","==Globalize.culture.numberFormat["."]&&(i=(i=(i=i.replace(/\./g,"..")).replace(/,/g,".")).replace(/\.\./g,",")),(i=i.replace("(","-")).replace(")","")}}}.call(this),function(){var e,t;t=[],e=function(e,t){var i,n,r;return e.preventDefault(),n=e.originalEvent.data,(r=(i=new Juzaweb.Confirm({link:n})).show()).done(function(){for(var e=0,n=t.length;e<n;e++)t[e]();return Turbolinks.visit(i.link())}),r.fail(function(){return i.hide()})},Page.onChange=function(e,i){if(!_.isFunction(e)||!_.isFunction(i))throw new Error("shouldTriggerCallback and doneCallback must both be functions");return t.push({shouldTriggerCallback:e,doneCallback:i})},$(document).on("page:before-change",function(i){var n,r;if(r=function(){var e,i,r;for(r=[],e=0,i=t.length;e<i;e++)(n=t[e]).shouldTriggerCallback()&&r.push(n.doneCallback);return r}(),!_.isEmpty(r))return e(i,r)}),$(window).on("beforeunload",function(){for(var e=0,i=t.length;e<i;e++)if(t[e].shouldTriggerCallback())return"Bạn có chỉnh sửa chưa được lưu trên trang này. Nếu rời khỏi trang này, tất cả chỉnh sửa sẽ không được lưu."})}.call(this),function(e){var t,i=function(e){var t={exports:{}};return e.call(t.exports,t,t.exports),t.exports},n=function(e){return e&&e.__esModule?e:{default:e}},r=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var i,n,r=[],s=!0,o=!1,a=void 0;try{for(n=e[Symbol.iterator]();!(s=(i=n.next()).done)&&(r.push(i.value),!t||r.length!==t);s=!0);}catch(e){o=!0,a=e}finally{try{!s&&n.return&&n.return()}finally{if(o)throw a}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function e(e,t){for(var i,n=0;n<t.length;n++)(i=t[n]).enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),o=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},a=function(e){var t,i;if(e&&e.__esModule)return e;if(t={},null!=e)for(i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t},l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u=Object.assign||function(e){for(var t,i,n=1;n<arguments.length;n++)for(i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},c=i(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getCurrency=function(e){return i.find(function(t){return t.code===e})};var i=t.CURRENCIES=[{code:"USD",money_format:"${{amount}}",money_in_emails_format:"${{amount}}",symbol:"$",subunit_to_unit:100,decimal_mark:"."},{code:"EUR",money_format:"€{{amount_with_comma_separator}}",money_in_emails_format:"€{{amount_with_comma_separator}}",symbol:"€",subunit_to_unit:100,decimal_mark:","},{code:"GBP",money_format:"£{{amount}}",money_in_emails_format:"£{{amount}}",symbol:"£",subunit_to_unit:100,decimal_mark:"."},{code:"CAD",money_format:"${{amount}}",money_in_emails_format:"${{amount}}",symbol:"$",subunit_to_unit:100,decimal_mark:"."},{code:"AFN",money_format:"{{amount}}؋",money_in_emails_format:"{{amount}}؋",symbol:"؋",subunit_to_unit:100,decimal_mark:"."},{code:"ALL",money_format:"Lek {{amount}}",money_in_emails_format:"Lek {{amount}}",symbol:"L",subunit_to_unit:100,decimal_mark:"."},{code:"DZD",money_format:"DA {{amount}}",money_in_emails_format:"DA {{amount}}",symbol:"د.ج",subunit_to_unit:100,decimal_mark:"."},{code:"AOA",money_format:"Kz{{amount}}",money_in_emails_format:"Kz{{amount}}",symbol:"Kz",subunit_to_unit:100,decimal_mark:"."},{code:"ARS",money_format:"${{amount_with_comma_separator}}",money_in_emails_format:"${{amount_with_comma_separator}}",symbol:"$",subunit_to_unit:100,decimal_mark:","},{code:"AMD",money_format:"{{amount}} AMD",money_in_emails_format:"{{amount}} AMD",symbol:"դր.",subunit_to_unit:100,decimal_mark:"."},{code:"AWG",money_format:"Afl{{amount}}",money_in_emails_format:"Afl{{amount}}",symbol:"ƒ",subunit_to_unit:100,decimal_mark:"."},{code:"AUD",money_format:"${{amount}}",money_in_emails_format:"${{amount}}",symbol:"$",subunit_to_unit:100,decimal_mark:"."},{code:"BBD",money_format:"${{amount}}",money_in_emails_format:"${{amount}}",symbol:"$",subunit_to_unit:100,decimal_mark:"."},{code:"AZN",money_format:"m.{{amount}}",money_in_emails_format:"m.{{amount}}",symbol:"₼",subunit_to_unit:100,decimal_mark:"."},{code:"BDT",money_format:"Tk {{amount}}",money_in_emails_format:"Tk {{amount}}",symbol:"৳",subunit_to_unit:100,decimal_mark:"."},{code:"BSD",money_format:"BS${{amount}}",money_in_emails_format:"BS${{amount}}",symbol:"$",subunit_to_unit:100,decimal_mark:"."},{code:"BHD",money_format:"{{amount}}0 BD",money_in_emails_format:"{{amount}}0 BD",symbol:"ب.د",subunit_to_unit:1e3,decimal_mark:"."},{code:"BYR",money_format:"Br {{amount}}",money_in_emails_format:"Br {{amount}}",symbol:"Br",subunit_to_unit:1,decimal_mark:","},{code:"BZD",money_format:"BZ${{amount}}",money_in_emails_format:"BZ${{amount}}",symbol:"$",subunit_to_unit:100,decimal_mark:"."},{code:"BTN",money_format:"Nu {{amount}}",money_in_emails_format:"Nu {{amount}}",symbol:"Nu.",subunit_to_unit:100,decimal_mark:"."},{code:"BAM",money_format:"KM {{amount_with_comma_separator}}",money_in_emails_format:"KM {{amount_with_comma_separator}}",symbol:"КМ",subunit_to_unit:100,decimal_mark:"."},{code:"BRL",money_format:"R$ {{amount_with_comma_separator}}",money_in_emails_format:"R$ {{amount_with_comma_separator}}",symbol:"R$",subunit_to_unit:100,decimal_mark:","},{code:"BOB",money_format:"Bs{{amount_with_comma_separator}}",money_in_emails_format:"Bs{{amount_with_comma_separator}}",symbol:"Bs.",subunit_to_unit:100,decimal_mark:"."},{code:"BWP",money_format:"P{{amount}}",money_in_emails_format:"P{{amount}}",symbol:"P",subunit_to_unit:100,decimal_mark:"."},{code:"BND",money_format:"${{amount}}",money_in_emails_format:"${{amount}}",symbol:"$",subunit_to_unit:100,decimal_mark:"."},{code:"BGN",money_format:"{{amount}} лв",money_in_emails_format:"{{amount}} лв",symbol:"лв.",subunit_to_unit:100,decimal_mark:"."},{code:"MMK",money_format:"K{{amount}}",money_in_emails_format:"K{{amount}}",symbol:"K",subunit_to_unit:100,decimal_mark:"."},{code:"KHR",money_format:"KHR{{amount}}",money_in_emails_format:"KHR{{amount}}",symbol:"៛",subunit_to_unit:100,decimal_mark:"."},{code:"CVE",money_format:"{{amount_with_space_separator}}$",money_in_emails_format:"{{amount_with_space_separator}}$",symbol:"$",subunit_to_unit:100,decimal_mark:"."},{code:"KYD",money_format:"${{amount}}",money_in_emails_format:"${{amount}}",symbol:"$",subunit_to_unit:100,decimal_mark:"."},{code:"XAF",money_format:"FCFA{{amount}}",money_in_emails_format:"FCFA{{amount}}",symbol:"Fr",subunit_to_unit:1,decimal_mark:"."},{code:"CLP",money_format:"${{amount_no_decimals}}",money_in_emails_format:"${{amount_no_decimals}}",symbol:"$",subunit_to_unit:1,decimal_mark:","},{code:"CNY",money_format:"¥{{amount}}",money_in_emails_format:"¥{{amount}}",symbol:"¥",subunit_to_unit:100,decimal_mark:"."},{code:"COP",money_format:"${{amount_with_comma_separator}}",money_in_emails_format:"${{amount_with_comma_separator}}",symbol:"$",subunit_to_unit:100,decimal_mark:","},{code:"KMF",money_format:"{{amount_with_comma_separator}} CF",money_in_emails_format:"{{amount_with_comma_separator}} CF",symbol:"Fr",subunit_to_unit:1,decimal_mark:"."},{code:"CDF",money_format:"FC{{amount}}",money_in_emails_format:"FC{{amount}}",symbol:"Fr",subunit_to_unit:100,decimal_mark:"."},{code:"CRC",money_format:"₡ {{amount_with_comma_separator}}",money_in_emails_format:"₡ {{amount_with_comma_separator}}",symbol:"₡",subunit_to_unit:100,decimal_mark:","},{code:"HRK",money_format:"{{amount_with_comma_separator}} kn",money_in_emails_format:"{{amount_with_comma_separator}} kn",symbol:"kn",subunit_to_unit:100,decimal_mark:","},{code:"CZK",money_format:"{{amount_with_comma_separator}} Kč",money_in_emails_format:"{{amount_with_comma_separator}} Kč",symbol:"Kč",subunit_to_unit:100,decimal_mark:","},{code:"DKK",money_format:"{{amount_with_comma_separator}} kr",money_in_emails_format:"{{amount_with_comma_separator}} kr",symbol:"kr.",subunit_to_unit:100,decimal_mark:","},{code:"DOP",money_format:"RD$ {{amount}}",money_in_emails_format:"RD$ {{amount}}",symbol:"$",subunit_to_unit:100,decimal_mark:"."},{code:"XCD",money_format:"${{amount}}",money_in_emails_format:"${{amount}}",symbol:"$",subunit_to_unit:100,decimal_mark:"."},{code:"EGP",money_format:"LE {{amount}}",money_in_emails_format:"LE {{amount}}",symbol:"ج.م",subunit_to_unit:100,decimal_mark:"."},{code:"ETB",money_format:"Br{{amount}}",money_in_emails_format:"Br{{amount}}",symbol:"Br",subunit_to_unit:100,decimal_mark:"."},{code:"XPF",money_format:"{{amount_no_decimals_with_space_separator}} XPF",money_in_emails_format:"{{amount_no_decimals_with_space_separator}} XPF",symbol:"Fr",subunit_to_unit:1,decimal_mark:"."},{code:"FJD",money_format:"${{amount}}",money_in_emails_format:"${{amount}}",symbol:"$",subunit_to_unit:100,decimal_mark:"."},{code:"GMD",money_format:"D {{amount}}",money_in_emails_format:"D {{amount}}",symbol:"D",subunit_to_unit:100,decimal_mark:"."},{code:"GHS",money_format:"GH₵{{amount}}",money_in_emails_format:"GH₵{{amount}}",symbol:"₵",subunit_to_unit:100,decimal_mark:"."},{code:"GTQ",money_format:"Q{{amount}}",money_in_emails_format:"Q{{amount}}",symbol:"Q",subunit_to_unit:100,decimal_mark:"."},{code:"GYD",money_format:"G${{amount}}",money_in_emails_format:"G${{amount}}",symbol:"$",subunit_to_unit:100,decimal_mark:"."},{code:"GEL",money_format:"{{amount}} GEL",money_in_emails_format:"{{amount}} GEL",symbol:"ლ",subunit_to_unit:100,decimal_mark:"."},{code:"HTG",money_format:"G {{amount}}",money_in_emails_format:"G {{amount}}",symbol:"G",subunit_to_unit:100,decimal_mark:"."},{code:"HNL",money_format:"L {{amount}}",money_in_emails_format:"L {{amount}}",symbol:"L",subunit_to_unit:100,decimal_mark:"."},{code:"HKD",money_format:"${{amount}}",money_in_emails_format:"${{amount}}",symbol:"$",subunit_to_unit:100,decimal_mark:"."},{code:"HUF",money_format:"{{amount_no_decimals_with_comma_separator}}",money_in_emails_format:"{{amount_no_decimals_with_comma_separator}}",symbol:"Ft",subunit_to_unit:1,decimal_mark:","},{code:"ISK",money_format:"{{amount_no_decimals}} kr",money_in_emails_format:"{{amount_no_decimals}} kr",symbol:"kr",subunit_to_unit:1,decimal_mark:","},{code:"INR",money_format:"Rs. {{amount}}",money_in_emails_format:"Rs. {{amount}}",symbol:"₹",subunit_to_unit:100,decimal_mark:"."},{code:"IDR",money_format:"{{amount_with_comma_separator}}",money_in_emails_format:"{{amount_with_comma_separator}}",symbol:"Rp",subunit_to_unit:100,decimal_mark:","},{code:"ILS",money_format:"{{amount}} NIS",money_in_emails_format:"{{amount}} NIS",symbol:"₪",subunit_to_unit:100,decimal_mark:"."},{code:"JMD",money_format:"${{amount}}",money_in_emails_format:"${{amount}}",symbol:"$",subunit_to_unit:100,decimal_mark:"."},{code:"JPY",money_format:"¥{{amount_no_decimals}}",money_in_emails_format:"¥{{amount_no_decimals}}",symbol:"¥",subunit_to_unit:1,decimal_mark:"."},{code:"JEP",money_format:"£{{amount}}",money_in_emails_format:"£{{amount}}",symbol:"£",subunit_to_unit:100,decimal_mark:"."},{code:"JOD",money_format:"{{amount}}0 JD",money_in_emails_format:"{{amount}}0 JD",symbol:"د.ا",subunit_to_unit:1e3,decimal_mark:"."},{code:"KZT",money_format:"{{amount}} KZT",money_in_emails_format:"{{amount}} KZT",symbol:"〒",subunit_to_unit:100,decimal_mark:"."},{code:"KES",money_format:"KSh{{amount}}",money_in_emails_format:"KSh{{amount}}",symbol:"KSh",subunit_to_unit:100,decimal_mark:"."},{code:"KWD",money_format:"{{amount}}0 KD",money_in_emails_format:"{{amount}}0 KD",symbol:"د.ك",subunit_to_unit:1e3,decimal_mark:"."},{code:"KGS",money_format:"лв{{amount}}",money_in_emails_format:"лв{{amount}}",symbol:"som",subunit_to_unit:100,decimal_mark:"."},{code:"LAK",money_format:"₭{{amount}}",money_in_emails_format:"₭{{amount}}",symbol:"₭",subunit_to_unit:100,decimal_mark:"."},{code:"LVL",money_format:"Ls {{amount}}",money_in_emails_format:"Ls {{amount}}",symbol:"Ls",subunit_to_unit:100,decimal_mark:"."},{code:"LBP",money_format:"L£{{amount}}",money_in_emails_format:"L£{{amount}}",symbol:"ل.ل",subunit_to_unit:100,decimal_mark:"."},{code:"LSL",money_format:"M{{amount}}",money_in_emails_format:"M{{amount}}",symbol:"L",subunit_to_unit:100,decimal_mark:"."},{code:"LRD",money_format:"L${{amount}}",money_in_emails_format:"L${{amount}}",symbol:"$",subunit_to_unit:100,decimal_mark:"."},{code:"LTL",money_format:"{{amount}} Lt",money_in_emails_format:"{{amount}} Lt",symbol:"Lt",subunit_to_unit:100,decimal_mark:"."},{code:"MGA",money_format:"Ar {{amount}}",money_in_emails_format:"Ar {{amount}}",symbol:"Ar",subunit_to_unit:5,decimal_mark:"."},{code:"MKD",money_format:"ден {{amount}}",money_in_emails_format:"ден {{amount}}",symbol:"ден",subunit_to_unit:100,decimal_mark:"."},{code:"MOP",money_format:"MOP${{amount}}",money_in_emails_format:"MOP${{amount}}",symbol:"P",subunit_to_unit:100,decimal_mark:"."},{code:"MWK",money_format:"Mk{{amount}}",money_in_emails_format:"Mk{{amount}}",symbol:"MK",subunit_to_unit:100,decimal_mark:"."},{code:"MVR",money_format:"Rf{{amount}}",money_in_emails_format:"Rf{{amount}}",symbol:"MVR",subunit_to_unit:100,decimal_mark:"."},{code:"MXN",money_format:"$ {{amount}}",money_in_emails_format:"$ {{amount}}",symbol:"$",subunit_to_unit:100,decimal_mark:"."},{code:"MYR",money_format:"RM{{amount}} MYR",money_in_emails_format:"RM{{amount}} MYR",symbol:"RM",subunit_to_unit:100,decimal_mark:"."},{code:"MUR",money_format:"Rs {{amount}}",money_in_emails_format:"Rs {{amount}}",symbol:"₨",subunit_to_unit:100,decimal_mark:"."},{code:"MDL",money_format:"{{amount}} MDL",money_in_emails_format:"{{amount}} MDL",symbol:"L",subunit_to_unit:100,decimal_mark:"."},{code:"MAD",money_format:"{{amount}} dh",money_in_emails_format:"{{amount}} dh",symbol:"د.م.",subunit_to_unit:100,decimal_mark:"."},{code:"MNT",money_format:"{{amount_no_decimals}} ₮",money_in_emails_format:"{{amount_no_decimals}} ₮",symbol:"₮",subunit_to_unit:100,decimal_mark:"."},{code:"MZN",money_format:"{{amount}} Mt",money_in_emails_format:"{{amount}} Mt",symbol:"MTn",subunit_to_unit:100,decimal_mark:","},{code:"NAD",money_format:"N${{amount}}",money_in_emails_format:"N${{amount}}",symbol:"$",subunit_to_unit:100,decimal_mark:"."},{code:"NPR",money_format:"Rs{{amount}}",money_in_emails_format:"Rs{{amount}}",symbol:"₨",subunit_to_unit:100,decimal_mark:"."},{code:"ANG",money_format:"ƒ;{{amount}}",money_in_emails_format:"ƒ{{amount}}",symbol:"ƒ",subunit_to_unit:100,decimal_mark:","},{code:"NZD",money_format:"${{amount}}",money_in_emails_format:"${{amount}}",symbol:"$",subunit_to_unit:100,decimal_mark:"."},{code:"NIO",money_format:"C${{amount}}",money_in_emails_format:"C${{amount}}",symbol:"C$",subunit_to_unit:100,decimal_mark:"."},{code:"NGN",money_format:"₦{{amount}}",money_in_emails_format:"₦{{amount}}",symbol:"₦",subunit_to_unit:100,decimal_mark:"."},{code:"NOK",money_format:"{{amount_with_comma_separator}} kr",money_in_emails_format:"{{amount_with_comma_separator}} kr",symbol:"kr",subunit_to_unit:100,decimal_mark:","},{code:"OMR",money_format:"{{amount_with_comma_separator}}0 OMR",money_in_emails_format:"{{amount_with_comma_separator}}0 OMR",symbol:"ر.ع.",subunit_to_unit:1e3,decimal_mark:"."},{code:"PKR",money_format:"Rs.{{amount}}",money_in_emails_format:"Rs.{{amount}}",symbol:"₨",subunit_to_unit:100,decimal_mark:"."},{code:"PGK",money_format:"K {{amount}}",money_in_emails_format:"K {{amount}}",symbol:"K",subunit_to_unit:100,decimal_mark:"."},{code:"PYG",money_format:"Gs. {{amount_no_decimals_with_comma_separator}}",money_in_emails_format:"Gs. {{amount_no_decimals_with_comma_separator}}",symbol:"₲",subunit_to_unit:1,decimal_mark:"."},{code:"PEN",money_format:"S/. {{amount}}",money_in_emails_format:"S/. {{amount}}",symbol:"S/.",subunit_to_unit:100,decimal_mark:"."},{code:"PHP",money_format:"₱{{amount}}",money_in_emails_format:"₱{{amount}}",symbol:"₱",subunit_to_unit:100,decimal_mark:"."},{code:"PLN",money_format:"{{amount_with_comma_separator}} zl",money_in_emails_format:"{{amount_with_comma_separator}} zl",symbol:"zł",subunit_to_unit:100,decimal_mark:","},{code:"QAR",money_format:"QAR {{amount_with_comma_separator}}",money_in_emails_format:"QAR {{amount_with_comma_separator}}",symbol:"ر.ق",subunit_to_unit:100,decimal_mark:"."},{code:"RON",money_format:"{{amount_with_comma_separator}} lei",money_in_emails_format:"{{amount_with_comma_separator}} lei",symbol:"Lei",subunit_to_unit:100,decimal_mark:","},{code:"RUB",money_format:"руб{{amount_with_comma_separator}}",money_in_emails_format:"руб{{amount_with_comma_separator}}",symbol:"₽",subunit_to_unit:100,decimal_mark:","},{code:"RWF",money_format:"{{amount_no_decimals}} RF",money_in_emails_format:"{{amount_no_decimals}} RF",symbol:"FRw",subunit_to_unit:1,decimal_mark:"."},{code:"WST",money_format:"WS$ {{amount}}",money_in_emails_format:"WS$ {{amount}}",symbol:"T",subunit_to_unit:100,decimal_mark:"."},{code:"SAR",money_format:"{{amount}} SR",money_in_emails_format:"{{amount}} SR",symbol:"ر.س",subunit_to_unit:100,decimal_mark:"."},{code:"STD",money_format:"Db {{amount}}",money_in_emails_format:"Db {{amount}}",symbol:"Db",subunit_to_unit:100,decimal_mark:"."},{code:"RSD",money_format:"{{amount}} RSD",money_in_emails_format:"{{amount}} RSD",symbol:"РСД",subunit_to_unit:100,decimal_mark:"."},{code:"SCR",money_format:"Rs {{amount}}",money_in_emails_format:"Rs {{amount}}",symbol:"₨",subunit_to_unit:100,decimal_mark:"."},{code:"SGD",money_format:"${{amount}}",money_in_emails_format:"${{amount}}",symbol:"$",subunit_to_unit:100,decimal_mark:"."},{code:"SDG",money_format:"{{amount}} SD",money_in_emails_format:"{{amount}} SD",symbol:"£",subunit_to_unit:100,decimal_mark:"."},{code:"SYP",money_format:"S£{{amount}}",money_in_emails_format:"S£{{amount}}",symbol:"£S",subunit_to_unit:100,decimal_mark:"."},{code:"ZAR",money_format:"R {{amount}}",money_in_emails_format:"R {{amount}}",symbol:"R",subunit_to_unit:100,decimal_mark:"."},{code:"KRW",money_format:"₩{{amount_no_decimals}}",money_in_emails_format:"₩{{amount_no_decimals}}",symbol:"₩",subunit_to_unit:1,decimal_mark:"."},{code:"SSP",money_format:"{{amount}} SSP",money_in_emails_format:"{{amount}} SSP",symbol:"£",subunit_to_unit:100,decimal_mark:"."},{code:"SBD",money_format:"${{amount}}",money_in_emails_format:"${{amount}}",symbol:"$",subunit_to_unit:100,decimal_mark:"."},{code:"LKR",money_format:"Rs {{amount}}",money_in_emails_format:"Rs {{amount}}",symbol:"₨",subunit_to_unit:100,decimal_mark:"."},{code:"SRD",money_format:"SRD {{amount_with_comma_separator}}",money_in_emails_format:"SRD {{amount_with_comma_separator}}",symbol:"$",subunit_to_unit:100,decimal_mark:"."},{code:"SZL",money_format:"L {{amount}}",money_in_emails_format:"L {{amount}}",symbol:"E",subunit_to_unit:100,decimal_mark:"."},{code:"SEK",money_format:"{{amount_no_decimals}} kr",money_in_emails_format:"{{amount_no_decimals}} kr",symbol:"kr",subunit_to_unit:100,decimal_mark:","},{code:"CHF",money_format:"SFr. {{amount}}",money_in_emails_format:"SFr. {{amount}}",symbol:"CHF",subunit_to_unit:100,decimal_mark:"."},{code:"TWD",money_format:"${{amount}}",money_in_emails_format:"${{amount}}",symbol:"$",subunit_to_unit:100,decimal_mark:"."},{code:"THB",money_format:"{{amount}} ฿",money_in_emails_format:"{{amount}} ฿",symbol:"฿",subunit_to_unit:100,decimal_mark:"."},{code:"TZS",money_format:"{{amount}} TZS",money_in_emails_format:"{{amount}} TZS",symbol:"Sh",subunit_to_unit:100,decimal_mark:"."},{code:"TTD",money_format:"${{amount}}",money_in_emails_format:"${{amount}}",symbol:"$",subunit_to_unit:100,decimal_mark:"."},{code:"TND",money_format:"{{amount}}0",money_in_emails_format:"{{amount}}0",symbol:"د.ت",subunit_to_unit:1e3,decimal_mark:"."},{code:"TRY",money_format:"{{amount}}TL",money_in_emails_format:"{{amount}}TL",symbol:"₺",subunit_to_unit:100,decimal_mark:","},{code:"TMT",money_format:"{{amount}}T",money_in_emails_format:"{{amount}}T",symbol:"T",subunit_to_unit:100,decimal_mark:"."},{code:"UGX",money_format:"Ush {{amount_no_decimals}}",money_in_emails_format:"Ush {{amount_no_decimals}}",symbol:"USh",subunit_to_unit:1,decimal_mark:"."},{code:"UAH",money_format:"₴{{amount}}",money_in_emails_format:"₴{{amount}}",symbol:"₴",subunit_to_unit:100,decimal_mark:"."},{code:"AED",money_format:"Dhs. {{amount}}",money_in_emails_format:"Dhs. {{amount}}",symbol:"د.إ",subunit_to_unit:100,decimal_mark:"."},{code:"UYU",money_format:"${{amount_with_comma_separator}}",money_in_emails_format:"${{amount_with_comma_separator}}",symbol:"$",subunit_to_unit:100,decimal_mark:","},{code:"UZS",money_format:"{{amount_no_decimals_with_space_separator}} som",money_in_emails_format:"{{amount_no_decimals_with_space_separator}} som",symbol:"",subunit_to_unit:100,decimal_mark:"."},{code:"VUV",money_format:"${{amount}}",money_in_emails_format:"${{amount}}",symbol:"Vt",subunit_to_unit:1,decimal_mark:"."},{code:"VEF",money_format:"Bs. {{amount_with_comma_separator}}",money_in_emails_format:"Bs. {{amount_with_comma_separator}}",symbol:"Bs.F.",subunit_to_unit:100,decimal_mark:","},{code:"VND",money_format:"{{amount_no_decimals}}₫",money_in_emails_format:"{{amount_no_decimals}}₫",symbol:"₫",subunit_to_unit:1,decimal_mark:"."},{code:"XOF",money_format:"CFA{{amount}}",money_in_emails_format:"CFA{{amount}}",symbol:"Fr",subunit_to_unit:1,decimal_mark:"."},{code:"YER",money_format:"{{amount_with_comma_separator}} YER",money_in_emails_format:"{{amount_with_comma_separator}} YER",symbol:"﷼",subunit_to_unit:100,decimal_mark:"."},{code:"ZMW",money_format:"K{{amount_no_decimals_with_comma_separator}}",money_in_emails_format:"K{{amount_no_decimals_with_comma_separator}}",symbol:"ZK",subunit_to_unit:100,decimal_mark:"."}];Juzaweb.CurrencyDB=null!=t.default?t.default:t}),d=window.Page,h=(i(function(){"use strict";function e(e){return{$label:i.default("label[for='"+e.attr("id")+"']"),$parent:e.parent("."+n.STYLIZED)}}function t(t){var n=i.default(t);e(n).$parent.toggleClass(r.INPUT.CONTENT,Boolean(n.val()))}var i=function(e){return e&&e.__esModule?e:{default:e}}($),n={STYLIZED:"next-input--stylized",INPUT:"next-input",LABEL:"next-label",TEXT_AREA:"ui-text-area"},r={LABEL:{FOCUSED:n.LABEL+"--is-focused"},INPUT:{FOCUSED:n.INPUT+"--is-focused",CONTENT:n.INPUT+"--has-content"}},s=i.default(document);s.on("focus blur","."+n.INPUT,function(t){var n=e(i.default(t.target)),s=n.$label,o=n.$parent,a="focusin"===t.type;s.toggleClass(r.LABEL.FOCUSED,a),o.toggleClass(r.INPUT.FOCUSED,a)}),s.on("input","."+n.INPUT,function(e){return t(e.target)}),s.on("ready page:load",function(){i.default("."+n.INPUT).toArray().forEach(function(e){t(e)})}),function(){var e=["text","tel","search","url","password","textarea"];s.on("click","."+n.STYLIZED,function(t){if(![n.INPUT,n.TEXT_AREA].some(function(e){return null!=t.target.classList&&t.target.classList.contains(e)})){var r=i.default(t.target).closest("."+n.STYLIZED).find("."+n.INPUT+", ."+n.TEXT_AREA)[0];r.focus(),e.includes(r.type)&&(r.selectionStart=r.value.length)}})}(),s.on("focus",".tagit-new .ui-widget-content",function(e){return i.default(e.target).closest("."+n.LABEL).addClass(r.LABEL.FOCUSED)}),s.on("blur",".tagit-new .ui-widget-content",function(e){return i.default(e.target).closest("."+n.LABEL).removeClass(r.LABEL.FOCUSED)})}),i(function(){"use strict";function e(e){var n=t(e);i.default(n).toggleClass("next-input--has-content",Boolean(e.value))}function t(e){return e.parentNode.classList.contains("ui-select__wrapper")?e.parentNode:null}var i=function(e){return e&&e.__esModule?e:{default:e}}($),n=".ui-select",r=i.default(document);r.on("focus blur",n,function(e){var n=function(e){return document.querySelector("label[for='"+e.id+"']")}(e.target),r=t(e.target),s="focusin"===e.type;i.default(n).toggleClass("next-label--is-focused",s),i.default(r).toggleClass("next-input--is-focused",s)}),r.on("input",n,function(t){e(t.target)}),r.on("ready page:load",function(){var t=document.querySelectorAll(n);[].concat(function(e){if(Array.isArray(e)){for(var t=0,i=Array(e.length);t<e.length;t++)i[t]=e[t];return i}return Array.from(e)}(t)).forEach(function(t){e(t)})})}),i(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ALT=18,t.BACKSPACE=8,t.COMMA=188,t.COMMAND=91,t.CONTROL=17,t.DELETE=46,t.DOWN=40,t.D_LOWER_CASE=68,t.END=35,t.ENTER=13,t.ESCAPE=27,t.HOME=36,t.LEFT=37,t.NUMPAD_ADD=107,t.NUMPAD_DECIMAL=110,t.NUMPAD_DIVIDE=111,t.NUMPAD_ENTER=108,t.NUMPAD_MULTIPLY=106,t.NUMPAD_SUBTRACT=109,t.PAGE_DOWN=34,t.PAGE_UP=33,t.PERIOD=190,t.RIGHT=39,t.SHIFT=16,t.SPACE=32,t.TAB=9,t.UP=38,t.S=83,t.Y=89,t.Z=90,Juzaweb.Keycodes=null!=t.default?t.default:t})),p=(i(function(){"use strict";var e=n($);e.default(document).on("focus blur",".ui-text-area",function(t){var i=function(e){return document.querySelector("label[for='"+e.id+"']")}(t.target),n="focusin"===t.type;e.default(i).toggleClass("next-label--is-focused",n)})}),i(function(e,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e){return Array.isArray(e)?e:[e]}function r(e,t){var i=void 0;return"object"===(void 0===e?"undefined":s(e))?i=e:(i={})[e]=t,i}Object.defineProperty(t,"__esModule",{value:!0});var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){function e(e,t){for(var i,n=0;n<t.length;n++)(i=t[n]).enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=function(){function e(t,n){i(this,e),this.remove=this.remove.bind(this),this.dispatcher=t,this.callbackObject=n}return o(e,[{key:"remove",value:function(){this.dispatcher.remove(this.callbackObject)}},{key:"bindToNode",value:function(e){var t=this;document.addEventListener("page:before-partial-replace",function(i){n(i.data).forEach(function(i){i.contains(e)&&t.remove()})}),document.addEventListener("page:before-replace",this.remove)}}]),e}(),l=function(){function e(){i(this,e),this.listeners={},this.register=this.register.bind(this)}return o(e,[{key:"register",value:function(e,t){var i=this,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=r(e,t);return Object.keys(o).forEach(function(e){return null==i.listeners[e]&&(i.listeners[e]=[]),n(o[e]).forEach(function(t){t.scope=s.scope,i.listeners[e].push(t)})}),new a(this,o)}},{key:"dispatch",value:function(e){null!=this.listeners[e.type]&&this.listeners[e.type].forEach(function(t){e.scope===t.scope&&t(e)})}},{key:"remove",value:function(e,t){var i=this,s=r(e,t);Object.keys(s).forEach(function(e){var t=n(s[e]);i.listeners[e]=i.listeners[e].filter(function(e){return!t.includes(e)})})}}]),e}();t.default=l,Juzaweb.Dispatcher=null!=t.default?t.default:t})),f=i(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(p),n=window.Juzaweb&&window.Juzaweb.rootDispatcher?window.Juzaweb.rootDispatcher:new i.default;t.default=n,Juzaweb.rootDispatcher=null!=t.default?t.default:t}),m=i(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.transitionEnd=function(){var e,t,r;if(n)return n;var s=document.createElement("div"),o=!0,a=!1,l=void 0;try{for(t=Object.keys(i)[Symbol.iterator]();!(o=(e=t.next()).done);o=!0)if(r=e.value,void 0!==s.style[r]){n=i[r];break}}catch(s){a=!0,l=s}finally{try{!o&&t.return&&t.return()}finally{if(a)throw l}}return n};var i={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"},n=void 0;Juzaweb.Events=null!=t.default?t.default:t}),g=i(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.findClosestParent=function e(t,i){if("function"!=typeof i)throw new TypeError("Expected callback to be a function");if(null==t||t===document.body)return null;var n=t.correspondingUseElement||t.correspondingElement||t;return i(n)?n:e(n.parentElement,i)},t.ready=function(e){if("function"!=typeof e)throw new TypeError("Expected a function");["DOMContentLoaded","page:load"].forEach(function(t){return document.addEventListener(t,e)}),["ui-modal:show-remote"].forEach(function(t){return i.default.register(t,e)})},t.dispatchEvent=function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=i.bubbles,r=void 0!==n&&n,s=i.cancelable,o=void 0!==s&&s,a=document.createEvent("HTMLEvents");a.initEvent(t,r,o),a.data=i.data,e.dispatchEvent(a)},t.removeChildren=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.firstChild;)e.removeChild(e.firstChild)},t.createOption=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=document.createElement("option");return t.label=e.label||"",t.text=e.label||"",t.value=e.value||"",t.defaultSelected=Boolean(e.defaultSelected),t.disabled=Boolean(e.disabled),t},t.getScrollbarWidth=function(){var e,t=document.body,i=document.createElement("div");return i.style.position="absolute",i.style.top=i.style.left="-9999px",i.style.width=i.style.height="100px",i.style.overflow="scroll",t.appendChild(i),e=i.offsetWidth-i.clientWidth,t.removeChild(i),e},t.handleDetachedNode=function(e,t){document.body.contains(e)||t()},t.addEventListener=function(e,t,i){var n=(arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}).once,r=void 0!==n&&n;(Array.isArray(t)?t:t.split(/[ ,]+/)).forEach(function(t){e.addEventListener(t,r?function n(r){i.call(r.currentTarget,r),e.removeEventListener(t,n)}:i)})},t.prefersReducedMotion=function(){return window.matchMedia("(prefers-reduced-motion: reduce)").matches},t.forceReflow=function(e){e.offsetHeight,e.offsetWidth};var i=function(e){return e&&e.__esModule?e:{default:e}}(f);document.addEventListener("touchstart",function(){})}),v=i(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){e.addEventListener(i.transitionEnd(),function e(n){var r=n.target;r.classList.remove(t),r.removeEventListener(i.transitionEnd(),e)}),e.classList.add(t),g.forceReflow(e)};var i=function(e){var t,i;if(e&&e.__esModule)return e;if(t={},null!=e)for(i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}(m)}),y=i(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DESKTOP=window.matchMedia("screen and (min-width: 769px)"),t.MOBILE=window.matchMedia("screen and (max-width: 665px)"),t.SMALL=window.matchMedia("screen and (max-width: 568px)"),t.UI_LAYOUT_SINGLE_COLUMN=window.matchMedia("(max-width: 700px), (min-width: 768px) and (max-width: 940px)"),t.PAGE_CONDENSED=window.matchMedia("(max-width: 550px), (min-width: 768px) and (max-width: 790px)"),Juzaweb.Breakpoints=null!=t.default?t.default:t}),b=i(function(e,t){"use strict";function i(){null!=r&&(r.removeAttribute("tabindex"),document.removeEventListener("focusin",n),r=null)}function n(e){r===e.target||r.contains(e.target)||r.focus()}Object.defineProperty(t,"__esModule",{value:!0}),t.activate=function(e){e!==r&&(null!=r&&i(),(r=e).setAttribute("tabindex","-1"),r.focus(),document.addEventListener("focusin",n))},t.deactivate=i;var r=void 0}),w=i(function(e,t){"use strict";function i(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=i.leading,r=void 0!==n&&n,s=i.trailing,o=void 0===s||s,a=i.maxWait,l=void 0===a?0:a,u=l>0,c=0,d=!1,h=null,p=null;if("function"!=typeof e)throw new TypeError("Expected a function");return function(){function i(){d=!0,h=null}for(var n,s=this,a=arguments.length,f=Array(a),m=0;m<a;m++)f[m]=arguments[m];n=function(){e.apply(s,f)},u&&(h||(i(),h=setTimeout(function(){d=!1},l)),d||(n(),i())),c++,r&&!p&&n(),clearTimeout(p),p=setTimeout(function(){o&&(c>1||!r)&&n(),p=null,c=0,i()},t)}}Object.defineProperty(t,"__esModule",{value:!0}),t.debounce=i,t.throttle=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.leading,s=void 0===r||r,o=n.trailing,a=void 0===o||o;if("function"!=typeof e)throw new TypeError("Expected a function");return i(e,t,{leading:s,trailing:a,maxWait:t})},Juzaweb.Utilities=null!=t.default?t.default:t}),T=i(function(e,t){"use strict";function i(e){var t,i;if(e&&e.__esModule)return e;if(t={},null!=e)for(i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}function n(e){return e&&e.__esModule?e:{default:e}}function r(){var e=document.querySelector("."+A.BASE);D=window.pageYOffset,document.body.classList.add(A.SCROLL_LOCK),e.scrollTop=D}function s(){document.body.classList.remove(A.SCROLL_LOCK),window.scroll(0,D)}function o(){O.close(),g.dispatchEvent(O.node,$.transitionEnd())}function a(e){null!=g.findClosestParent(e.target,function(e){return null!=e.classList&&e.classList.contains(A.OPENER)})&&O.open()}function l(e){e.preventDefault(),O.close()}function u(e){e.keyCode===C.ESCAPE&&O.isOpen&&O.close()}function c(e){if(e.keyCode===C.ENTER&&null!=g.findClosestParent(e.target,function(e){return null!=e.classList&&e.classList.contains(A.SKIP_TO_CONTENT)})){var t=document.querySelector("."+A.MAIN);t.addEventListener("blur",d),t.setAttribute("tabindex",-1)}}function d(e){var t=e.target;t.removeAttribute("tabindex"),t.removeEventListener("blur",d)}function p(){document.addEventListener("click",a),document.addEventListener("keyup",u),document.addEventListener("keydown",c)}Object.defineProperty(t,"__esModule",{value:!0}),t.Header=t.Aside=t.Events=t.Classes=void 0,t.lockScroll=r,t.unlockScroll=s,t.turboBarOffset=function(){return null!=document.querySelector("."+A.STATES.WITH_TURBO_BAR)?I:0},t.addEvents=p;var _=n(f),T=n(v),C=i(h),S=i(y),k=i(b),$=i(m),A=t.Classes={BASE:"ui-app-frame",ASIDE:"ui-app-frame__aside",CLOSER:"ui-app-frame__aside-closer",OPENER:"ui-app-frame__aside-opener",BACKDROP:"ui-app-frame__backdrop",MAIN:"ui-app-frame__main",SCROLL_LOCK:"ui-app-frame--scroll-lock",SKIP_TO_CONTENT:"ui-app-frame__skip-to-content",HEADER:"ui-app-frame__header",STATES:{OPEN:"ui-app-frame__aside--is-open",TRANSITIONING:"ui-app-frame__aside--is-transitioning",BACKDROP:{VISIBLE:"ui-app-frame__backdrop--is-visible"},WITH_TURBO_BAR:"ui-app-frame--with-turbo-bar"}},x=t.Events={BEFORE_OPEN:"app-frame-aside:open:before",OPEN:"app-frame-aside:open",BEFORE_CLOSE:"app-frame-aside:close:before",CLOSE:"app-frame-aside:close"},E={isOpen:!1},I=32,D=0,O=t.Aside={init:function(e){this.node=e,this.closer=this.node.querySelector("."+A.CLOSER),this.opener=document.querySelector("."+A.OPENER),this.backdrop=document.querySelector("."+A.BACKDROP),this.open=this.open.bind(this),this.close=this.close.bind(this),o()},get isOpen(){return E.isOpen},set isOpen(e){if("boolean"!=typeof e)throw new TypeError("Expected a boolean");e!==E.isOpen&&(e?this.open():this.close())},open:function(){this.isOpen||S.DESKTOP.matches||(_.default.dispatch({type:x.BEFORE_OPEN,data:this}),O.backdrop.addEventListener("touchstart",l),O.backdrop.addEventListener("click",O.close),O.closer.addEventListener("click",O.close),window.addEventListener("resize",N),r(),this.backdrop.classList.add(A.STATES.BACKDROP.VISIBLE),T.default(this.node,A.STATES.TRANSITIONING),this.node.classList.add(A.STATES.OPEN),E.isOpen=!0,k.activate(this.node),_.default.dispatch({type:x.OPEN,data:this}))},close:function(){this.isOpen&&(_.default.dispatch({type:x.BEFORE_CLOSE,data:this}),O.backdrop.removeEventListener("touchstart",l),O.backdrop.removeEventListener("click",O.close),O.closer.removeEventListener("click",O.close),window.removeEventListener("resize",N),s(),this.backdrop.classList.remove(A.STATES.BACKDROP.VISIBLE),T.default(this.node,A.STATES.TRANSITIONING),this.node.classList.remove(A.STATES.OPEN),E.isOpen=!1,k.deactivate(),this.opener.firstElementChild.focus(),_.default.dispatch({type:x.CLOSE,data:this}))},toggle:function(){this.isOpen?this.close():this.open()}},P=t.Header={init:function(e){this.node=e},get height(){return null==this.node?0:this.node.getBoundingClientRect().height}},N=w.debounce(function(){S.DESKTOP.matches&&o()},50);g.ready(function(){var e=document.querySelector("."+A.ASIDE),t=document.querySelector("."+A.HEADER);null!=e&&O.init(e),null!=t&&P.init(t)}),p(),Juzaweb.AppFrame=null!=t.default?t.default:t}),C=(i(function(e,t){"use strict";function i(e){if(Array.isArray(e)){for(var t=0,i=Array(e.length);t<e.length;t++)i[t]=e[t];return i}return Array.from(e)}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e){return _[e.id]}function s(e){return b[e.getAttribute(d.Button.TARGET)]}var o,a,l;Object.defineProperty(t,"__esModule",{value:!0}),t.CollapsibleWrapper=void 0;var u=function(){function e(e,t){for(var i,n=0;n<t.length;n++)(i=t[n]).enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),c=function(e){return e&&e.__esModule?e:{default:e}}(f),d={TYPE:"data-collapsible",STATE:"data-collapsible-state",MAX_WIDTH:"data-collapsible-maxwidth",HIDDEN:"aria-hidden",CONTAINER:"data-collapsible-text-container-selector",Button:{TARGET:"data-collapsible-target",EXPANDED:"aria-expanded",CONTROLS:"aria-controls",Text:{EXPANDED:"data-collapsible-text--expanded",COLLAPSED:"data-collapsible-text--collapsed"}}},h={BASE:"ui-collapsible",ACTIVATOR:"ui-collapsible__activator",PANEL:"ui-collapsible__panel",TRANSITION:"ui-collapsible--has-transition",HIDE_ACTIVATOR:"ui-collapsible__activator--hide",Button:{TEXT:"btn__text",ICON:"icon"}},p="collapsible:collapsed",m="collapsible:expanded",v="collapsible:collapsed:after",y="collapsible:expanded:after",_={},b={},T=function(){function e(t,i){n(this,e),this._clickToToggle=this._clickToToggle.bind(this),this.node=t,this.collapsible=i,this.target=this.collapsible.node,this.collapsed="false"===this.node.getAttribute(d.Button.EXPANDED),this.ready=!0;var r=this.node.querySelector("["+d.Button.Text.EXPANDED+"]["+d.Button.Text.COLLAPSED+"]");null!=r&&(this.text={node:r,expanded:r?r.getAttribute(d.Button.Text.EXPANDED):null,collapsed:r?r.getAttribute(d.Button.Text.COLLAPSED):null}),this.node.addEventListener("click",this._clickToToggle)}return u(e,[{key:"toggle",value:function(){return this.collapsed?this.expand():this.collapse()}},{key:"expand",value:function(){return this.collapsed?(this.ready=!1,this.collapsed=!1,this.node.setAttribute(d.Button.EXPANDED,"true"),this._toggleText(),this):this}},{key:"collapse",value:function(){return this.collapsed?this:(this.ready=!1,this.collapsed=!0,this.node.setAttribute(d.Button.EXPANDED,"false"),this._toggleText(),this)}},{key:"remove",value:function(){this.node.removeEventListener("click",this._clickToToggle),b[this.node.getAttribute(d.Button.TARGET)]=null,this.node.parentNode.removeChild(this.node)}},{key:"hide",value:function(){this.node.classList.add(h.HIDE_ACTIVATOR)}},{key:"show",value:function(){this.node.classList.remove(h.HIDE_ACTIVATOR)}},{key:"_toggleText",value:function(){return null!=this.text&&(this.text.node.innerHTML=this.collapsed?this.text.collapsed:this.text.expanded),this}},{key:"_clickToToggle",value:function(e){this.ready&&(e.preventDefault(),document.body.contains(this.target)&&this.collapsible.toggle())}}]),e}();T.getCollapsibleRefForNode=r,T.getActivatorForNode=s,T._collapsibleRefs=_,T._activatorRefs=b,(o=function(){function e(t){if(n(this,e),this._getHeight=this._getHeight.bind(this),this._finishTransition=this._finishTransition.bind(this),this.node=t,this.id=this.node.id,this.id){this.collapsed="collapsed"===this.node.getAttribute(d.STATE);var i=this.node.getAttribute(d.MAX_WIDTH);i&&(this.maxwidth=parseInt(i,10)),this.activator=null,this._pairActivator(),this._toggleAtWidth(),this._trackWidthResize()}}return u(e,[{key:"toggle",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.collapsed?this.expand(e):this.collapse(e)}},{key:"expand",value:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.collapsed?(this.activator&&this.activator.expand(),t&&!g.prefersReducedMotion()?(this.node.addEventListener("transitionend",this._finishTransition),this.node.classList.add(h.TRANSITION),this.node.style.height=this._getHeight(),g.forceReflow(this.node),window.requestAnimationFrame(function(){e.collapsed=!1,e.node.setAttribute(d.STATE,"expanded"),e.node.setAttribute(d.HIDDEN,"false"),c.default.dispatch(e._generateTransitionEvent(m))})):(this.collapsed=!1,this.node.setAttribute(d.STATE,"expanded"),this.node.setAttribute(d.HIDDEN,"false"),this.activator.ready=!0,c.default.dispatch(this._generateTransitionEvent(m))),this):this}},{key:"collapse",value:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.collapsed?this:(this.activator&&this.activator.collapse(),t&&!g.prefersReducedMotion()?(this.node.addEventListener("transitionend",this._finishTransition),this.node.classList.add(h.TRANSITION),this.node.style.height=this._getHeight(),g.forceReflow(this.node),window.requestAnimationFrame(function(){e.collapsed=!0,e.node.setAttribute(d.STATE,"collapsed"),e.node.setAttribute(d.HIDDEN,"true"),c.default.dispatch(e._generateTransitionEvent(p))})):(this.collapsed=!0,this.node.setAttribute(d.STATE,"collapsed"),this.node.setAttribute(d.HIDDEN,"true"),this.activator.ready=!0,c.default.dispatch(this._generateTransitionEvent(p))),this)}},{key:"remove",value:function(){this.activator&&this.activator.remove(),_[this.id]=null,this.node.parentNode.removeChild(this.node)}},{key:"_getHeight",value:function(){var e=this.node.scrollHeight;return e+=parseInt(window.getComputedStyle(this.node).getPropertyValue("margin-bottom"),10),(e+=parseInt(window.getComputedStyle(this.node).getPropertyValue("margin-top"),10))+"px"}},{key:"_finishTransition",value:function(e){e.target===this.node&&"height"===e.propertyName&&(this.node.removeEventListener("transitionend",this._finishTransition),this.node.classList.remove(h.TRANSITION),this.node.style.height=null,g.forceReflow(this.node),this.activator.ready=!0,c.default.dispatch(this._generateTransitionEvent(this.collapsed?v:y)))}},{key:"_generateTransitionEvent",value:function(e){return{type:e,data:{collapsibleInstance:this}}}},{key:"_pairActivator",value:function(){var e=document.querySelector("["+d.Button.TARGET+"='"+this.id+"']");e&&(b[this.id]=new T(e,this),this.activator=b[this.id])}},{key:"_toggleAtWidth",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.maxwidth&&(this.node.offsetWidth>=this.maxwidth?(this.collapsed&&this.expand(e),this.activator&&this.activator.hide()):this.activator&&this.activator.show()),this}},{key:"_trackWidthResize",value:function(){var e=this;this.maxwidth&&window.addEventListener("resize",w.debounce(function(){window.requestAnimationFrame(function(){e._toggleAtWidth()})},50))}}]),e}()).DISPATCHER_COLLAPSED_ACTION=p,o.DISPATCHER_EXPANDED_ACTION=m,o.DISPATCHER_COLLAPSED_ACTION_AFTER=v,o.DISPATCHER_EXPANDED_ACTION_AFTER=y,o.getCollapsibleRefForNode=r,o.getActivatorForNode=s,o._collapsibleRefs=_,o._activatorRefs=b,t.default=o,a=1,l=t.CollapsibleWrapper=function(){function e(t){var i;n(this,e),t.__collapsibleInstance=this;var r=t.querySelector("."+h.ACTIVATOR).firstElementChild,s=t.querySelector("."+h.PANEL),o=s.getAttribute(d.STATE),l=t.getAttribute(d.CONTAINER),u=t.getAttribute(d.Button.Text.EXPANDED),c=t.getAttribute(d.Button.Text.COLLAPSED);s.id=s.id||"Collapsible"+a++,s.setAttribute(d.HIDDEN,"collapsed"===o),u&&c&&l&&((i=t.querySelector(l)).setAttribute(d.Button.Text.EXPANDED,u),i.setAttribute(d.Button.Text.COLLAPSED,c)),r.setAttribute(d.Button.TARGET,s.id),r.setAttribute(d.Button.CONTROLS,s.id),r.setAttribute(d.Button.EXPANDED,"expanded"===o)}return u(e,null,[{key:"forElement",value:function(t){return t.__collapsibleInstance||new e(t)}},{key:"initialize",value:function(){var t=document.querySelectorAll("."+h.BASE);return[].concat(i(t)).map(e.forElement)}}]),e}(),g.ready(function(){l.initialize();var e=document.querySelectorAll("["+d.TYPE+"]");[].concat(i(e)).forEach(function(e){var t=e.id;t&&(_[t]=new o(e))})})}),i(function(e,t){"use strict";function i(){d.CONTEXT_BAR=document.querySelector("."+l.CONTEXT_BAR),d.MESSAGES=document.querySelector("."+l.CONTEXT_BAR_MESSAGE),d.PRIMARY=document.querySelector("."+l.CONTEXT_BAR_PRIMARY_ACTION),d.CANCEL=document.querySelector("."+l.CONTEXT_BAR_CANCEL_ACTION),function(){var e=document.querySelector("form["+u.CONTEXT_CREATE_NAME+"]");if(h={create:!1,name:"Chỉnh sửa",cancelPath:"/"},e){var t=e.getAttribute(u.CONTEXT_CREATE_NAME),i=e.getAttribute(u.CONTEXT_CANCEL_PATH),n={},r={},o={form:e.id};try{n=JSON.parse(e.getAttribute(u.CONTEXT_PRIMARY_ATTRIBUTES)),r=JSON.parse(e.getAttribute(u.CONTEXT_CANCEL_ATTRIBUTES))}finally{n=n?Object.assign(o,n):o}h.name=t||h.name,h.cancelPath=i||h.cancelPath,s({data:{message:h.name+" chưa được lưu",cancelLabel:"Hủy",primaryAttr:n,cancelAttr:r}}),h.create=!0}}(),d.CONTEXT_BAR&&(d.CANCEL&&d.CANCEL.addEventListener("click",n),d.PRIMARY&&d.PRIMARY.addEventListener("click",r))}function n(){var e=h.create?{url:h.cancelPath}:{};a.default.dispatch({type:"DIRTY_STATE_REVERT",data:e})}function r(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).target;if("true"!==e.getAttribute(u.CONTEXT_PRIMARY_DISABLED)){var t=e?e.getAttribute("form"):null,i=t?"#"+t:"form",n=document.querySelector(i);n&&function(e){var t=document.createElement("input");t.style.display="none",t.type="submit",e.appendChild(t).click(),e.removeChild(t)}(n)}}function s(){var e,t,i,n,r,s,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!h.create&&d.CONTEXT_BAR){if(d.CONTEXT_BAR.classList.add(l.IS_DIRTY),o.data&&o.data.message&&(d.MESSAGES.innerHTML=o.data.message),d.PRIMARY&&o.data&&o.data.primaryAttr){var u=!0,p=!1,f=void 0;try{for(t=Object.keys(o.data.primaryAttr)[Symbol.iterator]();!(u=(e=t.next()).done);u=!0)i=e.value,d.PRIMARY.setAttribute(i,o.data.primaryAttr[i])}catch(o){p=!0,f=o}finally{try{!u&&t.return&&t.return()}finally{if(p)throw f}}}if(d.PRIMARY&&o.data&&o.data.primaryLabel&&(d.PRIMARY.innerHTML=o.data.primaryLabel),d.CANCEL&&o.data&&o.data.cancelLabel&&(d.CANCEL.innerHTML=o.data.cancelLabel),d.CANCEL&&o.data&&o.data.cancelAttr){var m=!0,g=!1,v=void 0;try{for(r=Object.keys(o.data.cancelAttr)[Symbol.iterator]();!(m=(n=r.next()).done);m=!0)s=n.value,d.CANCEL.setAttribute(s,o.data.cancelAttr[s])}catch(o){g=!0,v=o}finally{try{!m&&r.return&&r.return()}finally{if(g)throw v}}}a.default.dispatch({type:c.CONTEXT_BAR_SHOWN})}}function o(){!h.create&&d.CONTEXT_BAR&&d.CONTEXT_BAR.classList.remove(l.IS_DIRTY)}Object.defineProperty(t,"__esModule",{value:!0}),t.Nodes=t.Events=t.Attrs=t.Classes=void 0;var a=function(e){return e&&e.__esModule?e:{default:e}}(f),l=t.Classes={CONTEXT_BAR:"ui-context-bar",CONTEXT_BAR_MESSAGE:"ui-context-bar__message",CONTEXT_BAR_PRIMARY_ACTION:"ui-context-bar__actions-primary",CONTEXT_BAR_CANCEL_ACTION:"ui-context-bar__actions-cancel",IS_DIRTY:"ui-context-bar--is-dirty"},u=t.Attrs={CONTEXT_CREATE_NAME:"data-context-create-name",CONTEXT_CANCEL_PATH:"data-context-cancel-path",CONTEXT_CANCEL_ATTRIBUTES:"data-context-cancel-attributes",CONTEXT_PRIMARY_ATTRIBUTES:"data-context-primary-attributes",CONTEXT_PRIMARY_DISABLED:"data-disable-submit"},c=t.Events={CONTEXT_BAR_ON:"CONTEXT_BAR_ON_EVENT",CONTEXT_BAR_SHOWN:"CONTEXT_BAR_SHOWN_EVENT",CONTEXT_BAR_OFF:"CONTEXT_BAR_OFF_EVENT"},d=t.Nodes={CONTEXT_BAR:null,MESSAGES:null,PRIMARY:null,CANCEL:null},h={};a.default.register(c.CONTEXT_BAR_ON,s),a.default.register(c.CONTEXT_BAR_OFF,o),t.default={initialize:i,show:s,hide:o,isDirty:function(){return d.CONTEXT_BAR&&d.CONTEXT_BAR.classList.contains(l.IS_DIRTY)}},g.ready(i),Juzaweb.ContextBar=null!=t.default?t.default:t})),S=i(function(e,t){"use strict";function i(e){u(!0),s(e,!0)}function n(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3e3;u(!1),s(e,!1),l(t)}function r(){g.$wrapper=d.default("#"+v.WRAPPER),g.$flash=d.default("#"+v.BASE),g.$message=g.$flash.find("."+y.MESSAGE)}function s(e,t){g.lastFocused=document.activeElement||document.body,r(),a(),h=!1,e&&g.$message.text(e),g.$message.attr(_.ROLE,t?b.ROLE_ALERT:b.ROLE_STATUS),g.$flash.attr(_.HAS_MESSAGE,"true"),g.$wrapper.addClass(y.WRAPPER_VISIBLE),g.$flash.addClass(y.ANIMATE_IN).one("animationend",function(){g.$flash.removeClass(y.ANIMATE_IN),g.$message.trigger("focus")})}function o(){a(),h=!0,g.$flash.addClass(y.ANIMATE_OUT).one("animationend",function(){g.$flash.removeClass(y.ANIMATE_OUT),g.$wrapper.removeClass(y.WRAPPER_VISIBLE),g.$message.text(""),g.$flash.attr(_.HAS_MESSAGE,null),h=!1,g.lastFocused instanceof HTMLElement&&g.lastFocused.focus()}),g.$flash.trigger("animationend")}function a(){p&&clearTimeout(p),g.$flash.trigger("animationend").off("mouseleave").off("animationend"),g.$message.removeAttr(_.ROLE)}function l(e){p&&clearTimeout(p),p=setTimeout(o,e)}function u(e){g.$flash.toggleClass(y.ERROR,e)}function c(){g.$flash.on("mouseenter",function(){p&&clearTimeout(p),h&&(g.$flash.removeClass(y.ANIMATE_OUT).off("animationend"),h=!1),g.$flash.one("mouseleave",function(){g.$flash.hasClass(y.ERROR)||l(1e3)})}),g.$flash.on("click",function(){h||(g.$flash.off("mouseleave"),o())})}Object.defineProperty(t,"__esModule",{value:!0}),t.error=i,t.notice=n;var d=function(e){return e&&e.__esModule?e:{default:e}}($),h=void 0,p=void 0,f=document.createElement("div"),m=v=d.default(f),g={$wrapper:m,$flash:m,$message:m,lastFocused:f},v={WRAPPER:"UIFlashWrapper",BASE:"UIFlashMessage"},y={WRAPPER_VISIBLE:"ui-flash-wrapper--is-visible",ERROR:"ui-flash--error",ANIMATE_IN:"ui-flash--is-animating-in",ANIMATE_OUT:"ui-flash--is-animating-out",MESSAGE:"ui-flash__message"},_={HAS_MESSAGE:"data-flash-has-message",ROLE:"role"},b={ROLE_ALERT:"alert",ROLE_STATUS:"status"};d.default(document).on("ready page:load flash:init",function(){r(),c(),"true"===g.$flash.attr(_.HAS_MESSAGE)&&(g.$flash.hasClass(y.ERROR)?i(""):n(""))}),Juzaweb.Flashs=null!=t.default?t.default:t}),k=i(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.update=function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).scrollingElement,n=void 0===t?e:t,r=n.scrollTop,s=!(r+n.clientHeight>=n.scrollHeight),o=r>0,a=o&&s;e.classList[s?"add":"remove"](i.BOTTOM_SHADOW),e.classList[o?"add":"remove"](i.TOP_SHADOW),e.classList[a?"add":"remove"](i.TOP_AND_BOTTOM_SHADOW)};var i={TOP_AND_BOTTOM_SHADOW:"scroll-shadow--top-and-bottom",BOTTOM_SHADOW:"scroll-shadow--bottom",TOP_SHADOW:"scroll-shadow--top"};Juzaweb.ScrollShadow=null!=t.default?t.default:t}),A=i(function(e,t){"use strict";function i(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1]?"addEventListener":"removeEventListener";l.forEach(function(i){e[t](i,n)})}function n(e){e.preventDefault()}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t,n,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.scrollTop>0||e.scrollHeight<=e.clientHeight||g.prefersReducedMotion()?-1:(t=l.scrollShadow,n=void 0!==t&&t,e.scrollTop=s,i(e),n&&r.update(e),window.requestAnimationFrame(function t(){var s=e.scrollTop/a;e.scrollTop=s<o?0:e.scrollTop-s,e.scrollTop>0?window.requestAnimationFrame(t):(i(e,!1),n&&r.update(e))}),e.scrollTop)};var r=function(e){var t,i;if(e&&e.__esModule)return e;if(t={},null!=e)for(i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}(k),s=100,o=.2,a=5,l=["scroll","touchmove","wheel"]}),x=i(function(e,t){"use strict";function i(e){var t,i;if(e&&e.__esModule)return e;if(t={},null!=e)for(i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}function n(e){return e&&e.__esModule?e:{default:e}}function r(e){var t,i=M.default(e).siblings(":not("+H.BASE+")")[0];return o(e),s(e,i),t={activate:function(){c(e)},deactivate:function(){v(e)},toggle:function(){f(e)},reposition:function(){b()},isActive:function(){return e===(null==X.popover?null:X.popover.base)}},M.default(e).data(H.BASE,t),t}function s(e,t){var i=z++,n=e.id||H.BASE+"--"+i,r=u(t),s=r.id||H.BASE+"-activator--"+i;return M.default(e).attr({id:n,"aria-labelledby":s,"aria-expanded":"false",role:"dialog"}),M.default(r).attr({id:s,"aria-expanded":"false","aria-haspopup":"true","aria-owns":n,"aria-controls":n})}function o(e){var t,i,n=window.getComputedStyle(e);return e.setAttribute(G.CSS_CACHE.VERTICAL_MARGIN,a(n.marginTop,e)||0),e.setAttribute(G.CSS_CACHE.HORIZONTAL_MARGIN,a(n.marginLeft,e)||0),t=M.default(e).children("."+H.CONTENT_WRAPPER)[0],i=window.getComputedStyle(t),e.setAttribute(G.CSS_CACHE.MAX_HEIGHT,a(i.maxHeight,t)||1e4),e.setAttribute(G.CSS_CACHE.MAX_WIDTH,a(i.maxWidth,t)||1e4),e.classList.contains(V.BASE.FULL_WIDTH)||(e.style.maxWidth="none"),e.style.marginLeft=e.style.marginRight="0px",e.style.marginLeft}function a(e,t){if("none"===e)return!1;var i=parseFloat(e);return e.indexOf("rem")>=0?i*Z():e.indexOf("em")>=0?i*parseFloat(window.getComputedStyle(t).fontSize):e.indexOf("%")>=0?i/100:i}function l(e){var t=void 0;return[].concat(function(e){if(Array.isArray(e)){for(var t=0,i=Array(e.length);t<e.length;t++)i[t]=e[t];return i}return Array.from(e)}(e.parentNode.children)).forEach(function(i){i!==e&&i.offsetWidth>0&&(t=i)}),t||e.previousElementSibling||e.nextElementSibling}function u(e){var t=M.default(e);return t.is(":input")?e:t.find(":input")[0]||e}function c(e){var t,i;if(e===(null==X.popover?null:X.popover.base))return null;X.popover&&v(),(t=M.default(e)).data(H.BASE)||r(e);var n=e.querySelector("."+H.TOOLTIP),s=l(e),o=document.getElementById("wrapper")||document.body,a=t.closest(e.getAttribute(G.RELATIVE_TO)).get(0)||t.closest(e.getAttribute(G.HORIZONTALLY_RELATIVE_TO)).get(0)||o,c=t.closest(e.getAttribute(G.RELATIVE_TO)).get(0)||t.closest(e.getAttribute(G.VERTICALLY_RELATIVE_TO)).get(0)||o,h=e.getAttribute(G.ACTIVATE_FROM),f=t.closest(e.getAttribute(G.SCROLL_CONTAINER)).get(0);return X={container:e.parentNode,activator:s,activatorInput:u(s),source:h?s.querySelector(h):s,horizontallyRelativeTo:a,verticallyRelativeTo:c,preferredPosition:e.getAttribute(G.PREFERRED_POSITION)||Y.BOTTOM,horizontallyPosition:!e.classList.contains(V.BASE.FULL_WIDTH),positionAgainstEdge:e.classList.contains(V.BASE.ALIGN_TO_EDGE),scrollContainer:f,popover:{base:e,container:e.parentNode,content:e.querySelector("."+H.CONTENT),contentWrapper:e.querySelector("."+H.CONTENT_WRAPPER),tooltip:n,panes:Array.prototype.slice.call(e.querySelectorAll("."+H.PANE))},styles:{horizontalMargin:parseInt(e.getAttribute(G.CSS_CACHE.HORIZONTAL_MARGIN),10),verticalMargin:parseInt(e.getAttribute(G.CSS_CACHE.VERTICAL_MARGIN),10),maxHeight:parseInt(e.getAttribute(G.CSS_CACHE.MAX_HEIGHT),10),maxWidth:parseFloat(e.getAttribute(G.CSS_CACHE.MAX_WIDTH))}},i=!1,t.off(j.transitionEnd()),t.one(j.transitionEnd(),function(){return i?null:(i=!0,X.popover.panes.forEach(function(e){return e.classList.contains(V.PANE.FIXED)?null:J.update(e)}),t.trigger(W.ACTIVATED))}),p(e),d(),b()}function d(){var e=X.popover.base;e.setAttribute("aria-expanded","true"),X.activatorInput.setAttribute("aria-expanded","true"),M.default(e).one(j.transitionEnd(),function(){return M.default(e).removeClass(U.BASE.TRANSITIONING)}),M.default(e).addClass(U.BASE.TRANSITIONING),window.requestAnimationFrame(function(){X.popover&&(X.popover.panes.forEach(function(e){e.classList.contains(V.PANE.FIXED)||q.default(e,{scrollShadow:!0})}),M.default(e).addClass(U.BASE.ACTIVE),X.popover.container.classList.add(U.CONTAINER.ACTIVE),M.default(e).trigger(W.ACTIVATING))})}function p(e){return M.default(e).on("wheel","."+H.PANE,L),X.scrollContainer?M.default(X.scrollContainer).on("scroll."+K,R):null}function f(e){return(null==X.popover?null:X.popover.base)===e?v():c(e)}function g(){return X.popover?M.default(X.popover.base).closest(document).length?null:v():null}function v(e){var t,i,n,r;if(!X.popover||e&&e!==X.popover.base)return null;var s=X.popover.base,o=X.popover.content,a=X.popover.container,l=M.default(s),u=Boolean(l.closest(document).length);l.off(j.transitionEnd()),l.trigger(W.DEACTIVATING),t=function(){var e=!1;return function(){return e?null:(e=!0,a.classList.remove(U.CONTAINER.DEACTIVATING),o.style.width="",M.default(s).trigger(W.DEACTIVATED))}}(),u&&(l.one(j.transitionEnd(),function(){l.removeClass(U.BASE.TRANSITIONING),t()}),l.addClass(U.BASE.TRANSITIONING)),y(),u||t(),_(s);var c=!0,d=!1,h=void 0;try{for(n=Object.keys(X||{})[Symbol.iterator]();!(c=(i=n.next()).done);c=!0)r=i.value,delete X[r]}catch(e){d=!0,h=e}finally{try{!c&&n.return&&n.return()}finally{if(d)throw h}}return null}function y(){var e=X.popover;return e.container.classList.add(U.CONTAINER.DEACTIVATING),e.container.classList.remove(U.CONTAINER.ACTIVE),e.base.classList.remove(U.BASE.ACTIVE),e.base.setAttribute("aria-expanded","false"),X.activatorInput.setAttribute("aria-expanded","false")}function _(e){return M.default(e).off("wheel","."+H.PANE,L),X.scrollContainer?M.default(X.scrollContainer).off("."+K):null}function b(e){var t=void 0,i=void 0,n=void 0,r=void 0,s=void 0,o=void 0;if(!X.popover)return null;var a=null==e||!e.type||"resize"===e.type,l={base:{},wrapper:{},content:{},tooltip:{}},u=x();return I({rect:u},l),a&&X.horizontallyPosition&&(o=S(),s=u.left/u.horizontallyRelativeTo.width<=.5,r=E(u.horizontallyRelativeTo.width),l.content.width=r,n={offsets:o,width:r,left:s,rect:u},X.positionAgainstEdge?T(n,l):C(n,l),i=u.width/2+o.leftFromContainerToActivator+o.leftFromActivatorToSource-l.base.left,l.tooltip.left=Math.round(i),t=l.base.transformOrigin.split(" ").slice(1).join(" "),X.styles.transformOriginX=Math.round(i)+"px",l.base.transformOrigin=X.styles.transformOriginX+" "+t),requestAnimationFrame(function(){var e=X.popover;return null==e?null:(M.default(e.base).css(l.base),M.default(e.content).css(l.content),M.default(e.contentWrapper).css(l.wrapper),M.default(e.tooltip).css(l.tooltip),a&&(e.content.style.height=ie()+2),e.base.style.transformOrigin=l.base.transformOrigin,e.base.style.transformOrigin)})}function T(e,t){var i=e.offsets,n=e.width,r=e.rect,s=e.left,o=r[s?"right":"left"]+r.width/2-X.styles.horizontalMargin,a=s?0:r.width-n;return a+=i.leftFromContainerToActivator,t.base.left=n>o?s?a-(n-o)-i.leftFromActivatorToSource:a+(n-o):s?a-i.leftFromActivatorToSource:a-i.rightFromActivatorToSource,t.base.left=Math.round(t.base.left+i.leftFromActivatorToSource),t.base.left}function C(e,t){var i=e.offsets,n=e.width,r=e.rect,s=e.left,o=.5*n+X.styles.horizontalMargin;return t.base.left=s&&r.left<o?r.width/2+X.styles.horizontalMargin-r.left:!s&&r.right<o?r.width/2-n+r.right-X.styles.horizontalMargin:r.width/2-n/2,t.base.left=Math.round(t.base.left+i.leftFromContainerToActivator+i.leftFromActivatorToSource),t.base.left}function S(){var e=X.activator.getBoundingClientRect(),t=X.source===X.activator?e:X.source.getBoundingClientRect();return{leftFromContainerToActivator:e.left-X.container.getBoundingClientRect().left,leftFromActivatorToSource:t.left-e.left,rightFromActivatorToSource:t.right-e.right}}function x(){var e=X.source.getBoundingClientRect(),t=X.horizontallyRelativeTo.getBoundingClientRect(),i=X.verticallyRelativeTo.getBoundingClientRect(),n=e.top+.5*e.height,r=e.left+.5*e.width;return r-=t.left,{height:e.height,width:e.width,top:n-ee(),bottom:window.innerHeight-n,left:r,right:t.width-r,horizontallyRelativeTo:t,verticallyRelativeTo:i}}function E(e){var t,i=void 0;return X.styles.contentWidth||((i=X.popover.content).classList.add(U.CONTENT.CALCULATING),X.styles.contentWidth=i.offsetWidth+2,i.classList.remove(U.CONTENT.CALCULATING)),t=e-2*X.styles.horizontalMargin,Math.min(t,X.styles.maxWidth,X.styles.contentWidth)}function I(e,t){var i=X.popover.base.offsetHeight+2*X.styles.verticalMargin,n=e.rect,r=n.verticallyRelativeTo.top+n.verticallyRelativeTo.height-(n.top+n.height),s=window.scrollY+n.top-n.verticallyRelativeTo.top;return D(X.preferredPosition===Y.MOST_SPACE?r<s?Y.TOP:Y.BOTTOM:X.preferredPosition===Y.BOTTOM?n.bottom<i&&n.top>n.bottom||r<i&&s>i?Y.TOP:Y.BOTTOM:n.top<i&&n.bottom>n.top||s<i&&r>i?Y.BOTTOM:Y.TOP,n,t)}function D(e,t,i){var n,r=e===Y.TOP,s=X.horizontallyPosition?0:"50%";return i.base.transformOrigin=r?(X.styles.transformOriginX||s)+" calc(100% + "+Q+"px)":(X.styles.transformOriginX||s)+" -"+Q+"px",e!==X.position&&(X.position=e,X.popover.base.classList[r?"remove":"add"](U.BASE.POSITIONED_BELOW),X.popover.base.classList[r?"add":"remove"](U.BASE.POSITIONED_ABOVE)),n=t[e]-t.height/2-2*X.styles.verticalMargin,i.content.maxHeight=Math.min(n,X.styles.maxHeight),i.content.maxHeight}function O(e){var t=void 0,i=M.default(e.target).closest("."+H.BASE).length;if(i&&e.which===B.ESCAPE)X.activator.focus(),v(),e.preventDefault();else{if(t=M.default(e.currentTarget).children("."+H.BASE)[0],i||t.classList.contains(V.BASE.JS_ACTIVATED))return;[B.ENTER,B.SPACE].includes(e.which)&&null!=e.target&&null!=e.target.tagName&&"input"!==e.target.tagName.toLowerCase()?(f(t),e.preventDefault()):e.which===B.ESCAPE&&(v(),e.preventDefault())}}function P(e){var t=M.default(e.target).closest("."+H.BASE).length,i=M.default(e.currentTarget).children("."+H.BASE)[0];t||i.classList.contains(V.BASE.JS_ACTIVATED)||c(i)}function N(e){var t=M.default(e.target).closest("."+H.BASE).length,i=M.default(e.currentTarget).children("."+H.BASE)[0];t||i.classList.contains(V.BASE.JS_ACTIVATED)||v()}function L(e){function t(){e.stopPropagation(),e.preventDefault()}var i=e.currentTarget,n=e.originalEvent.deltaY,r=n<0,s=[i.offsetHeight,i.scrollHeight,i.scrollTop],o=s[1],a=s[2],l=r&&-n>a;!r&&n>o-s[0]-a&&(i.scrollTop=o,t()),l&&(i.scrollTop=0,t()),J.update(i)}function F(){return M.default(document).on("page:load",g).on("click focusin",te).on("keydown","."+H.CONTAINER,O).on("mouseenter","."+V.CONTAINER.HOVER_ACTIVATED,P).on("mouseleave","."+V.CONTAINER.HOVER_ACTIVATED,N),R=w.debounce(b,50,{leading:!0}),M.default(window).on("resize scroll",R)}var z,R;Object.defineProperty(t,"__esModule",{value:!0});var M=n($),j=i(m),B=i(h),J=i(k),q=n(A),H={BASE:"ui-popover",CONTAINER:"ui-popover__container",CONTENT_WRAPPER:"ui-popover__content-wrapper",CONTENT:"ui-popover__content",TOOLTIP:"ui-popover__tooltip",PANE:"ui-popover__pane"},U={BASE:{ACTIVE:"ui-popover--is-active",TRANSITIONING:"ui-popover--is-transitioning",POSITIONED_BELOW:"ui-popover--is-positioned-beneath",POSITIONED_ABOVE:"ui-popover--is-positioned-above"},CONTAINER:{ACTIVE:"ui-popover__container--contains-active-popover",DEACTIVATING:"ui-popover__container--is-deactivating"},CONTENT:{CALCULATING:"ui-popover__content--is-calculating"}},V={BASE:{ALIGN_TO_EDGE:"ui-popover--align-edge",FULL_WIDTH:"ui-popover--full-width",NO_FOCUS:"ui-popover--no-focus",HOVER_ACTIVATED:"ui-popover--hover-activated",JS_ACTIVATED:"ui-popover--js-activated"},CONTAINER:{HOVER_ACTIVATED:"ui-popover__container--hover-activated"},PANE:{FIXED:"ui-popover__pane--fixed"}},W={ACTIVATING:"ui-popover:activating",ACTIVATED:"ui-popover:activated",DEACTIVATED:"ui-popover:deactivated",DEACTIVATING:"ui-popover:deactivating"},G={PREFERRED_POSITION:"data-popover-preferred-position",HORIZONTALLY_RELATIVE_TO:"data-popover-horizontally-relative-to-closest",VERTICALLY_RELATIVE_TO:"data-popover-vertically-relative-to-closest",RELATIVE_TO:"data-popover-relative-to-closest",ACTIVATE_FROM:"data-popover-activate-from",SCROLL_CONTAINER:"data-popover-scroll-container",CSS_CACHE:{MAX_HEIGHT:"data-popover-css-max-height",MAX_WIDTH:"data-popover-css-max-width",VERTICAL_MARGIN:"data-popover-css-vertical-margin",HORIZONTAL_MARGIN:"data-popover-css-horizontal-margin"}},Y={TOP:"top",BOTTOM:"bottom",MOST_SPACE:"most_space"},K="ui-popover",Q=5,X={},Z=function(){var e=null;return function(){var t=M.default("<div>M</div>").appendTo("body");return t.css({display:"inline-block",padding:"0",lineHeight:"1",position:"absolute",visibility:"hidden",fontSize:"1em"}),t.remove(),e}}(),ee=function(){var e=void 0,t=void 0,i=e=0;return M.default(document).on("ready page:load",function(){return t=document.querySelector(".page .header-row")||document.querySelector(".ui-title-bar"),i=(null==t?0:t.offsetHeight)||0,setTimeout(function(){var t;return e=(null==(t=document.querySelector("#turbo"))?0:t.offsetHeight)||0},1)}),function(){return e+i}}(),te=function(){var e=0,t=null;return function(i){var n,r,s=void 0,o=void 0,a=void 0,d=!1,h=function(){var e="function"==typeof i.target.getAttribute?i.target.getAttribute("for"):null;return e?(d=!0,M.default("#"+e)):M.default(i.target)}();return h.closest("[disabled]").length?null:h.closest("."+H.BASE).length?null:h.closest("[data-disable-popover-automatic-deactivation=true]").length?null:(r=(n=h.closest("."+H.CONTAINER)).children("."+H.BASE)[0])&&u(l(r)).disabled?null:n.length?d?null:(a=n[0],o=Date.now(),t===a&&o-e<500?null:(e=o,t=a,i.preventDefault(),null==(s=n.children("."+H.BASE)[0])?null:s.classList.contains(V.BASE.JS_ACTIVATED)?null:s.classList.contains(V.BASE.NO_FOCUS)?v():"focusin"===i.type?c(s):f(s))):null!=X.popover&&X.popover.base.classList.contains(V.BASE.JS_ACTIVATED)?null:v()}}(),ie=function(){function e(e,t){return e+t.scrollHeight}return function(){return X.popover.panes.reduce(e,0)}}(),ne={activeCache:X,a11yPopovers:s,cachePopoverCSSProperties:o,baseFontSize:Z,calculatePixelDimension:a,activate:c,applyActivationMarkup:d,attachActiveEventListeners:p,toggle:f,deactivate:v,applyDeactivationMarkup:y,detachActiveEventListeners:_,positionPopover:b,horizontallyPositionWithCenterAlignment:C,horizontallyPositionWithEdgeAlignment:T,calculateHorizontalOffsets:S,spaceDetailsForActivePopover:x,calculateMaxWidth:E,determineVerticalPositioning:I,topSpaceReservedForHeader:ee,popoverFocus:te,popoverKeydown:O,popoverPaneScroll:L,_init:F};r.for=function(e){var t=M.default(e).closest("."+H.BASE);return t.length?t.data(H.BASE)||r(t[0]):null},r.send=function(e){for(var t=arguments.length,i=Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];return i.length?null==ne[e]?null:ne[e].apply(null,i):ne[e]},r.deactivate=function(){return v()},r.CLASSES=H,r.EVENTS=W,r.STATES=U,r.VARIANTS=V,r.ATTRS=G,r.POSITIONS=Y,r.ZINDEX=21,t.default=r,z=1,R=null,F(),Juzaweb.UIPopover=null!=t.default?t.default:t}),E=i(function(e,t){var i=C.default,n=f.default;t.ContextBar=i,t.rootDispatcher=n,Juzaweb.Components=null!=t.default?t.default:t}),I=i(function(e){var t;t=function(){function e(e,t,i){return e<t?t:e>i?i:e}function t(e){return 100*(-1+e)}function i(e,i,n){var r;return(r="translate3d"===l.positionUsing?{transform:"translate3d("+t(e)+"%,0,0)"}:"translate"===l.positionUsing?{transform:"translate("+t(e)+"%,0)"}:{"margin-left":t(e)+"%"}).transition="all "+i+"ms "+n,r}function n(e,t){return("string"==typeof e?e:o(e)).indexOf(" "+t+" ")>=0}function r(e,t){var i=o(e),r=i+t;n(i,t)||(e.className=r.substring(1))}function s(e,t){var i,r=o(e);n(e,t)&&(i=r.replace(" "+t+" "," "),e.className=i.substring(1,i.length-1))}function o(e){return(" "+(e.className||"")+" ").replace(/\s+/gi," ")}function a(e){e&&e.parentNode&&e.parentNode.removeChild(e)}var l,u,c,d={version:"0.1.6"};return l=d.settings={minimum:.08,easing:"ease",positionUsing:"",speed:200,trickle:!0,trickleRate:.02,trickleSpeed:800,showSpinner:!0,barSelector:'[role="bar"]',spinnerSelector:'[role="spinner"]',parent:"body",template:'<div class="bar" role="bar"><div class="peg"></div></div><div class="spinner" role="spinner"><div class="spinner-icon"></div></div>'},d.configure=function(e){var t,i;for(t in e)void 0!==(i=e[t])&&e.hasOwnProperty(t)&&(l[t]=i);return this},d.status=null,d.set=function(t){var n=d.isStarted();t=e(t,l.minimum,1),d.status=1===t?null:t;var r=d.render(!n),s=r.querySelector(l.barSelector),o=l.speed,a=l.easing;return r.offsetWidth,u(function(e){""===l.positionUsing&&(l.positionUsing=d.getPositioningCSS()),c(s,i(t,o,a)),1===t?(c(r,{transition:"none",opacity:1}),r.offsetWidth,setTimeout(function(){c(r,{transition:"all "+o+"ms linear",opacity:0}),setTimeout(function(){d.remove(),e()},o)},o)):setTimeout(e,o)}),this},d.isStarted=function(){return"number"==typeof d.status},d.start=function(){d.status||d.set(0);var e=function(){setTimeout(function(){d.status&&(d.trickle(),e())},l.trickleSpeed)};return l.trickle&&e(),this},d.done=function(e){return e||d.status?d.inc(.3+.5*Math.random()).set(1):this},d.inc=function(t){var i=d.status;return i?("number"!=typeof t&&(t=(1-i)*e(Math.random()*i,.1,.95)),i=e(i+t,0,.994),d.set(i)):d.start()},d.trickle=function(){return d.inc(Math.random()*l.trickleRate)},function(){var e=0,t=0;d.promise=function(i){return i&&"resolved"!=i.state()?(0==t&&d.start(),e++,t++,i.always(function(){0==--t?(e=0,d.done()):d.set((e-t)/e)}),this):this}}(),d.render=function(e){var i;if(d.isRendered())return document.getElementById("nprogress");r(document.documentElement,"nprogress-busy"),(i=document.createElement("div")).id="nprogress",i.innerHTML=l.template;var n,s=i.querySelector(l.barSelector),o=e?"-100":t(d.status||0),u=document.querySelector(l.parent);return c(s,{transition:"all 0 linear",transform:"translate3d("+o+"%,0,0)"}),l.showSpinner||(n=i.querySelector(l.spinnerSelector))&&a(n),u!=document.body&&r(u,"nprogress-custom-parent"),u.appendChild(i),i},d.remove=function(){s(document.documentElement,"nprogress-busy"),s(document.querySelector(l.parent),"nprogress-custom-parent");var e=document.getElementById("nprogress");e&&a(e)},d.isRendered=function(){return!!document.getElementById("nprogress")},d.getPositioningCSS=function(){var e=document.body.style,t="WebkitTransform"in e?"Webkit":"MozTransform"in e?"Moz":"msTransform"in e?"ms":"OTransform"in e?"O":"";return t+"Perspective"in e?"translate3d":t+"Transform"in e?"translate":"margin"},u=function(){function e(){var i=t.shift();i&&i(e)}var t=[];return function(i){t.push(i),1==t.length&&e()}}(),c=function(){function e(e){return e=function(e){return e.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,function(e,t){return t.toUpperCase()})}(e),n[e]||(n[e]=function(e){var t,n,r,s=document.body.style;if(e in s)return e;for(n=i.length,r=e.charAt(0).toUpperCase()+e.slice(1);n--;)if((t=i[n]+r)in s)return t;return e}(e))}function t(t,i,n){i=e(i),t.style[i]=n}var i=["Webkit","O","Moz","ms"],n={};return function(e,i){var n,r,s=arguments;if(2==s.length)for(n in i)void 0!==(r=i[n])&&i.hasOwnProperty(n)&&t(e,n,r);else t(e,s[1],s[2])}}(),d},"function"==typeof define&&define.amd?define(t):e.exports=t()}),D=i(function(e,t){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=i($),r=i(I),s={continueAfterRefresh:function(e){var t=this._continueLoading;this._continueLoading=!0;try{return e()}finally{this._continueLoading=t}},withoutLoadingBar:function(e){var t=this._noLoading;this._noLoading=!0;try{return e()}finally{this._noLoading=t}},start:function(){this.loading||(this.loading=!0,r.default.configure({parent:"body",barSelector:".loading-bar",template:'\n<div class="loading-bar__container">\n  <div class="loading-bar"></div>\n</div>\n'}),r.default.start(),n.default("body").addClass("is-loading"))},stop:function(){this.loading=!1,r.default.done(),n.default("body").removeClass("is-loading")},increment:function(e){return r.default.inc(e)},_continue:function(){this.loading&&(r.default.set(r.default.status),n.default("body").addClass("is-loading"))}};n.default(document).on("page:fetch turbograft:remote:init",function(){s._noLoading||s.start()}),n.default(document).on("page:load turbograft:remote:always",function(){s._continueLoading?s._continue():s.stop()}),t.default=s,Juzaweb.Loading=null!=t.default?t.default:t}),O=(i(function(e,t){"use strict";function i(){window.Juzaweb.Forms._dirtyForm=!0}function l(e,t){return g.default.size(e)===g.default.size(t)&&g.default.chain(e).zip(t).every(function(e){var t=r(e,2),i=t[0],n=t[1];return i.disabled||i.value===n.value&&i.id===n.id}).value()}function u(e){var t=e.currentTarget,i=window.Juzaweb.Number.parseFloatWithCommas(t.value);t.value=i||0,v.default.change(t)}function c(e){var t=e.currentTarget,i=window.Juzaweb.Number.parseInteger(t.value);t.value=i||0,v.default.change(t)}function p(e){if(e.data.url)w.default.refresh({url:e.data.url});else{Twine.refresh();var t=$("#CancelContextModal").html(),i=new Juzaweb.Modal(this);i&&i.show({content:t})}}var f;Object.defineProperty(t,"__esModule",{value:!0}),t.RTE_INITIALIZED_EVENT=void 0,t.alertIfFormDirty=i,t.matchEnabledValues=l,t.cleanMoneyField=function(e){var t=e.currentTarget,i=t.value;i&&(t.value=new window.Juzaweb.Money(i).toDelimiteredString(),v.default.change(t))},t.cleanDecimalField=u,t.cleanIntegerField=c;var m=a(h),g=n(_),v=n(Twine),y=n($),b=n(D),w=n(d),T=t.RTE_INITIALIZED_EVENT="rte:initialized",C="a.js-btn-primary, input.js-btn-primary, button.js-btn-primary",S="a.js-btn-loadable, input.js-btn-loadable, button.js-btn-loadable, select.js-btn-loadable",k=y.default(document);k.on("keypress","form[no-submit-on-enter] input",function(e){13===e.which&&e.preventDefault()}),k.on("keydown","form[submit-on-cmd-enter] input",function(e){e.which===m.ENTER&&(e.metaKey||e.ctrlKey?this.form.submit(e):e.preventDefault())}),k.on("keypress",".click-on-enter",function(e){13===e.which&&y.default(e.target).click()}),w.default.onChange(function(){return window.Juzaweb.Forms._dirtyForm},function(){window.Juzaweb.Forms._dirtyForm=!1}),k.on("submit","form[ajax]",function(e){e.preventDefault();var t=y.default(e.target),i=t.serialize(),n={type:t.attr("method"),url:t.attr("action"),data:i,dataType:"html",fail:function(){for(var e=arguments.length,i=Array(e),n=0;n<e;n++)i[n]=arguments[n];t.trigger("fail",i)},done:function(){for(var e=arguments.length,i=Array(e),n=0;n<e;n++)i[n]=arguments[n];t.trigger("done",i)}};new window.Juzaweb.Remote(n,t.attr("refresh-on-success"),t.attr("refresh-on-error")).submit()}),(f=function(){function e(t){var i,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(o(this,e),this.opts=r,this.bindingsFinished=this.bindingsFinished.bind(this),this.updateRTEInitialValue=this.updateRTEInitialValue.bind(this),this._updateDirty=this._updateDirty.bind(this),this._updateDirtyState=this._updateDirtyState.bind(this),this._initializeButtons=this._initializeButtons.bind(this),this.submit=this.submit.bind(this),this.startLoading=this.startLoading.bind(this),this.stopLoading=this.stopLoading.bind(this),this.$form=y.default(t),this.$primaryButtons=this.$form.find(C),this.$primaryButtons.addClass("btn-primary"),this.primaryAttr=this.$form.data("context-bar-primary-attributes"),this.$primaryButtonLabel=this.$form.data("context-bar-primary-label"),this.contextBarNode=document.querySelector(".ui-context-bar"),E.rootDispatcher.register("DIRTY_STATE_REVERT",p).bindToNode(t),E.rootDispatcher.register("CONTEXT_BAR_SHOWN_EVENT",this._initializeButtons).bindToNode(t),t&&t.id&&(this.$primaryButtons=this.$primaryButtons.add(".js-btn-primary[form='"+t.id+"']")),this.$loadableButtons=this.$form.find(S),t&&t.id&&(this.$loadableButtons=this.$loadableButtons.add(".js-btn-loadable[form='"+t.id+"']")),this.$loadableButtons.addClass("has-loading"),this.$form.on("input change paste bindings:change",this._updateDirty),this.$form.on("submit",this.submit),this.$form.on("fail done",this.stopLoading),this.$form.on("change","input.js-decimal-field",u),this.$form.on("change","input.js-integer-field",c),this.$form.on(T,this.updateRTEInitialValue),this.opts.disabledUntilDirty&&this.$primaryButtons.attr("disabled","disabled"),this.opts.observer&&this.opts.observer.register(this,this.$form),v.default.afterBound(this.bindingsFinished),i=this,"undefined"!=typeof CKEDITOR)for(n in CKEDITOR.instances)CKEDITOR.instances[n].on("change",function(){var e=this.element.$.id;document.getElementById(e).value=this.getData(),i._updateDirtyState()})}return s(e,null,[{key:"withIgnoreUnsavedChanges",value:function(e){var t=this._dirtyForm;return this._dirtyForm=!1,e.call(),this._dirtyForm=t,this._dirtyForm}},{key:"makeClean",value:function(){return this._dirtyForm=!1,this._dirtyForm}},{key:"resetChanges",value:function(){e.makeClean(),E.rootDispatcher.dispatch({type:"CONTEXT_BAR_OFF_EVENT"}),w.default.refresh()}}]),s(e,[{key:"bindingsFinished",value:function(){this.resetDirtyTracking(),this.opts.startDirty&&this.makeDirty()}},{key:"updateRTEInitialValue",value:function(e){var t=e.target,i=t.id,n=this.initialValues.find(function(e){var t=e.id;return i===t});null!=n&&(n.value=t.value),this._updateDirtyState()}},{key:"makeClean",value:function(){this.isDirty=!1,this.opts.keepGlobalDirtyState||(e._dirtyForm=!1),this.$primaryButtons.removeAttr("data-form-dirty"),E.rootDispatcher.dispatch({type:"CONTEXT_BAR_UPDATE_PRIMARY_ACTION",data:{disabled:!0,loading:!1}}),this.opts.disableContextBar||E.rootDispatcher.dispatch({type:"CONTEXT_BAR_OFF_EVENT"}),this.opts.disabledUntilDirty&&this.$primaryButtons.attr("disabled","disabled")}},{key:"makeDirty",value:function(){this.isDirty=!0,this.opts.alertUnsavedChanges&&i(),this.enablePrimaryButtons(),this.opts.disabledUntilDirty&&!this.opts.disableContextBar&&this.showContextBar(),this.changeLabelButton()}},{key:"showContextBar",value:function(){var e={form:this.$form.attr("id")},t=Object.assign(e,this.primaryAttr);E.rootDispatcher.dispatch({type:"CONTEXT_BAR_ON_EVENT",data:{primaryAttr:t}})}},{key:"changeLabelButton",value:function(){!this.$primaryButtonLabel||$(".ui-context-bar__actions-primary").html(this.$primaryButtonLabel)}},{key:"enablePrimaryButtons",value:function(){this.disabled||(this.$primaryButtons.attr("data-form-dirty",!0),this.opts.disabledUntilDirty&&this.$primaryButtons.removeAttr("disabled"),E.rootDispatcher.dispatch({type:"CONTEXT_BAR_UPDATE_PRIMARY_ACTION",data:{disabled:!1,loading:!1}}))}},{key:"resetDirtyTracking",value:function(){return this.makeClean(),this.initialValues=this._getInputValues(),this.initialValues}},{key:"isClean",value:function(){return!this.isDirty}},{key:"enable",value:function(){return this.disabled=!1,this.isDirty?this.makeDirty():null}},{key:"disable",value:function(){return this.disabled=!0,this.$primaryButtons.attr("disabled","disabled")}},{key:"submit",value:function(t){var i=void 0;if(this.opts.keepGlobalDirtyState||(e._dirtyForm=!1),"function"==typeof this.opts.submit){for(var n=arguments.length,r=Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];i=this.opts.submit.apply(this,[t].concat(r))}return null!=t&&t.isImmediatePropagationStopped()||this.startLoading(),i}},{key:"startLoading",value:function(e){var t=this.$loadableButtons;null!=e&&e.$loadingElements&&(t=e.$loadingElements),b.default.start(),t.attr("disabled","disabled").addClass("is-loading"),E.rootDispatcher.dispatch({type:"CONTEXT_BAR_UPDATE_PRIMARY_ACTION",data:{disabled:!0,loading:!0}})}},{key:"stopLoading",value:function(e){var t=this.$loadableButtons;null!=e&&e.$loadingElements&&(t=e.$loadingElements),b.default.stop(),t.removeAttr("disabled").removeClass("is-loading"),E.rootDispatcher.dispatch({type:"CONTEXT_BAR_UPDATE_PRIMARY_ACTION",data:{disabled:!1,loading:!1}})}},{key:"disableHiddenInputs",value:function(){this.$form.find(".disable-inputs-when-hidden:visible :input").prop("disabled",!1),this.$form.find(".disable-inputs-when-hidden:not(:visible) :input").prop("disabled","disabled")}},{key:"_initializeButtons",value:function(){this.$form&&this.$form.attr("id")&&(this.$primaryButtons=this.$primaryButtons.add('.js-btn-primary[form="'+this.$form.attr("id")+'"]'),this.$loadableButtons=this.$loadableButtons.add('.js-btn-loadable[form="'+this.$form.attr("id")+'"]')),this.opts.disabledUntilDirty&&!this.isDirty&&(this.$primaryButtons.attr("disabled","disabled"),E.rootDispatcher.dispatch({type:"CONTEXT_BAR_UPDATE_PRIMARY_ACTION",data:{disabled:!0,loading:!1}})),v.default.bind(this.contextBarNode)}},{key:"_updateDirty",value:function(e){var t=e.target;t.classList.contains("js-no-dirty")||["form","input","textarea","select"].includes(t.nodeName.toLowerCase())&&("hidden"===t.type&&null===y.default(t).data("dirty-trigger")||(null==this.debounceValidate&&(this.debounceValidate=g.default.debounce(this._updateDirtyState,10,{leading:!0,trailing:!0})),this.debounceValidate()))}},{key:"_updateDirtyState",value:function(){return l(this._getInputValues(),this.initialValues)?this.makeClean():this.makeDirty(),v.default.refresh()}},{key:"_getInputValues",value:function(){var e=this.$form.find("input, select, textarea").not(".js-no-dirty");return g.default.map(e,function(e){var t=e.id,i=e.disabled,n=e.type,r=e.checked,s=e.value;return{id:t,value:s=["checkbox","radio"].includes(n)?r:s,disabled:i}})}}]),e}()).RTE_INITIALIZED_EVENT=T,f._dirtyForm=!1,t.default=f,Juzaweb.Forms=null!=t.default?t.default:t}),i(function(e,t){"use strict";function i(e){return e>999999999?"b":e>999999?"m":e>999?"k":null}function n(e){var t,i,n,r,s,o,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,l=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).noRound;if(null===a)return e;if(void 0!==l&&l&&(void 0,t=0===a?new RegExp("\\d+"):new RegExp("\\d+\\.(\\d{0,"+a+"})"),i=e.toString().match(t))){if(n=i[0],(r=i[1])&&r.length<a)for(s=a-r.length,o=0;o<s;o++)n+="0";return n}return Number(e).toFixed(a)}function r(e){var t,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:",";return null==e?"":((t=e.toString().split("."))[0]=t[0].replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1"+i),t.join("."))}Object.defineProperty(t,"__esModule",{value:!0}),t.condensed=function(e){function t(e){var t=n(e,s,{noRound:!0});return a||1!==s||(t=Number(t)),t}var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,o=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).forceZeroDecimal,a=void 0!==o&&o;if(null!=e){var l=e<0,u=Math.abs(e),c=void 0;switch(i(u)){case"b":c=t(u/1e9)+"b";break;case"m":c=t(u/1e6)+"m";break;case"k":c=t(u/1e3)+"k";break;default:c=r(t(u))}return l?"−"+c:c}},t.getRangeGroup=i,t.percentage=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments[1],i=Math.abs(e),s=t;return null==s&&(s=i<1&&0!==i?1:0),r(n(i,s),",")+"%"},t.withPrecision=n,t.roundToPrecision=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=Math.pow(10,t);return Math.round(Number(e)*i)/i},t.withDelimiter=r,t.parseInteger=function(e){var t=parseInt(e,10);return isFinite(t)||(t=0),t},t.parseFloatWithCommas=function(e){var t=(null==e?null:e.toString())||"";return t?Number(t.replace(/,/g,"")):0},t.isInteger=function(e){return!isNaN(e)&&parseInt(Number(e),10)===e},t.isFraction=function(e){return Math.floor(e)!==e},Juzaweb.Number=null!=t.default?t.default:t}));i(function(e,t){"use strict";function i(){return g.getCurrency(Juzaweb.store.settings.currency)}function n(e){return e.map(function(e){return e instanceof y?e:new y(e)})}function l(e){return isNaN(parseInt(e,10))?"0":e}function u(e){return e.toString().length-1}function d(e,t){return Number("0."+l(e)).toFixed(u(t))*t}function h(e){return e.replace(/[^0-9]/g,"")}function p(e,t){if(e instanceof y)return e.cents;var i=e.toString().trim(),n=1;return"-"===i.charAt(0)&&(n=-1,i=i.substring(1)),n*function(e,t){var i=t.decimal_mark,n=t.subunit_to_unit,s=e.split(f).map(h),o=e.match(f)||[],a=o.length,u=o[a-1],c=s[s.length-1],p=0,m=0;if(u===i){var g=new RegExp("[^0-9-"+i+"]","g"),v=e.replace(g,"").split(i),y=r(v,2);p=y[0],m=y[1]}else!a||!o.includes(i)&&2!==c.length?p=e.replace(/[^0-9]/g,""):(p=s.slice(0,a).join(""),m=s.slice(a,a+1).join(""));return(p=parseInt(l(p),10))*n+(m=d(m,n))}(i,t)}var f;Object.defineProperty(t,"__esModule",{value:!0});var m=a(O),g=a(c),v=/(\{\{\s*(\w+)\s*\}\})/,y=function(){function e(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];o(this,e),this.cents=n?p(t,i()):t}return s(e,[{key:"add",value:function(){for(var t=arguments.length,i=Array(t),r=0;r<t;r++)i[r]=arguments[r];return new e(n(i).reduce(function(e,t){return e+t.cents},this.cents),!1)}},{key:"sub",value:function(){for(var t=arguments.length,i=Array(t),r=0;r<t;r++)i[r]=arguments[r];return new e(n(i).reduce(function(e,t){return e-t.cents},this.cents),!1)}},{key:"mul",value:function(t){return new e(this.cents*t,!1)}},{key:"div",value:function(t){return new e(this.cents/t,!1)}},{key:"toFloat",value:function(){return this.cents/i().subunit_to_unit}},{key:"toFixed",value:function(e){return this.toFloat().toFixed(e)}},{key:"toString",value:function(){return e.format(this.toFloat(),e.moneyFormat())}},{key:"toUnencodedString",value:function(){return e.format(this.toFloat(),e.moneyUnencodedFormat())}},{key:"toDelimiteredString",value:function(){return e.formatWithDelimiters(this.cents/i().subunit_to_unit)}},{key:"valueOf",value:function(){return this.toFloat()}},{key:"isEqual",value:function(e){return p(e,i())===this.cents}},{key:"isZero",value:function(){return 0===this.cents}}],[{key:"moneyFormat",value:function(){return i().money_format}},{key:"moneyUnencodedFormat",value:function(){return i().money_in_emails_format}},{key:"format",value:function(t){var i,n,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.moneyUnencodedFormat(),o=void 0,a=void 0;if(null!=t){var l=t<0,u=Math.abs(Number(t)),c=s.match(v);if(c){switch(n=(i=r(c,3))[1],i[2]){case"amount_no_decimals":a=this.formatWithDelimiters(u,0);break;case"amount_with_comma_separator":a=this.formatWithDelimiters(u,2,".",",");break;case"amount_with_space_separator":a=this.formatWithDelimiters(u,2," ",",");break;case"amount_with_period_and_space_separator":a=this.formatWithDelimiters(u,2," ",".");break;case"amount_no_decimals_with_comma_separator":a=this.formatWithDelimiters(u,0,".",",");break;case"amount_no_decimals_with_space_separator":a=this.formatWithDelimiters(u,0," ");break;case"amount_with_apostrophe_separator":a=this.formatWithDelimiters(u,2,"'",".");break;default:a=this.formatWithDelimiters(u,2)}return o=s.replace(n,a),l?"−"+o:o}}}},{key:"formatWithCurrency",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Juzaweb.store.settings.currency,i=g.getCurrency(t).money_format;return this.format(e,i)}},{key:"formatWithDelimiters",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u(i().subunit_to_unit),n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:",",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:".",s=e.toFixed(t).split(".");return s[0]=s[0].replace(/(\d)(?=(\d{3})+\b)/g,"$1"+n),s.join(r)}},{key:"condensed",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.moneyFormat(),i=void 0,n=m.isInteger(e)?1:2,s=m.condensed(e,n);["B","M","K"].includes(i=s.charAt(s.length-1))?s=s.slice(0,-1):i="";var o=t.match(/(\{\{\s*(\w+)\s*\}\})/),a=r(o,1)[0];return t.replace(a,s+i+" ")}},{key:"invoicingFormat",value:function(e,t){var i=g.getCurrency(t).money_format;return 0===e?"Free":"USD"!==t||t!==Juzaweb.store.settings.currency?this.format(e,i)+" "+t:this.format(e,i)}}]),e}();t.default=y,f=/[',.]/g,Juzaweb.Money=null!=t.default?t.default:t}),i(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.from,i=void 0===t?1:t,n=e.to,r=e.inclusive;return Array((void 0===r||r?n+1:n)-i).join().split(",").map(function(e,t){return t+i})},Juzaweb.range=null!=t.default?t.default:t}),t=i(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(t){var i=this;o(this,e),this.promises=t||{},this.pageDependentPromises={},document.addEventListener("page:load",function(){i.pageDependentPromises={}})}return s(e,[{key:"requireScript",value:function(e){var t,i;if(!function(e){return null!=e.name&&"function"==typeof e.getModule}(e))throw new Error("Invalid Dependency Definition.");return t=this.promises,e.reloadAfterNavigation&&(t=this.pageDependentPromises),t[e.name]?t[e.name]:(i=function(e){var t=document.createElement("script");return Object.entries(e.attributes).forEach(function(e){var i=r(e,2),n=i[0],s=i[1];t.setAttribute(n,s)}),t}(e),t[e.name]=new Promise(function(t,n){function r(){i.removeEventListener("load",r),i.removeEventListener("error",s),t(e.getModule())}function s(e){i.removeEventListener("load",r),i.removeEventListener("error",s),n(e)}document.head.appendChild(i),i.addEventListener("load",r),i.addEventListener("error",s)}),t[e.name])}}]),e}();t.default=i}),i(function(e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(e){return r.requireScript(e)};var r=new(n(t).default);Juzaweb.asyncRequire=null!=i.default?i.default:i}),i(function(e,t){"use strict";function i(){return null==h&&(h=Promise.resolve(u.default.ajax("/admin/dashboard/token",{dataType:"json",global:!1})).then(function(e){return e.token})),h}function s(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;return i().then(function(i){return Promise.resolve(u.default.ajax(d+"/"+t.endpoint,{dataType:"json",method:"POST",global:!a,data:{token:i,q:e,source:t.source},success:function(){a=!1}}))}).catch(function(i){if(i.status===c&&n>1)return h=null,s(e,t,n-1);var r=i.responseJSON;return r&&r.message?Promise.reject(new Error("Query failed: "+r.message)):Promise.reject(new Error("Query failed: "+i.responseText))})}function o(e,t){for(var i,n={},r=0;r<e.length;r++){var s=e[r].query,o=e[r].config,a=o&&o.endpoint?o.endpoint:"queries",l=o&&o.source?o.source:"Juzaweb-home",u=s.match(m);null!=u&&(u=u.slice(1).join(":")),i=n[u=u+":"+a]||[[],[]],n[u]=i,i[0].push(s),i[1].push(t[r]),i[2]={endpoint:a,source:l}}return Object.values(n)}var a=!0;Object.defineProperty(t,"__esModule",{value:!0}),t.setToken=function(e){h=Promise.resolve(e)},t.categorizeQueriesByTable=o,t.query=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"queries",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Juzaweb-home";if("string"!=typeof e)throw new Error("unexpected query "+(void 0===e?"undefined":l(e))+" "+e);return new Promise(function(n){var a,l,u;(null==p||null==f)&&(a=p=[],l=f=[],setImmediate(function(){!function(e,t){var i,n,a,l=o(e,t),u=!0,c=!1,d=void 0;try{for(n=function(){var e=r(i.value,3),t=e[0],n=e[1];s(t,e[2]).then(function(e){n.forEach(function(t,i){return t(Promise.resolve(e[i]))})}).catch(function(e){n.forEach(function(t){return t(Promise.reject(e))})})},a=l[Symbol.iterator]();!(u=(i=a.next()).done);u=!0)n()}catch(e){c=!0,d=e}finally{try{!u&&a.return&&a.return()}finally{if(c)throw d}}}(a,l),p=null,f=null})),u={endpoint:t,source:i},p.push({query:e,config:u}),f.push(n)})},t.exportURL=function(e){return i().then(function(t){var i=u.default.param({q:e,format:"csv",source:"juzaweb-summary",token:t,beta:!0});return d+"/query?"+i})};var u=n($),c=403,d="https://analytics.juzaweb.vn",h=void 0,p=void 0,f=void 0,m=/FROM\s+(\w+)\b(?:.+?SINCE\s+([^\s]+)\b)?(?:.+?UNTIL\s+([^\s]+)\b)?/;Juzaweb.AnalyticsAPI=null!=t.default?t.default:t}),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};Juzaweb.StaleDataDetector=function(){function t(t,i){this._showBannerIfStale=e(this._showBannerIfStale,this),this.lastMysqlOrderCreatedAt=moment(i),this._noRecentOrders()||(this.$node=$(t),this._fetchLastReportifyOrderCreatedAt())}return t.prototype._noRecentOrders=function(){return moment().diff(this.lastMysqlOrderCreatedAt,"days")>1},t.prototype._fetchLastReportifyOrderCreatedAt=function(){return Juzaweb.AnalyticsAPI.query("SHOW order_created_at FROM sales SINCE -1d UNTIL today ORDER BY order_created_at DESC LIMIT 1").then(this._showBannerIfStale.bind(this)).catch(function(){})},t.prototype._showBannerIfStale=function(e){var t;if(t=moment(e.result.data[0][0]),this.lastMysqlOrderCreatedAt.diff(t,"minutes")>10)return this.$node.removeClass("hide"),this.$node.parents(".stale-data-wrapper").removeClass("hide")},t}()}.call(this),function(){var e;e='meta[name="csrf-token"]',Juzaweb.CSRFToken={get:function(){return $(e).attr("content")},update:function(){var t,i;return t=jQuery.Deferred(),0===$(e).length?(t.reject(),t.promise()):((i=$.ajax({type:"GET",url:"/admin/auth/token",global:!1})).fail(function(){return t.reject()}),i.done(function(i){return(i=i.slice(12))===Juzaweb.CSRFToken.get()?t.reject():($(e).attr("content",i),i!==Juzaweb.CSRFToken.get()?t.reject():t.resolve())}),t.promise())},updateOrRedirect:function(){return this.update().fail(function(){return $(window).off("beforeunload"),window.location="/admin/auth/login"})}},$.ajaxPrefilter(function(e,t,i){e.crossDomain||i.setRequestHeader("X-CSRF-Token",Juzaweb.CSRFToken.get())})}.call(this),i(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.humanizeList=function(e){if(i.default.isEmpty(e))return"";if(1===i.default.size(e))return e[0];if(2===i.default.size(e))return e.join(" and ");var t=i.default.last(e);return i.default.take(e,i.default.size(e)-1).join(", ")+", and "+t},t.pascalCase=function(e){var t=i.default.camelCase(e);return t.charAt(0).toUpperCase()+t.slice(1)},t.separatorSafeJSONStringify=function(e){return JSON.stringify(e).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")};var i=n(_);Juzaweb.String=null!=t.default?t.default:t}),function(){Juzaweb.DateHandler={setDateRangeCustom:function(e,t){var i;return this.activeKey="custom",(i=$("#dateRangeSelect")).find('[value="custom"]').length||i.prepend("<option value='custom'>Custom</option>"),i.val("custom"),this.setDateRange(e,t)},extractDate:function(e){var t,i,n,r,s,o,a,l,u;if("absolute"===e[0][0])return[e[0][1],e[1][1]];for(l=[],n=i=0,r=e.length;i<r;n=++i)o=(s=e[n])[0],u=s[1],a=s[2],t=Juzaweb.Time.nowShop().moment[o](u,a),l.push(Juzaweb.Time.fromShop(t).formatInShop());return l},setDateRangePreset:function(e){var t,i,n;return n=(i=this.extractDate(this.dateRangeFor(e)))[0],t=i[1],this.setDateRange(n,t),this.datePicker.updateButton(this.humanizedDateLabelFor(e))},dateChangeHandler:function(){return this.setDateRangeCustom(this.datePicker.startDate(),this.datePicker.endDate())},dateRangeFor:function(e){if(e)return Juzaweb.DateRangeDb.getPeriod(e)},humanizedDateLabelFor:function(e){return Juzaweb.DateRangeDb.getTitle(e)},syncDataToYear:function(e,t){return{title:e.title.substring(0,e.title.length-5)+t+")",days:{start_date:moment(e.days.start_date).year(t),end_date:moment(e.days.end_date).year(t)}}}}}.call(this),function(){var e=[].slice;Juzaweb.Mixin=function(){var t,i,n,r,s,o,a;for(o=arguments[0],t=0,n=(s=2<=arguments.length?e.call(arguments,1):[]).length;t<n;t++)for(i in r=s[t])a=r[i],o[i]=a}}.call(this);var P=i(function(e,t){"use strict";function i(e){var t,i=e;return-1===e.indexOf("//")&&"/"!==e[0]&&(i="/"+e),(t=document.createElement("a")).href=i,new URL(t.href)}function n(e){var t=e.password?":"+e.password:"";return[e.username?""+e.username+t+"@":"",e.host].join("")}function r(e){var t,i,n;if(!e)return{};if(!(t=e.replace(/&+/g,"&").replace(/^\?*&*|&+$/g,"")))return{};var r=t.split("&"),s={},o=void 0,a=void 0,u=void 0,c=!0,d=!1,h=void 0;try{for(n=r[Symbol.iterator]();!(c=(i=n.next()).done);c=!0)o=i.value.split("="),a=decodeURIComponent(o.shift().replace(/\+/g,"%20")),u=o.length?decodeURIComponent(o.join("=").replace(/\+/g,"%20")):null,void 0===s[a]?s[a]=u:l(s[a])?s[a].push(u):(s[a]=[s[a]],s[a].push(u))}catch(e){d=!0,h=e}finally{try{!c&&n.return&&n.return()}finally{if(d)throw h}}return s}function s(e){var t="";return Object.keys(e).forEach(function(i){var n,r,s;if(l(e[i])){var o={},u=!0,c=!1,d=void 0;try{for(r=e[i][Symbol.iterator]();!(u=(n=r.next()).done);u=!0)void 0!==(s=n.value)&&void 0===o[String(s)]&&(t+="&"+a(i,s),o[String(s)]=!0)}catch(e){c=!0,d=e}finally{try{!u&&r.return&&r.return()}finally{if(c)throw d}}}else void 0!==e[i]&&(t+="&"+a(i,e[i]))}),t.substring(1)}function o(e){return encodeURIComponent(String(e)).replace(/%20/g,"+")}function a(e,t){return o(e)+(null===t?"":"="+o(t))}function l(e){return"[object Array]"===Object.prototype.toString.call(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.getURL=i,t.getSegments=function(e){return e.pathname.substring(1).split("/")},t.authority=n,t.parseSearchString=r,t.buildSearchString=s,t.addQuery=function(e,t){var i=r(e.search);return Object.keys(t).forEach(function(e){void 0===i[e]?i[e]=t[e]:l(i[e])?i[e].push(t[e]):(i[e]=[i[e]],i[e].push(t[e]))}),e.search=s(i),e},t.setQuery=function(e,t){var i=r(e.search);return Object.keys(t).forEach(function(e){i[e]=t[e]}),e.search=s(i),e},t.origin=function(e){var t=i(e);return t.protocol+"//"+n(t)},Juzaweb.UrlMangler=null!=t.default?t.default:t}),N=(i(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={},n={findOrInit:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return i[e]||(i[e]=t)}};t.default=n,Juzaweb.VeryShortSession=null!=t.default?t.default:t}),i(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={track:function(){var e;null!=window.analytics&&(e=window.analytics).track.apply(e,arguments)}},Juzaweb.analyticsHelper=null!=t.default?t.default:t}),i(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CLEAN_ICON_MAP=t.TYPE_ICON_MAP=t.STORAGE=t.ROUTES=t.ENDPOINTS=t.ATTRS=t.CLASSES=t.RECENT_SEARCHES=void 0,t.RECENT_SEARCHES={LIST_SIZE:3,CATEGORY_NAME:"recent_searches"},t.CLASSES={DOCUMENT_WRAPPER_VISIBLE:"quick-search-is-visible",WRAPPER:"quick-search",WRAPPER_VISIBLE:"quick-search--is-visible",CLOSE_BTN:"quick-search__close-btn",SPINNER:"quick-search__spinner",SPINNER_VISIBLE:"quick-search__spinner--is-visible",SPINNER_FULL_PAGE:"quick-search__spinner--full-page",BOX:"quick-search__box",INPUT:"quick-search__input",RESULTS:"quick-search__results",NO_RESULTS:"quick-search__no-results",RESULTS_MESSAGE:"quick-search__results-message",LIST_ITEM:"quick-search__list-item",RESULTS_ITEM:"quick-search__item",RESULTS_ITEM_ACTIVE:"quick-search__item--is-active",RESULT_TITLE:"quick-search__item-title",INSTRUCTIONS_BANNER:"quick-search__instructions-banner",INSTRUCTIONS_BANNER_VISIBLE:"quick-search__instructions-banner--is-visible"},t.ATTRS={RESULT_TOTAL_INDEX:"data-qs-total-result-index",RESULT_HREF:"href",RESULT_CATEGORY_NAME:"data-qs-category-name",RESULT_TARGET:"data-qs-target",RESULT_INDEX:"data-qs-result-index",MORE:"data-qs-more",CONTINUE_SEARCH_LINK:"data-continue-search-link"},t.ENDPOINTS={SEARCH:"/admin/quick_search.json"},t.ROUTES={LOGIN:"/admin/authorization/login"},t.STORAGE={CATEGORY_PREFIX:"quick-search__",INSTRUCTIONS_BANNER_COUNT_PREFIX:"quick-search__instructions-banner-count__",RECENT_SEARCHES:"quick-search__recent-searches"},t.TYPE_ICON_MAP={Customer:"icon-customer",Product:"icon-product",Order:"icon-order"},t.CLEAN_ICON_MAP={orders:"icon-order",products:"icon-product",customers:"icon-customer"}}));(function(){var e;e=["rememberMe","home_date_range","homeSidebarDate","homeSidebarChannel"],window.SafeLocalStorage={get:function(e,t){var i;if(2!==arguments.length)throw"SafeLocalStorage developer error: You must supply a 2nd argument, a fallback/default value, to SafeLocalStorage.get()";try{i=localStorage.getItem(e);try{return"undefined"===(i=JSON.parse(i))?t:null!=i?i:t}catch(e){return"undefined"===i?t:null!=i?i:t}}catch(e){return t}},set:function(e,t){try{return localStorage.setItem(e,JSON.stringify(t))}catch(e){}},delete:function(e){try{return localStorage.removeItem(e)}catch(e){}},clear:function(){try{return localStorage.clear()}catch(e){}},clearUnsafeItems:function(){var t,i,n,r,s,o,a,l;try{for(l={},t=0,r=e.length;t<r;t++)n=e[t],null!==(a=this.get(n,null))&&(l[n]=a);for(o=this.clear(),i=0,s=e.length;i<s;i++)null!==(a=l[n=e[i]])&&this.set(n,a);return o}catch(e){}}}}).call(this);var L=i(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(window.SafeLocalStorage),r=function(){function e(t){var i=t.node,n=t.uid,r=t.hideAtCount;o(this,e),this._hideAtCount=r,this._storageKey=""+N.STORAGE.INSTRUCTIONS_BANNER_COUNT_PREFIX+n,this._node=i}return s(e,[{key:"hide",value:function(){this._node.classList.remove(N.CLASSES.INSTRUCTIONS_BANNER_VISIBLE)}},{key:"checkShow",value:function(){this._getCount()<this._hideAtCount?this._node.classList.add(N.CLASSES.INSTRUCTIONS_BANNER_VISIBLE):this.hide()}},{key:"incrementActionCount",value:function(){var e=this._getCount();"number"==typeof e&&(e++,i.default.set(this._storageKey,e))}},{key:"startActionCount",value:function(){"number"!=typeof this._getCount()&&i.default.set(this._storageKey,0)}},{key:"_getCount",value:function(){return i.default.get(this._storageKey,null)}}]),e}();t.default=r}),F=i(function(t){function i(e){var t,i=-1,n=e?e.length:0;for(this.clear();++i<n;)t=e[i],this.set(t[0],t[1])}function n(e){var t,i=-1,n=e?e.length:0;for(this.clear();++i<n;)t=e[i],this.set(t[0],t[1])}function r(e){var t,i=-1,n=e?e.length:0;for(this.clear();++i<n;)t=e[i],this.set(t[0],t[1])}function s(e,t){for(var i=e.length;i--;)if(c(e[i][0],t))return i;return-1}function o(e){return!(!d(e)||function(e){return!!S&&S in e}(e))&&(function(e){var t=d(e)?A.call(e):"";return t==f||t==m}(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}(e)?x:g).test(function(e){if(null!=e){try{return k.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(e))}function a(e,t){var i=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?i["string"==typeof t?"string":"hash"]:i.map}function l(e,t){var i=function(e,t){return null==e?void 0:e[t]}(e,t);return o(i)?i:void 0}function u(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new TypeError(h);var i=function(){var n,r=arguments,s=t?t.apply(this,r):r[0],o=i.cache;return o.has(s)?o.get(s):(n=e.apply(this,r),i.cache=o.set(s,n),n)};return i.cache=new(u.Cache||r),i}function c(e,t){return e===t||e!=e&&t!=t}function d(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}var h="Expected a function",p="__lodash_hash_undefined__",f="[object Function]",m="[object GeneratorFunction]",g=/^\[object .+?Constructor\]$/,v="object"==typeof e&&e&&e.Object===Object&&e,y="object"==typeof self&&self&&self.Object===Object&&self,_=v||y||Function("return this")(),b=Array.prototype,w=Function.prototype,T=Object.prototype,C=_["__core-js_shared__"],S=function(){var e=/[^.]+$/.exec(C&&C.keys&&C.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),k=w.toString,$=T.hasOwnProperty,A=T.toString,x=RegExp("^"+k.call($).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),E=b.splice,I=l(_,"Map"),D=l(Object,"create");i.prototype.clear=function(){this.__data__=D?D(null):{}},i.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},i.prototype.get=function(e){var t,i=this.__data__;return D?(t=i[e])===p?void 0:t:$.call(i,e)?i[e]:void 0},i.prototype.has=function(e){var t=this.__data__;return D?void 0!==t[e]:$.call(t,e)},i.prototype.set=function(e,t){return this.__data__[e]=D&&void 0===t?p:t,this},n.prototype.clear=function(){this.__data__=[]},n.prototype.delete=function(e){var t=this.__data__,i=s(t,e);return!(i<0||(i==t.length-1?t.pop():E.call(t,i,1),0))},n.prototype.get=function(e){var t=this.__data__,i=s(t,e);return i<0?void 0:t[i][1]},n.prototype.has=function(e){return s(this.__data__,e)>-1},n.prototype.set=function(e,t){var i=this.__data__,n=s(i,e);return n<0?i.push([e,t]):i[n][1]=t,this},r.prototype.clear=function(){this.__data__={hash:new i,map:new(I||n),string:new i}},r.prototype.delete=function(e){return a(this,e).delete(e)},r.prototype.get=function(e){return a(this,e).get(e)},r.prototype.has=function(e){return a(this,e).has(e)},r.prototype.set=function(e,t){return a(this,e).set(e,t),this},u.Cache=r,t.exports=u}),z=i(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var i,n=0;n<t.length;n++)(i=t[n]).enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),n=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.string=t}return i(e,[{key:"removeDiacritics",value:function(){return this._remove(this.string)}},{key:"_remove",value:function(){var e,t;if(!this.string||/^[a-zA-Z0-9_ ]+$/g.exec(this.string))return this.string;for(e=[{base:"A",letters:/[\u0041\u24B6\uFF21\u00C0\u00C1\u00C2\u1EA6\u1EA4\u1EAA\u1EA8\u00C3\u0100\u0102\u1EB0\u1EAE\u1EB4\u1EB2\u0226\u01E0\u00C4\u01DE\u1EA2\u00C5\u01FA\u01CD\u0200\u0202\u1EA0\u1EAC\u1EB6\u1E00\u0104\u023A\u2C6F]/g},{base:"AA",letters:/[\uA732]/g},{base:"AE",letters:/[\u00C6\u01FC\u01E2]/g},{base:"AO",letters:/[\uA734]/g},{base:"AU",letters:/[\uA736]/g},{base:"AV",letters:/[\uA738\uA73A]/g},{base:"AY",letters:/[\uA73C]/g},{base:"B",letters:/[\u0042\u24B7\uFF22\u1E02\u1E04\u1E06\u0243\u0182\u0181]/g},{base:"C",letters:/[\u0043\u24B8\uFF23\u0106\u0108\u010A\u010C\u00C7\u1E08\u0187\u023B\uA73E]/g},{base:"D",letters:/[\u0044\u24B9\uFF24\u1E0A\u010E\u1E0C\u1E10\u1E12\u1E0E\u0110\u018B\u018A\u0189\uA779]/g},{base:"DZ",letters:/[\u01F1\u01C4]/g},{base:"Dz",letters:/[\u01F2\u01C5]/g},{base:"E",letters:/[\u0045\u24BA\uFF25\u00C8\u00C9\u00CA\u1EC0\u1EBE\u1EC4\u1EC2\u1EBC\u0112\u1E14\u1E16\u0114\u0116\u00CB\u1EBA\u011A\u0204\u0206\u1EB8\u1EC6\u0228\u1E1C\u0118\u1E18\u1E1A\u0190\u018E]/g},{base:"F",letters:/[\u0046\u24BB\uFF26\u1E1E\u0191\uA77B]/g},{base:"G",letters:/[\u0047\u24BC\uFF27\u01F4\u011C\u1E20\u011E\u0120\u01E6\u0122\u01E4\u0193\uA7A0\uA77D\uA77E]/g},{base:"H",letters:/[\u0048\u24BD\uFF28\u0124\u1E22\u1E26\u021E\u1E24\u1E28\u1E2A\u0126\u2C67\u2C75\uA78D]/g},{base:"I",letters:/[\u0049\u24BE\uFF29\u00CC\u00CD\u00CE\u0128\u012A\u012C\u0130\u00CF\u1E2E\u1EC8\u01CF\u0208\u020A\u1ECA\u012E\u1E2C\u0197]/g},{base:"J",letters:/[\u004A\u24BF\uFF2A\u0134\u0248]/g},{base:"K",letters:/[\u004B\u24C0\uFF2B\u1E30\u01E8\u1E32\u0136\u1E34\u0198\u2C69\uA740\uA742\uA744\uA7A2]/g},{base:"L",letters:/[\u004C\u24C1\uFF2C\u013F\u0139\u013D\u1E36\u1E38\u013B\u1E3C\u1E3A\u0141\u023D\u2C62\u2C60\uA748\uA746\uA780]/g},{base:"LJ",letters:/[\u01C7]/g},{base:"Lj",letters:/[\u01C8]/g},{base:"M",letters:/[\u004D\u24C2\uFF2D\u1E3E\u1E40\u1E42\u2C6E\u019C]/g},{base:"N",letters:/[\u004E\u24C3\uFF2E\u01F8\u0143\u00D1\u1E44\u0147\u1E46\u0145\u1E4A\u1E48\u0220\u019D\uA790\uA7A4]/g},{base:"NJ",letters:/[\u01CA]/g},{base:"Nj",letters:/[\u01CB]/g},{base:"O",letters:/[\u004F\u24C4\uFF2F\u00D2\u00D3\u00D4\u1ED2\u1ED0\u1ED6\u1ED4\u00D5\u1E4C\u022C\u1E4E\u014C\u1E50\u1E52\u014E\u022E\u0230\u00D6\u022A\u1ECE\u0150\u01D1\u020C\u020E\u01A0\u1EDC\u1EDA\u1EE0\u1EDE\u1EE2\u1ECC\u1ED8\u01EA\u01EC\u00D8\u01FE\u0186\u019F\uA74A\uA74C]/g},{base:"OI",letters:/[\u01A2]/g},{base:"OO",letters:/[\uA74E]/g},{base:"OU",letters:/[\u0222]/g},{base:"P",letters:/[\u0050\u24C5\uFF30\u1E54\u1E56\u01A4\u2C63\uA750\uA752\uA754]/g},{base:"Q",letters:/[\u0051\u24C6\uFF31\uA756\uA758\u024A]/g},{base:"R",letters:/[\u0052\u24C7\uFF32\u0154\u1E58\u0158\u0210\u0212\u1E5A\u1E5C\u0156\u1E5E\u024C\u2C64\uA75A\uA7A6\uA782]/g},{base:"S",letters:/[\u0053\u24C8\uFF33\u1E9E\u015A\u1E64\u015C\u1E60\u0160\u1E66\u1E62\u1E68\u0218\u015E\u2C7E\uA7A8\uA784]/g},{base:"T",letters:/[\u0054\u24C9\uFF34\u1E6A\u0164\u1E6C\u021A\u0162\u1E70\u1E6E\u0166\u01AC\u01AE\u023E\uA786]/g},{base:"TZ",letters:/[\uA728]/g},{base:"U",letters:/[\u0055\u24CA\uFF35\u00D9\u00DA\u00DB\u0168\u1E78\u016A\u1E7A\u016C\u00DC\u01DB\u01D7\u01D5\u01D9\u1EE6\u016E\u0170\u01D3\u0214\u0216\u01AF\u1EEA\u1EE8\u1EEE\u1EEC\u1EF0\u1EE4\u1E72\u0172\u1E76\u1E74\u0244]/g},{base:"V",letters:/[\u0056\u24CB\uFF36\u1E7C\u1E7E\u01B2\uA75E\u0245]/g},{base:"VY",letters:/[\uA760]/g},{base:"W",letters:/[\u0057\u24CC\uFF37\u1E80\u1E82\u0174\u1E86\u1E84\u1E88\u2C72]/g},{base:"X",letters:/[\u0058\u24CD\uFF38\u1E8A\u1E8C]/g},{base:"Y",letters:/[\u0059\u24CE\uFF39\u1EF2\u00DD\u0176\u1EF8\u0232\u1E8E\u0178\u1EF6\u1EF4\u01B3\u024E\u1EFE]/g},{base:"Z",letters:/[\u005A\u24CF\uFF3A\u0179\u1E90\u017B\u017D\u1E92\u1E94\u01B5\u0224\u2C7F\u2C6B\uA762]/g},{base:"a",letters:/[\u0061\u24D0\uFF41\u1E9A\u00E0\u00E1\u00E2\u1EA7\u1EA5\u1EAB\u1EA9\u00E3\u0101\u0103\u1EB1\u1EAF\u1EB5\u1EB3\u0227\u01E1\u00E4\u01DF\u1EA3\u00E5\u01FB\u01CE\u0201\u0203\u1EA1\u1EAD\u1EB7\u1E01\u0105\u2C65\u0250]/g},{base:"aa",letters:/[\uA733]/g},{base:"ae",letters:/[\u00E6\u01FD\u01E3]/g},{base:"ao",letters:/[\uA735]/g},{base:"au",letters:/[\uA737]/g},{base:"av",letters:/[\uA739\uA73B]/g},{base:"ay",letters:/[\uA73D]/g},{base:"b",letters:/[\u0062\u24D1\uFF42\u1E03\u1E05\u1E07\u0180\u0183\u0253]/g},{base:"c",letters:/[\u0063\u24D2\uFF43\u0107\u0109\u010B\u010D\u00E7\u1E09\u0188\u023C\uA73F\u2184]/g},{base:"d",letters:/[\u0064\u24D3\uFF44\u1E0B\u010F\u1E0D\u1E11\u1E13\u1E0F\u0111\u018C\u0256\u0257\uA77A]/g},{base:"dz",letters:/[\u01F3\u01C6]/g},{base:"e",letters:/[\u0065\u24D4\uFF45\u00E8\u00E9\u00EA\u1EC1\u1EBF\u1EC5\u1EC3\u1EBD\u0113\u1E15\u1E17\u0115\u0117\u00EB\u1EBB\u011B\u0205\u0207\u1EB9\u1EC7\u0229\u1E1D\u0119\u1E19\u1E1B\u0247\u025B\u01DD]/g},{base:"f",letters:/[\u0066\u24D5\uFF46\u1E1F\u0192\uA77C]/g},{base:"g",letters:/[\u0067\u24D6\uFF47\u01F5\u011D\u1E21\u011F\u0121\u01E7\u0123\u01E5\u0260\uA7A1\u1D79\uA77F]/g},{base:"h",letters:/[\u0068\u24D7\uFF48\u0125\u1E23\u1E27\u021F\u1E25\u1E29\u1E2B\u1E96\u0127\u2C68\u2C76\u0265]/g},{base:"hv",letters:/[\u0195]/g},{base:"i",letters:/[\u0069\u24D8\uFF49\u00EC\u00ED\u00EE\u0129\u012B\u012D\u00EF\u1E2F\u1EC9\u01D0\u0209\u020B\u1ECB\u012F\u1E2D\u0268\u0131]/g},{base:"j",letters:/[\u006A\u24D9\uFF4A\u0135\u01F0\u0249]/g},{base:"k",letters:/[\u006B\u24DA\uFF4B\u1E31\u01E9\u1E33\u0137\u1E35\u0199\u2C6A\uA741\uA743\uA745\uA7A3]/g},{base:"l",letters:/[\u006C\u24DB\uFF4C\u0140\u013A\u013E\u1E37\u1E39\u013C\u1E3D\u1E3B\u017F\u0142\u019A\u026B\u2C61\uA749\uA781\uA747]/g},{base:"lj",letters:/[\u01C9]/g},{base:"m",letters:/[\u006D\u24DC\uFF4D\u1E3F\u1E41\u1E43\u0271\u026F]/g},{base:"n",letters:/[\u006E\u24DD\uFF4E\u01F9\u0144\u00F1\u1E45\u0148\u1E47\u0146\u1E4B\u1E49\u019E\u0272\u0149\uA791\uA7A5]/g},{base:"nj",letters:/[\u01CC]/g},{base:"o",letters:/[\u006F\u24DE\uFF4F\u00F2\u00F3\u00F4\u1ED3\u1ED1\u1ED7\u1ED5\u00F5\u1E4D\u022D\u1E4F\u014D\u1E51\u1E53\u014F\u022F\u0231\u00F6\u022B\u1ECF\u0151\u01D2\u020D\u020F\u01A1\u1EDD\u1EDB\u1EE1\u1EDF\u1EE3\u1ECD\u1ED9\u01EB\u01ED\u00F8\u01FF\u0254\uA74B\uA74D\u0275]/g},{base:"oi",letters:/[\u01A3]/g},{base:"ou",letters:/[\u0223]/g},{base:"oo",letters:/[\uA74F]/g},{base:"p",letters:/[\u0070\u24DF\uFF50\u1E55\u1E57\u01A5\u1D7D\uA751\uA753\uA755]/g},{base:"q",letters:/[\u0071\u24E0\uFF51\u024B\uA757\uA759]/g},{base:"r",letters:/[\u0072\u24E1\uFF52\u0155\u1E59\u0159\u0211\u0213\u1E5B\u1E5D\u0157\u1E5F\u024D\u027D\uA75B\uA7A7\uA783]/g},{base:"s",letters:/[\u0073\u24E2\uFF53\u00DF\u015B\u1E65\u015D\u1E61\u0161\u1E67\u1E63\u1E69\u0219\u015F\u023F\uA7A9\uA785\u1E9B]/g},{base:"t",letters:/[\u0074\u24E3\uFF54\u1E6B\u1E97\u0165\u1E6D\u021B\u0163\u1E71\u1E6F\u0167\u01AD\u0288\u2C66\uA787]/g},{base:"tz",letters:/[\uA729]/g},{base:"u",letters:/[\u0075\u24E4\uFF55\u00F9\u00FA\u00FB\u0169\u1E79\u016B\u1E7B\u016D\u00FC\u01DC\u01D8\u01D6\u01DA\u1EE7\u016F\u0171\u01D4\u0215\u0217\u01B0\u1EEB\u1EE9\u1EEF\u1EED\u1EF1\u1EE5\u1E73\u0173\u1E77\u1E75\u0289]/g},{base:"v",letters:/[\u0076\u24E5\uFF56\u1E7D\u1E7F\u028B\uA75F\u028C]/g},{base:"vy",letters:/[\uA761]/g},{base:"w",letters:/[\u0077\u24E6\uFF57\u1E81\u1E83\u0175\u1E87\u1E85\u1E98\u1E89\u2C73]/g},{base:"x",letters:/[\u0078\u24E7\uFF58\u1E8B\u1E8D]/g},{base:"y",letters:/[\u0079\u24E8\uFF59\u1EF3\u00FD\u0177\u1EF9\u0233\u1E8F\u00FF\u1EF7\u1E99\u1EF5\u01B4\u024F\u1EFF]/g},{base:"z",letters:/[\u007A\u24E9\uFF5A\u017A\u1E91\u017C\u017E\u1E93\u1E95\u01B6\u0225\u0240\u2C6C\uA763]/g}],t=0;t<e.length;t++)this.string=this.string.replace(e[t].letters,e[t].base);return this.string}}]),e}();t.default=n,Juzaweb.DiacriticRemover=null!=t.default?t.default:t}),R=i(function(e,t){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function n(e){return new u.default(e.toLowerCase()).removeDiacritics()}function r(e){var t,i,n=Array.from(e),r=!0,s=!1,a=void 0;try{for(i=n.entries()[Symbol.iterator]();!(r=(t=i.next()).done);r=!0){var l=o(t.value,2),u=l[0],c=l[1];Array.isArray(c)&&(n.splice(u,1),n=n.concat(c))}}catch(e){s=!0,a=e}finally{try{!r&&i.return&&i.return()}finally{if(s)throw a}}return n}function s(e,t){var i,n,r,s,o,a=[],l=e.length,u=t.length;if(0===l)return u;if(0===u)return l;i=l+1;do{a[i]=[]}while(i--);i=l+1;do{a[i][0]=i}while(i--);n=u+1;do{a[0][n]=n}while(n--);for(r=1;r<=l;r++)for(s=e.charAt(r-1),o=1;o<=u;o++){if(r===o&&a[r][o]>4)return l;var c=s===t.charAt(o-1)?0:1,d=a[r-1][o]+1,h=a[r][o-1]+1,p=a[r-1][o-1]+c;h<d&&(d=h),p<d&&(d=p),a[r][o]=d}return a[l][u]}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var i,n,r=[],s=!0,o=!1,a=void 0;try{for(n=e[Symbol.iterator]();!(s=(i=n.next()).done)&&(r.push(i.value),!t||r.length!==t);s=!0);}catch(e){o=!0,a=e}finally{try{!s&&n.return&&n.return()}finally{if(o)throw a}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function e(e,t){for(var i,n=0;n<t.length;n++)(i=t[n]).enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),l=i(F),u=i(z),c=function(){function e(t,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options=t||[],this._keyNames=i||[],this._maxEditDistance=2,this._excludeWords=[],this._memoizedGetNormalizedQuery=l.default(n),this._memoizedGetParameters=l.default(this._getParameters),this._memoizedGetParametersSplitBySpaces=l.default(this._getParametersSplitBySpaces)}return a(e,[{key:"rank",value:function(e){var t,i,n=this;return this.options?e?(t=this._memoizedGetNormalizedQuery(e),i=t.trim().split(" "),this.options.map(function(e){return e.lDistance=1===i.length?n._memoizedGetParametersSplitBySpaces(e).reduce(function(t,r){return n._excludeWords.includes(r)?t:n._memoizedGetParameters(e).some(function(e){return 0===e.indexOf(r)})?Math.min(t,s(r.slice(0,i[0].length),i[0])):Math.min(t,s(r.slice(0,i[0].length),i[0])+.1)},1/0):n._memoizedGetParameters(e).reduce(function(e,i){return n._excludeWords.includes(i)?e:Math.min(e,s(i.slice(0,t.length),t))},1/0),e}).filter(function(e){return e.lDistance<=n._maxEditDistance}).sort(function(e,t){return e.lDistance-t.lDistance})):this.options:[]}},{key:"_getParameters",value:function(e){return r(this._keyNames.map(function(t){return e[t]}).filter(function(e){return e})).map(function(e){return new u.default(e.toLowerCase()).removeDiacritics()})}},{key:"_getParametersSplitBySpaces",value:function(e){return r(this._keyNames.map(function(t){return e[t]}).filter(function(e){return e})).map(function(e){return e.split(" ")}).reduce(function(e,t){return t.concat(e)},[]).map(function(e){return new u.default(e.toLowerCase()).removeDiacritics()})}},{key:"keyNames",set:function(e){this._keyNames=e,this._memoizedGetParameters=l.default(this._getParameters),this._memoizedGetParametersSplitBySpaces=l.default(this._getParametersSplitBySpaces)}},{key:"maxEditDistance",set:function(e){isNaN(e)||(this._maxEditDistance=e)}},{key:"excludeWords",set:function(e){this._excludeWords=e?e.split(" ").map(function(e){return e.toLowerCase()}):[]}}]),e}();t.default=c,Juzaweb.LevenshteinDistanceRanker=null!=t.default?t.default:t}),M=i(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sanitizeQuery=function(e){return e.trim().replace(/\\/g,"\\\\").replace(/"/g,'\\"')},t.toLogin=function(){window.location.assign(N.ROUTES.LOGIN)},t.checkLoginRequired=function(e){return 401===e.status},t.assignResultPoints=function(e,t){var i,n,r,s,o=e.toLowerCase().split(/\s+/),a=t.title,l=t.description,u=t.terms,c=0,d=!0,h=!1,p=void 0;try{for(n=o[Symbol.iterator]();!(d=(i=n.next()).done);d=!0){var f=i.value,m=a.toLowerCase(),g=l?l.toLowerCase():"";m.includes(f)&&g.includes(f)?c+=30:m.includes(f)?c+=20:g.includes(f)&&(c+=10)}}catch(e){h=!0,p=e}finally{try{!d&&n.return&&n.return()}finally{if(h)throw p}}var v=!0,y=!1,_=void 0;try{for(s=u[Symbol.iterator]();!(v=(r=s.next()).done);v=!0)if(0===r.value.indexOf(e)){c+=5;break}}catch(e){y=!0,_=e}finally{try{!v&&s.return&&s.return()}finally{if(y)throw _}}return c},t.getNodesFromResults=function(e){var t,i,n=[],r=N.TYPE_ICON_MAP,s=!0,o=!1,a=void 0;try{for(i=e[Symbol.iterator]();!(s=(t=i.next()).done);s=!0){var l=t.value.node,u=l.reference.__typename;l.type=u,l.icon=r[u],n.push(l)}}catch(e){o=!0,a=e}finally{try{!s&&i.return&&i.return()}finally{if(o)throw a}}return n}}),j=i(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n($),r=n(_),a=function(){function e(t){o(this,e),this._categories=t}return s(e,[{key:"getResultCategories",value:function(e,t){var i=this;return new Promise(function(n){function r(i,r,s,o){return l.push(u({categoryName:r,title:s},i)),i.results.length>0&&(c=!0),t({categories:l,query:e,resultsPresent:c}),o&&n({categories:l,query:e,resultsPresent:c}),l}var s,o,a,l=[],c=!1,d=i._categories,h=Object.keys(d).length,p=Promise.resolve(),f=0,m=!0,g=!1,v=void 0;try{for(o=function(){var t=s.value,n=d[t],o=f===h-1,a=void 0;a=i._getRemoteResults.bind(i),p.then(function(){return a(t,e,n.resultsLimit)}).then(function(e){return r(e,t,n.title,o)}).catch(function(){}),f++},a=Object.keys(d)[Symbol.iterator]();!(m=(s=a.next()).done);m=!0)o()}catch(e){g=!0,v=e}finally{try{!m&&a.return&&a.return()}finally{if(g)throw v}}})}},{key:"getResults",value:function(e){this._categories[e];for(var t=arguments.length,i=Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];return this._getRemoteResults.apply(this,[e].concat(i))}},{key:"_getRemoteResults",value:function(e,t,n){function s(e){if(e>0){var t=c._currResults||[],i=e<t.length?e:t.length-1;if(t[i])return t[i].cursor}return null}var o,a=this,l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,c=this._categories[e];return c._$currentRequest&&c._$currentRequest.abort(),o=M.sanitizeQuery(t.toLowerCase()),new Promise(function(t,d){var h,p=s(l),f=[];p&&f.push(', "after": "'+p+'"'),u&&f.push(', "types": ["'+u+'"]'),h='{"quick_search":{"query": "'+o.replace(/[\t]+/g," ")+'", "first": '+n+f.join("")+"}}",a._categories[e]._$currentRequest=i.default.ajax({method:"POST",url:c.endpoint,headers:{"Content-Type":"application/json"},data:h}).done(function(i,n,s){var o,l=s.status,u=r.default.get(i,"data.shop.search");if(200!==l||void 0===u)return M.checkLoginRequired(s)?M.toLogin():void t({results:[],resultsAfter:0});(o=u.edges).length<1?t({results:[],resultsAfter:0}):(a._categories[e]._currResults=o,t({results:M.getNodesFromResults(o),resultsAfter:u.resultsAfterCount}))}).fail(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};"abort"!==e.statusText&&M.checkLoginRequired(s)?M.toLogin():d(e)})})}}]),e}();t.default=a}),B=i(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(t){var i=t.getResults,n=t.onChange,r=t.getCurrentResults;o(this,e),this._getResults=i,this._onChange=n,this._getCurrentResults=r}return s(e,[{key:"bindEvents",value:function(e){var t=this;e.addEventListener("change",function(e){var i,n=e.target,r=n.getAttribute(N.ATTRS.RESULT_CATEGORY_NAME);r&&(""===(i=n.value.trim())&&(i=null),t._filterCategories(r,i))})}},{key:"_filterCategories",value:function(e,t){var i=this;this._getResults(e,t).then(function(n){var r=i._prepCategory(e,function(e){return e.results=n.results,e.resultsAfter=n.resultsAfter,e.activeFilterType=t,e});return i._onChange(r,function(e,t){var i,n,r,s=0,o=!0,a=!1,l=void 0;try{for(n=t[Symbol.iterator]();!(o=(i=n.next()).done);o=!0){if((r=i.value).categoryName===e){r.results.length<1&&s--;break}s+=r.results.length}}catch(e){a=!0,l=e}finally{try{!o&&n.return&&n.return()}finally{if(a)throw l}}return s}(e,r)),n}).catch(function(){})}},{key:"_prepCategory",value:function(e,t){var i,n,s=this._getCurrentResults().categories,o=Array.from(s),a=!0,l=!1,u=void 0;try{for(n=o.entries()[Symbol.iterator]();!(a=(i=n.next()).done);a=!0){var c=r(i.value,2),d=c[0],h=c[1];h.categoryName===e&&(o[d]=t(h))}}catch(e){l=!0,u=e}finally{try{!a&&n.return&&n.return()}finally{if(l)throw u}}return o}}]),e}();t.default=i}),J=i(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(t){var i=t.buttonNode,n=t.inputNode,r=t.visibleClassName,s=t.onClear;o(this,e),this._buttonNode=i,this._inputNode=n,this._visibleClassName=r,this._onClear=s}return s(e,[{key:"bindEvents",value:function(){this._inputNode.addEventListener("keyup",this._checkButtonVisible.bind(this)),this._buttonNode.addEventListener("click",this._clearInput.bind(this))}},{key:"_checkButtonVisible",value:function(){this._inputNode.value.length<1?this._hide():this._show()}},{key:"_clearInput",value:function(){var e=this._inputNode,t=this._onClear,i=e.value;e.value="",e.focus(),this._hide(),"function"==typeof t&&t(i)}},{key:"_hide",value:function(){this._buttonNode.classList.remove(this._visibleClassName)}},{key:"_show",value:function(){this._buttonNode.classList.add(this._visibleClassName)}}]),e}();t.default=i}),q=i(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={store_results:{title:"Kết quả tìm kiếm",cached:!1,moreOption:!0,resultsLimit:10,endpoint:N.ENDPOINTS.SEARCH,filter:[{text:"tất cả"},{text:"sản phẩm",type:"PRODUCT"},{text:"đơn hàng",type:"ORDER"},{text:"khách hàng",type:"CUSTOMER"}]}}}),H=i(function(e,t){"use strict";function i(e){var t,i=e.querySelector("svg").cloneNode(!0);return i.setAttribute("focusable","false"),(t=document.createElement("div")).appendChild(i),t.innerHTML}function r(e){return/^https?:\/\//.test(e)&&!s(e)}function s(e){return 0===e.indexOf(location.origin)}function o(e){var t,i,n=e.url,o=e.navigation_path;return n?s(n)?(t=n.replace(location.origin+"/admin/","")).includes("api_permissions")?"(opens in a new tab)":t.split("/").map(function(e){return e.charAt(0).toUpperCase()+e.slice(1)}).join(" / "):r(n)?(i=n.replace(/^(https?:\/\/(www\.)?)?([^?]+)(\?.+)?/,"$3")).split("/").length>2?i.replace(/\/([^\/]+)?$/,""):i:Array.isArray(o)?o.length<2?null:o.join(" / "):n:null}Object.defineProperty(t,"__esModule",{value:!0}),t.nodeInView=function(e,t){var i=l.default(t),n=e.offsetHeight,r=e.offsetTop-t.offsetTop,s=r+n,o=t.offsetHeight;return r>i.scrollTop()&&s<i.scrollTop()+o},t.getResultItemFromTarget=function(e){return l.default(e).closest("."+N.CLASSES.RESULTS_ITEM)[0]},t.prepareRawCategories=function(e,t){var n,r,s,a,l,u,c,d,h,p,f,m=!1,g=!0,v=!1,y=void 0;try{for(r=e[Symbol.iterator]();!(g=(n=r.next()).done);g=!0){var _=n.value,b=_.categoryName,w=_.resultsAfter,T=_.results;if(!(T.length<1)){m=!0,s=t[b],a=T[T.length-1],_.titleDetails=s.titleDetails||"";var C=!0,S=!1,k=void 0;try{for(u=T[Symbol.iterator]();!(C=(l=u.next()).done);C=!0)"string"==typeof(c=l.value).icon&&(d=N.CLEAN_ICON_MAP[c.icon]||c.icon,(h=document.querySelector('symbol[id^="'+d+'"]'))&&(c.iconHTML=i(h))),!0===s.breadcrumb&&(c.breadcrumb=o(c),s.middleware&&s.middleware.breadcrumb&&(c.breadcrumb=s.middleware.breadcrumb(c.breadcrumb)))}catch(e){S=!0,k=e}finally{try{!C&&u.return&&u.return()}finally{if(S)throw k}}_.filter=s.filter,s.moreOption&&void 0!==w&&(f=p=s.resultsLimit,w<p&&(f=w),!a.more&&f>0&&T.push({more:b,title:"Hiện thêm "+f+" kết quả"}))}}}catch(e){v=!0,y=e}finally{try{!g&&r.return&&r.return()}finally{if(v)throw y}}return{categories:e,resultsPresent:m}},t.addToCategoryResults=function(e,t,i){var n=Array.from(t),r=a.default.find(n,{categoryName:e});return r.results.pop(),r.results=r.results.concat(i.results),r.resultsAfter=i.resultsAfter,r.hasResultsAfter=i.hasResultsAfter,n},t.actOnResult=function(e,t,i){var n=e.getAttribute(N.ATTRS.RESULT_HREF),s=e.getAttribute(N.ATTRS.RESULT_CATEGORY_NAME),o=r(n),a=e.getAttribute(N.ATTRS.RESULT_INDEX);return isNaN(a)||(a=Number(a)),r(n)&&(n=P.addQuery(P.getURL(n),{itcat:"quick-search",itterm:i}).href),o?window.open(n,"_blank"):window.location.assign(n),{categoryName:s,href:n,openInNewTab:o}};var a=n(_),l=n($)}),U=i(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n($),r=n(_),l=n(L),u=n(j),c=n(B),d=n(J),p=n(q),f=a(H),m=function(){function e(){var t,i,n,s=this;o(this,e),t=this._node=document.querySelector("."+N.CLASSES.WRAPPER),this._input=document.getElementById("primary-nav-search-input"),this._input&&(this._closeBtn=t.querySelector("."+N.CLASSES.CLOSE_BTN),this._spinner=t.querySelector("."+N.CLASSES.SPINNER),i=this._resultsService=new u.default(p.default),this._instructionsBanner=new l.default({node:t.querySelector("#"+N.CLASSES.INSTRUCTIONS_BANNER+"-top"),uid:"top-banner",hideAtCount:5}),this._currentQuery="",this._loadingResultsForQuery=null,this._results={wrapperNode:t.querySelector("."+N.CLASSES.RESULTS),resultsTemplate:null,noResultsTemplate:null,resultsMessageTemplate:null,rawResults:{categories:[],query:null},nodes:[],currentlyActive:{node:null,index:0}},n=document.querySelector('[data-template-name="'+N.CLASSES.RESULTS+'"]').innerHTML,this._results.resultsTemplate=r.default.template(n),n=document.querySelector('[data-template-name="'+N.CLASSES.NO_RESULTS+'"]').innerHTML,this._results.noResultsTemplate=r.default.template(n),n=document.querySelector('[data-template-name="'+N.CLASSES.RESULTS_MESSAGE+'"]').innerHTML,this._results.resultsMessageTemplate=r.default.template(n),this._openTrigger=null,this._noResultsStreak=0,this._bindMouseEvents(),this._bindKeyboardEvents(),new c.default({getResults:function(e,t){var n=p.default[e];return i.getResults(e,s._currentQuery,n.resultsLimit,null,t)},getCurrentResults:function(){return s._results.rawResults},onChange:function(e,t){s._showResults(e,s._currentQuery,t,"next"),s._input.focus()}}).bindEvents(t),new d.default({buttonNode:document.querySelector(".top-bar-search__clear-btn-wrapper"),inputNode:this._input,visibleClassName:"top-bar-search__clear-btn-wrapper--visible",onClear:function(){s._showResultsForQuery(""),s._close()}}).bindEvents(),E.rootDispatcher.register("QUICK_SEARCH_OPEN",function(e){var t=e.data;return s.open(t.trigger,t.initialQuery)}),this._lastFocus=null,this._focusRestrict())}return s(e,[{key:"open",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this._isOpen()||(this._node.classList.add(N.CLASSES.WRAPPER_VISIBLE),this._node.setAttribute("hidden","false"),this._node.setAttribute("aria-hidden","false"),document.documentElement.classList.add(N.CLASSES.DOCUMENT_WRAPPER_VISIBLE),this._lastFocus=document.activeElement,this._input.focus(),this._openTrigger=e,t?(this._input.value=t,this._showResultsForQuery(t)):this._showEmptyState())}},{key:"_close",value:function(){this._isOpen()&&(document.documentElement.classList.remove(N.CLASSES.DOCUMENT_WRAPPER_VISIBLE),this._node.setAttribute("hidden","true"),this._node.setAttribute("aria-hidden","true"),this._node.classList.remove(N.CLASSES.WRAPPER_VISIBLE),this._lastFocus.focus(),this._input.value="",this._showResultsForQuery(""))}},{key:"_focusRestrict",value:function(){var e=this;document.addEventListener("focus",function(t){var i=e._node.contains(t.target);e._isOpen()&&!i&&(t.stopPropagation(),e._input.focus())},!0)}},{key:"_isOpen",value:function(){return this._node.classList.contains(N.CLASSES.WRAPPER_VISIBLE)}},{key:"_bindMouseEvents",value:function(){var e=this,t=this._node,i=t.querySelector("."+N.CLASSES.BOX);t.addEventListener("click",this._close.bind(this)),i.addEventListener("click",function(t){t.stopPropagation();var i=t.target;f.getResultItemFromTarget(t.target)?t.metaKey||(t.preventDefault(),e._actOnActiveResult("click",t.metaKey)):"INPUT"!==i.tagName&&"SELECT"!==i.tagName&&(e._input.focus(),i.hasAttribute(N.ATTRS.CONTINUE_SEARCH_LINK))}),i.addEventListener("mousemove",function(t){var i,n=t.target,r=f.getResultItemFromTarget(n);r&&(i=Number(r.getAttribute(N.ATTRS.RESULT_TOTAL_INDEX)),e._makeResultActive(i))}),this._closeBtn.addEventListener("click",this._close.bind(this))}},{key:"_bindKeyboardEvents",value:function(){var e=this,t=this._node,i=this._input,n=w.debounce(this._showResultsForQuery.bind(this),300),r=function(){e._instructionsBanner.startActionCount()},s=function(t){switch(t.keyCode){case h.UP:t.preventDefault(),e._makeAdjacentResultActive("prev"),r();break;case h.DOWN:t.preventDefault(),e._makeAdjacentResultActive("next"),r()}},o=function(t){switch(t.keyCode){case h.ENTER:e._actOnActiveResult("key"),r();break;case h.ESCAPE:e._close(),r()}};t.addEventListener("keydown",s),t.addEventListener("keyup",o),i.addEventListener("keydown",function(t){var i=e._results.nodes;t.keyCode===h.TAB&&(i.length>0?(t.preventDefault(),i[0].focus(),e._makeResultActive(0)):e._close()),s(t)}),i.addEventListener("keyup",o),t.addEventListener("focus",function(t){var i,n=t.target;n.classList.contains(N.CLASSES.RESULTS_ITEM)&&(i=Number(n.getAttribute(N.ATTRS.RESULT_TOTAL_INDEX)),e._makeResultActive(i))},!0),i.addEventListener("keyup",function(t){var i=t.target;switch(t.keyCode){case h.ENTER:case h.ESCAPE:break;default:if(e._isOpen()&&""===i.value.trim())return void e._close();e._isOpen()||e.open(),i.value!==e._currentQuery&&(e._resetCurrentlyActiveNode(),n(i.value))}})}},{key:"_resetCurrentlyActiveNode",value:function(){this._results.currentlyActive.node=null}},{key:"_showEmptyState",value:function(){this._instructionsBanner.hide(),this._resetCurrentlyActiveNode()}},{key:"_showResultsMessage",value:function(e,t){var i=this._results;i.wrapperNode.innerHTML=i.resultsMessageTemplate({title:e,description:t}),this._instructionsBanner.hide(),this._resetCurrentlyActiveNode()}},{key:"_showNoResults",value:function(e){var t=this._results;t.wrapperNode.innerHTML=t.noResultsTemplate({query:e,urlQuery:encodeURI(e),noResultsStreak:this._noResultsStreak}),this._instructionsBanner.hide(),this._resetCurrentlyActiveNode(),this._noResultsStreak++}},{key:"_showResultsForQuery",value:function(e){var t,i,n,r=this,s=this._results;return this._currentQuery=e,s.wrapperNode.innerHTML="",this._resetCurrentlyActiveNode(),t=function(e){r._spinner.classList.add(N.CLASSES.SPINNER_VISIBLE),e?r._spinner.classList.add(N.CLASSES.SPINNER_FULL_PAGE):r._spinner.classList.remove(N.CLASSES.SPINNER_FULL_PAGE)},i=function(){r._spinner.classList.remove(N.CLASSES.SPINNER_VISIBLE)},e.length<1?(this._showEmptyState(),i(),null):(n=!0,t(!0),{query:e},this._resultsService.getResultCategories(e,function(e){var i,o=e.categories,a=e.query,l=e.resultsPresent;n?r._showResults(o,a,0):(l&&t(!1),(i=s.currentlyActive.index)>s.nodes.length&&(i=0),r._showResults(o,a,i)),n=!1}).then(function(e){var t=e.resultsPresent,n=e.query;return""===r._currentQuery.trim()&&i(),n!==r._currentQuery?null:(i(),t?r._noResultsStreak=0:r._showNoResults(n),null)}).catch(function(){i(),r._showResultsMessage("Có lỗi xảy ra","Xin hãy thử lại sau.")}))}},{key:"_showResults",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(this._currentQuery===t){var r=f.prepareRawCategories(e,p.default,t),s=r.categories,o=r.resultsPresent;this._showResultsLiteral(s,t,i,n),o&&this._loadingResultsForQuery!==t&&(this._instructionsBanner.incrementActionCount(),this._instructionsBanner.checkShow()),this._loadingResultsForQuery!==t&&(this._loadingResultsForQuery=t)}}},{key:"_showResultsLiteral",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r=this._results;this._results.rawResults={categories:e,query:t},r.wrapperNode.innerHTML=r.resultsTemplate({categories:e,query:t}),this._results.nodes=this._node.getElementsByClassName(N.CLASSES.RESULTS_ITEM),this._makeResultActive(i,n)}},{key:"_loadMoreForCategory",value:function(e){var t=this;if(!this._loadingMore){var i=this._resultsService,n=p.default[e],r=this._results.rawResults,s=r.categories,o=r.query,a=s.filter(function(t){return t.categoryName===e})[0],l=a.results.length-1,u=n.cached?null:n.resultsLimit,c=document.activeElement.getAttribute(N.ATTRS.RESULT_TOTAL_INDEX);this._loadingMore=!0,i.getResults(e,o,u,l,a.activeFilterType).then(function(i){var n,r=f.addToCategoryResults(e,s,i);return t._results.wrapperNode.removeAttribute("aria-live"),t._showResults(r,o,t._results.currentlyActive.index,"next"),t._results.wrapperNode.setAttribute("aria-live","assertive"),c&&!isNaN(c)&&(n=Number(c),t._results.nodes[n].focus()),t._loadingMore=!1,r}).catch(function(){t._loadingMore=!1}),this._input.focus()}}},{key:"_actOnActiveResult",value:function(e){var t,i=this._results,n=i.currentlyActive,r=i.rawResults,s=document.activeElement,o=n.node;s.classList.contains(N.CLASSES.CLOSE_BTN)?this._close():o&&((t=o.getAttribute(N.ATTRS.MORE))?({query:this._currentQuery,categoryName:o.getAttribute(N.ATTRS.RESULT_CATEGORY_NAME)},this._loadMoreForCategory(t)):({query:this._currentQuery,triggerEvent:e,categoryName:o.getAttribute(N.ATTRS.RESULT_CATEGORY_NAME),resultTitle:o.querySelector("."+N.CLASSES.RESULT_TITLE).textContent.trim(),href:o.getAttribute(N.ATTRS.RESULT_HREF)},f.actOnResult(o,r.categories,this._currentQuery).openInNewTab||this._close()))}},{key:"_makeAdjacentResultActive",value:function(e){var t,i=this._results,n=i.nodes,r=i.currentlyActive;r.node&&((t="next"===e?r.index+1:r.index-1)>=n.length?t=0:t<0&&(t=n.length-1),this._makeResultActive(t,e))}},{key:"_makeResultActive",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=this._results,s=r.nodes,o=r.currentlyActive,a=r.wrapperNode,l=s[e];if(l){if(o.node&&o.index!==e&&o.node.classList.remove(N.CLASSES.RESULTS_ITEM_ACTIVE),t||n){var u=i.default(a),c=l.offsetTop-a.offsetTop,d=a.offsetHeight,h=l.offsetHeight;f.nodeInView(l,a)||("next"===t?u.scrollTop(c-d+h+10):("prev"===t||n)&&u.scrollTop(c-10))}l.classList.add(N.CLASSES.RESULTS_ITEM_ACTIVE),document.activeElement.classList.contains(N.CLASSES.RESULTS_ITEM)&&l.focus(),this._results.currentlyActive={node:l,index:e}}}}]),e}();t.default=m});i(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(U);t.default=i.default,Juzaweb.QuickSearch=null!=t.default?t.default:t});var V=i(function(e,t){"use strict";function i(e){return!e.disabled&&function(e){return Boolean(e.offsetWidth||e.offsetHeight||e.getClientRects().length)}(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.findAll=function(e){var t=e.querySelectorAll(n);return Array.from(t).filter(i)};var n='a[href], input:not([disabled]):not([type="hidden"]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), [tabindex]:not([tabindex="-1"]), [contenteditable], iframe';Juzaweb.Focusable=null!=t.default?t.default:t}),W=i(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(D),n=function(e){var t,i;if(e&&e.__esModule)return e;if(t={},null!=e)for(i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}(S);t.default=function(e,t){if("abort"!==t){switch(e.status){case 402:n.error("Gói dịch vụ bạn đang sử dụng không hỗ trợ tính năng này.");break;case 403:n.error("Bạn không có quyền truy cập trang này.");break;case 404:n.error("Trang bạn muốn truy cập không tồn tại.");break;case 422:n.error("Không thể xử lý yêu cầu của bạn.");break;case 429:n.error("Số request vượt quá giới hạn. Vui lòng thử lại sau.");break;case 500:n.error("Có lỗi xảy ra.");break;default:n.error("Có sự cố xảy ra.")}i.default.stop()}},Juzaweb.handleError=null!=t.default?t.default:t}),G=i(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lock=function(){var e=document.getElementById(n);r=window.scrollY,document.body.classList.add(i),null!=e&&(e.scrollTop=r)},t.unlock=function(){window.requestAnimationFrame(function(){document.body.classList.remove(i)})};var i="helper--scroll-lock",n="wrapper",r=0;Juzaweb.ScrollLock=null!=t.default?t.default:t}),Y=(i(function(e,t){"use strict";function i(e){var t,i;if(e&&e.__esModule)return e;if(t={},null!=e)for(i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var i,n=0;n<t.length;n++)(i=t[n]).enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),s=n($),o=n(f),a=i(V),l=i(k),u=n(W),c=n(D),d=i(m),p=i(G),g=i(h),v={BASE:"ui-modal",BODY:"ui-modal__body",CLOSE_BUTTON:"ui-modal__close-button",SECTION:"ui-modal__section"},y={HEADING_SUFFIX:"_heading"},_={BASE:{VISIBLE:"ui-modal--is-visible",TRANSITIONING:"ui-modal--is-transitioning"},BODY:{SHADOW:"ui-modal__body--shadow",BOTTOM_SHADOW:"ui-modal__body--bottom-shadow",TOP_SHADOW:"ui-modal__body--top-shadow"},BACKDROP:{VISIBLE:"ui-modal-backdrop--is-visible"},CONTENTS:{VISIBLE:"ui-modal-contents--is-visible"}},b={INSTANT:"ui-modal--instant"},C={BEFORE_SHOW:"ui-modal:before-show",SHOW:"ui-modal:show",SHOW_REMOTE:"ui-modal:show-remote",HIDE:"ui-modal:hide",HIDE_ALL:"ui-modal:hide-all",AFTER_HIDE:"ui-modal:after-hide",REMOTE_REQUEST_FINISHED:"ui-modal:remote-request-finished"},S="ui-modal",A="UIModalBackdrop",x="UIModalContents",E=void 0,I=void 0,O=function(){function e(t){var i,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.hide=this.hide.bind(this),this.show=this.show.bind(this),this.openAfterClose=this.openAfterClose.bind(this),this.toggleBodyScrollShadow=this.toggleBodyScrollShadow.bind(this),this.focusRestrict=this.focusRestrict.bind(this),this.node=t,this.options=r,this.$contentContainer=s.default("#"+x),!this.$contentContainer.length)throw new Error("Couldn't find a UiModal container on the current page.");if(!this.node)throw new Error("A valid node is required to create a modal. Placeholder node: "+this.options.placeholder.attributes["data-modal-context-ref-for"].textContent);this.id=this.options.id||this.node.id,i=void 0,n=void 0,this.options.size&&(i=this.options.size.height,n=this.options.size.width),this.size={height:i||this.optionFromAttribute("height"),width:n||this.optionFromAttribute("width")},this.remote=this.options.contentFrom||this.optionFromAttribute("contentFrom"),this.remote&&this.$contentContainer.append(this.node),this.reloadAlways=this.options.reloadAlways||this.optionFromAttribute("modalReloadAlways"),this.rebindAlways=this.options.rebindAlways||this.optionFromAttribute("rebindAlways"),this.preload=this.options.preload||this.optionFromAttribute("preload"),this.startVisible=this.options.startVisible||this.optionFromAttribute("startVisible"),this.$modal=s.default(this.node),this.$body=this.$modal.find("."+v.BODY),this.$title=this.$modal.find("#"+(this.id+y.HEADING_SUFFIX)),E=s.default("#"+A),this.lastFocus=document.activeElement,this.loadingRemote=!1,this.request=null,this.lastScrollPosition=null,this.firstElement=null,this.lastElement=null,this.isOpen=!1,this.appFrame=document.querySelector("."+T.Classes.BASE),this.preload&&this.fetchHTML(),this.startVisible&&this.show(this.options)}return r(e,null,[{key:"hide",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];null!=I&&I.hide(),e||o.default.dispatch({type:C.HIDE_ALL})}},{key:"isVisible",value:function(){return null!=I}}]),r(e,[{key:"dispatch",value:function(e){return o.default.dispatch({type:e,data:this})}},{key:"optionFromAttribute",value:function(e){return!(!this.node.dataset[e]||"false"===this.node.dataset[e])&&this.node.dataset[e]}},{key:"hide",value:function(){return this.isOpen=!1,this.unlockScroll(),E.removeClass(_.BACKDROP.VISIBLE),this.prepareTransition(),this.$modal.removeClass(_.BASE.VISIBLE).attr({"aria-hidden":!0}).off("."+S),this.hideContentContainer(),this.$body.off("."+S),I=null,null!=this.lastFocus&&this.lastFocus.focus(),this.dispatch(C.HIDE)}},{key:"hideContentContainer",value:function(){var e=this;return this.$modal.hasClass(b.INSTANT)?(this.$contentContainer.removeClass(_.CONTENTS.VISIBLE),this.dispatch(C.AFTER_HIDE)):this.$modal.one(d.transitionEnd(),function(){return e.$contentContainer.removeClass(_.CONTENTS.VISIBLE),e.dispatch(C.AFTER_HIDE)})}},{key:"show",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this.isOpen){if(document.body.contains(this.node)||(this.node=document.getElementById(this.id),this.$modal=s.default(this.node),this.$contentContainer=s.default("#"+x)),this.isOpen=!0,this.shouldFetchRemote())return void this.fetchHTML(t);t.content&&this.appendContent(t.content),this.setModalSize(t.size),I&&I.isVisible()?(o.default.register(C.AFTER_HIDE,this.openAfterClose),e.hide()):this.open()}}},{key:"openAfterClose",value:function(){return o.default.remove(C.AFTER_HIDE,this.openAfterClose),this.open()}},{key:"setModalSize",value:function(e){var t="",i="";return null!=e&&e.width?t=e.width+"px":this.size.width&&(t=this.size.width+"px"),null!=e&&e.height?i=e.height+"px":this.size.height&&(i=this.size.height+"px"),this.$modal.css({width:t}),this.$body.css({height:i})}},{key:"prepareTransition",value:function(){var e=this;this.$modal.hasClass(b.INSTANT)||(this.$modal.one(d.transitionEnd(),function(){return e.$modal.removeClass(_.BASE.TRANSITIONING)}),this.$modal.addClass(_.BASE.TRANSITIONING))}},{key:"shouldFetchRemote",value:function(){return(!(null!=this.contentFetched)||this.reloadAlways)&&this.remote&&!this.loadingRemote}},{key:"open",value:function(){var e=this;return this.dispatch(C.BEFORE_SHOW),this.setupModalEvents(),this.initializeScrollShadow(),this.lastFocus=document.activeElement,function(e){I=e}(this),this.lockScroll(),this.resetModalBodyScroll(),E.addClass(_.BACKDROP.VISIBLE),this.$contentContainer.addClass(_.CONTENTS.VISIBLE),this.prepareTransition(),window.requestAnimationFrame(function(){e.$modal.addClass(_.BASE.VISIBLE).attr({"aria-hidden":!1,tabindex:-1}).focus(),e.dispatch(C.SHOW),e.remote&&e.dispatch(C.SHOW_REMOTE);var t=e.focusable();return e.firstElement=t[0],e.lastElement=t[t.length-1],e.lastElement})}},{key:"resetModalBodyScroll",value:function(){null!=this.$body[0]&&(this.$body[0].scrollTop=0)}},{key:"setupModalEvents",value:function(){return this.$modal.on("click."+S,"."+v.CLOSE_BUTTON,this.hide).on("keydown."+S,this.focusRestrict)}},{key:"initializeScrollShadow",value:function(){this.$body.length&&(this.$body.on("scroll."+S,w.debounce(this.toggleBodyScrollShadow,50)),this.toggleBodyScrollShadow())}},{key:"startRemoteLoad",value:function(){return this.preload||null!=c.default&&c.default.start(),this.loadingRemote=!0,this.loadingRemote}},{key:"stopRemoteLoad",value:function(){return this.preload||null!=c.default&&c.default.stop(),this.loadingRemote=!1,this.loadingRemote}},{key:"fetchHTML",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.startRemoteLoad(),this.request=s.default.ajax({dataType:"html",url:this.remote,data:t.data}),this.request.done(function(i){e.appendContent(i),e.preload||(e.isOpen=!1,e.show(t))}),this.request.fail(u.default),this.request.always(function(){return e.request=null,e.stopRemoteLoad()})}},{key:"appendContent",value:function(e){return this.contentFetched=!0,this.$modal.html(e),this.$body=this.$modal.find("."+v.BODY),this.$modal.on("click."+S,"."+v.CLOSE_BUTTON,this.hide)}},{key:"onClose",value:function(t){var i=this;return o.default.register(e.EVENTS.HIDE,function n(r){r.data.id===i.id&&(o.default.remove(e.EVENTS.HIDE,n),t())})}},{key:"toggleBodyScrollShadow",value:function(){var e=this;return window.requestAnimationFrame(function(){return l.update(e.$body[0])})}},{key:"focusRestrict",value:function(e){var t=void 0;this.isVisible()&&e.which===g.TAB&&(t=this.focusable(),this.lastElement=t[t.length-1],e.stopPropagation(),e.shiftKey||this.lastElement!==document.activeElement?e.shiftKey&&this.firstElement===document.activeElement&&(this.lastElement.focus(),e.preventDefault()):(this.firstElement.focus(),e.preventDefault()))}},{key:"focusable",value:function(){return a.findAll(this.$modal[0])}},{key:"isVisible",value:function(){return this.$modal.hasClass(_.BASE.VISIBLE)&&document.body.contains(this.node)}},{key:"lockScroll",value:function(){this.appFrame?T.lockScroll():p.lock()}},{key:"unlockScroll",value:function(){this.appFrame?T.unlockScroll():p.unlock()}},{key:"title",get:function(){return this.$title.text()},set:function(e){this.$title.text(e)}}]),e}();O.CLASSES=v,O.STATES=_,O.EVENTS=C,O.EVENT_NAMESPACE=S,O.BACKDROP_ID=A,t.default=O,s.default(document).keyup(function(e){e.keyCode===g.ESCAPE&&O.hide()}),s.default(function(){(E=s.default("#"+A)).on("touchmove",function(){return!1})}),Juzaweb.UIModal=null!=t.default?t.default:t}),i(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var i,n=0;n<t.length;n++)(i=t[n]).enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),n=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.node=t,this.announceNode=this._makeAnnounceNode()}return i(e,[{key:"announce",value:function(e){this.announceNode.textContent=e}},{key:"_makeAnnounceNode",value:function(){var e=document.createElement("div");return e.classList.add("helper--visually-hidden"),e.setAttribute("role","status"),e.setAttribute("aria-live","polite"),this.node.parentElement.appendChild(e),e}}]),e}();t.default=n,Juzaweb.AccessibilityAnnouncer=null!=t.default?t.default:t}));i(function(){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(){Array.from(document.querySelectorAll("[data-searchable-select]")).forEach(function(e){return e.hasAttribute("data-has-searchable-select-controller")?null:new p(e)})}var n=function(){function e(e,t){for(var i,n=0;n<t.length;n++)(i=t[n]).enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),r=e(f),s=e(x),o=e(R),a=e(Y),l="next-list__item--is-selected",u="next-list__item--is-applied",c="searchable-select-group-divider",d=function(){function e(i,n,r){t(this,e),this.resultsNode=i,this.inputNode=n,this.accessibilityAnnouncer=r}return n(e,[{key:"routeEvent",value:function(e){var t=null;switch(e.which){case h.DOWN:this._selectNextOption(),e.stopPropagation(),e.preventDefault();break;case h.UP:this._selectPreviousOption(),e.stopPropagation(),e.preventDefault();break;case h.ENTER:t=this._getSelectedItem(),e.stopPropagation(),e.preventDefault();break;case h.TAB:t=this._getSelectedItem()}return t}},{key:"setOptionSelected",value:function(e,t){t?(e.classList.add(l),e.parentNode.parentNode.scrollTop=e.offsetTop,this.accessibilityAnnouncer.announce(e.textContent)):e.classList.remove(l)}},{key:"_selectNextOption",value:function(){var e=this.resultsNode.querySelector("."+l);e&&e.nextElementSibling?(this.setOptionSelected(e,!1),this.setOptionSelected(e.nextElementSibling,!0)):e||this.resultsNode.firstChild.classList.contains("is-disabled")||this.setOptionSelected(this.resultsNode.firstChild,!0)}},{key:"_selectPreviousOption",value:function(){var e=this.resultsNode.querySelector("."+l);e&&e.previousSibling&&(this.setOptionSelected(e,!1),this.setOptionSelected(e.previousSibling,!0))}},{key:"_getSelectedItem",value:function(){return this.resultsNode.querySelector("."+l)}}]),e}(),p=function(){function e(i){if(t(this,e),this.node=i,this.node.dataset.hasSearchableSelectController=!0,this.selectNode=this.node.querySelector("[data-searchable-select-select]"),this.inputNode=this.node.querySelector("[data-searchable-select-input]"),this.resultsNode=this.node.querySelector("[data-searchable-select-results]"),this.popover=s.default.for(this.resultsNode),this.normalIcon=this.inputNode.nextElementSibling.children[0],this.removeIcon=this.inputNode.nextElementSibling.children[1],this.options=this._parseOptions(),this.optionsRanker=new o.default(this.options,["textContent","value","alias"]),this.accessibilityAnnouncer=new a.default(this.selectNode),this.keyboardEvents=new d(this.resultsNode,this.inputNode,this.accessibilityAnnouncer),this.optionsRanker.maxEditDistance=this.selectNode.dataset.maxEditDistance,this.optionsRanker.excludeWords=this.selectNode.dataset.excludeWords,this.isEmptyAllowed=this.options.some(function(e){return!e.value}),this.isQueryEmpty=!0,this._initializeResults(),this._setupForAccessibility(),this._setupEventListeners(),this._clearButtonPressed=this._clearButtonPressed.bind(this),this._pickOption=this._pickOption.bind(this),this._onNewOptions=this._onNewOptions.bind(this),this.node.hasAttribute("data-searchable-select-event-name")){var n=this.node.getAttribute("data-searchable-select-event-name");this.optionPickedEvent="searchable-select:"+n+":option_picked",this.receiveNewOptionsEvent="searchable-select:"+n+":update_options",r.default.register(this.receiveNewOptionsEvent,this._onNewOptions).bindToNode(this.node),r.default.dispatch({type:this.optionPickedEvent,value:this.selectNode.value})}}return n(e,[{key:"updateResults",value:function(e){var t,i,n;this.isQueryEmpty=!e,this._clearResults(),t=this.optionsRanker.rank(e),this._appendResults(t),0===t.length?this.accessibilityAnnouncer.announce("No results found"):(i=t.filter(function(e){return e.value}).length,n="result"+(t.length>1?"s":""),this.accessibilityAnnouncer.announce(i+" "+n))}},{key:"handleKeyboard",value:function(e){var t,i=this.keyboardEvents.routeEvent(e);e.which===h.ENTER?this.isEnterKeyDown=!0:e.which===h.ESCAPE&&this.popover.isActive()&&(this.popoverKeyUpActive=!0),i?(t=this.options.find(function(e){return e.value===i.dataset.value}),this._pickOption(t)):e.which===h.ENTER&&this.popover.deactivate()}},{key:"_pickOption",value:function(e){var t,i=this;this.option=e,this.selectNode.value=this.option.value,this.selectNode.dataset.textContent=this.option.textContent,this.inputNode.value=this.option.textContent,this.inputNode.placeholder=this.inputNode.value,this.optionPickedEvent&&r.default.dispatch({type:this.optionPickedEvent,value:this.selectNode.value}),this.selectNode.dispatchEvent(new CustomEvent("change")),this.accessibilityAnnouncer.announce(this.option.textContent+" selected"),(t=this.resultsNode.querySelector("."+u))&&t.classList.remove(u),Array.from(this.resultsNode.children).find(function(e){return e.dataset.value===i.option.value}).classList.add(u),this.isEmptyAllowed&&this.option.value?this._showClearButton():this._hideClearButton(),this.popover.deactivate()}},{key:"_onNewOptions",value:function(e){function t(e,t){var i;if("string"==typeof e||e instanceof String)(i=document.createElement("option")).setAttribute("value",e),i.appendChild(document.createTextNode(e)),t.appendChild(i);else if(e===Object(e)){var n=e.value,r=e.textContent||n,s=document.createElement("option");s.setAttribute("value",n),s.appendChild(document.createTextNode(r)),e.alias&&(s.dataset.alias=e.alias),t.appendChild(s)}}var i=this;if(e.data){var n=e.data,r=n.options,s=n.maxEditDistance,a=n.excludeWords;if(r){for(this.selectNode.dataset.maxEditDistance=isNaN(s)?this.selectNode.dataset.maxEditDistance:s,this.selectNode.dataset.excludeWords=a||this.selectNode.dataset.excludeWords;this.selectNode.hasChildNodes();)this.selectNode.removeChild(this.selectNode.lastChild);r.constructor===Array?r.forEach(function(e){t(e,i.selectNode)}):r===Object(r)&&Object.keys(r).forEach(function(e){var n=document.createElement("optgroup");n.setAttribute("label",e),r[e].forEach(function(e){t(e,n)}),i.selectNode.appendChild(n)}),this.options=this._parseOptions(),this.optionsRanker=new o.default(this.options,["textContent","value","alias"]),this.optionsRanker.maxEditDistance=this.selectNode.dataset.maxEditDistance,this.optionsRanker.excludeWords=this.selectNode.dataset.excludeWords,this.isEmptyAllowed=this.options.some(function(e){return!e.value})||0===this.options.length,this.isQueryEmpty=!0,this._initializeResults()}}}},{key:"_parseOptions",value:function(){var e=[],t=Array.from(this.selectNode.querySelectorAll("option")),i=Array.from(this.selectNode.querySelectorAll("optgroup option:last-child"));return t.forEach(function(n,r){var s={textContent:n.textContent,value:n.value,index:r,alias:n.dataset.alias||""};i.includes(n)&&r<t.length-1&&(s.lastInGroup=!0),e.push(s)}),e}},{key:"_initializeResults",value:function(){this.updateResults(""),this.isEmptyAllowed?(this.selectNode.value="",this.selectNode.dataset.textContent="",this.inputNode.value="",this.inputNode.placeholder=""):this.selectNode.selectedIndex>=0&&this._pickOption(this.options[this.selectNode.selectedIndex])}},{key:"_clearButtonPressed",value:function(e){"click"!==e.type&&13!==e.which||(this.option=null,this.selectNode.value="",this.selectNode.dataset.textContent="",this.inputNode.value="",this.inputNode.placeholder="",this.accessibilityAnnouncer.announce("Selection cleared"),this._hideClearButton(),e.stopPropagation(),this.popover.deactivate())}},{key:"_clearResults",value:function(){for(;this.resultsNode.lastChild;)this.resultsNode.removeChild(this.resultsNode.lastChild)}},{key:"_showClearButton",value:function(){this.normalIcon.setAttribute("class",this.normalIcon.getAttribute("class")+" hide"),this.removeIcon.setAttribute("class",this.removeIcon.getAttribute("class").split(" ").filter(function(e){return"hide"!==e}).join(" ")),this.removeIcon.parentNode.addEventListener("click",this._clearButtonPressed),this.removeIcon.parentNode.addEventListener("keydown",this._clearButtonPressed)}},{key:"_hideClearButton",value:function(){this.normalIcon.setAttribute("class",this.normalIcon.getAttribute("class").split(" ").filter(function(e){return"hide"!==e}).join(" ")),this.removeIcon.setAttribute("class",this.removeIcon.getAttribute("class")+" hide"),this.removeIcon.parentNode.removeEventListener("click",this._clearButtonPressed),this.removeIcon.parentNode.removeEventListener("keydown",this._clearButtonPressed)}},{key:"_appendResults",value:function(e){var t,i=this,n=document.createDocumentFragment();0===e.length&&((t=document.createElement("li")).classList.add("next-list__item"),t.classList.add("is-disabled"),t.textContent="No results found",n.appendChild(t)),e.forEach(function(e){if(e.value){var t=document.createElement("li");t.classList.add("next-list__item"),t.textContent=e.textContent,t.setAttribute("role","option"),t.dataset.value=e.value,t.addEventListener("mousedown",function(){i.isClickPickingOption=!0}),t.addEventListener("click",function(){i.isClickPickingOption=!1,i._pickOption(e)}),i.isQueryEmpty&&e.lastInGroup&&t.classList.add(c),i.selectNode.value===e.value&&t.classList.add(u),n.appendChild(t)}}),this.resultsNode.appendChild(n),!this.isQueryEmpty&&e.length>=1&&this.keyboardEvents.setOptionSelected(this.resultsNode.children[0],!0)}},{key:"_setupForAccessibility",value:function(){var e=this.selectNode.parentElement.querySelector("label");this.inputNode.setAttribute("role","combobox"),this.inputNode.setAttribute("aria-label","Search and select an option for "+(e&&e.textContent)),this.inputNode.setAttribute("aria-expanded","false"),this.inputNode.setAttribute("aria-autocomplete","list"),this.inputNode.setAttribute("aria-owns",this.selectNode.id+"-searchable-select"),this.resultsNode.setAttribute("id",this.selectNode.id+"-searchable-select"),this.resultsNode.setAttribute("role","listbox"),this.removeIcon.setAttribute("aria-label","Clear selection"),this.removeIcon.setAttribute("role","button")}},{key:"_setupEventListeners",value:function(){var e=this;this.selectNode.addEventListener("bindings:change",function(){e.updateResults("");var t=e.options.find(function(t){return t.value===e.selectNode.value});t&&e._pickOption(t)}),this.inputNode.addEventListener("change",function(t){if(!e.isClickPickingOption){var i=e.options.find(function(e){return e.value===t.target.value});i&&e._pickOption(i),e.popover.deactivate()}}),this.inputNode.addEventListener("keyup",function(t){if(e.oldValue===t.target.value||e.isEnterKeyDown||!t.which||[h.UP,h.DOWN,h.ENTER,h.TAB,h.ESCAPE].includes(t.which))if(t.which!==h.UP&&t.which!==h.DOWN||e.popover.isActive()){if(t.which===h.ENTER)e.isEnterKeyDown=!1;else if(t.which===h.ESCAPE&&e.popoverKeyUpActive)return e.popoverKeyUpActive=!1,t.stopPropagation(),void t.preventDefault()}else e.popover.activate();else e.updateResults(t.target.value),e.popover.activate();e.oldValue=t.target.value}),this.inputNode.addEventListener("focus",function(){e.inputNode.placeholder=e.inputNode.value,e.inputNode.value="",e.updateResults(""),e.inputNode.setAttribute("aria-expanded","true")}),this.inputNode.addEventListener("blur",function(){e.inputNode.value=e.selectNode.dataset.textContent,e.inputNode.setAttribute("aria-expanded","false")}),this.inputNode.addEventListener("keydown",this.handleKeyboard.bind(this)),this.inputNode.addEventListener("click",function(t){e.inputNode===document.activeElement&&t.stopPropagation()})}}]),e}();document.addEventListener("page:load",i),document.addEventListener("DOMContentLoaded",i),document.addEventListener("ui-searchable-select-start",i)}),i(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var i,n=0;n<t.length;n++)(i=t[n]).enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),n=function(e){return e&&e.__esModule?e:{default:e}}($),r="hide",s="action-bar__popover-hidden-item",o="action-bar__more--has-many",a="action-bar__item--visually-hidden",l="action-bar__label--has-new-feature",u={TOP_LEVEL_CONTAINER:".action-bar__item--link-container",TOP_LEVEL_LINK_CONTAINER:".action-bar__top-links",TOP_LEVEL_LINKS:".action-bar__link",POPOVER_CONTAINER:".action-bar__more",POPOVER_ITEMS:"[data-popover-index]",POPOVER_LABEL:".action-bar__more-label"},c=function(){function e(t){var i,r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),i=n.default(t),this.$topLevelContainer=i.find(u.TOP_LEVEL_CONTAINER),this.$topLevelLinkContainer=i.find(u.TOP_LEVEL_LINK_CONTAINER),this.$topLevelLinks=this.$topLevelLinkContainer.find(u.TOP_LEVEL_LINKS),this.$popoverContainer=i.find(u.POPOVER_CONTAINER),this.$popoverItems=this.$popoverContainer.find(u.POPOVER_ITEMS),this.$popoverLabel=i.find(u.POPOVER_LABEL),this.popoverItemCount=this.$popoverItems.length,window.requestAnimationFrame(function(){r.cacheDOMLookups(),r.checkLinkVisibility(),window.requestAnimationFrame(r.initShowActions.bind(r))}),n.default(window).on("resize",w.throttle(function(){window.requestAnimationFrame(r.checkLinkVisibility.bind(r))},80))}return i(e,[{key:"initShowActions",value:function(){this.$topLevelContainer.removeClass(a)}},{key:"cacheDOMLookups",value:function(){this.linksWidthArray=this.$topLevelLinks.length>0?this.$topLevelLinks.map(function(e,t){return n.default(t).outerWidth(!0)}).get():[],this.totalLinksWidth=this.linksWidthArray.length>0?this.linksWidthArray.reduce(function(e,t){return e+t}):0,this.$popoverLabel.text(this.$popoverLabel.data("multiple-label")),this.moreActionsWidth=this.$popoverContainer.outerWidth(!0),this.$popoverLabel.text(this.$popoverLabel.data("singular-label")),this.actionsWidth=this.$popoverContainer.outerWidth(!0),this.alwaysShowMoreActions=this.popoverItemCount>this.$topLevelLinks.length}},{key:"checkLinkVisibility",value:function(){var e=this.visibleLinksInContainer(this.availableWidth);this.currentVisibleTopLinks!==e&&(this.currentVisibleTopLinks=e,this.showLinksInTopLevel(e),this.setPopoverLabel(e),this.setPopoverVisibility(e),this.checkLinkVisibility(),this.checkNewActionIndicatorVisiblity())}},{key:"checkNewActionIndicatorVisiblity",value:function(){var e,t=this.$popoverContainer[0];t&&(e=t.querySelector(u.POPOVER_LABEL),this.checkContainerHasVisibleNewLinks(t)?(e.classList.add(l),e.parentNode.setAttribute("aria-label",e.textContent+" (contains a new feature)")):(e.classList.remove(l),e.parentNode.removeAttribute("aria-label")))}},{key:"checkContainerHasVisibleNewLinks",value:function(e){if(!e)return!1;var t=e.querySelectorAll("[data-contains-new-link]");return[].concat(function(e){if(Array.isArray(e)){for(var t=0,i=Array(e.length);t<e.length;t++)i[t]=e[t];return i}return Array.from(e)}(t)).filter(function(e){return!e.classList.contains(s)}).length>0}},{key:"showLinksInTopLevel",value:function(e){var t=this;this.$topLevelLinks.slice(0,e).removeClass(r),this.$topLevelLinks.slice(e).addClass(r),this.$topLevelLinks.filter("."+r).each(function(e,i){var r=n.default(i).data("popover-index");t.$popoverContainer.find('[data-popover-index="'+r+'"]').removeClass(s)}),this.$topLevelLinks.not("."+r).each(function(e,i){var r=n.default(i).data("popover-index");t.$popoverContainer.find('[data-popover-index="'+r+'"]').addClass(s)})}},{key:"setPopoverVisibility",value:function(e){e===this.popoverItemCount?this.$popoverContainer.addClass(r):this.$popoverContainer.removeClass(r)}},{key:"setPopoverLabel",value:function(e){0===e?(this.$popoverContainer.addClass(o),this.$popoverLabel.text(this.$popoverLabel.data("singular-label"))):(this.$popoverContainer.removeClass(o),this.$popoverLabel.text(this.$popoverLabel.data("multiple-label")))}},{key:"visibleLinksInContainer",value:function(e){var t;if(1===this.linksWidthArray.length&&this.totalLinksWidth<=this.actionsWidth)return 1;if(t=this.alwaysShowMoreActions?this.moreActionsWidth:0,e>=this.totalLinksWidth+t+40)return this.linksWidthArray.length;var i=e-this.moreActionsWidth-40,n=0,r=0;return this.linksWidthArray.forEach(function(e){i>=(n+=e)&&r++}),r}},{key:"availableWidth",get:function(){return this.$topLevelContainer.width()}}]),e}();t.default=c,Juzaweb.TitleBarActions=null!=t.default?t.default:t})}("undefined"!=typeof global?global:"undefined"!=typeof window?window:this);{function surrogateCtor(){}function extend(e,t,i){for(var n in surrogateCtor.prototype=e.prototype,t.prototype=new surrogateCtor,t.prototype.constructor=t,t.base=e.prototype,i)t.prototype[n]=i[n];return t}function initAutoNumeric(){setTimeout(function(){$('[data-autonumeric="autoNumeric"]').each(function(){var e,t=$.extend(!0,{},_autoNumericOptions);null!=$(this).data("autonumeric-max")&&(t.maximumValue=$(this).data("autonumeric-max")),null!=$(this).data("autonumeric-min")&&(t.minimumValue=$(this).data("autonumeric-min")),(e=$(this).val())&&(e=e.replace(/,/g,"")),$(this).val(e),$(this).autoNumeric("init",t),$(this).autoNumeric("set",e),$(this).on("input",function(){$(this).trigger("change")})})},50)}function unSetAutoNumeric(){$('[data-autonumeric="autoNumeric"]').autoNumeric("unSet")}function unSetAutoNumericForm(){return $('[data-autonumeric="autoNumeric"]').autoNumeric("unSet"),setTimeout(function(){$('[data-autonumeric="autoNumeric"]').autoNumeric("reSet")},50),!0}function reSetAutoNumeric(){$('[data-autonumeric="autoNumeric"]').autoNumeric("unSet"),$('[data-autonumeric="autoNumeric"]').autoNumeric("reSet")}function unFomatPrice(e){return e&&(e=e.toString().replace(/,/g,"")),!isNaN(parseFloat(e))&&isFinite(e)&&(e=parseFloat(e)),e}function checkForUndefinedOrNull(e){return null==e}function OrderPaymentStatus(e){var t="";switch(e){case"pending":t="<span class='badge badge--status-warning badge--progress-incomplete'>Chưa thanh toán</span>";break;case"paid":t="<span class='badge badge--status-complete badge--progress-complete'>Đã thanh toán</span>";break;case"partially_paid":t="<span class='badge badge--status-complete badge--progress-complete'>Thanh toán một phần</span>";break;case"partially_refunded":t="<span class='badge badge--status-complete badge--progress-complete'>Hoàn trả một phần</span>";break;case"refunded":t="<span class='badge badge--status-complete badge--progress-complete'>Hoàn trả toàn bộ</span>";break;case"authorized":t="<span class='badge badge--status-warning badge--progress-incomplete'>Thanh toán chờ xác nhận</span>";break;default:t=""}return t}function OrderFulfillStatus(e){var t="";switch(e){case"partial":t="<span class='badge badge--status-warning badge--progress-partially-complete'>Chuyển một phần</span>";break;case"fulfilled":t="<span class='badge badge--status-complete badge--progress-complete'>Chuyển toàn bộ</span>";break;case"restocked":t="<span class='badge badge--status-complete badge--progress-complete'>Đã hoàn kho</span>";break;default:t="<span class='badge badge--status-attention badge--progress-incomplete'>Chưa chuyển</span>"}return t}function OrderStatus(e){var t="";switch(e){case"closed":t="is-archived";break;case"cancelled":t="is-cancelled";break;default:t=""}return t}function validateEmail(e){return/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)}function stripScripts(e){var t,i,n=document.createElement("div");for(n.innerHTML=e,i=(t=n.getElementsByTagName("script")).length;i--;)t[i].parentNode.removeChild(t[i]);return n.innerHTML}function scrollPaggingMobile(e){var t=$(e+" table tbody tr:last");if(0==t.length)return!1;var i=$(window).scrollTop();i<t.offset().top-600?$(".show-when-scroll").css({position:"fixed",bottom:"0px","padding-top":"5px",width:"100%"}).addClass("display-pagging-mobile"):$(".show-when-scroll").css({position:"relative",top:"",width:"","padding-top":"25px"}).removeClass("display-pagging-mobile"),0==i&&$(".show-when-scroll").css({position:"relative",top:"",width:"","padding-top":"25px"}).removeClass("display-pagging-mobile")}TIME_DELAY=1500,$.ajaxSetup({beforeSend:function(e,t){-1==t.url.indexOf("analytics.juzaweb.vn")&&("post"==t.type.toLowerCase()||"put"==t.type.toLowerCase()||"delete"==t.type.toLowerCase())&&e.setRequestHeader("X-CSRF-Token",$('meta[name="csrf-token"]').attr("content"))}}),String.prototype.format||(String.prototype.format=function(){var e=arguments;return this.replace(/{(\d+)}/g,function(t,i){return void 0!==e[i]?e[i]:t})}),_autoNumericOptions={allowDecimalPadding:!1,showWarnings:!1,maximumValue:"999999999999999.99",minimumValue:"0",decimalPlacesOverride:5},function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};$(document).keyup(function(e){if(27===e.keyCode)return Juzaweb.Modal.hide(),Juzaweb.Dropdown.hide()}),Juzaweb.Modal=function(){function t(t,i){var n,r;this.node=t,this.options=null!=i?i:{},this.appFrame=document.querySelector("."+Juzaweb.AppFrame.Classes.BASE),this.reverseFocusRestrict=e(this.reverseFocusRestrict,this),this.focusRestrict=e(this.focusRestrict,this),this.onAnimationEnd=e(this.onAnimationEnd,this),this.show=e(this.show,this),this.isFullscreen=!1,this.options.autoShow&&setTimeout(this.show,0),(r=this.$modalButton()).length&&(r.attr({role:"button",tabindex:0}),r.on("keydown",this.launchModal),(n=this.$container()).length&&n.attr({role:"dialog","aria-hidden":!0}))}var i,n,r,s,o;return"modal_container","modal_backdrop","modal-button",n="animationend webkitAnimationEnd",r="reverseFocusRestrict",o=!1,s=function(){try{return document.activeElement}catch(e){return e,null}}(),i=null,t.currentModal=null,t.container=function(){return document.getElementById("modal_container")},t.backdrop=function(){return document.getElementById("modal_backdrop")},t.button=function(){return document.getElementsByClassName("modal-button")[0]},t.prototype.$container=function(){return $(this.constructor.container())},t.prototype.$backdrop=function(){return $(this.constructor.backdrop())},t.prototype.$modalButton=function(){return $(this.constructor.button())},t.hide=function(e){var t;if(null==e&&(e=!1),null!=(t=Juzaweb.Modal.currentModal)&&t.hide(),!e)return Juzaweb.UIModal.hide(!0)},t.onClickHide=function(e){return e.preventDefault(),Juzaweb.Modal.hide()},t.isActive=function(e){var t;return null==e&&(e=!1),t=null!=Juzaweb.Modal.currentModal,e||t||(t=Juzaweb.UIModal.isVisible(!0)),t},t.prototype.bindingsContext=function(){return Bindings.childContext(this.node)},t.prototype.show=function(e){var t,a,l,u,c,d,h;if(null==e&&(e={}),e.context||(e.context=this.bindingsContext()),s=document.activeElement,o=!0,t=this.$backdrop(),(l=this.$container()).length)return e.keepOpen?Juzaweb.UIModal.hide(!0):Juzaweb.Modal.hide(),Juzaweb.Modal.currentModal=this,this.lockScroll(),null==e.content&&(d=this.node.href)?this.fetchHTML(d,e):(this.options.noscroll&&l.addClass("no-scroll"),this.options.move?l.append(this.node.children):(l.html(e.content||this.node.innerHTML),Bindings.bind(l[0],e.context).refreshImmediately()),l.one(n,this.onAnimationEnd),setTimeout(function(){return l.off(n,this.onAnimationEnd)},1e3),l.show(),e.keepOpen||l.addClass("modal-animate"),this.setSize(this.options.size),this.setHeight(this.options.height),l.on("click",".close-modal",this.constructor.onClickHide),t.addClass("visible"),$("#wrapper").addClass("hide-when-printing"),"function"==typeof e.onRender&&e.onRender(),h=(u=l.find("h1, h2, h3, h4, h5, h6").first()).attr("id")||"ModalTitle",u.attr("id",h),l.attr({"aria-hidden":!1,"aria-labelledby":h,tabindex:-1}),l.focus(),l.on("keydown."+r,this.reverseFocusRestrict),t.attr("tabindex",0),c=Juzaweb.Focusable.findAll(l[0]),i=$(c[0]),t.on("keydown",this.focusRestrict),(a=l.find("[class=close-modal]")).attr({role:"button","aria-label":"Close dialog"}),a.on("keydown",function(e){var t;if(13===(t=e.which)||32===t)return e.preventDefault(),Juzaweb.Modal.hide()})),l.trigger("modal:opened")},t.prototype.hide=function(e){var t,i,n;if(null==e&&(e={}),this.isShown())return t=this.$backdrop(),i=this.$container(),null!=(n=this.request)&&n.abort(),this.isFullscreen=!1,!1!==e.trigger&&i.trigger("modal:close"),this.options.noscroll&&i.addClass("no-scroll"),this.options.move?$(this.node).append(i.children()):i[0]&&Bindings.unbind(i[0]),i.removeClass(function(e,t){return(t.match(/\b\S+-modal/g)||[]).join(" ")}),i.is(":visible")&&(i.attr("aria-hidden",!0),o=!1,null!=s&&s.focus()),i.off("keydown."+r),i.hide().empty().off(),t.removeClass("visible").off(),t.attr("tabindex",-1),$("#wrapper").removeClass("hide-when-printing"),Juzaweb.Modal.currentModal=null,this.unlockScroll(),this.options.move?$(this.node).trigger("modal:closed"):void 0},t.prototype.fetchHTML=function(e,t){return null==t&&(t={}),Juzaweb.Loading.start(),this.request=$.ajax({dataType:"html",url:e,data:t.data,traditional:!0}),this.request.done(function(e){return function(i){var n;return e.request.getResponseHeader("X-Juzaweb-Login-Required")?(n=window.location.pathname.split("/admin/")[1],window.location.replace(Juzaweb.routes.auth_login({redirect:n}).html)):e.show({context:t.context,content:"<div>"+i+"</div>",onRender:t.onRender,keepOpen:t.keepOpen||!1})}}(this)),this.request.fail(t.onError||Juzaweb.handleError),this.request.always(function(e){return function(){return e.request=null,Juzaweb.Loading.stop()}}(this))},t.prototype.isShown=function(){return Juzaweb.Modal.currentModal===this},t.prototype.setSize=function(e){if(this.isShown())return e&&e.match(/^\b\S+$/)?this.$container().addClass(e+"-modal"):void 0},t.prototype.setHeight=function(e){if(null==e&&(e=300),this.isShown())return(e=Math.min(700,Math.max(100,e)))?this.$container().find(".modal-iframe").css("height",e):void 0},t.prototype.toggleFullscreen=function(){if(this.isShown())return this.$container().toggleClass("real-fullscreen-modal",!this.isFullscreen),this.isFullscreen=!this.isFullscreen},t.prototype.onClose=function(e){if(this.isShown())return this.$container().one("modal:close",e)},t.prototype.onAnimationEnd=function(){return this.$container().removeClass("modal-animate")},t.prototype.launchModal=function(e){var t;if(!o&&(13===(t=e.which)||32===t))return e.preventDefault(),e.target.click()},t.prototype.focusRestrict=function(e){if(o&&9===e.which)return e.stopPropagation(),this.$container().focus()},t.prototype.reverseFocusRestrict=function(e){return 16===e.which?e.stopPropagation():o&&e.shiftKey&&i.is(":focus")?(e.stopPropagation(),this.$backdrop().focus()):void 0},t.prototype.lockScroll=function(){this.appFrame},t.prototype.unlockScroll=function(){this.appFrame},t}(),$(document).on("ready page:load",function(){if(Juzaweb.Modal.container())return Juzaweb.Modal.currentModal&&!Juzaweb.Modal.container().innerHTML.trim().length&&Juzaweb.Modal.hide(),Juzaweb.rootDispatcher.register("ui-modal:hide-all",function(){return Juzaweb.Modal.hide(!0)})})}.call(this),function(){$(document).on("ready page:load",function(){var e,t,i,n;if(!$(".ui-flash-wrapper").hasClass("ui-flash-wrapper--is-visible")){var r=$(".ui-flash__message"),s=$(".ui-flash").hasClass("ui-flash--error"),o=r.text();null!==o&&""!=o&&Juzaweb.Flash.display(o,s)}e=Juzaweb,null!=(t=document.getElementById("flash-message-component"))&&(i=t.getAttribute("data-isError"),n=t.getAttribute("data-message"),i&&(i=i.toLowerCase()),n.length>0&&("true"==i?e.Flash.error(n):e.Flash.notice(n)),t.setAttribute("data-isError",""),t.setAttribute("data-message",""))}),Juzaweb.Flash={error:function(e,t){null==t&&(t=5e3),Juzaweb.Flash.display(e,!0,t)},notice:function(e,t){null==t&&(t=3e3),Juzaweb.Flash.display(e,!1,t)},display:function(e,t,i){var n=$(".ui-flash-wrapper");null!=t&&$(".ui-flash").toggleClass("ui-flash--error",t),null==i&&(i=3e3),clearTimeout(i),$(".ui-flash__message").text(e),n.addClass("ui-flash-wrapper--is-visible"),setTimeout(Juzaweb.Flash.hide.bind(this),i)},hide:function(){$(".ui-flash-wrapper").removeClass("ui-flash-wrapper--is-visible"),$(".ui-flash__message").text("")}}}.call(this),function(){var e=function(e,t){e&&e.responseJSON?Juzaweb.Flash.error(e.responseJSON.error):Juzaweb.Flash.error(t)};Juzaweb.handleJsonError=function(t,i){if("abort"!==i){switch(t.status){case 402:e(t,"Gói dịch vụ bạn đang sử dụng không hỗ trợ tính năng này.");break;case 403:e(t,"Bạn không có quyền truy cập trang này.");break;case 404:e(t,"Trang bạn muốn truy cập không tồn tại.");break;case 422:e(t,"Không thể xử lý yêu cầu của bạn.");break;case 429:e(t,"Số request vượt quá giới hạn. Vui lòng thử lại sau.");break;case 500:e(t,"Có lỗi xảy ra.");break;default:e(t,"Có sự cố xảy ra.")}Juzaweb.Loading.stop()}}}.call(this),function(){$(document).on("focus",":input[editable-placeholder]",function(e){""===e.target.value&&(e.target.value=e.target.placeholder,Bindings.change(e.target))}),$(document).on("blur",":input[editable-placeholder]",function(e){e.target.value===e.target.placeholder&&(e.target.value="",Bindings.change(e.target))}),Juzaweb.Inflection={handleize:function(e){return"-"===(e=(e=(e=e.toLowerCase()).replace(/'|\"|\(|\)|\[|\]/g,"")).replace(/\W+/g,"-")).slice(-1)&&(e=e.replace(/-+$/,"")),"-"===e.slice(0,1)&&(e=e.replace(/^-+/,"")),e},removeVietnamChar:function(e){return(e=(e=(e=(e=(e=(e=(e=e.toLowerCase()).replace(/à|á|ạ|ả|ã|â|ầ|ấ|ậ|ẩ|ẫ|ă|ằ|ắ|ặ|ẳ|ẵ/g,"a")).replace(/è|é|ẹ|ẻ|ẽ|ê|ề|ế|ệ|ể|ễ/g,"e")).replace(/ì|í|ị|ỉ|ĩ/g,"i")).replace(/ò|ó|ọ|ỏ|õ|ô|ồ|ố|ộ|ổ|ỗ|ơ|ờ|ớ|ợ|ở|ỡ/g,"o")).replace(/ù|ú|ụ|ủ|ũ|ư|ừ|ứ|ự|ử|ữ/g,"u")).replace(/ỳ|ý|ỵ|ỷ|ỹ/g,"y")).replace(/đ/g,"d")},generateAlias:function(e,t){return"-"===(e=this.removeVietnamChar(e.toLowerCase()).replace(/'|\"|\(|\)|\[|\]/g,"").replace(/\W+/g,"-")).slice(-1)&&(e=e.replace(/-+$/,"")),"-"===e.slice(0,1)&&(e=e.replace(/^-+/,"")),t&&e.length>t&&(e=e.substring(0,t)),e},pluralize:function(e,t,i){return i||(i=t+"s"),1===e?t:i},pluralizeWithCount:function(e,t,i){return i||(i=t+"s"),e+" "+Juzaweb.Inflection.pluralize(e,t,i)},titleize:function(e,t){return null==t&&(t=!1),e.replace(/-|_/g," ").split(" ").map(function(e,i){return t&&0!==i?e:e.charAt(0).toUpperCase()+e.substring(1)}).join(" ")},classify:function(e){return e.split("_").map(function(e){return e.charAt(0).toUpperCase()+e.substring(1)}).join("")},truncate:function(e,t){return e.length>t?e.substring(0,t).trim()+"...":e},humanize:function(e){return e.split("_").join(" ")}}}.call(this),function(){Juzaweb.Form=function(){return function(e,t){$(e);var i,n,r=this;if(this.$form=$(e),this.url=this.$form.attr("action"),null!=t)for(i in t)this[i]=t[i];this.sleep||(this.sleep=0),n=this.url_callback?this.url_callback:window.location.href,this.$form.submit(function(){var t,i=$(e).find("[type='submit']");return!i||(i=$(e).find("#submitForm")),t=i.html(),i.addClass("disabled").addClass("is-loading"),Juzaweb.Loading.start(),$.ajax({url:$(e).attr("action"),data:$(e).serialize(),type:"POST",global:!1,success:function(e){i.removeClass("disabled").html(t).removeClass("is-loading"),setTimeout(function(){Juzaweb.Utility.loadAjax(n,r.node_change,function(){r.callback&&r.callback(),!e.message||Juzaweb.Flash.notice(e.message)})},r.sleep)},error:function(e){e.responseJSON&&e.responseJSON.error?Juzaweb.Flash.error(e.responseJSON.error.replace(/\n/g,"; ").replace(/; $/,"")):Juzaweb.Flash.error("Cập nhật thông tin thất bại"),i.removeClass("disabled").html(t).removeClass("is-loading"),Juzaweb.Loading.stop()}}),!1})}}()}.call(this),function(){Juzaweb.FormOrderQuickView=function(){return function(e,t,i,n,r){var s,o;$this=$(e),this.$form=$(e),s=$this.attr("action"),n||(n=0),o=r||window.location.href,$this.submit(function(){var r=$(e).find("[type='submit']"),a=r.html();return r.addClass("disabled").html(Juzaweb.LOADING),Juzaweb.Loading.start(),$.ajax({url:s,data:$(e).serialize(),type:"POST",global:!1,success:function(e){$(document).find("#payment-status-"+e.order_id).html(OrderPaymentStatus(e.payment_status)),$(document).find("#fulfill-status-"+e.order_id).html(OrderFulfillStatus(e.fulfill_status));var r=$(document).find("#parent-quick-view-"+e.order_id);$(r).removeClass(),$(r).addClass(OrderStatus(e.order_status)),setTimeout(function(){Juzaweb.Utility.loadAjax(o,t,function(){i?i():e.message&&(e&&e.payment_status&&e.fulfill_status&&e.order_id,Juzaweb.Flash.notice(e.message))})},n)},error:function(e){e.responseJSON&&e.responseJSON.error?Juzaweb.Flash.error(e.responseJSON.error.replace(/\n/g,"; ").replace(/; $/,"")):Juzaweb.Flash.error("Cập nhật thông tin thất bại"),r.removeClass("disabled").html(a),Juzaweb.Loading.stop()}}),!1})}}()}.call(this),function(){var e,t=function(e,t){return function(){return e.apply(t,arguments)}};e="a, a *, input, button, [data-bind-event-click], [bind-event-click], [aria-haspopup], td.select, .ui-popover *",Juzaweb.NestedLinkContainer=function(){function i(e){var i;if(this.node=e,this.linkTo=t(this.linkTo,this),i=$(this.node),this.linkNode=i.find("a[data-nested-link-target]"),!this.linkNode.is("a"))throw new Error("NestedLinkContainer must be constructed with a node that is an <a> tag");i.on("click",this.linkTo)}return i.BLACK_LIST=e,i.prototype.linkTo=function(t){if(!($(t.target).filter(e).length>0||this._hasSelection()))return this.navigateTo()},i.prototype.navigateTo=function(){return this.linkNode[0].click()},i.prototype._hasSelection=function(){return window.getSelection().toString().length>0},i}()}.call(this),function(){var e={js:"javascript",css:"css",sass:"x-sass",scss:"x-scss"},t=function(e,t){return function(){return e.apply(t,arguments)}};Juzaweb.ThemeAsset=function(){function e(e,t,i,n){this.theme=t,this.key=e.key,this.content_type=e.content_type,this.publicUrl=e.public_url,this.basename=this.key.substr(this.key.indexOf("/")+1),this.oldBasename=this.basename,this.bucketName=this.key.substr(0,this.key.indexOf("/")).replace(/\//g,"").toLowerCase(),this.bucket=i[this.bucketName],this.isVersionable()&&(this.versions=[]),-1!=n.indexOf(this.key.toLowerCase())&&(this.isRequired=!0),this.isImage=-1!==e.content_type.indexOf("image"),this.isFlash=-1!==e.content_type.indexOf("flash"),this.version=-1}return e.getNameWithoutType=function(t){return e.getBaseName(t).replace("."+e.getType(t),"")},e.getBaseName=function(e){return e.substr(e.indexOf("/")+1)},e.getType=function(e){var t=e.lastIndexOf("."),i="";return t>0&&(i=e.substring(t+1,e.length)),e.toLowerCase().endsWith(".js.bwt")&&(i="js"),e.toLowerCase().endsWith(".css.bwt")&&(i="css"),i},e.prototype.listItem=function(){return $("[data-asset-key='"+this.key+"']")},e.prototype.getType=function(){var e=this.key.lastIndexOf("."),t="";return e>0&&(t=this.key.substring(e+1,this.key.length)),this.key.toLowerCase().endsWith(".js.bwt")&&(t="js"),this.key.toLowerCase().endsWith(".css.bwt")&&(t="css"),t},e.prototype.getNameWithoutType=function(){return this.basename.replace("."+this.getType(),"")},e.prototype.render=function(){var e=$('<li><a class="asset-listing-theme-file" data-asset-key=""></a></li>');switch(e.children("a").text(this.basename),e.children("a").attr("data-asset-key",this.key),e.children("a").addClass("file-type-"+this.getType()),this.bucket.element().children(".asset-listing-list").append(e),this.bucket.key){case"layouts":"theme"!=this.getNameWithoutType()&&"checkout"!=this.getNameWithoutType()&&this._renderAddOption();break;case"locales":this._renderAddOption(!0)}},e.prototype._renderAddOption=function(e){var t=$($("#modal-add-"+this.bucket.key).html()),i=$('<option value=""></option>');e?(i.attr("value",this.basename),i.text(this.basename)):(i.attr("value",this.getNameWithoutType()),i.text(this.getNameWithoutType())),t.find("#theme-source-"+this.bucket.key).prepend(i),$("#modal-add-"+this.bucket.key).html(t)},e.prototype.reRender=function(){if(null!==this.oldKey&&""!==this.oldKey){var e=$(".asset-listing-list li a[data-asset-key='"+this.oldKey+"']");switch(e.text(this.basename),e.attr("data-asset-key",this.key),this.bucket.key){case"layouts":this._reRenderAddOption();break;case"locales":this._reRenderAddOption(!0)}}},e.prototype._reRenderAddOption=function(t){var i,n,r=$($("#modal-add-"+this.bucket.key).html()),s=r.find("#theme-source-"+this.bucket.key);t?(i=e.getBaseName(this.oldKey),n=s.find("option[value='"+i+"']"),$(n[0]).attr("value",this.basename),$(n[0]).text(this.basename)):(i=e.getNameWithoutType(this.oldKey),n=s.find("option[value='"+i+"']"),$(n[0]).attr("value",this.getNameWithoutType()),$(n[0]).text(this.getNameWithoutType())),$("#modal-add-"+this.bucket.key).html(r)},e.prototype.destroy=function(){switch(this.bucket.key){case"layouts":"theme"!=this.getNameWithoutType()&&"checkout"!=this.getNameWithoutType()&&this._removeAddOption();break;case"locales":this._removeAddOption(!0)}this.listItem().parent().remove()},e.prototype._removeAddOption=function(e){var t=$($("#modal-add-"+this.bucket.key).html());e?t.find("option[value='"+this.basename+"']").remove():t.find("option[value='"+this.getNameWithoutType()+"']").remove(),$("#modal-add-"+this.bucket.key).html(t)},e.prototype.url=function(e,t){var i=Juzaweb.routes.themes+"/"+e+"/"+this.theme.id;return t&&(i+="?key="+this.key),i},e.prototype.isVersionable=function(){return"bwt"==this.getType()||"css"==this.getType()||"js"==this.getType()},e.name="ThemeAsset",e}(),Juzaweb.ThemeEditor=function(){function i(e){var i,n,r,s;for(this.search=t(this.search,this),this.assetListClicked=t(this.assetListClicked,this),this.toggleBucket=t(this.toggleBucket,this),this.updateIsDirty=t(this.updateIsDirty,this),this.saveAsset=t(this.saveAsset,this),this.activateNextTab=t(this.activateNextTab,this),this.activatePreviousTab=t(this.activatePreviousTab,this),this.onBeforeUnload=t(this.onBeforeUnload,this),this.completeIfInJS=t(this.completeIfInJS,this),this.completeIfInTag=t(this.completeIfInTag,this),this.completeIfAfterLt=t(this.completeIfAfterLt,this),this.toggleViewportSize=t(this.toggleViewportSize,this),this.tabsContainer=$("#theme-editor-tabs"),this.codeContainer=$("#code-asset-container").hide(),this.imageContainer=$("#image-asset-container").hide(),this.versionContainer=$(".all-asset-versions").addClass("hide"),this.allVersionLink=$(".show-all-versions-link").hide(),this.theme=e.theme,this.currentTab={},this.newAssetTab="upload",this.buckets=[],this.assets=[],this._assets=[],this.tabs=[],this.requiredFiles=e.required_files.map(function(e){return e.toLowerCase()}),this.isLoading=!1,this._onAnchorClick=!1,i=this,r=0;r<e.buckets.length;r++)(n=e.buckets[r]).key=n.key.toLowerCase(),n.element=function(){return $("#bucket-"+this.key)},n.collapsed&&n.element().addClass("is-collapsed"),n.wasOpen=!n.element().hasClass("is-collapsed"),this.buckets[n.key]=n;for(r=0;r<e.assets.length;r++)this.assets[e.assets[r].key]=new Juzaweb.ThemeAsset(e.assets[r],this.theme,this.buckets,this.requiredFiles);$("#asset-search").on("input",this.search),$(document.body).on("click","[data-asset-key]",this.assetListClicked),$(window).on("resize",this.resize),$(window).on("beforeunload",this.onBeforeUnload),s=new Juzaweb.Confirm,$('a:not([target="_blank"])').on("click",function(e){var t,n,r=$(this).attr("href");if(null!=r&&-1!==r.indexOf("/admin"))for(t in i._assets)if(i._assets[t].isDirty)return e.preventDefault(),(n=s.show()).done(function(){window.location.href=r,i._onAnchorClick=!0}),n.fail(function(){}),!1}),this.resize(),this.initializeEditor(),this.parseState(),this.viewportSize="desktop"}return i.prototype.assetListClicked=function(e){var t=e.currentTarget.getAttribute("data-asset-key");this.assets[t].isImage||this.assets[t].isFlash?this.activateTabForAsset(this.assets[t]):this.getAsset(t,function(e){return this.activateTabForAsset(e,!1)})},i.prototype.search=function(e){var t,i,n,r,s=e.target.value;for(bucketKey in null!==s&&""!==s&&(t=new RegExp(s,"g")),this.buckets)this.buckets[bucketKey].shouldOpen=!1;for(assetKey in this.assets)(n=(i=this.assets[assetKey]).listItem()).html(i.basename),n.show(),null!==s&&""!==s&&(-1!==assetKey.indexOf(s)?(n.html(i.basename.replace(t,"<strong>"+s+"</strong>")),i.bucket.shouldOpen=!0):n.hide());for(bucketKey in this.buckets)r=this.buckets[bucketKey],null!==s&&""!==s?r.element()[r.shouldOpen?"removeClass":"addClass"]("is-collapsed"):r.wasOpen?r.element().removeClass("is-collapsed"):r.element().addClass("is-collapsed")},i.prototype.resize=function(){null==this.$container&&(this.$container=$(".theme-editor-container"));var e=$(window).height();e-=this.$container.offset().top,this.$container[0].style.height=e+"px",null==this.assetContainer&&(this.assetContainer=$(".asset-container")[0]),e-=this.assetContainer.offsetTop,e-=1,this.assetContainer.style.height=e+"px"},i.prototype.initializeEditor=function(){this.bindKeys({"Ctrl-Space":"autocomplete","'<'":this.completeAfter,"' '":this.completeIfInTag,"'='":this.completeIfInTag,"'.'":this.completeIfInJS,"Cmd-S":this.saveAsset,"Cmd-O":function(){return $("#asset-search").focus()},"Cmd-/":"toggleComment","Cmd-Alt-Left":this.activatePreviousTab,"Cmd-Alt-Right":this.activateNextTab,"Cmd-Alt-[":this.activatePreviousTab,"Cmd-Alt-]":this.activateNextTab,"Cmd-Shift-[":this.activatePreviousTab,"Cmd-Shift-]":this.activateNextTab,"Cmd-Esc":this.toggleViewportSize}),this.editor=new CodeMirror(this.codeContainer[0],{extraKeys:this.extraKeys,lineNumbers:!0,foldGutter:!0,indentUnit:4,gutters:["CodeMirror-linenumbers","CodeMirror-foldgutter"],showCursorWhenSelecting:!0,styleActiveLine:!0,matchBrackets:!0,matchTags:{bothTags:!0},highlightSelectionMatches:!0,autoCloseTags:{whenOpening:!0,whenClosing:!0},indentWithTabs:!0,hintOptions:{useGlobalScope:!1}}),this.editor.setSize("100%","100%"),this.editor.on("change",this.updateIsDirty)},i.prototype.completeAfter=function(e,t){return t&&!t()||setTimeout(function(){if(!e.state.completionActive)return e.showHint({completeSingle:!1})},100),CodeMirror.Pass},i.prototype.completeIfAfterLt=function(e){return this.completeAfter(e,function(){var t;return t=e.getCursor(),"<"===e.getRange(CodeMirror.Pos(t.line,t.ch-1),t)})},i.prototype.completeIfInTag=function(e){return this.completeAfter(e,function(){var t;return!!("string"!==(t=e.getTokenAt(e.getCursor())).type||/['"]/.test(t.string.charAt(t.string.length-1))&&1!==t.string.length)&&CodeMirror.innerMode(e.getMode(),t.state).state.tagName})},i.prototype.completeIfInJS=function(e){return this.completeAfter(e,function(){var t;return"javascript"===(t=e.getModeAt(e.getCursor()).name)||"coffeescript"===t})},i.prototype.parseState=function(){var e=Juzaweb.Utility.getParameter("key");null!==e&&""!==e&&this.getAsset(e,function(e){return this.activateTabForAsset(e,!1)})},i.prototype.updateState=function(e){var t,i,n=[];for(t in e)(i=e[t])&&n.push(t+"="+i);history.replaceState(e,"","?"+n.join("&"))},i.prototype.bindKeys=function(e){var t,i;for(i in this.extraKeys||(this.extraKeys={}),e)t=e[i],this.extraKeys[i]=t,-1!==i.indexOf("Cmd")&&(this.extraKeys[i.replace("Cmd","Ctrl")]=t);return this.extraKeys},i.prototype.toggleBucket=function(e){var t=this.buckets[e];t.element().toggleClass("is-collapsed"),t.wasOpen=!t.element().hasClass("is-collapsed")},i.prototype.getAsset=function(e,t){var i=this,n=this,r=this.assets[e];r&&(null==r.value?$.ajax({type:"GET",url:r.url("assets",!0),contentType:"application/json; charset=utf-8",success:function(s){null!=s.value&&(r.value=s.value),i._assets[e]={key:e,isDirty:!1},"function"==typeof t&&t.call(n,r)},error:function(){Juzaweb.Flash.error("Đã có lỗi xảy ra khiến tệp tin "+r.basename+" không thể tải được nội dung.")}}):"function"==typeof t&&t.call(n,r))},i.prototype.activateTabForAsset=function(e,t){this.showAsset(e),this.tabsContainer.find(".active").removeClass("active"),this.currentTab=e,this.updateIsDirty(),0==t&&(this.currentTab.isDirty=!1,this._assets[e.key].isDirty=!1,$("#save-button").addClass("disabled")),t||this.updateState({key:null!=e?e.key:void 0}),null==e.tab&&this.addTabForAsset(e),e.tab.addClass("active"),Bindings.refreshImmediately(),this.resize(),this.initVersionSelector()},i.prototype.showAsset=function(e){e.bucket.wasOpen||e.bucket.element().removeClass("is-collapsed"),e.isImage?(this.imageContainer.find("img").attr("src",e.publicUrl),this.imageContainer.find("embed").attr("src",""),this.imageContainer.find("embed").hide(),this.codeContainer.hide(),this.imageContainer.show()):e.isFlash?(this.imageContainer.find("embed").attr("src",e.publicUrl),this.imageContainer.find("embed").show(),this.imageContainer.find("img").attr("src",""),this.codeContainer.hide(),this.imageContainer.show()):(this.imageContainer.hide(),this.codeContainer.show(),(null===e.value||void 0===e.value)&&(e.value=""),null==e.doc&&(e.doc=CodeMirror.Doc(e.value,this.getModeForAsset(e))),this.editor.swapDoc(e.doc),this.editor.focus())},i.prototype.getModeForAsset=function(t){var i,n,r;return t.mode?t.mode:t.mode="text/x-bwt"===t.content_type?(2===(n=_.last(t.key.split("/")).split(".")).length?i="html":(n.pop(),i=n.pop().toLowerCase(),i=e[i]||"html"),r="liquid-"+i,CodeMirror.modeExtensions[r]||(CodeMirror.defineMode(r,function(e,t){var n,r;return n=CodeMirror.getMode(e,t.backdrop||"text/"+i),r=CodeMirror.getMode(e,t.overlay||"liquid"),CodeMirror.multiplexingMode(n,{open:"{{",close:"}}",singleLine:!0,mode:r,delimStyle:"liquid-markup-delimiter liquid",innerStyle:"liquid"},{open:"{%",close:"%}",singleLine:!0,mode:r,delimStyle:"liquid-markup-delimiter liquid",innerStyle:"liquid"})}),CodeMirror.modeExtensions[r]=CodeMirror.modeExtensions["html"===i?"htmlmixed":i]),r):CodeMirror.resolveMode(t.content_type)},i.prototype.addTabForAsset=function(e){var t=this;e.tab=$('<li class="theme-editor-tab">\n  <a class="theme-editor-tab-filename"></a>\n  <a class="theme-editor-close-tab">x</a>\n</li>'),e.tab.data("asset",e),e.tab.on("click",function(){return t.activateTabForAsset(e)}),e.tab.find(".theme-editor-close-tab").on("click",function(){return t.closeTabForAsset(e)}),e.tab.find(".theme-editor-tab-filename").text(e.basename),this.tabsContainer.append(e.tab),this.tabs.indexOf(e)&&this.tabs.push(e)},i.prototype.closeTabForAsset=function(e){var t,i,n=this._assets[e.key];(null==n||!n.isDirty||confirm("Bạn có các thay đổi chưa lưu trong "+n.key+". Bạn có chắc chắn muốn đóng nó?"))&&(0===(t=e.tab.prev()).length&&(t=e.tab.next()),i=t.data("asset"),this.removeTabForAsset(e),delete e.value,delete e.doc,delete this._assets[e.key],null!=i?this.activateTabForAsset(i):(this.currentTab={},this.codeContainer.hide(),this.imageContainer.hide(),Bindings.refreshImmediately()),this.currentTab.selectHtml="")},i.prototype.removeTabForAsset=function(e){this.tabs.splice(this.tabs.indexOf(e),1),e.tab.removeData(),e.tab.remove(),e.tab=null},i.prototype.activateNextTab=function(){var e=this.tabs.indexOf(this.currentTab)+1;e>=this.tabs.length&&(e=0),this.activateTabForAsset(this.tabs[e])},i.prototype.activatePreviousTab=function(){var e=this.tabs.indexOf(this.currentTab)-1;e<0&&(e=this.tabs.length-1),this.activateTabForAsset(this.tabs[e])},i.prototype.saveAsset=function(){var e,t,i,n;this.currentTab.isDirty&&(e=this,t=this.currentTab,this.currentTab&&(i=this.currentTab.doc.getValue()),n={theme_id:this.currentTab.theme.id,key:this.currentTab.key,value:i},$.ajax({type:"POST",url:t.url("UpdateAssets",!0),contentType:"application/json; charset=utf-8",data:JSON.stringify(n),dataType:"json",success:function(t){null==t.error?(e.currentTab.version>=0&&(e.currentTab.version=0,e.currentTab.versions[0].doc=e.currentTab.doc,e.getAllVersions(),$("<select class='select-all-asset-versions'></select>").val(0)),e.currentTab.value=n.value,e.updateIsDirty(),Juzaweb.Flash.notice("Nội dung chỉnh sửa đã được lưu.")):Juzaweb.Flash.error(t.error)},error:function(t){e.updateIsDirty(),void 0!==t.responseJSON?null!==t.responseJSON.error&&""!==t.responseJSON.error&&Juzaweb.Flash.error(t.responseJSON.error.replace(/\n/g,"; ").replace(/; $/,"")):Juzaweb.Flash.error("Đã xảy ra lỗi khiến quá trình lưu tài nguyên thất bại.")}}))},i.prototype.renameAsset=function(e){var t=this,i=this;$.ajax({type:"POST",url:e.url("RenameAssets",!0),data:{key:e.key,newName:e.basename},dataType:"json",success:function(){var n=e.bucketName+"/"+e.basename;e.oldBasename=e.basename,t.assets[n]=e,t.assets[e.key]=null,e.oldKey=e.key,e.key=n,e.reRender(),e.tab.find(".theme-editor-tab-filename").text(e.basename),i._assets[e.key]=i._assets[e.oldKey],delete i._assets[e.oldKey],t.updateState({key:null!=e?e.key:void 0})},error:function(e){t.currentTab.basename=t.currentTab.oldBasename,void 0!==e.responseJSON?null!==e.responseJSON.error&&""!==e.responseJSON.error&&Juzaweb.Flash.error(e.responseJSON.error.replace(/\n/g,"; ").replace(/; $/,"")):Juzaweb.Flash.error("Đã xảy ra lỗi khiến quá trình đổi tên tài nguyên thất bại.")}})},i.prototype.deleteAsset=function(){var e,t,i=this;this.isLoading=!0,e=this,t=this.currentTab,$.ajax({type:"POST",url:t.url("DeleteAssets",!0),contentType:"application/json; charset=utf-8",complete:function(){e.isLoading=!1,Juzaweb.Modal.hide()},success:function(){e.closeTabForAsset(t),t.destroy(),e.assets[t.key]=null,delete e.assets[t.key],delete i._assets[t.key],Juzaweb.Flash.notice("Tài nguyên giao diện đã bị xóa."),e.updateState({key:""})},error:function(e){void 0!==e.responseJSON?null!==e.responseJSON.error&&""!==e.responseJSON.error&&Juzaweb.Flash.error(e.responseJSON.error.replace(/\n/g,"; ").replace(/; $/,"")):Juzaweb.Flash.error("Đã xảy ra lỗi khiến quá trình xóa tài nguyên thất bại.")}})},i.prototype.createAsset=function(e,t){this.isLoading=!0;var i=this,n=!0,r="application/json; charset=utf-8",s=jQuery.extend({},this[e]);if(null!=this.newAsset&&"upload"===this.newAssetTab){if(null===s.file)return;s=s.file,r=!1,n=!1}else this.prepareDataForCreateAsset(s,t),s=JSON.stringify(s);$.ajax({type:"POST",url:Juzaweb.routes.themes+"/AddAssets/"+i.theme.id,contentType:r,processData:n,data:s,complete:function(){i[e]=null,i.isLoading=!1,Juzaweb.Modal.hide()},success:function(e){i.assets[e.key]=new Juzaweb.ThemeAsset(e,i.theme,i.buckets,i.requiredFiles),i.assets[e.key].render(),i.getAsset(e.key,function(e){return this.activateTabForAsset(e)}),Juzaweb.Flash.notice("Thêm tài nguyên thành công.")},error:function(e){void 0!==e.responseJSON?null!==e.responseJSON.error&&""!==e.responseJSON.error&&Juzaweb.Flash.error(e.responseJSON.error.replace(/\n/g,"; ").replace(/; $/,"")):Juzaweb.Flash.error("Đã xảy ra lỗi khiến quá trình thêm tài nguyên thất bại.")}})},i.prototype.prepareDataForCreateAsset=function(e,t){if(e.themeId=this.theme.id,null!=t.bucket)switch(t.bucket){case"layouts":case"templates":if(e.isDuplicate){if(null===e.key||""===e.key)return!1;e.key=t.bucket+"/"+e.sourceKey+"."+e.key+"."+Juzaweb.config.theme_extension,e.sourceKey=t.bucket+"/"+e.sourceKey+"."+Juzaweb.config.theme_extension}else e.key=t.bucket+"/"+e.sourceKey+"."+Juzaweb.config.theme_extension,delete e.sourceKey;break;case"snippets":e.key=t.bucket+"/"+e.key+"."+Juzaweb.config.theme_extension;break;case"assets":e.key=t.bucket+"/"+e.key+e.extension;break;case"locales":if(e.isDuplicate){if(null===e.key||""===e.key)return!1;e.key=t.bucket+"/"+e.key+".json",e.sourceKey=t.bucket+"/"+e.sourceKey}else e.key=t.bucket+"/"+e.key+".json",delete e.sourceKey;e.value="{\n}"}if(!e.key)return!1},i.prototype.updateIsDirty=function(){var e=this.currentTab.key;null==this._assets[e]&&(this._assets[e]={key:e}),null!=this.currentTab.doc&&(this.currentTab.doc.getValue()!==this.currentTab.value?(this.currentTab.isDirty=!0,this._assets[e].isDirty=!0):(this.currentTab.isDirty=!1,this._assets[e].isDirty=!1)),"configs/settings_schema.json"!=e&&(e.endsWith(".bwt")||e.endsWith(".scss")||e.endsWith(".css")||e.endsWith(".js")||e.endsWith(".json"))||(this._assets[e].isDirty=!1),this.currentTab.isDirty?$("#save-button").removeClass("disabled"):$("#save-button").addClass("disabled")},i.prototype.updateNewLayoutModal=function(e,t){void 0!==t&&13==t.keyCode&&$(e).closest(".modal-dialog").find(".btn-add:not(.disabled)").click(),null==this.newLayout&&(this.newLayout={}),this.newLayout.isDuplicate=null!=this.assets["Layouts/"+this.newLayout.sourceKey+"."+Juzaweb.config.theme_extension]||null!=this.assets["layouts/"+this.newLayout.sourceKey+"."+Juzaweb.config.theme_extension]||null!=this.assets["Layouts/"+this.newLayout.sourceKey.toLowerCase()+"."+Juzaweb.config.theme_extension]||null!=this.assets["layouts/"+this.newLayout.sourceKey.toLowerCase()+"."+Juzaweb.config.theme_extension],!this.newLayout.isDuplicate||null!==this.newLayout.key&&""!==this.newLayout.key?$("#create-layout-button").removeClass("disabled"):$("#create-layout-button").addClass("disabled")},i.prototype.updateNewTemplateModal=function(e,t){void 0!==t&&13==t.keyCode&&$(e).closest(".modal-dialog").find(".btn-add:not(.disabled)").click(),null==this.newTemplate&&(this.newTemplate={}),this.newTemplate.sourceKey=$("#theme-source-templates").val(),this.newTemplate.key=$("#theme-key-templates").val(),this.newTemplate.isDuplicate=null!=this.assets["Templates/"+this.newTemplate.sourceKey+"."+Juzaweb.config.theme_extension]||null!=this.assets["templates/"+this.newTemplate.sourceKey+"."+Juzaweb.config.theme_extension]||null!=this.assets["Templates/"+this.newTemplate.sourceKey.toLowerCase()+"."+Juzaweb.config.theme_extension]||null!=this.assets["templates/"+this.newTemplate.sourceKey.toLowerCase()+"."+Juzaweb.config.theme_extension],!this.newTemplate.isDuplicate||null!==this.newTemplate.key&&""!==this.newTemplate.key?$("#create-template-button").removeClass("disabled"):$("#create-template-button").addClass("disabled")},i.prototype.updateNewSnippetModal=function(e,t){void 0!==t&&13==t.keyCode&&$(e).closest(".modal-dialog").find(".btn-add:not(.disabled)").click(),null==this.newSnippet&&(this.newSnippet={}),this.newSnippet.key=$("#theme-key-snippets").val(),null===this.newSnippet.key||""===this.newSnippet.key?$("#create-snippet-button").addClass("disabled"):$("#create-snippet-button").removeClass("disabled")},i.prototype.updateNewAssetModal=function(e,t){void 0!==t&&13==t.keyCode&&$(e).closest(".modal-dialog").find(".btn-add:not(.disabled)").click(),null==this.newAsset&&(this.newAsset={}),"upload"!==this.newAssetTab?(this.newAsset.key=$("#theme-key-assets").val(),this.newAsset.extension=$("#theme-extension-assets").val(),null==this.newAsset.key||""==this.newAsset.key?$("#create-asset-button").addClass("disabled"):$("#create-asset-button").removeClass("disabled")):null==this.newAsset.file?$("#create-asset-button").addClass("disabled"):$("#create-asset-button").removeClass("disabled")},i.prototype.updateNewLocaleModal=function(e,t){void 0!==t&&13==t.keyCode&&$(e).closest(".modal-dialog").find(".btn-add:not(.disabled)").click(),null==this.newLocale&&(this.newLocale={}),this.newLocale.isDuplicate="scratch"!==this.newLocale.sourceKey,null===this.newLocale.key||""===this.newLocale.key?$("#create-locale-button").addClass("disabled"):$("#create-locale-button").removeClass("disabled")},i.prototype.activeNewAssetTab=function(e){this.newAssetTab=e,this.updateNewAssetModal()},i.prototype.fileInputChanged=function(e){if(this.newAsset.file=null,null!=e.files&&null!=e.files[0]){var t=new FormData;t.append("key","assets/"+e.files[0].name),t.append("upload",e.files[0]),t.append("theme_id",this.theme.id),this.newAsset.file=t}this.updateNewAssetModal()},i.prototype.showModal=function(e){this.newAssetTab="upload",this["new"+e]=null,this[e].show();var t="updateNew"+e+"Modal";"function"==typeof this[t]&&this[t]()},i.prototype.initVersionSelector=function(){var e,t;this.allVersionLink.hide(),$(".select-all-asset-versions").remove(),this.currentTab.isVersionable()?(this.currentTab.versions[0]={},this.currentTab.versions[0].doc=this.currentTab.doc,this.currentTab.version>=0&&this.currentTab.selectHtml?((e=$("<select class='select-all-asset-versions'></select>")).append(this.currentTab.selectHtml),e.val(this.currentTab.version),t=this,e.on("change",function(){return t.chooseAssetVersion()}),this.versionContainer.prepend(e),this.versionContainer.removeClass("hide")):(this.versionContainer.addClass("hide"),this.allVersionLink.show())):this.versionContainer.addClass("hide")},i.prototype.getAllVersions=function(){this.currentTab.version=0;var e=this;this.currentTab.key;$.ajax({type:"GET",url:"/admin/themes/GetAllAssetVersions",data:{themeId:this.currentTab.theme.id,key:this.currentTab.key},contentType:"application/json; charset=utf-8",success:function(t){e.renderVersionSelector(t)},error:function(){Juzaweb.Flash.error("Đã có lỗi xảy ra")}})},i.prototype.renderVersionSelector=function(e){var t,i,n;for($(".select-all-asset-versions").remove(),t=this,(i=$("<select class='select-all-asset-versions'></select>")).append($('<option value="0">Hiện tại</option>')),n=0;n<e.length;n++)i.append($("<option value="+e[n].id+">"+(e.length-n)+" - "+e[n].created_on+"</option>"));i.on("change",function(){return t.chooseAssetVersion()}),this.versionContainer.prepend(i),this.versionContainer.removeClass("hide"),$(".show-all-versions-link").hide(),this.currentTab.selectHtml=$(".select-all-asset-versions").html()},i.prototype.chooseAssetVersion=function(){this.currentTab.versions[0].value=this.currentTab.value;var e=this,t=$(".select-all-asset-versions option:selected").val();if(0==t)return this.chooseOriginAsset(),void this.updateIsDirty();null==this.currentTab.versions&&(this.currentTab.versions=[]),null!=this.currentTab.versions[t]&&null!=this.currentTab.versions[t].value?(this.currentTab.version=t,this.currentTab.doc=CodeMirror.Doc(this.currentTab.versions[t].value,e.getModeForAsset(e.currentTab)),this.editor.swapDoc(this.currentTab.doc),this.editor.focus(),this.updateIsDirty()):$.ajax({type:"GET",url:"/admin/themes/GetDetailAssetVersion",data:{themeId:this.currentTab.theme.id,key:this.currentTab.key,version:t},contentType:"application/json; charset=utf-8",success:function(t){e.currentTab.version=t.id,e.currentTab.versions[t.id]=t,e.currentTab.doc=CodeMirror.Doc(t.value,e.getModeForAsset(e.currentTab)),e.editor.swapDoc(e.currentTab.doc),e.currentTab.selectHtml=$(".select-all-asset-versions").html(),e.editor.focus(),e.updateIsDirty()},error:function(){Juzaweb.Flash.error("Đã có lỗi xảy ra")}})},i.prototype.chooseOriginAsset=function(){this.currentTab.version=0,this.currentTab.doc=CodeMirror.Doc(this.currentTab.value,this.getModeForAsset(this.currentTab)),this.editor.swapDoc(this.currentTab.doc),this.editor.focus(),this.currentTab.selectHtml=$(".select-all-asset-versions").html()},i.prototype.cancelAllVersions=function(){this.chooseOriginAsset(),this.currentTab.version=-1,$(".select-all-asset-versions").remove(),$(".show-all-versions-link").show(),this.versionContainer.addClass("hide")},i.prototype.onBeforeUnload=function(){if(this._onAnchorClick)this._onAnchorClick=!1;else{var e,t,i=this._assets;for(t in i)if((e=i[t]).isDirty)return e.key+" has unsaved changes. If you leave this page, they will be lost. Are you sure you want to leave this page?"}},i.prototype.toggleViewportSize=function(){"desktop"==this.viewportSize?($("body").addClass("theme-editor--fullscreen"),$(".action__zoom-in").addClass("hide"),$(".action__zoom-out").removeClass("hide"),this.viewportSize="fullscreen"):"fullscreen"==this.viewportSize&&($("body").removeClass("theme-editor--fullscreen"),$(".action__zoom-in").removeClass("hide"),$(".action__zoom-out").addClass("hide"),this.viewportSize="desktop"),this.resize()},i.name="ThemeEditor",i}()}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};Juzaweb.Remote=function(){function t(t,i,n,r){this.ajaxOptions=null!=t?t:{},this.refreshOnSuccess=i,this.refreshOnError=n,this.fullRefresh=null!=r&&r,this.submit=e(this.submit,this)}return t.prototype.submit=function(){var e;Juzaweb.Loading.start(),(e=$.ajax(this.ajaxOptions)).always(function(){return Juzaweb.Loading.stop()}),e.done(function(e){return function(t,i,n){var r,s,o;return(r=n.getResponseHeader("X-Next-Redirect"))?void Page.visit(r,{reload:!0}):(null!=(s=e.ajaxOptions.done)&&s.apply(null,arguments),o=e.refreshOnSuccess?e.refreshOnSuccess.split(" "):[],e.fullRefresh?Page.refresh({onlyKeys:o}):"false"!==e.refreshOnSuccess?Page.refresh({response:n,onlyKeys:o}):void 0)}}(this)),e.fail(function(e){return function(t,i,n){var r;if(null!=(r=e.ajaxOptions.fail)&&r.apply(null,arguments),"false"!==e.refreshOnError)return e.refreshOnError?Page.refresh({response:t,onlyKeys:e.refreshOnError.split(" ")}):Juzaweb.handleError(t,i,n)}}(this))},t}()}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};$(document).on("keypress","form[no-submit-on-enter] input",function(e){if(13===e.which)return e.preventDefault()}),$(document).on("keydown","form[submit-on-cmd-enter] input",function(e){if(13===e.which)return e.metaKey||e.ctrlKey?this.form.submit():e.preventDefault()}),$(document).on("keypress",".click-on-enter",function(e){if(13===e.which)return $(e.target).click()}),Page.onChange(function(){return Juzaweb.OldForm._dirtyForm},function(){return Juzaweb.OldForm._dirtyForm=!1}),Juzaweb.OldForm=function(){function t(t,i){this.opts=null!=i?i:{},this.stopLoading=e(this.stopLoading,this),this.startLoading=e(this.startLoading,this),this.submit=e(this.submit,this),this._updateDirtyState=e(this._updateDirtyState,this),this._updateDirty=e(this._updateDirty,this),this.bindingsFinished=e(this.bindingsFinished,this),this.$form=$(t),this.ajaxSubmit=this.$form.attr("ajax"),this.$primaryButtons=this.$form.find(this.PRIMARY_BUTTON_SELECTOR),(null!=t?t.id:void 0)&&(this.$primaryButtons=this.$primaryButtons.add(".js-btn-primary[form='"+t.id+"']")),this.$loadableButtons=this.$form.find(this.LOADABLE_BUTTON_SELECTOR),(null!=t?t.id:void 0)&&(this.$loadableButtons=this.$loadableButtons.add(".js-btn-loadable[form='"+t.id+"']")),this.$loadableButtons.addClass("has-loading"),this.$form.on("input change paste bindings:change",this._updateDirty),this.$form.on("submit",this.submit),this.$form.on("fail done",this.stopLoading),this.opts.disabledUntilDirty&&this.$primaryButtons.addClass("disabled").attr("disabled","disabled"),this.opts.observer&&this.opts.observer.register(this,this.$form),Twine.afterBound(this.bindingsFinished),initAutoNumeric()}return t.prototype.PRIMARY_BUTTON_SELECTOR="a.js-btn-primary, input.js-btn-primary, button.js-btn-primary",t.prototype.LOADABLE_BUTTON_SELECTOR="a.js-btn-loadable, input.js-btn-loadable, button.js-btn-loadable, select.js-btn-loadable",t._dirtyForm=!1,t.withIgnoreUnsavedChanges=function(e){var t;return t=this._dirtyForm,this._dirtyForm=!1,e.call(),this._dirtyForm=t},t.makeClean=function(){return this._dirtyForm=!1},t.prototype.bindingsFinished=function(){return this.resetDirtyTracking(),this.opts.startDirty?this.makeDirty():void 0},t.prototype._getInputValues=function(){var e;return e=this.$form.find("input, select, textarea").not(".js-no-dirty"),_.map(e,function(e){var t;return"checkbox"===(t=e.type)||"radio"===t?{value:e.checked,disabled:e.disabled}:{value:e.value,disabled:e.disabled}})},t.prototype._alertIfFormDirty=function(){return Juzaweb.OldForm._dirtyForm=!0},t.prototype._updateDirty=function(e){var t,i;(i=e.target).classList.contains("js-no-dirty")||("form"===(t=i.nodeName.toLowerCase())||"input"===t||"textarea"===t||"select"===t)&&("hidden"!==i.type||null!=$(i).data("dirty-trigger"))&&(null==this.debounceValidate&&(this.debounceValidate=_.debounce(this._updateDirtyState,10,{leading:!0,trailing:!0})),this.debounceValidate())},t.prototype._updateDirtyState=function(){return this._matchEnabledValues(this._getInputValues(),this.initialValues)?this.makeClean():this.makeDirty()},t.prototype._matchEnabledValues=function(e,t){return _.size(e)===_.size(t)&&_(e).zip(t).every(function(e){var t,i;return i=e[0],t=e[1],i.disabled||i.value===t.value})},t.prototype.makeDirty=function(){return this.isDirty=!0,this.opts.alertUnsavedChanges&&this._alertIfFormDirty(),this.disabled||(this.$primaryButtons.removeClass("disabled").removeAttr("disabled","disabled"),this.$form.addClass("frm-dirty")),this.enablePrimaryButtons(),this.opts.disabledUntilDirty&&!this.opts.disableContextBar&&this.showContextBar()},t.prototype.enablePrimaryButtons=function(){return!0},t.prototype.showContextBar=function(){var e={form:this.$form.attr("id")},t=Object.assign(e,this.primaryAttr);Juzaweb.rootDispatcher.dispatch({type:"CONTEXT_BAR_ON_EVENT",data:{primaryAttr:t}})},t.prototype.makeClean=function(){return this.isDirty=!1,Juzaweb.OldForm._dirtyForm=!1,this.$form.removeClass("frm-dirty"),this.opts.disabledUntilDirty?this.$primaryButtons.addClass("disabled").attr("disabled","disabled"):void 0},t.prototype.resetDirtyTracking=function(){return this.makeClean(),this.initialValues=this._getInputValues()},t.prototype.enable=function(){return this.disabled=!1,this.isDirty?this.makeDirty():void 0},t.prototype.disable=function(){return this.disabled=!0,this.$primaryButtons.addClass("disabled").attr("disabled","disabled")},t.prototype.submit=function(e){var t,i;return Juzaweb.OldForm._dirtyForm=!1,unSetAutoNumericForm(),i=null!=(t=this.opts.submit)?t.apply(this,arguments):void 0,(null!=e?e.isImmediatePropagationStopped():void 0)||this.startLoading(),this.opts.ajax?(this.submitWithAjax(e),!1):i},t.prototype.submitWithAjax=function(){var e,t=this;unSetAutoNumeric(),e={type:this.$form.attr("method"),url:this.$form.attr("action"),data:this.$form.serialize(),dataType:"html",waitMilliseconds:1150,beforeSend:function(){reSetAutoNumeric()},fail:function(){return t.$form.trigger("fail",arguments)},done:function(){return t.$form.trigger("done",arguments)}},new Juzaweb.Remote(e,this.$form.attr("refresh-on-success"),this.$form.attr("refresh-on-error")).submit()},t.prototype.startLoading=function(e){var t;return t=this.$loadableButtons,(null!=e?e.loadingElements:void 0)&&(t=e.loadingElements),Juzaweb.Loading.start(),t.attr("disabled","disabled").addClass("is-loading")},t.prototype.stopLoading=function(e){var t;return t=this.$loadableButtons,(null!=e?e.loadingElements:void 0)&&(t=e.loadingElements),Juzaweb.Loading.stop(),t.removeAttr("disabled").removeClass("is-loading")},t.prototype.disableHiddenInputs=function(){return this.$form.find(".disable-inputs-when-hidden:visible :input").prop("disabled",!1),this.$form.find(".disable-inputs-when-hidden:not(:visible) :input").prop("disabled","disabled")},t}()}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},t=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},i={}.hasOwnProperty;Juzaweb.Confirm=function(i){function n(t){this.options=null!=t?t:{},this.show=e(this.show,this),n.__super__.constructor.call(this,null,this.options)}return t(n,i),n.prototype.message=function(){return this.options.message||"Nếu bạn rời khỏi trang này, tất cả thay đổi chưa lưu sẽ bị mất. Bạn có chắc chắn muốn rời khỏi trang này?"},n.prototype.accept_button_text=function(){return this.options.accept_text||"Rời khỏi trang này"},n.prototype.header_text=function(){return this.options.header_text||"Rời khỏi trang?"},n.prototype.content=function(){return'<div class="modal-dialog" id="juzaweb__confirm"><div class="modal-content"><div class="ui-modal__header"> <div class="ui-modal__header-title"> <h2 class="ui-title">'+this.header_text()+'</h2> </div><div class="ui-modal__header-actions"> <div class="ui-modal__close-button"> <button class="ui-button ui-button--transparent close-modal" data-dismiss="modal" aria-label="Close modal" type="button" name="button"> <svg class="next-icon next-icon--color-ink-lighter next-icon--size-20"> <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#cancel-small-minor"></use> </svg> </button> </div></div></div><div class="ui-modal__body"> <div class="ui-modal__section"> <p>'+this.message()+'</p></div></div><div class="ui-modal__footer"> <div class="ui-modal__footer-actions"> <div class="ui-modal__secondary-actions"> <a class="btn close-modal" data-no-turbolink="true">Hủy</a> </div><div class="ui-modal__primary-actions"> <a class="btn btn-destroy-no-hover accept-modal" data-no-turbolink="true">'+this.accept_button_text()+"</a> </div></div></div></div></div>"},n.prototype.link=function(){return this.options.link},n.prototype.show=function(e){var t;return null==e&&(e={}),t=$.Deferred(),e.content=this.content(),n.__super__.show.call(this,e),$(".modal").on("click",".close-modal",t.reject),$(".modal").on("click",".accept-modal",t.resolve),t.promise()},n}(Juzaweb.Modal)}.call(this),function(){Juzaweb.SortableImages=function(){function e(){}return e.prototype.initSortable=function(e,t){return e.sortable({opacity:.3,helper:this._defineHelper,tolerance:"pointer",placeholder:"product-photo-grid__item",forcePlaceholderSize:!1,update:function(){return e.removeClass("is-sorting"),"function"==typeof t.onUpdate?t.onUpdate():void 0},start:function(t){return function(i,n){return t._handleFirstImageSize(i,n),n.placeholder.html('<div class="product-photo__sort-placeholder"> <div class="product-photo__sort-placeholder__content"></div> </div>'),e.addClass("is-sorting")}}(this),stop:function(){return e.removeClass("is-sorting"),e.find(".product-photo-grid--featured").removeClass("product-photo-grid--featured")},change:function(e){return function(t,i){return e._handleFirstImageSize(t,i)}}(this)})},e.prototype._handleFirstImageSize=function(e,t){var i;if(0===t.item.index())return(i=$(e.target).find(".product-photo-grid__item")).removeClass("product-photo-grid--featured"),$(i[1]).addClass("product-photo-grid--featured")},e.prototype._defineHelper=function(e,t){var i;return(i=t.clone()).find(".product-photo-hover-overlay").hide(),i.show(),i},e}()}.call(this),function(){Juzaweb.XHR2Upload=function(){function e(){}return e.prototype.submit=function(e,t,i){var n,r,s,o;return null==t&&(t={}),null==i&&(i={}),s=(n=$.Deferred()).promise(),window.FormData?(r=new FormData,this.dataToFormData(t,r),(o=new XMLHttpRequest).open(i.method||"POST",e,!0),o.onreadystatechange=function(){if(4===o.readyState)return o.status>=200&&o.status<400?n.resolve(o):n.reject(o)},o.upload.onprogress=function(e){return n.notify(e)},o.setRequestHeader("X-CSRF-Token",$('meta[name="csrf-token"]').attr("content")),o.setRequestHeader("X-Requested-With","XMLHttpRequest"),o.send(r),s.abort=function(){return o.abort(),n.reject()},s):(n.reject(null),s)},e.prototype.dataToFormData=function(e,t){var i,n,r,s,o,a,l,u,c;if(e instanceof Array)for(n=0,o=e.length;n<o;n++)i=e[n],this.dataToFormData(i,t);else for(s in e)if((u=e[s])instanceof FileList)for(r=0,a=u.length;r<a;r++)l=u[r],(c={})[s]=l,this.dataToFormData(c,t);else t.append(s,u)},e}()}.call(this),function(){Page.onChange(function(){var e;return!0===(null!=(e=window.imageUploader)?e.uploading:void 0)},function(){var e;if(null!=(e=window.imageUploader))return e.uploading=!1}),Juzaweb.ImageUploader=function(){function e(){this.reset()}return e.FAILED="failed",e.DONE="done",e.prototype.reset=function(){return this.uploading=!1,this.uploadedImages={}},e.prototype.getStatus=function(e){return this.uploadedImages[e]||!1},e.prototype.uploadImages=function(e,t,i){var n,r,s;return this.uploading=!0,this.abort_error=null,Juzaweb.Loading.start(),n=_.sortBy(e,"position"),r=new Juzaweb.XHR2Upload,(s=function(e){return function(n){var o;if(e.uploading)return o=n.shift(),r.submit(Juzaweb.routes.products+"/"+t+"/images.json",{"image[attachment]":o.file,"image[alt]":o.alt}).done(function(){return e.uploadedImages[o.imageId]=Juzaweb.ImageUploader.DONE}).fail(function(t){var i=JSON.parse(t.response);e.uploadedImages[o.imageId]=Juzaweb.ImageUploader.FAILED,e.abort_error=_.get(i,"errors.image[0]"),null==e.abort_error&&(e.abort_error=_.get(i,"errors.storage[0]"),null!=e.abort_error&&e.abort_error.indexOf("maximum is")>-1&&(e.abort_error="Website của bạn đã hết dung lượng lưu trữ")),null==e.abort_error&&(e.abort_error=t.response)}).always(function(){return Bindings.refresh(),e.abort_error?(Juzaweb.Flash.error(e.abort_error),Juzaweb.Loading.stop(),i()):_.isEmpty(n)?(Juzaweb.Loading.stop(),i()):s(n)})}}(this))(n)},e}()}.call(this),function(){Juzaweb.FileDragHelper=function(){function e(){this.dragging=!1,this.dragCount=0}return e.prototype.start=function(e){if(this.isFileDragEvent(e))return this.dragCount=(this.dragCount||0)+1,this.dragging=!0,e.stopPropagation(),e.preventDefault()},e.prototype.over=function(e){return e.originalEvent.dataTransfer.dropEffect="copy",e.stopPropagation(),e.preventDefault()},e.prototype.cancel=function(e){return this.dragCount=Math.max(0,(this.dragCount||0)-1),0===this.dragCount&&(this.dragging=!1),e.stopPropagation(),e.preventDefault()},e.prototype.isFileDragEvent=function(e){var t,i;return(null!=(t=e.originalEvent.dataTransfer)&&null!=(i=t.types[0])?i.toLowerCase().indexOf("file"):void 0)>=0},e}()}.call(this),function(){Juzaweb.ImageUtils={},Juzaweb.ImageUtils.fileTypeError=function(e){return"image/svg+xml"===e.type?"Không phải tập tin ảnh (.jpg, .gif, .png)":null},Juzaweb.ImageUtils.filesizeError=function(e){return e.size>1e6?"Vượt quá dung lượng 1MB cho phép":null},Juzaweb.ImageUtils.dimensionError=function(){return null}}.call(this),function(){Juzaweb.UploadErrors=function(){function e(t){var i=t.$errorContainer,n=t.$errorTemplate;o(this,e),this.add=this.add.bind(this),this.clear=this.clear.bind(this),this.$errorContainer=i,this.errors=[],this.errorMessageTemplate=Juzaweb.Templates.precompile(n.html())}return o=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},r=function(){function e(e,t){for(var i,n=0;n<t.length;n++)(i=t[n]).enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),r(e,[{key:"hasErrors",value:function(){return this.errors.length>0}},{key:"add",value:function(e,t){this.errors.push({filename:e,error:t})}},{key:"clear",value:function(){this.errors=[],this.$errorContainer.empty()}},{key:"renderErrors",value:function(){var e,t,i;if(this.hasErrors()){var n=!0,r=!1,s=void 0;try{for(t=this.errors[Symbol.iterator]();!(n=(e=t.next()).done);n=!0)i=e.value,Juzaweb.Templates.renderAndAppend(this.errorMessageTemplate,i,this.$errorContainer)}catch(n){r=!0,s=n}finally{try{!n&&t.return&&t.return()}finally{if(r)throw s}}Bindings.refresh()}}}]),e}()}.call(this),function(){Juzaweb.Notifications=function(){function e(e,t){if(null!=t)for(var i in t)this[i]=t[i];this.element=e}return e.prototype.sendTest=function(e,t){var i;"web"!=t?(i="/admin/settings/notifications/test"+t+"/"+e,$.ajax({url:i,type:"POST",success:function(e){e.message&&Juzaweb.Flash.notice(e.message)},error:function(e){e.responseJSON&&e.responseJSON.error?Juzaweb.Flash.error(e.responseJSON.error.replace(/\n/g,"; ").replace(/; $/,"")):Juzaweb.Flash.error("Gửi thông tin thử nghiệm thất bại")}})):"granted"!==Notification.permission?Notification.requestPermission():new Notification("Bạn có đơn hàng mới",{icon:"https://juzaweb.dktcdn.net/assets/images/logo-icon.png",body:Juzaweb.store.settings.storeName+" có 1 đơn hàng mới trị giá 500.000đ bao gồm 3 sản phẩm. Xem chi tiết",tag:"orderPlacedNotification"})},e.prototype.enableNotification=function(){window.messaging.requestPermission().then(function(){console.log("Notification permission granted."),window.messaging.getToken().then(function(e){Juzaweb.Loading.start(),$.ajax({type:"POST",url:"/admin/notifications",data:{token:e},global:!1,success:function(e){Juzaweb.Utility.loadAjax(window.location.href,".content-notification",function(){Juzaweb.Flash.notice(e.message)}),setTokenSentToServer(!0)},error:function(e){e.responseJSON&&e.responseJSON.error?Juzaweb.Flash.error(e.responseJSON.error.replace(/\n/g,"; ").replace(/; $/,"")):Juzaweb.Flash.error("Cập nhật thông tin thất bại"),Juzaweb.Loading.stop()}})}).catch(function(e){console.log("Error retrieving Instance ID token. ",e),Juzaweb.Flash.error("Lỗi không nhận được token từ trình duyệt")})}).catch(function(e){console.log("Unable to get permission to notify.",e),Juzaweb.Flash.error("Xin hãy cho phép trình duyệt nhận thông báo từ Juzaweb")})},e.prototype.disableNotification=function(){window.messaging.getToken().then(function(e){Juzaweb.Loading.start(),$.ajax({type:"POST",url:"/admin/notifications/remove",data:{token:e},global:!1,success:function(e){Juzaweb.Utility.loadAjax(window.location.href,".content-notification",function(){Juzaweb.Flash.notice(e.message)}),setTokenSentToServer(!1)},error:function(e){e.responseJSON&&e.responseJSON.error?Juzaweb.Flash.error(e.responseJSON.error.replace(/\n/g,"; ").replace(/; $/,"")):Juzaweb.Flash.error("Cập nhật thông tin thất bại"),Juzaweb.Loading.stop()}})}).catch(function(e){console.log("Error retrieving Instance ID token. ",e),Juzaweb.Flash.error("Lỗi không nhận được token từ trình duyệt")})},e.prototype.showRevertEmailTemplateToDefaultModal=function(e){this.revertEmailTemplateToDefaultModal.show(),$('.form-revert-email-default input[name="template"]').val(e)},e.prototype.showRevertOrderPrintTemplateToDefaultModal=function(){this.revertOrderPrintTemplateToDefaultModal.show()},e.prototype.showRevertShipmentPrintTemplateToDefaultModal=function(){this.revertShipmentPrintTemplateToDefaultModal.show()},e.prototype.showDeleteWebhook=function(e){this.deleteWebhookModal.show(),$('.form-delete-webhook input[name="webhookId"]').val(e)},e.prototype.updateCommentSetting=function(e){Juzaweb.Loading.start();var t=$(e).is(":checked");$.ajax({type:"POST",url:Juzaweb.routes.setting.notifications+"/UpdateCommentNotificationSetting",data:{CommentNotificationSetting:t},global:!1,success:function(e){e.message?Juzaweb.Flash.notice(e.message):Juzaweb.Flash.notice("Cập nhật cấu hình thành công"),Juzaweb.Loading.stop()},error:function(i){i.responseJSON&&i.responseJSON.error?Juzaweb.Flash.error(i.responseJSON.error.replace(/\n/g,"; ").replace(/; $/,"")):Juzaweb.Flash.error("Cập nhật cấu hình thất bại"),$(e).prop("checked",!t),Juzaweb.Loading.stop()}})},e}()}.call(this),function(){var e=function(e,i){function n(){this.constructor=e}for(var r in i)t.call(i,r)&&(e[r]=i[r]);return n.prototype=i.prototype,e.prototype=new n,e.__super__=i.prototype,e},t={}.hasOwnProperty;Juzaweb.NotificationDetail=function(t){function i(e,t){if(null!=t)for(var n in t)this[n]=t[n];this.opts={alertUnsavedChanges:!0,disabledUntilDirty:!0},this.element=e,this.changedSettings=!1,$("textarea").height($("textarea")[0].scrollHeight),i.__super__.constructor.call(this,this.form,this.opts)}return e(i,t),i.prototype.changeSettings=function(){this.changedSettings=!0},i.prototype.previewEmailTemplate=function(){var e=$("#email-template-content").val(),t=$("#email-template-subject").val(),i=this;$.ajax({url:"/admin/settings/notifications/PreviewEmailTemplate",type:"POST",data:{Subject:t,Content:e},success:function(e){Bindings.refresh(),i.viewTemplate.show(),$("#viewTemplate").find(".ui-modal__body").find(".nofification-detail").find("#email_template_iframe").attr("srcdoc",stripScripts(e.email)),$("#viewTemplate").find(".ui-modal__body").find(".notification-subject").text(e.subject)}})},i.prototype.sendTestEmail=function(e){$.ajax({url:"/admin/settings/notifications/SendTestMail",type:"POST",data:{template:e},success:function(e){"OK"!=e?Juzaweb.Flash.error("Gửi email thử nghiệm không thành công"):Juzaweb.Flash.notice("Gửi email thử nghiệm thành công")}})},i.prototype.showRevertEmailTemplateToDefaultModal=function(e){this.revertEmailTemplateToDefaultModal.show(),$('.form-revert-email-default input[name="template"]').val(e)},i.prototype.resizeIframe=function(e){setTimeout(function(){$(e).height(e.contentWindow.document.body.scrollHeight+40)},300)},i}(Juzaweb.Forms)}.call(this),function(){Juzaweb.EmailTemplateOperations=function(){function e(e){this.$node=$(e),this.$colorPicker=this.$node.find("#shop_accent_color"),this.preview=_.debounce(this.preview,150),this.$imageWidth=this.$node.find("#shop_logo_width"),this.$previewBox=$("#preview-email-box"),this.imagePicker=new Juzaweb.ImagePicker("logo_key",e),this.changedSettings=!1,Page.onChange(function(e){return function(){return e.changedSettings}}(this),function(e){return function(){return e.changedSettings=!1}}(this))}return e.prototype.changeSettings=function(){this.changedSettings=!0,this.preview()},e.prototype.editPreview=function(e,t,i){var n;return this.activeView="preview",(n=$.ajax({data:t.$form.serialize().replace(/_method=patch/,""),type:"post",url:e.href})).success(function(e,t,n){return Page.refresh({onlyKeys:["preview_email_template","preview_sms_template"],response:n}),i.show()}),n.fail(function(e,t,i){return 422===e.status?Juzaweb.Flash.error(e.responseText):Juzaweb.handleError(e,t,i)})},e.prototype.preview=function(e){var t;return(t=$.ajax({data:{index:null!=e?e:this.$previewBox.data("index"),emailSettings:{accentColor:this.$colorPicker.val(),logoKey:this.imagePicker.$input.val(),logoWidth:this.$imageWidth.val()}},type:"post",url:this.$node.data("target")})).success(function(e,t,i){return Page.refresh({onlyKeys:["preview_email_template","preview_sms_template"],response:i})}),t.fail(function(e){Juzaweb.Flash.error(e.responseText)})},e.prototype.save=function(e){var t=this;$.ajax({type:"post",url:e.href,data:{emailSettings:{accentColor:this.$colorPicker.val(),logoKey:this.imagePicker.$input.val(),logoWidth:this.$imageWidth.val()}},success:function(){t.changedSettings=!1,Juzaweb.Flash.notice("Lưu cấu hình email thành công")},error:function(){Juzaweb.Flash.error("Đã xảy ra lỗi")}})},e.prototype.resizeIframe=function(e){return $(e).height(e.contentWindow.document.body.scrollHeight+50)},e}()}.call(this),function(){Juzaweb.HTML={unsafeStrip:function(e,t){var i=(e||"").replace(/<style[^<]*>[\s\S]*?<\/style>/gi,"").replace(/<script[^<]*>[\s\S]*?<\/script>/gi,"").replace(/<[^>]+>/g,"").replace(/\s+/g," ").replace(/^\s+|\s+$/g,"");return t&&(i=i.substring(0,t)),i},unsafeStripWithoutNbsp:function(e,t){var i=(e||"").replace(/<style[^<]*>[\s\S]*?<\/style>/gi,"").replace(/<script[^<]*>[\s\S]*?<\/script>/gi,"").replace(/<[^>]+>/g,"").replace(/&nbsp;/g," ").replace(/\s+/g," ").replace(/^\s+|\s+$/g,"");return t&&(i=i.substring(0,t)),i},escapeEntities:function(e){return e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},unescapeEntities:function(e){return e.replace(/&quot;/g,'"').replace(/&#39;/g,"'").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&")}}}.call(this),function(){Juzaweb.EditSeo=function(){function e(e,t){this.max_alias_length=255,t.max_alias_length&&(this.max_alias_length=t.max_alias_length),this.max_seo_title_length=70,t.max_seo_title_length&&(this.max_seo_title_length=t.max_seo_title_length),this.max_seo_description_length=320,t.max_seo_description_length&&(this.max_seo_description_length=t.max_seo_description_length),this.seo_visible=!1,this.object_name=t.object_name,this.object_reference=t.object_reference,this.original_handle=t.original_handle,this.node=e,this.object=Bindings.context(this.node)[this.object_reference],this.new_handle=this.original_handle}return e.prototype.shouldShowPreview=function(){return!this.missingText()},e.prototype.missingText=function(){var e=[];return this.googleTitle()||e.push("Tiêu đề"),this.googleDescription()||e.push("Mô tả"),0===e.length?"":"Xin hãy nhập "+e.join(" và ")+" để xem trước kết quả tìm kiếm của "+this.object_name+" này"},e.prototype.googleTitle=function(){var e;return e=this.object.meta_title?this.object.meta_title:this.object.name?this.object.name:"",Juzaweb.Inflection.truncate(e,this.max_seo_title_length)},e.prototype.googleDescription=function(){var e;return e=this.object.meta_description?this.object.meta_description:this.object.content?this.object.content:"",Juzaweb.Inflection.truncate(e,this.max_seo_description_length)},e.prototype.googlePath=function(){return this.new_handle?this.new_handle:Juzaweb.Inflection.generateAlias(this.object.name,320)},e.prototype.urlChanged=function(){return this.googlePath()!==this.original_handle},e.prototype.redirectSelected=function(){return this.urlChanged()&&this.object.auto_redirect},e.prototype.isSeoVisible=function(){return this.seo_visible},e.prototype.showSeo=function(){return this.seo_visible=!0,$(".seo-section").show(),this.seo_visible},e.prototype.titleCharsRemainingText=function(){return void 0!==this.object.meta_title&&this.object.meta_title?this.object.meta_title.length:Math.min((this.object.name||"").length,this.max_seo_title_length)},e.prototype.descriptionCharsRemainingText=function(){return void 0!==this.object.meta_description&&this.object.meta_description?this.object.meta_description.length:Math.min((this.object.content||"").length,this.max_seo_description_length)},e.prototype.titlePlaceHolder=function(){return this.object.name?this.object.name.replace(/(\r?\n|\r)/gm," ").trim().substr(0,this.max_seo_title_length):""},e.prototype.descriptionPlaceHolder=function(){return this.object.content?this.object.content.substr(0,this.max_seo_description_length):""},e.prototype.aliasPlaceHolder=function(){return Juzaweb.Inflection.generateAlias(this.object.name).substr(0,this.max_alias_length)},e}()}.call(this),function(){Juzaweb.PreviewEmailTemplate=function(){function e(e,t){if(null!=t)for(var i in t)this[i]=t[i];this.element=e}return e.prototype.previewEmailTemplate=function(){var e=$("#email-template-content").val(),t=$("#email-template-subject").val();$.ajax({url:"/admin/settings/notifications/PreviewEmailTemplate",type:"POST",data:{Subject:t,Content:e},success:function(){}})},e.prototype.backToEditEmailTemplate=function(e){$(".btn-back-to-edit").addClass("hide"),$(".btn-preview").removeClass("hide"),$(".email-template-edit").removeClass("hide"),$(".modal-title").html("Chỉnh sửa mẫu email "+e),$(".email-template-preview").addClass("hide")},e.prototype.sendTestEmail=function(e){$.ajax({url:"/admin/settings/notifications/SendTestMail",type:"POST",data:{template:e},success:function(e){"OK"!=e?Juzaweb.Flash.error("Gửi email thử nghiệm không thành công"):Juzaweb.Flash.notice("Gửi email thử nghiệm thành công")}})},e}()}.call(this),function(){Juzaweb.PreviewPrintOrderTemplate=function(){function e(e,t){if(null!=t)for(var i in t)this[i]=t[i];this.element=e}var t=function(e){var t,i=document.createElement("div");return i.innerHTML=e,(t=$(i)).find(".print_barcode").each(function(){var e=$(this).attr("val");$(this).JsBarcode(e,{width:1,height:37,quite:0,margin:0,format:"CODE128",displayValue:!1,font:"monospace",textAlign:"center",lineColor:"#000"})}),t};return e.prototype.previewPrintOrderTemplate=function(){var e=$("#email-template-content").val();$.ajax({url:"/admin/settings/notifications/PreviewPrintTemplate",type:"POST",data:{Content:e},success:function(e){var i,n,r;$(".btn-back-to-edit").removeClass("hide"),$(".btn-preview").addClass("hide"),$(".email-template-edit").addClass("hide"),$(".modal-title").html("Xem trước mẫu In đơn hàng"),$(".email-template-preview").removeClass("hide"),i=$(".email-template-content-preview > #email-template-content-preview"),(n=i.contents().find("body")).css("overflow","hidden"),r=t(e.email),n.html(r[0]?r[0].innerHTML:e.email),setTimeout(function(){i.height(n[0].scrollHeight+"px")},100)}})},e.prototype.backToEditPrintOrderTemplate=function(e){$(".btn-back-to-edit").addClass("hide"),$(".btn-preview").removeClass("hide"),$(".email-template-edit").removeClass("hide"),$(".modal-title").html("Chỉnh sửa mẫu "+e),$(".email-template-preview").addClass("hide")},e.prototype.printTestOrder=function(e){var i=this;$.ajax({url:"/admin/settings/notifications/PrintTestOrder",type:"POST",data:{template:e},success:function(e){var n,r,s;"OK"!=e.result?Juzaweb.Flash.error("In thử nghiệm không thành công"):(n=t(e.content),(r=n.find(".logo_store"))[0]?(s=$(r).attr("val"),toDataURL(s,function(t){$(r).attr("src",t),i.printProcess(e,n)})):i.printProcess(e,n))}})},e.prototype.printProcess=function(e,t){var i=window.frames.print_frame;i.document.body.innerHTML=t[0]?t[0].innerHTML:e.content,setTimeout(function(){i.document.close(),i.focus(),i.print(),i.close()},250)},e}()}.call(this),function(){Juzaweb.PreviewPrintShipmentTemplate=function(){function e(e,t){if(null!=t)for(var i in t)this[i]=t[i];this.element=e}var t=function(e){var t,i=document.createElement("div");return i.innerHTML=e,(t=$(i)).find(".print_barcode").each(function(){var e=$(this).attr("val");$(this).JsBarcode(e,{width:1,height:37,quite:0,margin:0,format:"CODE128",displayValue:!1,font:"monospace",textAlign:"center",lineColor:"#000"})}),t};return e.prototype.previewPrintShipmentTemplate=function(){var e=$("#email-template-content").val();$.ajax({url:"/admin/settings/notifications/PreviewPrintTemplate",type:"POST",data:{Content:e},success:function(e){var i,n,r;$(".btn-back-to-edit").removeClass("hide"),$(".btn-preview").addClass("hide"),$(".email-template-edit").addClass("hide"),$(".modal-title").html("Xem trước mẫu In vận đơn"),$(".email-template-preview").removeClass("hide"),i=$(".email-template-content-preview > #email-template-content-preview"),(n=i.contents().find("body")).css("overflow","hidden"),r=t(e.email),n.html(r[0]?r[0].innerHTML:e.email),setTimeout(function(){i.height(n[0].scrollHeight+"px")},100)}})},e.prototype.backToEditPrintShipmentTemplate=function(e){$(".btn-back-to-edit").addClass("hide"),$(".btn-preview").removeClass("hide"),$(".email-template-edit").removeClass("hide"),$(".modal-title").html("Chỉnh sửa mẫu "+e),$(".email-template-preview").addClass("hide")},e.prototype.printTestShipment=function(e){$.ajax({url:"/admin/settings/notifications/PrintTestShipment",type:"POST",data:{template:e},success:function(e){if("OK"!=e.result)Juzaweb.Flash.error("In thử nghiệm không thành công");else{var i=window.frames.print_frame,n=t(e.content);i.document.body.innerHTML=n[0]?n[0].innerHTML:e.content,setTimeout(function(){i.document.close(),i.focus(),i.print(),i.close()},250)}}})},e}()}.call(this),function(){Juzaweb.FilterAndSavedSearch=function(){function e(e,t){if(null!=t)for(var i in t)this[i]=t[i];this.element=e,this.isValid=!1,this.$filterForm=$("#frmFilter"),this.submitQuery=_.debounce(this.submitQuery,300),$(".ui-btn-filter").on("click",this.openFilterMenu),$("body").on("click",this.closeFilterMenu),$("#more-savedsearch").on("click",this.openSavedSearchMenu),this.showFilterBar(this.type)}return e.optionsNeedingValue=["greater_than","less_than","equals","not_equals"],e.prototype.openSavedSearchMenu=function(e){$(e.currentTarget).parent().children(".dropdown-hidden-search").hasClass("show")?$(e.currentTarget).parent().children(".dropdown-hidden-search").removeClass("show"):$(e.currentTarget).parent().children(".dropdown-hidden-search").addClass("show")},e.prototype.openFilterMenu=function(e){$(e.currentTarget).parent().children(".dropdown-filter").hasClass("show")?$(e.currentTarget).parent().children(".dropdown-filter").removeClass("show"):$(e.currentTarget).parent().children(".dropdown-filter").addClass("show")},e.prototype.closeFilterMenu=function(e){"ui-btn-filter"!==e.target.id&&"btn__text--deprioritize-filter"!==e.target.id&&"svg-filter"!==e.target.id&&0===$(".dropdown-filter.show").has(e.target).length&&"svg-filter"!==$(e.target).parent().attr("id")&&$(".dropdown-filter").removeClass("show"),"more-savedsearch"!==e.target.id&&"svg-msaved"!==e.target.id&&0===$(".dropdown-hidden-search.show").has(e.target).length&&"svg-msaved"!==$(e.target).parent().attr("id")&&$(".dropdown-hidden-search").removeClass("show")},e.prototype.showFilterBar=function(){var e,t=0,i=[];t+=$("#filter-tab-all").width();var n=$(".filter-tab-list").width(),r=$("#dropdown-hidden-search"),s=32;if(1==$("#filter-tab-item-always").size()&&(s=117.5),$("#filter-tab-list").find(".filter-tab-item").each(function(){var e=$(this);(t+=e.width())>=n-s&&(i.push(e),t-=e.width())}),i.length>0){for(e=0;e<i.length;e++){var o=i[e],a=o.attr("data-tab-id"),l=o.attr("data-tab-name");r.append(this.generateHiddenTabItem(a,l,this.type)),o.remove()}$("#hidden-search").show()}$(".filter-tab-list").removeClass("overflow-hidden-x")},e.prototype.generateHiddenTabItem=function(e,t){var i=window.location.pathname;return NaN!==parseInt(e)?'<li> <a style="width:100%" type="button" class="ui-action-list-action" href="'+i+"?savedSearchId="+e+'">'+t+"</a></li>":'<li> <button style="width:100%" type="button" class="ui-action-list-action" bind-event-click="openSavedSearch('+e+');">'+t+"</button></li>"},e.prototype.resetFilter=function(){this.option="",this.value=null,this.isValid=!1,$(".filter-builder .filter-select").val("")},e.prototype.resetValue=function(){this.value=null,this.isValid=!1},e.prototype.optionSelected=function(){return null!=this.option&&""!=this.option},e.prototype.hasValue=function(){return null!=this.value&&""!=this.option},e.prototype.optionRequiresValue=function(){return this.constructor.optionsNeedingValue.indexOf(this.option)>=0},e.prototype.needValue=function(){return!this.option||this.optionRequiresValue()},e.prototype.remoteFilter=function(e){null==e&&(e={});var t=this.$filterForm.serialize(),i=this.cleanExtraValue(Juzaweb.UrlMangler.parseSearchString(t));Page.refresh(_.extend(e,{queryParams:i}))},e.prototype.cleanExtraValue=function(e){if(e.Limit&&50==e.Limit&&delete e.Limit,e.Page&&1>=e.Page&&delete e.Page,void 0!==typeof this.default_values&&null!=this.default_values)for(var t in this.default_values)this.default_values[t]==e[t]&&delete e[t];return _.pickBy(e,function(e,t){return""!=e||null!=t&&"query"==t.toLowerCase()})},e.prototype.removeFilterItem=function(e){this.$filterForm.find("input[name="+e+"]").remove(),this.removeFilterFormSaveSearch(),this.remoteFilter()},e.prototype.submitFilter=function(){var e="",t="";if(this.needValue()?(e=this.generateKeyWithOption(this.filterKey,this.option),t=this.value):(e=this.filterKey,t=this.option),null!==t&&""!==t)return this.setFilterFormQueryValue(e,t),this.removeFilterFormSaveSearch(),this.setFilterFormQueryValue("Page",1),this.remoteFilter(),!1;this.isValid=!0},e.prototype.submitQuery=function(){var e=this.query.trim(),t=this;this.setFilterFormQueryValue("Query",e),this.removeFilterFormSaveSearch(),this.setFilterFormQueryValue("Page",1),Juzaweb.Utility.loadAjax(document.location.pathname,"."+this.type_filter,function(e){var i,n=$(e);n.find(".has-saved-search-actions").size()?$("#has-saved-search-actions").attr("class","has-saved-search-actions"):$("#has-saved-search-actions").attr("class",""),(i=n.find(".saved-search-actions-next")).size()&&($(".saved-search-actions-next").html(i.html()),$(".saved-search-actions-next").removeClass("hide"),Bindings.unbind($(".saved-search-actions-next").get(0)),Bindings.bind($(".saved-search-actions-next").get(0))),n=null,"customers"==t.type_filter&&initTextAvatar()},{data:$.param(_.filter(this.$filterForm.serializeArray(),function(e){return""!=e.value||null!=e.name&&"query"==e.name.toLowerCase()})),pushState:!0,abort:!0})},e.prototype.generateKeyWithOption=function(e,t){switch(t){case"less_than":return e+"Max";case"greater_than":return e+"Min";case"not_equals":return e+"Not";default:return e}},e.prototype.setFilterFormQueryValue=function(e,t){var i=this.$filterForm.find("input[name="+e+"]");0==i.length&&(this.$filterForm.append("<input type='hidden' name='"+e+"' value='' />"),i=this.$filterForm.find("input[name="+e+"]")),i.val(t)},e.prototype.removeFilterFormSaveSearch=function(){var e=document.getElementById("frmFilter").elements.namedItem("savedSearchId");null!=e?e.parentNode.removeChild(e):null!=(e=document.getElementById("frmFilter").elements.namedItem("SavedSearchId"))&&e.parentNode.removeChild(e)},e.prototype.showAllItems=function(){$(".filter-tab").removeClass("filter-tab-active").removeClass("next-tab--is-active"),$(".show-all-items").addClass("filter-tab-active").addClass("next-tab--is-active"),$("#frmFilter").empty(),document.getElementById("frmFilter").submit()},e.prototype.openSavedSearch=function(e){$("#frmFilter").empty();var t=document.createElement("input");t.type="hidden",t.name="savedSearchId",t.value=e,document.getElementById("frmFilter").appendChild(t),document.getElementById("frmFilter").submit()},e.prototype.showDeleteSavedSearchModal=function(e){var t=this;bootbox.dialog({message:"Bạn có muốn xóa kết quả tìm kiếm này? Thao tác này không thể khôi phục.",title:"Bạn muốn xóa dữ liệu này?",buttons:{cancel:{label:"Hủy"},danger:{label:"Xóa",className:"btn-destroy-no-hover",callback:function(){t.deleteSavedSearch(e)}}}})},e.prototype.deleteSavedSearch=function(e){$("#frmRemoveSavedSearch input[name='savedSearchId']").val(e),$("#frmRemoveSavedSearch").attr("action",this.urlDeleteSavedSearch),$("#frmRemoveSavedSearch").submit()},e.prototype.addSavedSearch=function(){var e=$(this.addSaveSearchModel.node).attr("href");e=e.split("?")[0]+"?"+$("#frmFilter").serialize(),$(this.addSaveSearchModel.node).attr("href",e),this.addSaveSearchModel.show()},e.name="FilterAndSavedSearch",e}()}.call(this),function(){Juzaweb.BulkActions=function(){function e(e,t){if(null!=t)for(var i in t)this[i]=t[i];this.element=e,this.init(),this.selectedItems=[],this.multiSelectClick=this.applyFunction(this.multiSelectClick,this),this.initializeMultiSelect(),$(".btn-dropdown-bulkaction").on("click",this.openBulkActionMenu),$("body").on("click",this.closeBulkActionMenu)}return e.prototype.init=function(){$(".bulk-action-item").prop("checked",!1)},e.prototype.openBulkActionMenu=function(e){$(e.currentTarget).parent().children(".dropdown-bulkaction").hasClass("show")?$(e.currentTarget).parent().children(".dropdown-bulkaction").removeClass("show"):$(e.currentTarget).parent().children(".dropdown-bulkaction").addClass("show")},e.prototype.closeBulkActionMenu=function(e){"btn-dropdown-bulkaction"!==e.target.id&&"btn-dropdown-bulkaction"!==$(e.target).parent().attr("id")&&0===$(".dropdown-bulkaction.show").has(e.target).length&&"svg-bulkaction"!==e.target.id&&"svg-bulkaction"!==$(e.target).parent().attr("id")&&$(".dropdown-bulkaction").removeClass("show")},e.prototype.addOrRemoveBulkActionItem=function(e,t){var i,n,r,s,o;e=e.toString(),i=t.checked,n=$(".bulk-action-items-count").attr("selected-bulk-action-items"),i?this.selectedItems.indexOf(e)<0&&(this.selectedItems.push(e),(r=document.createElement("input")).type="hidden",r.name="ids",r.value=e,r.id="bulk-action-item-"+e,document.getElementById("frmBulkActions").appendChild(r),n++,$(t).closest("tr").addClass("selected")):((s=this.selectedItems.indexOf(e))>-1&&this.selectedItems.splice(s,1),null!=(o=document.getElementById("bulk-action-item-"+e))&&(o.parentNode.removeChild(o),n--),$(t).closest("tr").removeClass("selected")),this.showBulkActionItemsCount(n)},e.prototype.selectBulkActionItem=function(e){$("#bulk-action-"+e).prop("checked",!0),$("#bulk-action-"+e).trigger("change")},e.prototype.addOrRemoveAllBulkActionItems=function(){var e,t,i;this.selectedItems=[],null!=(e=$("#frmBulkActions input[name='ids']"))&&e.length>0&&e.remove(),$(".all-bulk-action").prop("checked")?(t=0,i=this,$(".bulk-action-context").find(".bulk-action-item").each(function(){var e,n,r=$(this);r.prop("checked",!0),e=r.val(),i.selectedItems.push(e),(n=document.createElement("input")).type="hidden",n.name="ids",n.value=e,n.id="bulk-action-item-"+e,document.getElementById("frmBulkActions").appendChild(n),t++,$(this).closest("tr").addClass("selected")}),this.showBulkActionItemsCount(t)):($(".bulk-action-context").find(".bulk-action-item").each(function(){$(this).prop("checked",!1),$(this).closest("tr").removeClass("selected")}),this.showBulkActionItemsCount(0))},e.prototype.checkAllBulkActionItems=function(){$(".all-bulk-action").prop("checked",!0),this.addOrRemoveAllBulkActionItems()},e.prototype.uncheckAllBulkActionItems=function(){$(".all-bulk-action").prop("checked",!1),this.addOrRemoveAllBulkActionItems()},e.prototype.showBulkActionItemsCount=function(e){var t;$(".bulk-action-items-count").attr("selected-bulk-action-items",e);var i=$(".bulk-actions").attr("all-items"),n=$(".bulk-actions").attr("total-records"),r=$(".bulk-actions").attr("items-page"),s=$("#frmBulkActions input[name='SelectedAll']");(null==s||s.length<=0)&&((t=document.createElement("input")).type="hidden",t.name="SelectedAll",t.value=!1,document.getElementById("frmBulkActions").appendChild(t)),$("#frmBulkActions input[name='SelectedAll']").prop("value",!1),e>0?($(".bulk-actions").removeClass("hide"),$(".bulk-action-items-count .display-bulk-action-items-count").html(e),e==i?($(".all-bulk-action").prop("checked",!0),$(".all-bulk-action").prop("indeterminate",!1),$(".bulk-select-all .bulk-action-all-selector").html("Đã chọn tất cả "+this.type+'<span class="on-this-page-text"> trên trang này.</span>'),n-r>0||("variant"==this.type?$(".bulk-select-all .bulk-action-all-selector").html("Đã chọn tất cả "+this.type+" của sản phẩm.</span>"):$(".bulk-select-all .bulk-action-all-selector").html("Đã chọn tất cả "+this.type+" trên trang này.</span>")),$("#frmBulkActions input[name='SelectedAll']").prop("value",!0)):($(".bulk-select-all .bulk-action-all-selector").html(""),$(".bulk-action-all-selector .multipage-selected-all").addClass("hide"),$(".all-bulk-action").prop("indeterminate",!0))):($(".all-bulk-action").prop("checked",!1),$(".all-bulk-action").prop("indeterminate",!1),$(".bulk-actions").addClass("hide"))},e.prototype.addBulkActionAll=function(){var e,t=document.getElementById("frmBulkActions").elements.namedItem("SelectedAll");null==t?((e=document.createElement("input")).type="hidden",e.name="SelectedAll",e.value=!0,document.getElementById("frmBulkActions").appendChild(e)):t.value=!0,$(".bulk-select-all .bulk-action-all-selector").html("Đã chọn tất cả "+this.type+" trên trang này.</span>"),$(".bulk-action-all-selector .multipage-selected-all").addClass("hide"),$(".bulk-action-all-selector .clear-multipage-selection").removeClass("hide")},e.prototype.removeBulkActionAll=function(){var e,t=document.getElementById("frmBulkActions").elements.namedItem("SelectedAll");null==t?((e=document.createElement("input")).type="hidden",e.name="SelectedAll",e.value=!1,document.getElementById("frmBulkActions").appendChild(e)):t.value=!1,$(".bulk-select-all .bulk-action-all-selector").html("Đã chọn tất cả "+this.type+'<span class="on-this-page-text"> trên trang này.</span>'),$(".bulk-action-all-selector .multipage-selected-all").removeClass("hide"),$(".bulk-action-all-selector .clear-multipage-selection").addClass("hide")},e.prototype.showDeleteItemsModal=function(){this.deleteItemsModal.show(),$("#frmBulkActions input[name='ids']").each(function(e,t){$(".variantDeleteIds").append("<input type='hidden' name='ids' value='"+$(t).val()+"' />")})},e.prototype.deleteItems=function(){var e,t=$(".btn-delete-bulk-action"),i=this;t.addClass("disabled").addClass("is-loading"),Juzaweb.Loading.start(),(e=$("#frmBulkActions input[name='ids']").length*TIME_DELAY)>7e3&&(e=7e3),$.ajax({url:this.urlBulkActionDelete,type:"POST",global:!1,data:$("#frmBulkActions").serialize(),success:function(t){setTimeout(function(){Juzaweb.Utility.loadAjax(window.location.href,".page-content",function(){t.message?Juzaweb.Flash.notice(t.message):t.result&&t.result.message?Juzaweb.Flash.notice(t.result.message):Juzaweb.Flash.notice("Xóa thành công"),"khách hàng"==i.type&&initTextAvatar()})},e)},error:function(e){Juzaweb.Flash.error(e.responseJSON.error.replace(/\n/g,"; ").replace(/; $/,"")),t.removeClass("disabled").html("Xóa"),Juzaweb.Loading.stop()}})},e.prototype.publishItems=function(){Juzaweb.Loading.start();var e=$("#frmBulkActions input[name='ids']").length*TIME_DELAY;e>7e3&&(e=7e3),$.ajax({url:this.urlBulkActionPublish,type:"POST",global:!1,data:$("#frmBulkActions").serialize(),success:function(t){setTimeout(function(){Juzaweb.Utility.loadAjax(window.location.href,".page-content",function(){t.message?Juzaweb.Flash.notice(t.message):t.result&&t.result.message?Juzaweb.Flash.notice(t.result.message):Juzaweb.Flash.notice("Tiến trình đang được thực hiện")})},e)},error:function(e){null!=e&&null!=e.responseJSON&&Juzaweb.Flash.error(e.responseJSON.error.replace(/\n/g,"; ").replace(/; $/,"")),Juzaweb.Loading.stop()}})},e.prototype.unPublishItems=function(){Juzaweb.Loading.start();var e=$("#frmBulkActions input[name='ids']").length*TIME_DELAY;e>7e3&&(e=7e3),$.ajax({url:this.urlBulkActionUnPublish,type:"POST",global:!1,data:$("#frmBulkActions").serialize(),success:function(t){setTimeout(function(){Juzaweb.Utility.loadAjax(window.location.href,".page-content",function(){t.message?Juzaweb.Flash.notice(t.message):t.result&&t.result.message?Juzaweb.Flash.notice(t.result.message):Juzaweb.Flash.notice("Tiến trình đang được thực hiện")})},e)},error:function(e){null!=e&&null!=e.responseJSON&&Juzaweb.Flash.error(e.responseJSON.error.replace(/\n/g,"; ").replace(/; $/,"")),Juzaweb.Loading.stop()}})},e.prototype.approveItems=function(){Juzaweb.Loading.start();$.ajax({url:this.urlBulkActionApprove,type:"POST",global:!1,data:$("#frmBulkActions").serialize(),success:function(e){Juzaweb.Flash.notice(e.result.message),setTimeout(function(){Juzaweb.Utility.loadAjax(window.location.href,".page-content")},1500)},error:function(e){null!=e&&null!=e.responseJSON&&Juzaweb.Flash.error(e.responseJSON.error.replace(/\n/g,"; ").replace(/; $/,"")),Juzaweb.Loading.stop()}})},e.prototype.addTags=function(){var e=window.location.href;Juzaweb.Loading.start(),$.ajax({url:this.urlBulkActionAddTag+"?"+$("#frmBulkActions").serialize()+"&ReturnUrl="+encodeURIComponent(e),success:function(e){$("#juzaweb-modal").html(e),$("#juzaweb-modal").modal({backdrop:"static"}),$("#juzaweb-modal").modal("show"),$(".tag-value-input").tagsinput({})},global:!1,error:function(e){null!=e&&null!=e.responseJSON&&Juzaweb.Flash.error(e.responseJSON.error.replace(/\n/g,"; ").replace(/; $/,""))},complete:function(){Juzaweb.Loading.stop()}})},e.prototype.removeTags=function(){var e=window.location.href;Juzaweb.Loading.start(),$.ajax({url:this.urlBulkActionRemoveTag+"?"+$("#frmBulkActions").serialize()+"&ReturnUrl="+encodeURIComponent(e),success:function(e){$("#juzaweb-modal").html(e),$("#juzaweb-modal").modal("show"),$(".tag-value-input").tagsinput({})},global:!1,error:function(e){null!=e&&null!=e.responseJSON&&Juzaweb.Flash.error(e.responseJSON.error.replace(/\n/g,"; ").replace(/; $/,""))},complete:function(){Juzaweb.Loading.stop()}})},e.prototype.postAction=function(e){$.ajax({url:e,type:"POST",data:$("#frmBulkActions").serialize(),success:function(){window.location.href=window.location.href}})},e.prototype.appLink=function(e){return this.selectedItems.length>0?e+"&ids="+this.selectedItems.join(","):e},e.prototype.allSelected=function(){var e=$(".bulk-actions").attr("all-items");return this.selectedItems.length==e},e.prototype.initializeMultiSelect=function(){return this.lastChecked=null,this.$items=$(this.element).find(".select input[type=checkbox]"),this.$items.on("click",this.multiSelectClick)},e.prototype.multiSelectClick=function(e){var t,i,n=this.$items.index(this.lastChecked),r=this.$items.index(e.target),s=0;if(this.lastChecked){if(e.shiftKey)for(t=this.$items.slice(Math.min(r,n)+1,Math.max(r,n));s<t.length;s++)i="#"+t[s].id,$(i).prop("checked",this.lastChecked.checked),this.addOrRemoveBulkActionItem(t[s].value,t[s]);return this.lastChecked=e.target}this.lastChecked=e.target},e.prototype.applyFunction=function(e,t){return function(){return e.apply(t,arguments)}},e}()}.call(this),function(){var e=function(e,i){function n(){this.constructor=e}for(var r in i)t.call(i,r)&&(e[r]=i[r]);return n.prototype=i.prototype,e.prototype=new n,e.__super__=i.prototype,e},t={}.hasOwnProperty,i=function(e,t){return function(){return e.apply(t,arguments)}};Juzaweb.LinklistForm=function(){function t(e,n){this.prepareSubmitForm=i(this.prepareSubmitForm,this),this.$form=$(e),null==this.newResourceId&&(this.newResourceId=0),this.$form.on("submit",this.prepareSubmitForm),this.initializeSortable(e),t.__super__.constructor.call(this,e,n)}return e(t,Juzaweb.Forms),t.prototype.prepareSubmitForm=function(){this.disableHiddenInputs(),this.setIndexForMultiObjectPost()},t.prototype.initializeSortable=function(){var e=this;this.linklist=$(".link-list-group").sortable({items:".link-list-group-item",placeholder:"ui-sortable__placeholder",helper:"original",opacity:.7,update:function(){e.updatePositions()},start:function(e,t){t.placeholder.height(t.helper.height())}})},t.prototype.updatePositions=function(){$(".link-position",this.node).each(function(e,t){return $(t).val(e+1)}),this._updateDirtyState()},t.prototype.setIndexForMultiObjectPost=function(){for(var e,t,i,n=this.$form.find(".link-list-group-item"),r=0;r<n.length;r++)for(e=$(n[r]).find(":input"),t=0;t<e.length;t++)void 0!==(i=$(e[t]).attr("name"))&&i.indexOf("[]")>=0&&(i=i.replace("[]","["+r+"]"),$(e[t]).attr("name",i))},t.prototype.disableHiddenInputs=function(){this.$form.find(".disable-hidden-input:visible :input").prop("disabled",!1),this.$form.find(".disable-hidden-input:not(:visible) :input").prop("disabled","disabled")},t.prototype.insertLinks=function(){var e=this;this.newResourceId++,$.ajax({url:"/admin/links/GetLinkRow",type:"GET",dataType:"html",data:{index:this.newResourceId},success:function(t){var i=$(t);$(".link-list-group").append(i),Bindings.bind(i[0]),e.updatePositions()}})},t.prototype.removeLink=function(e){$(e).closest(".link-list-group-item").remove(),this._updateDirtyState()},t.prototype.countLinks=function(){return this.$form.find("li.link-list-group-item").length},t.name="LinklistForm",t}()}.call(this),function(){Juzaweb.EditOrder=function(){function e(e,t){if(t)for(var i in t)this[i]=t[i]}return e.prototype.showModal=function(e){this[e].show()},e.prototype.updateFulfillment=function(e){var t=$(e),i=t.attr("action"),n=t.attr("method"),r=this;return Juzaweb.Loading.start(),$.ajax({url:i,type:n,global:!1,data:t.serialize(),success:function(){Juzaweb.Utility.loadAjax(Juzaweb.routes.orders+"/"+r.id,".timeline",function(){Juzaweb.Flash.notice("Cập nhật vận đơn thành công")})},error:function(e){null!=e&&null!=e.responseJSON&&Juzaweb.Flash.error(e.responseJSON.error.replace(/\n/g,"; ").replace(/; $/,"")),Juzaweb.Loading.stop()}}),!1},e.prototype.updateOrderDetails=function(){for(var e,t,i,n=this,r=$('input[name="Tags"]').val(),s=$("#Note").val(),o=[],a=$("input#noteAttributes"),l=0;l<a.length;l++)e=$(a)[l],t={name:$(e).attr("attribute-name"),value:$(e).val()},o.push(t);Juzaweb.Loading.start(),(i=$(".update-order-btn")).addClass("disabled").html(Juzaweb.LOADING),$.ajax({url:Juzaweb.routes.orders+"/"+n.id,data:{note:s,tags:r,noteAttributes:o},type:"POST",global:!1,success:function(e){var t=Juzaweb.routes.orders+"/"+n.id;Juzaweb.Utility.loadAjax(t,".order-info",function(){e.message?Juzaweb.Flash.notice(e.message):Juzaweb.Flash.notice("Cập nhật đơn hàng thành công")})},error:function(e){Juzaweb.Flash.error(e.responseJSON.error.replace(/\n/g,"; ").replace(/; $/,"")),i.removeClass("disabled").html("Lưu"),Juzaweb.Loading.stop()}})},e.prototype.updateOrderDetailsIndex=function(e){for(var t,i,n,r=$('input[id="tags_'+e+'"]').val(),s=$("#note_"+e).val(),o=[],a=$("input#noteAttributes"),l=0;l<a.length;l++)t=$(a)[l],i={name:$(t).attr("attribute-name"),value:$(t).val()},o.push(i);Juzaweb.Loading.start(),(n=$(".update-order-btn")).addClass("disabled").html(Juzaweb.LOADING),$.ajax({url:Juzaweb.routes.orders+"/"+e,data:{note:s,tags:r,noteAttributes:o},type:"POST",global:!1,success:function(e){var t=window.location.href;Juzaweb.Utility.loadAjax(t,".orderContext",function(){e.message?Juzaweb.Flash.notice(e.message):Juzaweb.Flash.notice("Lưu ghi chú thành công")})},error:function(e){Juzaweb.Flash.error(e.responseJSON.error.replace(/\n/g,"; ").replace(/; $/,"")),n.removeClass("disabled").html("Lưu"),Juzaweb.Loading.stop()}})},e.prototype.updateOrderNoteAndTagQuickViewIndex=function(e,t){for(var i,n,r,s,o=$('input[id="tags_'+e+'"]').val(),a=$("#note_"+e).val(),l=[],u=$("input#noteAttributes"),c=0;c<u.length;c++)i=$(u)[c],n={name:$(i).attr("attribute-name"),value:$(i).val()},l.push(n);Juzaweb.Loading.start(),(r=$(".update-order-btn")).addClass("disabled").html(Juzaweb.LOADING),s=t||window.location.href,$.ajax({url:Juzaweb.routes.orders+"/"+e,data:{note:a,tags:o,noteAttributes:l},type:"POST",global:!1,success:function(t){window.location.href;Juzaweb.Utility.loadAjax(s,"#quick-view-order-"+e,function(){t.message?Juzaweb.Flash.notice(t.message):Juzaweb.Flash.notice("Lưu ghi chú thành công")})},error:function(e){Juzaweb.Flash.error(e.responseJSON.error.replace(/\n/g,"; ").replace(/; $/,"")),r.removeClass("disabled").html("Lưu"),Juzaweb.Loading.stop()}})},e.updateOrderEmail=function(){var e=$("#order-email").val(),t=$("#update-profile").is(":checked"),i=($('input[name="orderId"]').val(),$('input[name="customerId"]').val());$.ajax({url:Juzaweb.routes.orders+"/UpdateOrderEmail",dataType:"html",data:{email:e,updateProfile:t,id:this.id,customerId:i},type:"post",success:function(e){"OK"!=e?$(".order-email-error-refresh").html(e):(Juzaweb.Modal.hide(),Juzaweb.Flash.notice("Cập nhật email đơn hàng thành công"),window.location.reload())}})},e}()}.call(this),function(){Juzaweb.OrderAction=function(){function e(e,t){if(t)for(var i in t)this[i]=t[i]}return e.prototype.showModal=function(e){this[e].show()},e.prototype.archiveOrder=function(e,t){var i;i=t?"Lưu trữ":"Hủy lưu trữ",$.ajax({url:e,type:"post",data:{isArchive:t},success:function(e){"OK"!=e?Juzaweb.Flash.notice(i+" đơn hàng không thành công"):window.location.reload()},error:function(e){Juzaweb.Flash.error(e.responseJSON.error.replace(/\n/g,"; ").replace(/; $/,""))}})},e.prototype.archiveOrderQuickView=function(e,t,i,n){var r;r=t?"Lưu trữ":"Hủy lưu trữ",$.ajax({url:e,type:"post",data:{isArchive:t},success:function(e){if("OK"!=e.message)Juzaweb.Utility.loadAjax(n,i,function(){Juzaweb.Flash.notice(r+" đơn hàng không thành công")});else{var t=$(document).find("#parent-quick-view-"+e.order_id);$(t).removeClass(),$(t).addClass(OrderStatus(e.order_status)),Juzaweb.Utility.loadAjax(n,i,function(){Juzaweb.Flash.notice(r+" đơn hàng thành công")})}},error:function(e){Juzaweb.Flash.error(e.responseJSON.error.replace(/\n/g,"; ").replace(/; $/,""))}})},e.prototype.getTotalRestock=function(){var e=0;return $(".refund-quantity.restockable").each(function(){e+=parseInt($(this).val())}),0==e&&$("#Restock").prop("checked",!1),e},e.prototype.getTotalRefundAmount=function(e){var t=0;return $(".refund-quantity").each(function(){t+=parseFloat($(this).attr("value-per-item"))*parseInt($(this).val())}),t>e&&(t=e),t},e.prototype.updateRefundedNet=function(e){var t=0;$(".refund-quantity").each(function(){var e=$(this).attr("value-per-item"),i=$(this).val(),n=Math.floor(i);$(this).val(n),t+=parseInt($(this).val())*parseFloat(e)}),$(".refundedNet").html(Juzaweb.Utility.textMoneyWithSymbol(t,this.culture_code).replace(" ","")),this.updateRefundAmounts(t);var i=$(e).attr("item-position"),n=$(e).attr("value-per-item")*$(e).val();$(".refundTotal-"+i).html(Juzaweb.Utility.textMoneyWithSymbol(n,this.culture_code).replace(" ",""))},e.prototype.updateRefundAmounts=function(e){if(e<=0)$(".refund-amount").each(function(){$(this).val(0)});else{var t=0;$(".refund-amount").each(function(){if(t<=e){var i=parseFloat(e-t),n=parseFloat($(this).attr("data-autonumeric-max"));n<i&&(i=n),$(this).val(i),t+=parseFloat(i)}}),reSetAutoNumeric()}},e}()}.call(this),function(){Juzaweb.OrderPaymentProcessing=function(){function e(e,t){if(t)for(var i in t)this[i]=t[i];this.$form=$(".refund-form"),this.hasNoAmountToCapture=!1,this.hasNoAmountToRefund=!0,this.hasSelectedQuantity=!1,this.isCalculating=!1,this.shipping={},this.transactions={},this.refundLineItems={},this.totalCartDiscountAmount=0,this.totalLineItemPrice=0,this.totalRefund=0,this.restock=!1,this.updateRefundedNet=_.debounce(this.updateRefundedNet,500),this.totalRestock=0}return e.prototype.showModal=function(e){this[e].show()},e.prototype.calculateRestock=function(){$("#Restock").is(":checked")?this.totalRestock>0&&(this.restock=!0):this.restock=!1},e.prototype.getTotalRestock=function(){var e=0;return $(".refund-quantity.restockable").each(function(){$(this).val()&&""!=$(this).val().trim()&&(e+=parseInt($(this).val()))}),this.totalRestock=e,0==e&&(this.restock=0,$("#Restock").prop("checked",!1)),e},e.prototype.updateRefundedNet=function(){var e,t,i=this;for(t in Juzaweb.OrderPaymentProcessing.updateRefundedNetAjax&&Juzaweb.OrderPaymentProcessing.updateRefundedNetAjax.abort(),(e={}).refundLineItems=[],e.shipping={amount:unFomatPrice(this.shippingAmount)},this.refundLineItems)this.refundLineItems[t].quantity>0&&e.refundLineItems.push({lineItemId:t,quantity:this.refundLineItems[t].quantity});this.isCalculating=!0,Bindings.refreshImmediately(),Juzaweb.OrderPaymentProcessing.updateRefundedNetAjax=$.ajax({url:"/admin/orders/calculateRefund/{id}".replace("{id}",this.orderId),type:"POST",contentType:"application/json",dataType:"json",data:JSON.stringify(e),complete:function(){i.isCalculating=!1},success:function(e){var t,n,r,s;if(e&&e.refund){if(t=e.refund,i.resetCurrentAmount(),t.transactions.length>0){for(r=0;r<t.transactions.length;r++)n=t.transactions[r],i.transactions[n.parent_id]||(i.transactions[n.parent_id]={}),i.transactions[n.parent_id].amount=n.amount;i.recalculateTotalRefund()}if(t.refund_line_items.length>0)for(r=0;r<t.refund_line_items.length;r++)i.totalCartDiscountAmount+=t.refund_line_items[r].total_cart_discount_amount,s=t.refund_line_items[r].line_item_id,i.refundLineItems[s].amount=t.refund_line_items[r].price*t.refund_line_items[r].quantity,i.refundLineItems[s].amountString=Juzaweb.Utility.textMoneyWithSymbol(i.refundLineItems[s].amount,i.cultureCode),i.totalLineItemPrice+=i.refundLineItems[s].amount}i.totalLineItemPriceString=Juzaweb.Utility.textMoneyWithSymbol(i.totalLineItemPrice,i.cultureCode),i.totalCartDiscountAmountString=Juzaweb.Utility.textMoneyWithSymbol(-i.totalCartDiscountAmount,i.cultureCode),Bindings.refreshImmediately(),reSetAutoNumeric()}}),reSetAutoNumeric()},e.prototype.resetCurrentAmount=function(){var e,t;for(e in this.totalRefund=0,this.totalCartDiscountAmount=0,this.totalLineItemPrice=0,this.transactions)this.transactions[e].amount=0;for(t in this.refundLineItems)this.refundLineItems[t].amount=0,this.refundLineItems[t].amountString=Juzaweb.Utility.textMoneyWithSymbol(this.refundLineItems[t].amount,this.cultureCode)},e.prototype.recalculateTotalRefund=function(){for(var e in this.totalRefund=0,this.transactions)this.totalRefund+=unFomatPrice(this.transactions[e].amount);this.totalRefundString=Juzaweb.Utility.textMoneyWithSymbol(this.totalRefund,this.cultureCode)},e.prototype.actionRefund=function(e){var t=$(e);this.prepareFormDataToSubmit(e);var i=t.attr("action"),n=t.attr("method");return unSetAutoNumeric(),$.ajax({url:i,type:n,data:t.serialize(),beforeSend:function(){reSetAutoNumeric()},success:function(e){"OK"!=e.message?Juzaweb.Flash.error("Thao tác thất bại. Xin kiểm tra lại thông tin hoàn trả."):(Juzaweb.Modal.hide(),window.location.reload())},error:function(e){Juzaweb.Flash.error(e.responseJSON.error.replace(/\n/g,"; ").replace(/; $/,""))}}),reSetAutoNumeric(),!1},e.prototype.actionRefundQuickView=function(e,t,i){var n=$(e);this.prepareFormDataToSubmit(e);var r=n.attr("action"),s=n.attr("method");return unSetAutoNumeric(),$.ajax({url:r,type:s,data:n.serialize(),beforeSend:function(){reSetAutoNumeric()},success:function(e){"OK"!=e.message?Juzaweb.Utility.loadAjax(i,t,function(){Juzaweb.Flash.error("Thao tác thất bại. Xin kiểm tra lại thông tin hoàn trả.")}):($(document).find("#payment-status-"+e.order_id).html(OrderPaymentStatus(e.payment_status)),$(document).find("#fulfill-status-"+e.order_id).html(OrderFulfillStatus(e.fulfill_status)),Juzaweb.Utility.loadAjax(i,t,function(){Juzaweb.Modal.hide(),Juzaweb.Flash.notice("Hoàn trả thành công")}))},error:function(e){Juzaweb.Flash.error(e.responseJSON.error.replace(/\n/g,"; ").replace(/; $/,""))}}),reSetAutoNumeric(),!1},e.prototype.prepareFormDataToSubmit=function(e){var t=$(e);t.find(".refund-quantity").each(function(){$(this).val()&&""!=$(this).val().trim()||$(this).val("0")}),t.find(".refund-amount").each(function(){$(this).val()&&""!=$(this).val().trim()||$(this).val("0")})},e.prototype.updateCaptureAmount=function(){for(var e,t,i=0,n=$(".capture-amount"),r=0;r<n.length;r++)e=n[r],t=unFomatPrice($(e).val()),isNaN(t)&&(t=0,$(e).val(0)),i+=t;this.hasNoAmountToCapture=!(i>0),$(".formattedCaptureAmount").html(i)},e.prototype.actionCapture=function(e){var t=$(e),i=t.attr("action"),n=t.attr("method"),r=this;return unSetAutoNumeric(),$.ajax({url:i,type:n,data:t.serialize(),beforeSend:function(){reSetAutoNumeric()},success:function(e){"OK"!=e?(t.html($(e).find(".capture-form").html()),Bindings.bind(t.get(0),r)):(Juzaweb.Modal.hide(),window.location.reload(),Juzaweb.Flash.notice("Nhận tiền thành công"))},error:function(e){Juzaweb.Flash.error(e.responseJSON.error.replace(/\n/g,"; ").replace(/; $/,""))}}),reSetAutoNumeric(),!1},e.prototype.actionCaptureQuickView=function(e,t,i){var n=$(e),r=n.attr("action"),s=n.attr("method"),o=this;return unSetAutoNumeric(),$.ajax({url:r,type:s,data:n.serialize(),beforeSend:function(){reSetAutoNumeric()},success:function(e){"OK"!=e.message?(n.html($(e).find(".capture-form").html()),Bindings.bind(n.get(0),o)):($(document).find("#payment-status-"+e.order_id).html(OrderPaymentStatus(e.payment_status)),$(document).find("#fulfill-status-"+e.order_id).html(OrderFulfillStatus(e.fulfill_status)),Juzaweb.Utility.loadAjax(i,t,function(){Juzaweb.Modal.hide(),Juzaweb.Flash.notice("Nhận tiền thành công")}))},error:function(e){Juzaweb.Flash.error(e.responseJSON.error.replace(/\n/g,"; ").replace(/; $/,""))}}),reSetAutoNumeric(),!1},e}()}.call(this),function(){Juzaweb.EditCheckout=function(){function e(e,t){if(t)for(var i in t)this[i]=t[i]}return e.prototype.showModal=function(e){this[e].show()},e.prototype.updateOrderDetails=function(){var e,t=this,i=$("#Note").val();Juzaweb.Loading.start(),(e=$(".update-order-btn")).addClass("disabled").html(Juzaweb.LOADING),$.ajax({url:Juzaweb.routes.checkouts+"/"+t.id,data:{note:i},type:"POST",global:!1,success:function(e){var i=Juzaweb.routes.checkouts+"/"+t.id;Juzaweb.Utility.loadAjax(i,".order-info",function(){e.message?Juzaweb.Flash.notice(e.message):Juzaweb.Flash.notice("Cập nhật thành công")})},error:function(t){Juzaweb.Flash.error(t.responseJSON.error.replace(/\n/g,"; ").replace(/; $/,"")),e.removeClass("disabled").html("Lưu"),Juzaweb.Loading.stop()}})},e.prototype.unscheduleEmail=function(){var e=this;Juzaweb.Loading.start(),$.ajax({url:Juzaweb.routes.checkouts+"/"+e.id+"/unschedule",data:{id:e.id},type:"POST",global:!1,success:function(t){var i=Juzaweb.routes.checkouts+"/"+e.id;Juzaweb.Utility.loadAjax(i,".checkoutContext",function(){t.message?Juzaweb.Flash.notice(t.message):Juzaweb.Flash.notice("Cập nhật thành công")})},error:function(e){Juzaweb.Flash.error(e.responseJSON.error.replace(/\n/g,"; ").replace(/; $/,"")),button.removeClass("disabled").html("Lưu"),Juzaweb.Loading.stop()}})},e}()}.call(this),function(){var e=[].indexOf||function(e){for(var t=0,i=this.length;i>t;t++)if(t in this&&this[t]===e)return t;return-1};Juzaweb.CollectionRules=function(){function e(e,t){if(null!=t)for(var i in t)this[i]=t[i];this.element=e,this.$rulesTable=$("#smart-filter-conditions"),this.$container=$(e),this.$form=this.$container.parents("form"),this.formContext=null,this.$form.size()&&(this.formContext=Bindings.context(this.$form.get(0)))}return e.prototype.isOnlyRule=function(){return 1===$(".collection-rule",this.$rulesTable).length},e.prototype.removeRule=function(e){this.isOnlyRule()||$(e).closest(".collection-rule").remove(),this.formContext&&this.formContext.form&&this.formContext.form.makeDirty()},e.prototype.addRule=function(){var e,t,i=$(".collection-rule",this.$rulesTable).last().attr("id");i&&(t=parseInt(i.replace("collection-rule-","")),i="collection-rule-"+(t+1)),e=$(".collection-rule",this.$rulesTable).first().clone(),$(e).attr("id",i),$(".rule-field, .rule-relation",e).each(function(){return this.selectedIndex=0}),$(".rule-condition",e).val(""),this.$rulesTable.append(e),Bindings.bind(e[0])},e}(),Juzaweb.CollectionRule=function(){function t(e,t){this.options=t,this.element=e,this.$node=$(e),this.ruleFieldChanged()}return t.prototype.ruleFieldChanged=function(){var e,t,i;this.field=$(".rule-field",this.$node).val(),this.prefix=this.options.prefixes[this.field]||"",this.suffix=this.options.suffixes[this.field]||"",Bindings.refreshImmediately(),e=$(".rule-relation",this.$node),$("option:selected:disabled",e).length>0&&(e[0].selectedIndex=0),unSetAutoNumeric(),t=$(".rule-condition",this.$node),"variant_price"==this.field?($(t).attr("data-autonumeric","autoNumeric").attr("data-autonumeric-min","-999999999.99"),Juzaweb.Utility.isNumeric($(t).val())||$(t).val("0"),initAutoNumeric()):void 0!==$(t).attr("data-autonumeric")&&($(t).removeAttr("data-autonumeric"),i=$(t).clone(),$(t).autoNumeric("destroy"),$(i).replaceAll(t)),reSetAutoNumeric()},t.prototype.isRelationDisabled=function(t){return e.call(this.options.restrictions[this.field]||[],t)<0},t}()}.call(this),function(){Juzaweb.ProductBulkActions=function(){function e(t,i){this.typeFormAds="",this.isFacebook=!1,this.infoCus={},e.base.constructor.call(this,t,i)}return extend(Juzaweb.BulkActions,e),e.prototype.addCollections=function(){var e=window.location.href;$.ajax({url:this.urlBulkActionAddCollections+"?type=custom&"+$("#frmBulkActions").serialize()+"&ReturnUrl="+encodeURIComponent(e),success:function(e){$("#juzaweb-modal").html(e),$("#juzaweb-modal").modal("show")}})},e.prototype.removeCollections=function(){var e=window.location.href;$.ajax({url:this.urlBulkActionRemoveCollections+"?type=custom&"+$("#frmBulkActions").serialize()+"&ReturnUrl="+encodeURIComponent(e),success:function(e){$("#juzaweb-modal").html(e),$("#juzaweb-modal").modal("show")}})},e.prototype.showModelSendAdsToDms=function(e){"google"===e&&(this.typeFormAds="Google",this.isFacebook=!1),"facebook"===e&&(this.typeFormAds="Facebook",this.isFacebook=!0),"undefined"==typeof ticketData||"object"!=typeof ticketData?this.infoCus={}:(this.infoCus.name=ticketData.TicketName,this.infoCus.email=ticketData.TicketEmail,this.infoCus.phone=ticketData.TicketPhone),this.sendFormAdsToDMS.show()},e.prototype.submitFormRequestAdvice=function(){var e,t=$("#inputCustomerFullName").val().trim(),i=$("#inputCustomerPhone").val().trim(),n=$("#inputCustomerEmail").val().trim(),r=$("#inputCategoryId").val().trim();t&&i&&n?validateEmail(n)?i.length>=8&&i.length<=12&&!isNaN(i)?("<button aria-hidden='true' data-dismiss='modal' class='close close-modal' style='z-index:9999' type='button'>×</button><div class='modal-body'><div class='title' style='padding: 20px 40px;'><img src='/themes/portal/admin/images/icon-success-popup.jpg' style='margin-bottom:10px;' /><h2 style='color:#1757b6;font-weight:500;font-size:27px;'>Cảm ơn Quý khách đã gửi yêu cầu tư vấn Quảng cáo tới DKT Media</h2></div><hr style='margin: 0 20px 20px;border-top: 1px dashed #ddd;'/><div class='form-group form-contact-success' style='text-align: left;'><div style='text-align:center'><p style='font-size:14px;margin:0 auto'>Chúng tôi sẽ liên lạc với Quý khách trong vòng 2h. Để biết thêm thông tin chi tiết, Quý</p><p style='font-size:14px;margin:0 auto'> khách có thể liên hệ với chúng tôi theo số điện thoại:</p></div><div class='row' style='padding: 15px 30px; text-align: center;font-size:16px;'><div class='advice-contact'><img style='display: -webkit-inline-box;' src='/themes/portal/admin/images/icon-phone-popup.jpg' /> Tại Hà Nội: <b>024 7303 6880</b></div><div class='advice-contact'><img style='display: -webkit-inline-box;' src='/themes/portal/admin/images/icon-phone-popup.jpg' /> Tại TP.HCM: <b>028 7303 6880</b></div></div></div></div>",(e=new FormData).append("Name",t),e.append("Phone",i),e.append("Email",n),e.append("CategoryId",r),this.isFacebook?e.append("Type","facebook"):e.append("Type","google"),$.ajax({type:"POST",url:"/admin/products/SendFormRequestAdviceToDms",data:e,contentType:!1,processData:!1,success:function(e){"OK"==e?$("#formRequestAdvice").find(".modal-content").html("<button aria-hidden='true' data-dismiss='modal' class='close close-modal' style='z-index:9999' type='button'>×</button><div class='modal-body'><div class='title' style='padding: 20px 40px;'><img src='/themes/portal/admin/images/icon-success-popup.jpg' style='margin-bottom:10px;' /><h2 style='color:#1757b6;font-weight:500;font-size:27px;'>Cảm ơn Quý khách đã gửi yêu cầu tư vấn Quảng cáo tới DKT Media</h2></div><hr style='margin: 0 20px 20px;border-top: 1px dashed #ddd;'/><div class='form-group form-contact-success' style='text-align: left;'><div style='text-align:center'><p style='font-size:14px;margin:0 auto'>Chúng tôi sẽ liên lạc với Quý khách trong vòng 2h. Để biết thêm thông tin chi tiết, Quý</p><p style='font-size:14px;margin:0 auto'> khách có thể liên hệ với chúng tôi theo số điện thoại:</p></div><div class='row' style='padding: 15px 30px; text-align: center;font-size:16px;'><div class='advice-contact'><img style='display: -webkit-inline-box;' src='/themes/portal/admin/images/icon-phone-popup.jpg' /> Tại Hà Nội: <b>024 7303 6880</b></div><div class='advice-contact'><img style='display: -webkit-inline-box;' src='/themes/portal/admin/images/icon-phone-popup.jpg' /> Tại TP.HCM: <b>028 7303 6880</b></div></div></div></div>"):Juzaweb.Flash.error("Có lỗi xảy ra!")}})):Juzaweb.Flash.error("Sai định dạng số điện thoại!"):Juzaweb.Flash.error("Sai định dạng email!"):Juzaweb.Flash.error("Các trường thông tin không được để trống!")},e}()}.call(this),function(){Juzaweb.MediaFile=function(){function e(e,t){if(null!=t)for(var i in t)this[i]=t[i];this.element=e}return e.prototype.uploadFiles=function(){var e,t,i=new FormData,n=$("#fileUpload")[0].files.length;if(!(n<=0)){for(e=0;e<n;e++)t=document.getElementById("fileUpload").files[e],i.append("mediaImages",t);this,$.ajax({type:"POST",url:"/admin/settings/files/Upload",data:i,contentType:!1,processData:!1,success:function(e){e.error?Juzaweb.Flash.error(e.error):Juzaweb.Utility.loadAjax(window.location.href,".mediafiles",function(){Juzaweb.Flash.notice("Tải lên thành công")})},error:function(){}})}},e.prototype.openFileUpload=function(){$("#fileUpload").click()},e}()}.call(this),function(){Juzaweb.FileBulkActions=function(){function e(t,i){e.base.constructor.call(this,t,i)}return extend(Juzaweb.BulkActions,e),e.prototype.previewImage=function(e){this.previewImageModal.show(),$(".image-show").attr("src",e)},e.prototype.showDeleteFileModal=function(e){this.deleteFileModal.show(),$('.form-delete-file input[name="fileId"]').val(e)},e.prototype.deleteFile=function(e){$(e).addClass("disabled is-loading"),$.ajax({type:"POST",url:"/admin/settings/files/Delete",data:$(".form-delete-file").serialize(),dataType:"json",success:function(){setTimeout(function(){Juzaweb.Utility.loadAjax(window.location.href,".page-content",function(){Juzaweb.Flash.notice("Xóa file thành công")})},500)},error:function(){}})},e}()}.call(this),function(){Juzaweb.Account=function(){function e(e,t){if(null!=t)for(var i in t)this[i]=t[i];this.element=e,this.action="",this.plan="",this.source="",this.choice="",this.text1="",this.text2=""}return e.prototype.showWarning=function(e,t){e&&($(t).prop("checked",!0),this.loginSettingModal.show())},e.prototype.showStopAllSession=function(){this.stopAllSessionModal.show()},e.prototype.showStopAllSessionCollaborator=function(){this.stopAllSessionCollaborator.show()},e.prototype.stopAllSession=function(e){$.ajax({url:"/admin/settings/account/StopAllSession",type:"POST",data:{isCollaborator:e},success:function(){window.location="/admin/dashboard"}})},e.prototype.stopUserSession=function(e){$.ajax({url:"/admin/settings/account/stop_user_session/"+e,type:"POST",success:function(){window.location.reload()}})},e.prototype.showDeleteUser=function(e){this.deleteUserModal.show(),$('.form-delete-user input[name="userId"]').val(e)},e.prototype.takePlan=function(e,t,i){i||(i=0),$.ajax({url:Juzaweb.routes.plans+"/takeplan",type:"POST",data:{channel:e,packageName:t,period:i},success:function(e){null!=e&&e.charge_id>0&&(window.location=Juzaweb.routes.charges+"/"+e.charge_id),null!=e&&e.redirect&&(window.location=e.redirect)},error:function(e){void 0!==e.responseJSON?null!==e.responseJSON.error&&""!==e.responseJSON.error&&Juzaweb.Flash.error(e.responseJSON.error.replace(/\n/g,"; ").replace(/; $/,"")):Juzaweb.Flash.error("Thao tác thất bại")}})},e.prototype.clickPackage=function(e,t){switch(this.plan=e,this.action=t,t){case"resign":this.choice="gia hạn";break;case"upgrade":this.choice="nâng cấp";case"choose":this.choice=""}this.confirmPackage()},e.prototype.confirmPackage=function(){var e=this;$.ajax({url:Juzaweb.routes.plans+"/ChoosePackage",type:"POST",data:{plan:e.plan,action:e.action},success:function(t){if("OK"==t.result){switch(e.action){case"resign":e.text1="lựa chọn gia hạn",e.text2="gia hạn";break;case"upgrade":e.text1="lựa chọn nâng cấp lên",e.text2="nâng cấp";case"choose":e.text1="lựa chọn",e.text2="lựa chọn"}e.customerChoosePackageConfirm.show()}else Juzaweb.Flash.error("Thao tác thất bại")},error:function(e){void 0!==e.responseJSON?null!==e.responseJSON.error&&""!==e.responseJSON.error&&Juzaweb.Flash.error(e.responseJSON.error.replace(/\n/g,"; ").replace(/; $/,"")):Juzaweb.Flash.error("Thao tác thất bại")}})},e.prototype.upgradeOmniTrial=function(){this.customerUpdateOmniTrial.show()},e.prototype.upgradeOmniTrialConfirm=function(){var e,t,i="<button aria-hidden='true' data-dismiss='modal' class='close close-modal' style='font-size: 31px; top: 0; position: absolute; right: 10px;' type='button'>×</button><div class='omni-error'>{error}</div>";if($("#btn-upgrade-omni-trial").addClass("is-loading"),e=$("#formUpgradeOmniTrial"),!(t=$(".passUser").val()))return i=i.replace("{error}","Mật khẩu không được để trống!"),void $(e).html(i);$.ajax({url:Juzaweb.routes.plans+"/UpgradeToOmniTrial",type:"POST",data:{pass:t},success:function(t){$(e).html("<button aria-hidden='true' data-dismiss='modal' class='close close-modal' style='font-size: 31px; top: 0; position: absolute; right: 10px;' type='button'>×</button><div class='omni-modal'><p class='omni-title'>Yêu cầu chuyển đổi sang gói dùng thử Omnichannel của bạn đã thành công !</p><p class='omni-des'>Vui lòng chờ trong giây lát để chúng tôi thiết lập hệ thống cho bạn</p><div id='loadingbar'></div><p class='omni-result'>Dữ liệu đang được cài đặt...</p><p class='omni-result'>Bạn sẽ được chuyển đến hệ thống Omnichannel sau khi cài đặt xong</p></div>");var i=new ProgressBar.Circle(loadingbar,{color:"#08f",strokeWidth:4,trailWidth:1,easing:"easeInOut",duration:9800,text:{autoStyleContainer:!1},from:{color:"#08f",width:1},to:{color:"#08f",width:2},step:function(e,t){t.path.setAttribute("stroke",e.color),t.path.setAttribute("stroke-width",e.width);var i=Math.round(100*t.value())+" %";0===i?t.setText(""):t.setText(i)}});i.text.style.fontFamily='"Raleway", Helvetica, sans-serif',i.text.style.fontSize="2.8rem",i.animate(1),setTimeout(function(){window.location.href=t.result.redirect_url},1e4)},error:function(t){if(void 0===t.responseJSON)return i=i.replace("{error}","Có lỗi xảy ra trong quá trình đăng ký. Anh chị vui lòng liên hệ với tổng đài 1900 6750 của Sapo để được hỗ trợ."),void $(e).html(i);null!==t.responseJSON.error&&""!==t.responseJSON.error&&(i=t.responseJSON.error.includes("length must be between 6 and 20")?i.replace("{error}","Mật khẩu không hợp lệ. Mật khẩu từ 6 đến 20 ký tự"):i.replace("{error}",t.responseJSON.error.replace(/\n/g,"; ").replace(/; $/,""))),$(e).html(i)}})},e}()}.call(this),function(){Juzaweb.DiscountBulkActions=function(){function e(t,i){e.base.constructor.call(this,t,i)}return extend(Juzaweb.BulkActions,e),e.prototype.showDeleteDiscountModal=function(e){this.deleteDiscountModal.show(),$('.form-delete-discount input[name="id"]').val(e)},e.prototype.deleteDiscount=function(){$('.form-delete-discount input[name="id"]').val();$.ajax({type:"POST",url:"/admin/discounts/Delete",data:$(".form-delete-discount").serialize(),dataType:"json",success:function(){Juzaweb.Flash.notice("Xóa mã khuyến mãi thành công"),Juzaweb.Modal.hide(),window.location.href=window.location.href},error:function(){}})},e}()}.call(this),function(){Juzaweb.PaymentSetting=function(){function e(e,t){if(null!=t)for(var i in t)this[i]=t[i];this.element=e,this.$ele=$(e),this.id="#"+e.id}return e.prototype.saveSetting=function(e){var t=$(e),i=t.attr("action"),n=t.attr("method"),r=$(e).parents(this.id),s=this;return Juzaweb.Loading.start(),$.ajax({url:i,type:n,data:t.serialize(),global:!1,success:function(){Juzaweb.Utility.loadAjax(Juzaweb.routes.setting.payments,s.id,function(){var e;Juzaweb.Flash.notice("Cập nhật thành công"),e=r,$("html, body").animate({scrollTop:$(e).offset().top-90},300)})},error:function(e){Juzaweb.Flash.error(e.responseJSON.error.replace(/\n/g,"; ").replace(/; $/,"")),Juzaweb.Loading.stop()}}),!1},e.prototype.removeSetting=function(e){var t=this;Juzaweb.Loading.start(),$.ajax({url:$(e).attr("action"),type:$(e).attr("method"),global:!1,success:function(){Juzaweb.Utility.loadAjax(Juzaweb.routes.setting.payments,t.id,function(){Juzaweb.Flash.notice("Ngưng sử dụng cấu hình thành công")})},error:function(e){Juzaweb.Flash.error(e.responseJSON.error.replace(/\n/g,"; ").replace(/; $/,"")),Juzaweb.Loading.stop()}})},e}()}.call(this),function(){Juzaweb.ShippingMethod=function(){function e(e,t){if(null!=t)for(var i in t)this[i]=t[i];this.element=e,this.$ele=$(e),this.shippingProviderId=0,this.fulfillContext=Bindings.context($(".fulfill-item-form").get(0)).fulfillContext,this.bindProvider(),initAutoNumeric()}return e.prototype.bindProvider=function(){var e=this,t="",i=0,n=this.fulfillContext.shipping_lines,r=this.fulfillContext.providers;n.length>0?(!n[0].title||(n[0].title.includes("GHTK")?r.includes("GHTK")&&(this.shippingProviderId=3):n[0].title.includes("Boxme")?r.includes("Boxme")&&(this.shippingProviderId=8):n[0].title.includes("VNPost")?r.includes("VNP")&&(this.shippingProviderId=6):n[0].title.includes("GHN")?r.includes("GHN_V3")&&(this.shippingProviderId=9):this.shippingProviderId=0),!n[0].code||(t=n[0].code),i=n[0].price):this.shippingProviderId=0,setTimeout(function(){e.changeProvider(!1,t,i)},100)},e.prototype.changeProvider=function(e,t,i){for(var n in this)this[n]&&this[n].shippingProviderId&&this[n].shippingProviderId==this.shippingProviderId&&this[n].loadData&&this[n].loadData(e,t,i);for(n in $(".shipping-provider-html:not('.shipping-provider-html-"+this.shippingProviderId+"') :input").prop("disabled",!0),$(".shipping-provider-html.shipping-provider-html-"+this.shippingProviderId+" :input").prop("disabled",!1),this)this[n]&&this[n].shippingProviderId&&this[n].shippingProviderId==this.shippingProviderId&&this[n].postLoadData&&this[n].postLoadData();0==this.shippingProviderId&&this.fulfillContext.suggestFee()},e}()}.call(this),function(){Juzaweb.Fulfilment=function(){function e(e,t){if(null!=t)for(var i in t)this[i]=t[i];this.element=e,this.$ele=$(e),this.loadAjaxSuggestFee=null,this.loadAjaxSuggestFeeTimeout=null,this.FulfillableGrams=this.order_grams.toString()}return e.prototype.updateFulfillments=function(){var e,t=this;3==this.shippingMethod.shippingProviderId&&this.order_grams>0&&(e=parseInt(this.FulfillableGrams.replace(",","")),Number.isNaN(e)||e!==this.order_grams)?Juzaweb.Flash.error("Khối lượng không đúng với khối lượng đơn hàng"):($(".btn-fulfill").addClass("disabled").html(Juzaweb.LOADING),Juzaweb.Loading.start(),unSetAutoNumeric(),$.ajax({url:Juzaweb.routes.orders+"/"+t.order_id+"/fulfillments/create",type:"post",data:$(".fulfill-item-form").serialize(),global:!1,beforeSend:function(){reSetAutoNumeric()},success:function(){Juzaweb.Loading.stop(),Page.visit(Juzaweb.routes.orders+"/"+t.order_id),Juzaweb.Flash.notice("Cập nhật thông tin giao hàng thành công")},error:function(e){e.responseJSON?Juzaweb.Flash.error(e.responseJSON.error.replace(/\n/g,"; ").replace(/; $/,"")):Juzaweb.Flash.error("Cập nhật thất bại"),$(".btn-fulfill").removeClass("disabled").html("Lưu"),Juzaweb.Loading.stop()}}),reSetAutoNumeric())},e.prototype.suggestFee=function(){var e,t,i,n,r,s,o=this;null!=o.loadAjaxSuggestFee&&o.loadAjaxSuggestFee.abort(),null!=this.loadAjaxSuggestFeeTimeout&&clearTimeout(this.loadAjaxSuggestFeeTimeout);var a="<div class='no-info'><p>Kiểm tra lại thông tin <strong>địa chỉ cửa hàng, địa chỉ giao hàng, tiền thu hộ, khối lượng</strong> để Sapo gợi ý phí Ship và thời gian dự kiến giao của các đối tác vận chuyển cho cửa hàng của bạn!</p></div>",l=$(".suggest-fee-package-wrapper");if($(l).find(".load-fee-partner").addClass("show").addClass("btn-loading"),$(l).find(".error-text").removeClass("show"),$(l).find(".error-text").empty(),$(l).find("#suggest-fee-detail").empty(),e="",(t=new FormData).append("cod",this.CodAmount.replace(",","")),t.append("weight",this.FulfillableGrams.replace(",","")),!(i=$('[name="Address"]').val())||t.append("destinationAddress",i),this.ProvinceCode&&this.DistrictCode?(t.append("targetProvinceCode",this.ProvinceCode),t.append("targetDistrictCode",this.DistrictCode)):e+="<li>Khu vực giao hàng là bắt buộc!</li>",t.append("isCreate",!1),8===(n=parseInt(this.shippingMethod.shippingProviderId))?(r=$("select[name='PickupId'] option:selected"),$(r).data("district-id")?t.append("boxmeDistrictId",$(r).data("district-id")):e+="<li>Khu vực lấy hàng là bắt buộc!</li>"):9===n?(r=$("select[name='ClientHubId'] option:selected"),$(r).data("district-id")?t.append("ghn3DistrictId",$(r).data("district-id")):e+="<li>Khu vực lấy hàng là bắt buộc!</li>"):(null,s=6===n?$(".vnp-provider-context select[name='StoreAddressId'] option:selected"):3===n?$(".ghtk-provider-context select[name='StoreAddressId'] option:selected"):$(".manual-provider-context select[name='StoreAddressId'] option:selected"),$(s).val()?t.append("storeAddressId",$(s).val()):e+="<li>Khu vực lấy hàng là bắt buộc!</li>",3===n&&t.append("transport",$('[name="Transport"]').val())),e)return $(l).find(".load-fee-partner").removeClass("show").removeClass("btn-loading"),$(l).find(".suggest-fee-detail").html(a),$(l).find(".error-text").html(e),void $(l).find(".error-text").addClass("show");"230"===o.CountryId||230===o.CountryId?this.loadAjaxSuggestFeeTimeout=setTimeout(function(){o.loadAjaxSuggestFee=$.ajax({url:"/admin/draft_orders/SuggestFees",type:"POST",async:!0,processData:!1,contentType:!1,data:t,success:function(e){$(l).find(".load-fee-partner").removeClass("show").removeClass("btn-loading"),$(l).find(".suggest-fee-detail").html(e),Bindings.refreshImmediately(),Bindings.unbind($(l).get(0),o),Bindings.bind($(l).get(0),o)},error:function(){$(l).find(".load-fee-partner").removeClass("show").removeClass("btn-loading"),$(l).find(".suggest-fee-detail").html(a)}})},500):($(l).find(".load-fee-partner").removeClass("show").removeClass("btn-loading"),$(l).find(".suggest-fee-detail").html("<div class='no-info'><p>Hiện tại chúng tôi chưa hỗ trợ gợi ý phí đối với địa chỉ nước ngoài.</p></div>"))},e.prototype.openSuggestFee=function(){$("#suggest-fee-detail").is(":empty")?this.suggestFee():$("#suggest-fee-detail").hasClass("hide")?$("#suggest-fee-detail").removeClass("hide"):$("#suggest-fee-detail").addClass("hide")},e.prototype.preSuggestFee=function(){$("#suggest-fee-detail").is(":empty")||($("#suggest-fee-detail").empty(),$("#suggest-fee-detail").hasClass("hide")&&$("#suggest-fee-detail").removeClass("hide")),this.shippingMethod.changeProvider(!0)},e.prototype.chooseService=function(e){var t=$(e).data("partner-name"),i=$(e).data("service-code"),n=$(e).data("partner-fee");this.shippingMethod.shippingProviderId="GHTK"===t?3:"Boxme"===t?8:"VNPost"===t?6:"GHN"===t?9:0,this.shippingMethod.changeProvider(!0,i,n)},e.prototype.estimateFeeVnpost=function(){var e,t,i=this,n=($(".suggest-fee-package-wrapper"),""),r=new FormData;r.append("cod",this.CodAmount.replace(",","")),r.append("weight",this.FulfillableGrams.replace(",","")),this.ProvinceCode&&this.DistrictCode?(r.append("targetProvinceCode",this.ProvinceCode),r.append("targetDistrictCode",this.DistrictCode)):n+="<li>Khu vực giao hàng là bắt buộc!</li>",e=$(".vnp-provider-context select[name='StoreAddressId'] option:selected"),$(e).val()?r.append("storeAddressId",$(e).val()):n+="<li>Khu vực lấy hàng là bắt buộc!</li>",t=$("select[name='Service'][id='VNPService'] option:selected").val(),r.append("service",t),n?Juzaweb.Flash.error("Không đủ thông tin để tính phí. Kiểm tra lại địa chỉ cửa hàng, địa chỉ giao hàng!"):"230"===i.CountryId||230===i.CountryId?this.loadAjaxSuggestFeeTimeout=setTimeout(function(){i.loadAjaxSuggestFee=$.ajax({url:"/admin/draft_orders/EstimateFeeVnPost",type:"POST",async:!0,processData:!1,contentType:!1,data:r,success:function(e){$("#suggest-fee").val(e),reSetAutoNumeric()},error:function(){Juzaweb.Flash.error("Không đủ thông tin để tính phí. Kiểm tra lại địa chỉ cửa hàng, địa chỉ giao hàng!")}})},500):Juzaweb.Flash.error("Không hỗ trợ tính phí đối với địa chỉ nước ngoài")},e.prototype.estimateFeeGhtk=function(){var e,t,i=this,n="",r=new FormData;r.append("cod",this.CodAmount.replace(",","")),r.append("weight",this.FulfillableGrams.replace(",","")),!(e=$('[name="Address"]').val())||r.append("destinationAddress",e),r.append("transport",$('[name="Transport"]').val()),this.ProvinceCode&&this.DistrictCode?(r.append("targetProvinceCode",this.ProvinceCode),r.append("targetDistrictCode",this.DistrictCode)):n+="<li>Khu vực giao hàng là bắt buộc!</li>",t=$(".ghtk-provider-context select[name='StoreAddressId'] option:selected"),$(t).val()?r.append("storeAddressId",$(t).val()):n+="<li>Khu vực lấy hàng là bắt buộc!</li>",n?Juzaweb.Flash.error("Không đủ thông tin để tính phí. Kiểm tra lại địa chỉ cửa hàng, địa chỉ giao hàng!"):"230"===i.CountryId||230===i.CountryId?this.loadAjaxSuggestFeeTimeout=setTimeout(function(){i.loadAjaxSuggestFee=$.ajax({url:"/admin/draft_orders/EstimateFeeGhtk",type:"POST",async:!0,processData:!1,contentType:!1,data:r,success:function(e){$("#suggest-fee").val(e),reSetAutoNumeric()},error:function(){Juzaweb.Flash.error("Không đủ thông tin để tính phí. Kiểm tra lại địa chỉ cửa hàng, địa chỉ giao hàng!")}})},500):Juzaweb.Flash.error("Không hỗ trợ tính phí đối với địa chỉ nước ngoài")},e}()}.call(this),function(){Juzaweb.GHNShipping=function(){function e(e,t){if(null!=t)for(var i in t)this[i]=t[i];this.element=e,this.$ele=$(e),this.$warehouse=$(".shipping-provider-html.ghn-provider-context .warehouse"),this.fulfillContext=Bindings.context($(".fulfill-item-form").get(0)).fulfillContext,this.$provinceHiddenInput=this.fulfillContext.Province,this.$districtHiddenInput=this.fulfillContext.District,this.$service=$(".shipping-provider-html.ghn-provider-context .service"),this.$pickHubHiddenInput=$(".shipping-provider-html.ghn-provider-context input[name=PickHub]")}return e.prototype.loadData=function(e,t,i){var n=this;$("#suggest-fee-detail").empty(),e&&(this.dataLoaded=!1),this.dataLoaded?i?($("#suggest-fee").val(i),reSetAutoNumeric()):$("#suggest-fee").val(0):$.ajax({url:Juzaweb.routes.ghn+"?province="+this.province,success:function(e){var t,r,s,o,a,l,u;if(null===e.pick_hubs||0===e.pick_hubs.length)return Juzaweb.Flash.error("Bạn chưa cấu hình kho lấy hàng"),void n.$warehouse.empty();for(i?($("#suggest-fee").val(i),reSetAutoNumeric()):$("#suggest-fee").val(0),n.dataLoaded=!0,t=[],l=0;l<e.pick_hubs.length;l++)r=e.pick_hubs[l],(s=document.createElement("option")).setAttribute("district",r.district_code),s.setAttribute("value",r.pick_hub_id),r.main&&s.setAttribute("selected","selected"),s.textContent=r.address+" ("+r.district_name+")",t.push(s);if(n.$warehouse.empty(),t.length>0&&(n.$warehouse.append(t),n.bindSelectedPickHubInput()),null!=e.province){for(o=e.districts,a="",l=0;l<o.length;l++)if(u=o[l],n.district==u.bw_district_code){a=u.ghn_district_code;break}""!=a?$.ajax({url:Juzaweb.routes.ghn+"/getservicelist?from="+n.$warehouse.find("option:selected").attr("district")+"&to="+a,success:function(e){var t,i,r,s;if(e.length){for(t=[],"<option value='0'>Chọn gói giao hàng</option>",i=0;i<e.length;i++)r=e[i],(s=document.createElement("option")).setAttribute("value",r.shipping_service_id),s.textContent=r.name,t.push(s);n.$service.empty(),t.length>0?n.$service.append(t):n.$service.append("<option value='0'>Chọn gói giao hàng</option>")}}}):n.$service.empty()}},error:function(e){e.responseJSON?Juzaweb.Flash.error(e.responseJSON.error.replace(/\n/g,"; ").replace(/; $/,"")):Juzaweb.Flash.error("Thông tin giao hàng nhanh không đúng.")}})},e.prototype.bindSelectedPickHubInput=function(){$("#suggest-fee-detail").empty();var e=this.$warehouse.children("option:selected");e&&this.$pickHubHiddenInput.val(e.text())},e}()}.call(this),function(){Juzaweb.GHTKShipping=function(){function e(e,t){if(null!=t)for(var i in t)this[i]=t[i];this.element=e,this.$element=$(e),this.fulfillContext=Bindings.context($(".fulfill-item-form").get(0)).fulfillContext,this.$provinceHiddenInput=this.fulfillContext.Province,this.$districtHiddenInput=this.fulfillContext.District,this.$warehouse=$(".shipping-provider-html.ghtk-provider-context .warehouse"),this.$shippingFee=$(".shipping-provider-html.ghtk-provider-context .shipping-fee")}return e.prototype.loadData=function(e,t,i){var n=this;$("#suggest-fee-detail").empty(),e&&(this.dataLoaded=!1),this.dataLoaded?i?($("#suggest-fee").val(i),reSetAutoNumeric()):n.fulfillContext.estimateFeeGhtk():$.ajax({url:Juzaweb.routes.ghtk,success:function(e){if(null===e.store_addresses||0===e.store_addresses.length)return Juzaweb.Flash.error("Bạn chưa cấu hình kho lấy hàng"),void n.$warehouse.empty();n.dataLoaded=!0,n.renderPickHubsSelector(e.store_addresses),i?($("#suggest-fee").val(i),reSetAutoNumeric()):n.fulfillContext.estimateFeeGhtk()},error:function(e){e.responseJSON?Juzaweb.Flash.error(e.responseJSON.error.replace(/\n/g,"; ").replace(/; $/,"")):Juzaweb.Flash.error("Thông tin Giao hàng tiết kiệm không đúng.")}})},e.prototype.renderPickHubsSelector=function(e){for(var t,i,n=[],r=0;r<e.length;r++)t=e[r],(i=document.createElement("option")).setAttribute("value",t.id),i.setAttribute("juzaweb-address",!0),t.default_address&&i.setAttribute("selected","selected"),i.textContent=t.name+" ("+t.address+")",n.push(i);this.$warehouse.empty(),n.length>0&&this.$warehouse.append(n)},e.prototype.changePickAddress=function(e){$("#suggest-fee-detail").empty(),$(e).find("option:selected").attr("juzaweb-address")?this.$element.find("input[name=StoreAddressId]").val(this.pickHubId):this.$element.find("input[name=StoreAddressId]").val(0),this.fulfillContext.estimateFeeGhtk()},e.prototype.changeTransportType=function(){$("#suggest-fee-detail").empty(),this.fulfillContext.estimateFeeGhtk()},e}()}.call(this),function(){Juzaweb.VNPShipping=function(){function e(e,t){if(null!=t)for(var i in t)this[i]=t[i];this.element=e,this.$element=$(e),this.fulfillContext=Bindings.context($(".fulfill-item-form").get(0)).fulfillContext,this.$provinceHiddenInput=this.fulfillContext.Province,this.$districtHiddenInput=this.fulfillContext.District,this.$warehouse=$(".shipping-provider-html.vnp-provider-context .warehouse")}return e.prototype.loadData=function(e,t,i){$("#suggest-fee-detail").empty();var n=this;e&&(this.dataLoaded=!1),this.dataLoaded?i?($("#suggest-fee").val(i),reSetAutoNumeric()):n.fulfillContext.estimateFeeVnpost():$.ajax({url:Juzaweb.routes.vnp,success:function(e){if(null===e.store_addresses||0===e.store_addresses.length)return Juzaweb.Flash.error("Bạn chưa cấu hình kho lấy hàng"),void n.$warehouse.empty();n.dataLoaded=!0,n.renderPickHubsSelector(e.store_addresses),i?($("#suggest-fee").val(i),reSetAutoNumeric()):n.fulfillContext.estimateFeeVnpost(),!t||("ems"==t?$("select[name='Service'][id='VNPService']").val("EMS"):"package"==t&&$("select[name='Service'][id='VNPService']").val("PACKAGE"))},error:function(e){e.responseJSON?Juzaweb.Flash.error(e.responseJSON.error.replace(/\n/g,"; ").replace(/; $/,"")):Juzaweb.Flash.error("Địa chỉ giao hàng không đúng.")}})},e.prototype.renderPickHubsSelector=function(e){for(var t,i,n=[],r=0;r<e.length;r++)t=e[r],(i=document.createElement("option")).setAttribute("value",t.id),i.setAttribute("juzaweb-address",!0),t.default_address&&i.setAttribute("selected","selected"),i.textContent=t.name+" ("+t.address+")",n.push(i);this.$warehouse.empty(),n.length>0&&this.$warehouse.append(n)},e.prototype.changeStoreAddress=function(){this.fulfillContext.estimateFeeVnpost()},e.prototype.changeService=function(){this.fulfillContext.estimateFeeVnpost()},e}()}.call(this),function(){Juzaweb.DHLShipping=function(){function e(e,t){if(null!=t)for(var i in t)this[i]=t[i];this.element=e,this.$ele=$(e),this.fulfillContext=Bindings.context($(".fulfill-item-form").get(0)).fulfillContext,this.$provinceHiddenInput=this.fulfillContext.Province,this.$districtHiddenInput=this.fulfillContext.District,this.$warehouse=$(".shipping-provider-html.dhl-provider-context .warehouse"),this.$service=$(".shipping-provider-html.dhl-provider-context .service"),this.$pickHubHiddenInput=$(".shipping-provider-html.dhl-provider-context input[name=PickHub]")}return e.prototype.loadData=function(e){$("#suggest-fee-detail").empty();var t=this;e&&(this.dataLoaded=!1),this.dataLoaded||$.ajax({url:Juzaweb.routes.dhl+"?province="+this.province,success:function(e){var i,n,r,s,o;if(null===e.store_addresses||0===e.store_addresses.length)return Juzaweb.Flash.error("Bạn chưa cấu hình kho lấy hàng"),void t.$warehouse.empty();if(t.dataLoaded=!0,t.renderPickHubsSelector(e.store_addresses),t.bindSelectedPickHubInput(),null!=e.province){for(i=e.districts,n="",r=0;r<i.length;r++)if(s=i[r],t.district==s.bw_district_code){n=s.dhl_support_type,$("input[name='DistrictCode']").attr("dhl_support_type",s.dhl_support_type);break}""!=n?(null==n&&(n=$("input[name='DistrictCode']").attr("dhl_support_type")),""!=n?(o="<option value='PDO'>PDO</option>","PDO/PDE"==n&&(o+="<option value='PDE'>PDE</option>"),t.$service.empty(),t.$service.html(o)):t.$service.empty()):t.$service.empty()}},error:function(e){e.responseJSON?Juzaweb.Flash.error(e.responseJSON.error.replace(/\n/g,"; ").replace(/; $/,"")):Juzaweb.Flash.error("Thông tin giao hàng không đúng.")}})},e.prototype.bindSelectedPickHubInput=function(){var e=this.$warehouse.children("option:selected");e&&this.$pickHubHiddenInput.val(e.text())},e.prototype.renderPickHubsSelector=function(e){for(var t,i,n=[],r=0;r<e.length;r++)t=e[r],(i=document.createElement("option")).setAttribute("value",t.id),i.setAttribute("juzaweb-address",!0),t.default_address&&i.setAttribute("selected","selected"),i.textContent=t.name+" ("+t.address+")",n.push(i);this.$warehouse.empty(),n.length>0&&this.$warehouse.append(n)},e}()}.call(this),function(){Juzaweb.BoxmeShipping2=function(){function e(e,t){if(null!=t)for(var i in t)this[i]=t[i];this.element=e,this.$element=$(e),this.parentContext=Bindings.context($(".shipping-provider-html").get(0)),this.fulfillContext=Bindings.context($(".fulfill-item-form").get(0)).fulfillContext,this.$provinceHiddenInput=this.fulfillContext.Province,this.$districtHiddenInput=this.fulfillContext.District,this.$pickupId=$(".shipping-provider-html.boxme-provider-context .warehouse"),this.$pickupCountry=$(".shipping-provider-html.boxme-provider-context input[name=PickupCountry]"),this.$pickHubName=$(".shipping-provider-html.boxme-provider-context input[name=PickHubName]"),this.$deliveryService=$(".shipping-provider-html.boxme-provider-context .service"),this.debounceCalculateFee=_.debounce(this.calculateFee,300),this.pickHubs=[]}return e.prototype.loadData=function(e,t){$("#suggest-fee-detail").empty();var i=this;e&&(this.dataLoaded=!1),this.dataLoaded?i.changeService():(Juzaweb.Loading.start(),$.ajax({url:Juzaweb.routes.boxme,global:!1,success:function(e){if(null===e.pick_hubs||0===e.pick_hubs.length)return Juzaweb.Flash.error("Bạn chưa cấu hình kho lấy hàng Boxme"),void i.$pickupId.empty();i.dataLoaded=!0,i.renderPickHubsSelector(e.pick_hubs),i.pickHubs=e.pick_hubs,i.calculateFee(t,!1)},error:function(e){e.responseJSON?Juzaweb.Flash.error(e.responseJSON.error.replace(/\n/g,"; ").replace(/; $/,"")):Juzaweb.Flash.error("Địa chỉ giao hàng không đúng.")}}))},e.prototype.renderPickHubsSelector=function(e){var t,i,n,r;if(this.$pickupId.empty(),e.length>0){for(t=[],i=0;i<e.length;i++)1==(n=e[i]).active&&((r=document.createElement("option")).setAttribute("value",n.id),r.setAttribute("juzaweb-address",!1),r.setAttribute("data-district-id",n.district_id),r.setAttribute("data-province-id",n.province_id),r.textContent=n.pickup_name,t.push(r),1==n.priority&&(r.setAttribute("selected","selected"),this.$pickupCountry.val(n.country),this.$pickHubName.val(n.pickup_name)));t.length>0&&this.$pickupId.append(t)}else this.$pickupId.html("<option value='0' juzaweb-address='false'>Chưa có địa chỉ kho Boxme</option>")},e.prototype.changePickHub=function(){var e,t;for($("#suggest-fee-detail").empty(),e=this.$pickupId.children("option:selected"),t=0;t<this.pickHubs.length;t++)if(""+this.pickHubs[t].id===e){this.$pickupCountry.val(this.pickHubs[t].country),this.$pickHubName.val(this.pickHubs[t].pickup_name);break}this.debounceCalculateFee()},e.prototype.resetDeliveryService=function(){this.$deliveryService.empty(),this.$deliveryService.html("<option value=''>Chọn dịch vụ</option>")},e.prototype.bindDeliveryService=function(e,t){var i,n,r,s,o,a="",l=[];if(e.length>=1){for(i=e[0],(n=document.createElement("option")).setAttribute("value",i.service_code),n.setAttribute("data-fee",i.total_fee),n.setAttribute("selected","selected"),n.textContent=i.courier_name+" - "+i.service_name+": "+i.total_fee.formatMoney(0)+"₫",l.push(n),r=1;r<e.length;r++)s=e[r],(o=document.createElement("option")).setAttribute("value",s.service_code),o.setAttribute("data-fee",s.total_fee),o.textContent=s.courier_name+" - "+s.service_name+": "+s.total_fee.formatMoney(0)+"₫",l.push(o);a=i.total_fee}this.$deliveryService.empty(),l.length>0?this.$deliveryService.append("<option value=''>Chọn dịch vụ</option>",l):this.$deliveryService.append("<option value=''>Không có dịch vụ phù hợp</option>"),!t||($("select[name='DeliveryService']").val(t),a=$("select[name='DeliveryService'] option:selected").data("fee")),$("#suggest-fee").val(a),reSetAutoNumeric()},e.prototype.calculateFee=function(e,t){void 0===t&&(t=!0),unSetAutoNumericForm();var i=this;$.ajax({url:Juzaweb.routes.boxme+"/calculateshippingfee",method:"POST",global:t,data:$(".fulfill-item-form").serialize(),complete:function(){t||Juzaweb.Loading.stop()},success:function(t){i.bindDeliveryService(t.services,e)},error:function(e){e.responseJSON&&Juzaweb.Flash.error(e.responseJSON.error)}})},e.prototype.updateFee=function(){8==this.parentContext.shippingProviderId&&parseInt(this.fulfillContext.FulfillableGrams.replace(",",""))>0?this.debounceCalculateFee():Juzaweb.Flash.error("Tổng khối lượng phải lớn hơn 0")},e.prototype.changeService=function(){$("#suggest-fee").val($("select[name='DeliveryService'] option:selected").data("fee")),reSetAutoNumeric()},e}()}.call(this),function(){Juzaweb.Ghn3Shipping=function(){function e(e,t){if(t)for(var i in t)this[i]=t[i];this.element=e,this.$element=$(e),this.parentContext=Bindings.context($(".shipping-provider-html").get(0)),this.fulfillContext=Bindings.context($(".fulfill-item-form").get(0)).fulfillContext,this.$provinceHiddenInput=this.fulfillContext.Province,this.$districtHiddenInput=this.fulfillContext.District,this.$warehouse=$(".shipping-provider-html.ghn-3-provider-context .warehouse"),this.$service=$(".shipping-provider-html.ghn-3-provider-context .service"),this.$pickHubHiddenInput=$(".shipping-provider-html.ghn-3-provider-context input[name=PickHub]"),this.$discount=$(".shipping-provider-html.ghn-3-provider-context .ghn_coupon"),this.pickHubs=null,this.currentServices=null,this.debounceChangeDimension=_.debounce(this.changePackageDimension,350),this.fromId=0,this.toId=0}return e.prototype.loadData=function(e,t,i){var n=this;$("#suggest-fee-detail").empty(),e&&(this.dataLoaded=!1),this.dataLoaded?i?($("#suggest-fee").val(i),reSetAutoNumeric()):$("#suggest-fee").val(0):$.ajax({url:Juzaweb.routes.ghn_3,success:function(e){if(null===e.pick_hubs||0===e.pick_hubs.length)return Juzaweb.Flash.error("Bạn chưa cấu hình kho lấy hàng"),void n.$warehouse.empty();n.dataLoaded=!0,n.renderPickHubsSelector(e.pick_hubs),n.getService(t,i)},error:function(e){e.responseJSON?Juzaweb.Flash.error(e.responseJSON.error.replace(/\n/g,"; ").replace(/; $/,"")):Juzaweb.Flash.error("Thông tin Giao hàng nhanh không đúng")}})},e.prototype.renderPickHubsSelector=function(e){var t,i,n,r;for(this.pickHubs={},t=[],i=0;i<e.length;i++)this.pickHubs[e[i].hub_i_d]=e[i],n=e[i],(r=document.createElement("option")).setAttribute("value",n.hub_i_d),r.setAttribute("data-district-id",n.district_i_d),r.setAttribute("juzaweb-address",!1),n.is_main&&(r.setAttribute("selected","selected"),this.fromId=n.district_i_d),r.textContent=n.full_address,t.push(r);this.$warehouse.empty(),t.length>0&&(this.$warehouse.append(t),this.$pickHubHiddenInput.val(""))},e.prototype.changeService=function(){null!==this.coupon_code&&""!==this.coupon_code.trim()&&this.changeDiscount(!1,!0)||this.changeServiceInternal()},e.prototype.changeServiceInternal=function(){var e=this.currentServices[this.$service.val()];void 0!==e?($("#suggest-fee").val(e.service_fee),reSetAutoNumeric()):$("#suggest-fee").val(0)},e.prototype.emptyDiscount=function(){return null===this.coupon_code||""===this.coupon_code.trim()},e.prototype.changeDiscount=function(e,t){var i,n;if(null!==this.district&&""!==this.district){if(i=parseInt(this.fulfillContext.FulfillableGrams.replace(",","")),Number.isNaN(i)||i<=0)return e&&Juzaweb.Flash.error("Khối lượng phải lớn hơn 0"),!1;if("0"===this.$service.val())return e&&Juzaweb.Flash.error("Bạn chưa chọn gói dịch vụ"),!1;if(this.fromId<=0||this.toId<=0)return e&&Juzaweb.Flash.error("Địa chỉ giao - nhận hàng không phù hợp"),!1;if(n=Juzaweb.routes.ghn_3+"/getshippingfee?from="+this.fromId+"&to="+this.toId+"&service="+this.$service.val()+"&weight="+i,this.ghn_width>0&&this.ghn_length>0&&this.ghn_height>0&&(n+="&height="+this.ghn_height+"&width="+this.ghn_width+"&length="+this.ghn_length),t)n+="&coupon="+this.coupon_code;else{if(null===this.coupon_code||""===this.coupon_code.trim())return e&&Juzaweb.Flash.error("Bạn chưa nhập mã giảm giá"),!1;n+="&coupon="+this.coupon_code}this,$.ajax({url:n,success:function(e){return null!=e.data?($("#suggest-fee").val(e.data.calculated_fee),reSetAutoNumeric()):$("#suggest-fee").val(0),!0},error:function(e){return e.responseJSON?Juzaweb.Flash.error(e.responseJSON.error.replace(/\n/g,"; ").replace(/; $/,"")):Juzaweb.Flash.error("Thông tin Giao hàng nhanh không đúng"),!1}})}},e.prototype.changePackageDimension=function(){this.ghn_width>0&&this.ghn_length>0&&this.ghn_height>0&&this.getService()},e.prototype.getService=function(e,t){var i,n,r;if(this.currentServices=null,null!==this.district&&""!==this.district){if(i=parseInt(this.fulfillContext.FulfillableGrams.replace(",","")),Number.isNaN(i)||i<=0)return this.$service.empty(),void Juzaweb.Flash.error("Khối lượng đơn hàng không hợp lệ");$("#suggest-fee").val(0),n=this,r=Juzaweb.routes.ghn_3+"/getservicelist?from="+this.fromId+"&to="+n.district+"&weight="+i,this.ghn_width>0&&this.ghn_length>0&&this.ghn_height>0&&(r+="&height="+this.ghn_height+"&width="+this.ghn_width+"&length="+this.ghn_length),e=e?parseInt(e):0,$.ajax({url:r,success:function(i){var r,s,o,a;if(null!=i.data){for(r=[],n.currentServices={},n.fromId=i.from_district_id,n.toId=i.to_district_id,s=0;s<i.data.length;s++)o=i.data[s],n.currentServices[o.service_i_d]=o,(a=document.createElement("option")).setAttribute("value",o.service_i_d),a.textContent=o.name+": "+o.service_fee.formatMoney(0)+"₫",o.service_i_d===e&&(a.setAttribute("selected","selected"),t?($("#suggest-fee").val(t),reSetAutoNumeric()):$("#suggest-fee").val(0)),r.push(a);n.$service.empty(),r.length>0?n.$service.append("<option value='0'>Chọn gói giao hàng</option>",r):n.$service.append("<option value='0'>Không có gói giao hàng phù hợp</option>")}},error:function(e){e.responseJSON?Juzaweb.Flash.error(e.responseJSON.error.replace(/\n/g,"; ").replace(/; $/,"")):Juzaweb.Flash.error("Thông tin Giao hàng nhanh không đúng")}})}else this.$service.empty(),Juzaweb.Flash.error("Thiếu thông tin Quận/Huyện")},e.prototype.changeHub=function(){$("#suggest-fee-detail").empty();var e=this.$warehouse.children("option:selected");e?(this.$pickHubHiddenInput.val(e.text()),this.fromId=parseInt(e.data("district-id")),this.getService()):Juzaweb.Flash.error("Có lỗi xảy ra")},e}()}.call(this),function(){Juzaweb.ShippingAreaSetting=function(){return function(e,t){if(null!=t)for(var i in t)this[i]=t[i];this.element=e,this.$ele=$(e),initSelect2()}}()}.call(this),function(){Juzaweb.ShippingAreaDetail=function(){function e(e,t){if(null!=t)for(var i in t)this[i]=t[i];this.element=e,this.$ele=$(e)}function t(e){return e.normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace("đ","d").replace("Đ","D")}return e.searchDistrictMatch=function(e,i){return t(e.toLowerCase()).indexOf(t(i.toLowerCase()))>=0},e.prototype.fetchEnabledCarrierRate=function(e,t){$.ajax({url:"/admin/settings/shipping/GetEnableCarrierRates?carrierId="+e+"&carrierRateProviderId="+t,success:function(e){$("#carrier_rate_enabled_"+t).replaceWith(e)}})},e.prototype.fetchCarrierRateSelection=function(e,t){Page.refresh({url:"/admin/settings/shipping/GetCarrierRateSelection?carrierId="+e+"&carrierRateProviderId="+t,updatePushState:!1,onlyKeys:["carrier_rate_selection"],partialReplace:!0})},e.prototype.fetchAllCarrierRateSelection=function(e){$.ajax({url:"/admin/settings/shipping/GetCarrierRateSelection?carrierRateProviderId=-1&carrierId="+e,success:function(t){$("#carrier_rate_selection_"+e).replaceWith(t)}})},e}()}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};Juzaweb.Discount=function(){function t(t,i){if(this.prepareSubmitForm=e(this.prepareSubmitForm,this),null!=i)for(var n in i)this[n]=i[n];this.element=t,this.$form=$(t),this.$form.on("submit",this.prepareSubmitForm),initAutoNumeric()}return t.prototype.generateCode=function(){var e,t,i,n,r;for(e="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ",r="",n=[],i=8;i>=1;--i)t=Math.floor(Math.random()*e.length),n.push(r+=e.substring(t,t+1));$("#discount_code").val(r)},t.prototype.disableHiddenInputs=function(){this.$form.find(".disable-hidden-input:visible :input").prop("disabled",!1),this.$form.find(".disable-hidden-input:not(:visible) :input").prop("disabled","disabled")},t.prototype.prepareSubmitForm=function(){unSetAutoNumericForm(),this.disableHiddenInputs()},t.prototype.unlimitedUsageChanged=function(){$('input[name="NoLimit"]').prop("checked")?($(".infinity").removeClass("hide"),$("#discount_usage_limit").prop("disabled",!0),$("#discount_usage_limit").val("")):($(".infinity").addClass("hide"),$("#discount_usage_limit").prop("disabled",!1),$("#discount_usage_limit").focus())},t.prototype.neverExpiresChanged=function(){$('input[name="NeverExpires"]').prop("checked")?$('input[name="Ends"]').prop("disabled",!0):$('input[name="Ends"]').prop("disabled",!1)},t.prototype.startsAtChanged=function(){var e=$("input[name=StartsAt]").val().split("/"),t=$("input[name=EndsAt]").val().split("/"),i=new Date(e[2],e[1]-1,e[0]),n=new Date(t[2],t[1]-1,t[0]),r=new Date;r=i<=n?n:i,$("input[name=EndsAt]").datepicker("setDate",r),$("input[name=EndsAt]").datepicker("option","minDate",r)},t}()}.call(this),function(){function e(e){var t=e.split("/");return new Date(t[2],t[1]-1,t[0])}function t(e,t){var i,n=null==t?0:t.length;if(0==n)return-1;for(i=0;i<n;i++)if(t[i].product.id==e)return i;return-1}function i(e,t){var i,n=null==t?0:t.length;if(0==n)return-1;for(i=0;i<n;i++)if(t[i].id==e)return i;return-1}function n(e,t,i,n){for(var r,s,o=0;o<t.length;o++)r=t[o],(s=i.find("#"+e+"_checkbox_"+r.id)).prop("checked",!0),n&&s.parents("div[selectable]").removeAttr("data-bind-event-click").removeAttr("define").removeAttr("selectable").addClass("next-list__item--disabled"),s=null}function r(e,t,i){for(var n,r,s,o,a,l,u=0;u<e.length;u++){if(n=e[u],r=t.find("#product_checkbox_"+n.product.id),n.product.is_default)r.prop("checked",!0),i&&r.parents("div[selectable]").removeAttr("data-bind-event-click").removeAttr("define").removeAttr("selectable").addClass("next-list__item--disabled");else if((s=n.variants).length>0){for(o=0;o<s.length;o++)a=s[o],(l=t.find("#variant_checkbox_"+a.id)).prop("checked",!0),l.parents("div[selectable]").removeAttr("data-bind-event-click").removeAttr("define").removeAttr("selectable").addClass("next-list__item--disabled"),l=null;t.find(".variant_checkbox_product_"+n.product.id).length>s.length?(r.prop("indeterminate",!0),r.prop("checked",!1)):(r.prop("indeterminate",!1),r.prop("checked",!0),i&&(r.parent().addClass("hidden"),r.parents("div[selectable]").removeAttr("data-bind-event-click").removeAttr("define").removeAttr("selectable").addClass("next-list__item--disabled")))}r=null}}function s(){return $(".savedsearch-resource li").map(function(){return $(this).find(".ui-stack-item").text().trim()}).get()}function o(e){return moment(e,"DD/MM/YYYY")}function a(e){return e===moment().format("DD/MM/YYYY")}function l(e){var t=moment(e,"DD/MM/YYYY").get("year")===moment().get("year")?"DD/MM":"DD/MM/YYYY";return moment(e,"DD/MM/YYYY").format(t)}var u="all",c="cart",d="products",h="collections",p="free_shipping",f="amount",m="fixed_price",g="percentage",v="prerequisite",y="all",b="selected",w=function(e,t){return function(){return e.apply(t,arguments)}};Juzaweb.DiscountNext=function(){function T(e,t){if(null!=t)for(var i in t)this[i]=t[i];this.ajax=null,this.element=e,this.$form=$(e),null==this.products&&(this.products=[]),null==this.collections&&(this.collections=[]),null==this.provinces&&(this.provinces=[]),null==this.savedsearchs&&(this.savedsearchs=[]),this.maxId=0,this.endLoad=!1,this.initEventHandler(),this.submitQuery=_.debounce(this.submitQuery,300),this.tempProduct=[],this.tempCollection=[],this.tempProvince=[],this.tempSavedSearch=[],initAutoNumeric(),$("#frmEditDiscount").submit(function(){return unSetAutoNumericForm(),!0})}return T.prototype.initEventHandler=function(){this.modalOpenHandler=w(this.modalOpenHandler,this),this.modalCloseHandler=w(this.modalCloseHandler,this),$(document).on("modal:opened",".modal",this.modalOpenHandler),$(document).on("modal:close",".modal",this.modalCloseHandler),document.addEventListener("page:before-replace",function(){$(document).off("modal:opened",".modal",this.modalOpenHandler),$(document).off("modal:close",".modal",this.modalCloseHandler)},{once:!0})},T.prototype.modalOpenHandler=function(){var e=this;setTimeout(function(){$(".modal .js-resource-browser-input").focus()},300),(this.appliesTo==d||this.appliesTo==h)&&$(".ui-modal__body.apply-type-modal").on("scroll",function(){var t=$(this);t.scrollTop()+t.innerHeight()>=t[0].scrollHeight-100&&(e.loading||e.endLoad||(e.loading=!0,Bindings.refreshImmediately(),e.submitQuery()))})},T.prototype.modalCloseHandler=function(){this.input="",this.maxId=0,this.ajax&&this.ajax.abort(),this.endLoad=!1,this.loading=!1,Bindings.refreshImmediately()},T.prototype.handleRuleTypeChange=function(e){"promotion"==e?("cart"==this.appliesTo&&(this.appliesTo="all"),"free_shipping"==this.discountType&&(this.discountType="percentage")):("all"==this.appliesTo&&(this.appliesTo="cart"),"fixed_price"==this.discountType&&(this.discountType="percentage"))},T.prototype.summaryIsEmpty=function(){return"code"==this.ruleType&&!this.code||"promotion"==this.ruleType&&!this.title},T.prototype.showAppliedSummary=function(){return this.amountValue&&!isNaN(unFomatPrice(this.amountValue))&&this.discountType===f||this.percentageValue&&!isNaN(this.percentageValue)&&this.discountType===g||this.discountType===p||this.fixedPriceValue&&!isNaN(unFomatPrice(this.fixedPriceValue))&&this.discountType===m},T.prototype.showApplicationMethodSummary=function(){return"code"==this.ruleType&&this.discountType===f&&this.appliesTo!==c},T.prototype.showUsageLimitSummary=function(){return"code"==this.ruleType&&(this.limitedUseSelected&&this.limitedUseTotal>0||this.customerLimit)},T.prototype.showDateSummary=function(){var e,t;return!(!("code"==this.ruleType&&this.code||"promotion"==this.ruleType&&this.title)||!this.showAppliedSummary())&&(e=o(this.startDate).isValid(),this.scheduleEndDate?(t=o(this.endDate).isValid(),e&&t):e)},T.prototype.showCustomerGroupSummary=function(){var e=s().length;return"code"==this.ruleType&&this.customerSelection===v&&e>0},T.prototype.appliedSummary=function(){var e,t=void 0;if("code"==this.ruleType)switch(e=money(unFomatPrice(this.amountValue),this.money_format),this.discountType){case p:t="Miễn phí vận chuyển cho toàn bộ đơn hàng";break;case f:t="Giảm "+e+" cho "+this.selectedItemsSummary();break;case g:t="Giảm "+this.percentageValue+"% cho "+this.selectedItemsSummary()}else switch(this.discountType){case f:t="Giảm "+money(unFomatPrice(this.amountValue),this.money_format)+" cho "+this.selectedItemsSummary();break;case m:t="Đồng giá "+money(unFomatPrice(this.fixedPriceValue),this.money_format)+" cho "+this.selectedItemsSummary();break;case g:t="Giảm "+this.percentageValue+"% cho "+this.selectedItemsSummary()}return t},T.prototype.selectedItemsSummary=function(){var e=this.collections,t=void 0;switch(this.appliesTo){case u:t="toàn bộ sản phẩm";break;case c:t="toàn bộ đơn hàng";break;case d:t=this.selectedProductsSummary();break;case h:t=e.length>1?e.length+" danh mục":1===e.length?"danh mục "+e[0].name:"danh mục"}return t},T.prototype.minimumPurchaseSummary=function(){return"Tổng giá trị sản phẩm được khuyến mãi tối thiểu "+money(unFomatPrice(this.minimumPurchaseValue),this.money_format)},T.prototype.minimumPromotionProductQuantitySummary=function(){return"Tổng số lượng sản phẩm được khuyến mãi tối thiểu "+this.minimumPromotionProductQuantity},T.prototype.showMinimumPromotionProductQuantity=function(){return"promotion"==this.ruleType&&this.hasPromotionProductCond&&"quantity"==this.promotionProductCondType&&this.minimumPromotionProductQuantity},T.prototype.minimumPromotionProductTotalPriceSummary=function(){return"Tổng giá trị sản phẩm được khuyến mãi tối thiểu "+money(unFomatPrice(this.minimumPromotionProductTotalPrice),this.money_format)},T.prototype.showMinimumPromotionProductTotalPrice=function(){return"promotion"==this.ruleType&&this.hasPromotionProductCond&&"total_price"==this.promotionProductCondType&&this.minimumPromotionProductTotalPrice},T.prototype.applicationMethodSummary=function(){return this.applicationMethod?"Áp dụng 1 lần cho mỗi đơn hàng":"Áp dụng cho từng mặt hàng trong giỏ hàng"},T.prototype.shippingCountrySummary=function(){var e=this.provinces,t=this.countrySelection,i=void 0;if(this.discountType===p)switch(t){case y:i="Tất cả tỉnh/thành";break;case b:i=1===e.length?"Áp dụng với "+e[0].name:"Áp dụng với "+e.length+" tỉnh/thành"}return i},T.prototype.customerGroupSummary=function(){var e=s(),t=e.length,i=void 0;return this.customerSelection===v&&(i=1===t?"Áp dụng với nhóm khách hàng "+e[0]:"Áp dụng với "+t+" nhóm khách hàng"),i},T.prototype.shippingRateSummary=function(){return"Phí vận chuyển dưới "+money(unFomatPrice(this.maximumShippingRateValue),this.money_format)},T.prototype.showShippingRateSummary=function(){return"code"==this.ruleType&&this.discountType===p&&this.maximumShippingRate&&unFomatPrice(this.maximumShippingRateValue)>0},T.prototype.usageLimitSummary=function(){var e=void 0,t=parseInt(this.limitedUseTotal,10);return this.limitedUseSelected&&t>0?(e="Mã được phép sử dụng "+t+" lần",this.customerLimit&&(e+=", mỗi khách hàng được sử dụng 1 lần")):this.customerLimit&&(e="Mỗi khách hàng được sử dụng 1 lần"),e},T.prototype.dateSummary=function(){return o(this.startDate).isSame(o(this.endDate))&&this.scheduleEndDate?"Áp dụng từ "+(a(this.startDate)?this.startsTimeDate+" hôm nay":l(this.startDate)):""+this.dateSummaryStart()+this.dateSummaryEnd()},T.prototype.dateSummaryStart=function(){return a(this.startDate)?"Áp dụng từ "+this.startsTimeDate+" hôm nay":"Áp dụng từ "+this.startsTimeDate+" "+l(this.startDate)},T.prototype.dateSummaryEnd=function(){return this.scheduleEndDate?" đến "+this.endsTimeDate+" "+l(this.endDate):""},T.prototype.selectedProductsSummary=function(){var e=this.products;return e.length>1?e.length+" sản phẩm":1===e.length?null!=e[0].variants&&1==e[0].variants.length?"sản phẩm "+e[0].product.name+" ("+function(e){var t=e.option1;return null!=e.option2&&""!=e.option2&&(t=t+" / "+e.option2),null!=e.option3&&""!=e.option3&&(t=t+" / "+e.option3),t}(e[0].variants[0])+")":"sản phẩm "+e[0].product.name:"sản phẩm"},T.prototype.toggleCustomerLimit=function(){this.customerLimit=!this.customerLimit},T.prototype.discountTypeChanged=function(){this.discountType===p?(this.appliesTo=c,this.disableAppliesTo=!0):this.disableAppliesTo=!1,"code"==this.ruleType&&this.appliesTo===u?this.appliesTo=c:"promotion"==this.ruleType&&this.appliesTo===c&&(this.appliesTo=u)},T.prototype.generateCode=function(){var e,t,i,n;for(e="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ",this.code="",i=[],t=12;t>=1;--t)n=Math.floor(Math.random()*e.length),i.push(this.code+=e.substring(n,n+1));return i},T.prototype.startsOnChanged=function(){var t,i=$("input[name=startsDateOn]").val(),n=$("input[name=endsDateOn]").val(),r=e(i);r>e(n)&&(r=i.split("/"),t=new Date(r[2],r[1]-1,r[0]),$("input[name=endsDateOn]").datepicker("setDate",t)),$("input[name=endsDateOn]").datepicker("setStartDate",i)},T.prototype.openModal=function(e){this.maxId=0;var t=this,i=$(e.target).hasClass("saved-search-input");if(i||this.discountType!=g&&this.discountType!=f&&this.discountType!=m)i?this.searchSavedSearchModal.show():this.searchProvinceModal.show(),setTimeout(function(){var e;i?(e=$(".savedsearch-results"),n("savedsearch",t.tempSavedSearch,e,!1),n("savedsearch",t.savedsearchs,e,!0)):(e=$(".province-results"),n("province",t.tempProvince,e,!1),n("province",t.provinces,e,!0))},300);else switch(this.appliesTo){case d:this.searchProductModal.show(),this.submitQuery();break;case h:this.searchCollectionModal.show(),this.submitQuery()}},T.prototype.submitQuery=function(e){var t=this;e&&(t.maxId=0),$.ajax({url:"/admin/discounts/search"+t.appliesTo+"?query="+t.input+"&maxId="+t.maxId,success:function(i,s,o){if(t.loading=!1,200==o.status){var a=$(i);switch(t.appliesTo){case d:r(t.products,a,!0),r(t.tempProduct,a,!1);break;case h:n("collection",t.collections,a,!0),n("collection",t.tempCollection,a,!1)}e?$(".modal-content .js-results-list").html(a):$(".modal-content .js-results-list").append(a),t.maxId=$(".modal-content .js-results-list li.li-root").last().attr("data-id"),Bindings.bind($(".modal-content .js-results-list").get(0))}else 204==o.status&&(0==t.maxId&&$(".modal-content .js-results-list").html("<li>Không tìm thấy kết quả phù hợp</li>"),t.endLoad=!0)}})},T.prototype.isloading=function(){return this.loading},T.prototype.toggleDefaultProduct=function(e){var i=t(e.id,this.tempProduct);i>-1?this.tempProduct.splice(i,1):this.tempProduct.push({product:e}),$("#product_checkbox_"+e.id).prop("checked",-1==i)},T.prototype.toggleCollection=function(e){var t=i(e.id,this.tempCollection);t>-1?this.tempCollection.splice(t,1):this.tempCollection.push(e),$("#collection_checkbox_"+e.id).prop("checked",-1==t)},T.prototype.toggleProvince=function(e){var t=i(e.id,this.tempProvince);t>-1?this.tempProvince.splice(t,1):this.tempProvince.push(e),$("#province_checkbox_"+e.id).prop("checked",-1==t)},T.prototype.toggleSavedSearch=function(e){var t=i(e.id,this.tempSavedSearch);t>-1?this.tempSavedSearch.splice(t,1):this.tempSavedSearch.push(e),$("#savedsearch_checkbox_"+e.id).prop("checked",-1==t)},T.prototype.toggleVariant=function(e,n,r,s,o){var a,l=!$(n).find("#variant_checkbox_"+r).is(":checked");"INPUT"==e.target.tagName&&(l=!l),$("#variant_checkbox_"+r).prop("checked",l);var u=".next-input-wrapper:not(.hide) .variant_checkbox_product_"+o.id,c=$(u).length,d=$(u+":checked").length;if(d>0&&d<c?$("#product_checkbox_"+o.id).prop("indeterminate",!0):d==c?($("#product_checkbox_"+o.id).prop("indeterminate",!1),$("#product_checkbox_"+o.id).prop("checked",!0)):0==d&&($("#product_checkbox_"+o.id).prop("indeterminate",!1),$("#product_checkbox_"+o.id).prop("checked",!1)),(a=t(o.id,this.tempProduct))>-1){var h=this.tempProduct[a].variants,p=i(o.variants[s].id,h);p>-1?l||(1==h.length?this.tempProduct.splice(a,1):this.tempProduct[a].variants.splice(p,1)):l&&this.tempProduct[a].variants.push(o.variants[s])}else l&&this.tempProduct.push({product:o,variants:[o.variants[s]]})},T.prototype.addProduct=function(){for(var e,n,r,s,o=0;o<this.tempProduct.length;o++)if((n=t((e=this.tempProduct[o]).product.id,this.products))>-1){if(null!=(r=this.products[n]).product.variants){for(s=0;s<e.variants.length;s++)-1==i(e.variants[s].id,r.product.variants)&&r.product.variants.push(e.variants[s]);Array.prototype.push.apply(r.variants,e.variants)}}else this.products.push(e);var a=$("#product-add-template").html(),l=Mustache.render(a,{datas:this.products}),u=$(l);$(".product-resource").html(u),Bindings.bind(u[0]),this.searchProductModal.hide(),this.tempProduct=[],Bindings.context(document.body).form._updateDirtyState()},T.prototype.addCollection=function(){for(var e,t=0;t<this.tempCollection.length;t++)-1==i((e=this.tempCollection[t]).id,this.collections)&&this.collections.push(e);var n=$("#collection-add-template").html(),r=Mustache.render(n,{datas:this.collections}),s=$(r);$(".collection-resource").html(s),Bindings.bind(s[0]),this.searchCollectionModal.hide(),this.tempCollection=[],Bindings.context(document.body).form._updateDirtyState()},T.prototype.addProvince=function(){for(var e,t=0;t<this.tempProvince.length;t++)-1==i((e=this.tempProvince[t]).id,this.provinces)&&this.provinces.push(e);var n=$("#province-add-template").html(),r=Mustache.render(n,{datas:this.provinces}),s=$(r);$(".province-resource").html(s),Bindings.bind(s[0]),this.searchProvinceModal.hide(),this.tempProvince=[],Bindings.context(document.body).form._updateDirtyState()},T.prototype.addSavedSearch=function(){for(var e,t=0;t<this.tempSavedSearch.length;t++)-1==i((e=this.tempSavedSearch[t]).id,this.savedsearchs)&&this.savedsearchs.push(e);var n=$("#savedsearch-add-template").html(),r=Mustache.render(n,{datas:this.savedsearchs}),s=$(r);$(".savedsearch-resource").html(s),Bindings.bind(s[0]),this.searchSavedSearchModal.hide(),this.tempSavedSearch=[],Bindings.context(document.body).form._updateDirtyState()},T.prototype.removeProductSelected=function(e){var i=t(e,this.products);i>-1&&(this.products.splice(i,1),$(".product-selected-li-"+e).remove(),Bindings.context(document.body).form._updateDirtyState())},T.prototype.removeCollectionSelected=function(e){var t=i(e,this.collections);t>-1&&(this.collections.splice(t,1),$(".collection-selected-li-"+e).remove(),Bindings.context(document.body).form._updateDirtyState())},T.prototype.removeProvinceSelected=function(e){var t=i(e,this.provinces);t>-1&&(this.provinces.splice(t,1),$(".province-selected-li-"+e).remove(),Bindings.context(document.body).form._updateDirtyState())},T.prototype.removeSavedSearchSelected=function(e){var t=i(e,this.savedsearchs);t>-1&&(this.savedsearchs.splice(t,1),$(".savedsearch-selected-li-"+e).remove(),Bindings.context(document.body).form._updateDirtyState())},T.prototype.removeVariantSelected=function(e,n){var r,s,o=t(n,this.products);o>-1&&((s=i(e,(r=this.products[o]).variants))>-1&&r.variants.splice(s,1),0==r.variants.length?(this.products.splice(o,1),$(".product-selected-li-"+n).remove()):$(".variant-selected-li-"+e).remove(),Bindings.context(document.body).form._updateDirtyState())},T.prototype.changeProductRoot=function(e,t,i){var n=!$(t).find("#product_checkbox_"+i).is(":checked");"INPUT"==e.target.tagName&&(n=!n),$("#product_checkbox_"+i).prop("checked",n),$(".variant_checkbox_product_"+i+(n?":not(:checked)":":checked")).each(function(){$(this).parents(".next-list__item").trigger("click")})},T.prototype.checkProductAdded=function(e){return t(e,this.products)>-1},T.prototype.checkCollectionAdded=function(e){return i(e,this.collections)>-1},T.prototype.checkProvinceAdded=function(e){return i(e,this.provinces)>-1},T.prototype.checkSavedSearchAdded=function(e){return i(e,this.savedsearchs)>-1},T.prototype.checkVariantAdded=function(e,n){var r,s,o=t(e,this.products);if(o>-1){var a=i(n,this.products[o].variants)>-1;return a&&(s=".next-input-wrapper.hide "+(r=".variant_checkbox_product_"+e),$(r).length==$(s).length&&$("#product_checkbox_"+e).parent(".next-input-wrapper").addClass("hide")),a}return!1},T.prototype.matchesSearch=function(e){var t,i=this.input;return!i||(i=i.toLowerCase(),t=Juzaweb.Inflection.removeVietnamChar(i),e.indexOf(t)>-1)},T.prototype.shareDiscount=function(){this.shareable_url_modal.show(),new Clipboard("#promote-dropdown").on("success",function(e){Juzaweb.Flash.notice("Copy thành công"),e.clearSelection()})},T}()}.call(this),function(){Juzaweb.DatePickerSelect=function(){return function(e,t){var i;if(null!=t)for(i in t)this[i]=t[i];this.element=e,this.$this=$(e),null==this.date&&(this.date=new Date),this.$this.datepicker({format:"dd/mm/yyyy",startDate:this.minDate,todayHighlight:!0,language:"vi-VN",templates:{leftArrow:'<i class="icon-arrow-left"></i>',rightArrow:'<i class="icon-arrow-right"></i>'},autoclose:!0})}}()}.call(this),function(){Juzaweb.TimePicker=function(){return function(e,t){if(null!=t)for(var i in t)this[i]=t[i];this.element=e,this.$this=$(e)}}()}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},t=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},i={}.hasOwnProperty;Juzaweb.EditCollection=function(i){function n(t,i){if(null!=i)for(var r in i)this[r]=i[r];this.element=t,this.form=t,this.opts={alertUnsavedChanges:!0,disabledUntilDirty:!0},this.resourceName="collection",this.submit=e(this.submit,this),this.contentElement=document.getElementById("Content"),n.__super__.constructor.call(this,this.form,this.opts)}return t(n,i),n.prototype.submit=function(e){var t,i,n,r,s,o=$(this.contentElement).ckeditorGet();return void 0!==o&&(this.contentElement.value=o.getData()),e.preventDefault(),t={httpRequestType:(s=e.target).getAttribute("method"),httpUrl:s.getAttribute("action"),refreshOnErrorExcept:this.resourceName+"-image-drop",useNativeEncoding:null!=(null!=(i=this.imageDrop)?i.file:void 0),success:function(e){return function(){return e.imageDrop.file=null,e.imageDrop.dirty=!1}}(this)},r=new TurboGraft.Remote(t,this.form,s),(null!=(n=this.imageDrop)?n.file:void 0)&&(r.formData.append("altImage",this.imageDrop.alt),r.formData.append("imageCollection",this.imageDrop.file)),r.submit()},n.prototype.openUploadImage=function(){$("#collection-upload-image").click()},n.prototype.uploadImage=function(){$("#collection-upload-image")[0].files.length>0?($(".collection-image").remove(),this.showImageFromComputer(),$("#uploaded-images").html("Đã chọn ảnh")):$("#uploaded-images").html("Up ảnh đại diện")},n.prototype.showImageFromComputer=function(){var e,t,i=$("#collection-upload-image")[0].files[0],n=i.size,r=i.name;n<=1048576?(e=r.substr(r.lastIndexOf(".")+1),-1!=$.inArray(e.toLowerCase(),["jpg","png","gif","jpeg"])&&((t=new FileReader).onload=function(e){var t=$("#collection-image-template").html(),i=Mustache.render(t,{image:{largeImage:e.target.result,smallImage:e.target.result,uploadedImage:0}});$("#btn-upload-collection-image").after(i),Bindings.bind($(".upload-image").get(0),Bindings.context(document.body).editCollection)},t.readAsDataURL(i))):errors.push(r)},n.prototype.bindImageInTemplate=function(e,t){var i=Juzaweb.Utility.getThumb(e,"large"),n=Juzaweb.Utility.getThumb(e,"small"),r=$("#collection-image-template").html(),s=Mustache.render(r,{image:{largeImage:i,smallImage:n,uploadedImage:t}});$("#btn-upload-collection-image").after(s),Bindings.bind($(".upload-image").get(0),Bindings.context(document.body).editCollection)},n.prototype.previewImage=function(e){this.previewCollectionImageModal.show(),$(".collection-image-show").attr("src",e)},n.prototype.deleteCollectionImage=function(e){var t=this;e?$.ajax({type:"POST",url:"/admin/collections/DeleteImage",data:$(".form-delete-collection-image").serialize(),dataType:"json",success:function(){$(".collection-image").remove(),Juzaweb.Flash.notice("Xóa ảnh thành công"),t.previewCollectionImageModal.hide()},error:function(){}}):($(".collection-image").remove(),$("#collection-upload-image").val(""),$("#uploaded-images").html("Up ảnh đại diện"),t.previewCollectionImageModal.hide(),null!=t.src_image&&t.bindImageInTemplate(t.src_image,1))},n.prototype.showEditImageAlt=function(e){var t,i;this.editCollectionImageAltModal.show(),t=$(".collection-image-detail").attr("src"),$(".collection-image-modal").attr("src",t),"null"==(i=$(".collection-image-detail").attr("alt"))&&(i=""),$('.form-edit-collection-image-alt input[name="altImage"]').val(i),$('.form-edit-collection-image-alt input[name="collectionId"]').val(e)},n.prototype.editCollectionImageAlt=function(){var e,t=$('.form-edit-collection-image-alt input[name="collectionId"]').val(),i=$('.form-edit-collection-image-alt input[name="altImage"]').val();i.length>255?Juzaweb.Flash.error("Nội dung thẻ alt không được quá 255 ký tự"):(e=this,t>0?(Juzaweb.Loading.start(),$.ajax({url:"/admin/collections/UpdateAltImage",type:"POST",data:$(".form-edit-collection-image-alt").serialize(),global:!1,success:function(){Juzaweb.Flash.notice("Cập nhật ảnh đại diện thành công"),$(".collection-image-detail").attr("alt",i),$("#input-alt-image").val(i),e.editCollectionImageAltModal.hide(),Juzaweb.Loading.stop()},error:function(e){e.responseJSON&&e.responseJSON.error?Juzaweb.Flash.error(e.responseJSON.error.replace(/\n/g,"; ").replace(/; $/,"")):(Juzaweb.Flash.error("Cập nhật thất bại"),Juzaweb.Loading.stop())}})):($(".collection-image-detail").attr("alt",i),$("#input-alt-image").val(i),e.editCollectionImageAltModal.hide()))},n}(Juzaweb.Forms)}.call(this),function(){var e=function(e){e.addClass("active"),t(e).removeClass("display-from-bottom").addClass("is-visible"),e.trigger("dropdown:show")},t=function(e){var t=e.attr("data-dropdown");return $(t,e)},i=function(e){e.hasClass("active")&&(t(e).removeClass("is-visible"),e.removeClass("active").trigger("dropdown:hide"))};$(document).on("click",function(e){var t=$(e.target),i=t.closest("a"),n=t.closest("[data-dropdown]");n.length>0?(e.preventDefault(),Juzaweb.Dropdown.trigger(n)):(i.length>0&&!i.hasClass("keep-open")||!t.closest(".dropdown").length>0&&!t.hasClass("keep-open"))&&Juzaweb.Dropdown.hide()}),Juzaweb.Dropdown={trigger:function(t){t.hasClass("active")?i(t):e(t)},hide:function(){return $("[data-dropdown]").each(function(){return i($(this))})}}}.call(this),function(){Juzaweb.RedirectsBulkActions=function(){function e(t,i){e.base.constructor.call(this,t,i)}return extend(Juzaweb.BulkActions,e),e.prototype.showDeleteRedirectModal=function(e){this.deleteRedirectModal.show(),$('.form-delete-redirect input[name="id"]').val(e)},e.prototype.deleteRedirect=function(){$('.form-delete-redirect input[name="id"]').val();$.ajax({type:"POST",url:"/admin/settings/Redirects/Delete",data:$(".form-delete-redirect").serialize(),dataType:"json",success:function(){Juzaweb.Modal.hide(),window.location.href=window.location.href},error:function(){}})},e}()}.call(this),function(){Juzaweb.RedirectsURL=function(){function e(e,t){if(t)for(var i in t)this[i]=t[i];this.ele=e}return e.prototype.addRedirect=function(){this.addRedirectModal.show()},e}()}.call(this),function(){Juzaweb.SingleDropdown=function(){function e(e,t){if(null!=t)for(var i in t)this[i]=t[i];this.Type="collection",null!=t.type&&(this.Type=t.type),this.element=e,this.init(),this.timer=null,this.request=null,this.isLoaded=!1}return e.closeAllOpenDropdown=function(){$(".single-dropdown.is-visible").removeClass("is-visible")},e.checkFocus=function(t){var i=$(t.target);0==i.closest(".single-dropdown").length&&i.find(".dropdown-toggle").length>0&&e.closeAllOpenDropdown()},e.prototype.dropdown=function(){e.closeAllOpenDropdown();var t=this;this.isLoaded?$(this.element).find(".single-dropdown").toggleClass("is-visible"):$.ajax({type:"GET",url:_urlMappings[this.Type],success:function(e){t.isLoaded=!0,$(t.element).append(e),Bindings.bind($(t.element).find(".single-dropdown").get(0),t),Bindings.refreshImmediately()},error:function(){},complete:function(){$(t.element).find(".single-dropdown").toggleClass("is-visible")}})},e.prototype.suggest=function(){var e=this,t=$(this.element).find(".single-query").val(),i=_urlSuggestMappings[this.Type]+"?query="+t;this.page=1,null!=this.timer&&clearTimeout(this.timer),this.timer=setTimeout(function(){null!=this.request&&this.request.abort(),this.request=$.ajax({url:i,type:"GET",success:function(t){$(e.element).find(".single-suggest-result").html(t),Bindings.bind($(e.element).find(".single-dropdown").get(0),e)}})},1e3)},e.prototype.toggle=function(e,t,i){if("alias"===this.valueType){if(this.themeSettingId){var n=this.removeJQInvalidCharacter(this.themeSettingId);$("#setting-"+n).val(i),$("#setting-"+n).attr("setting-text",t),$("#setting-"+n).trigger("change")}$(this.element).find("[type='hidden']").val(i)}else $(this.element).find(".single-dropdown-select-id").val(e);$(this.element).find(".choosed-single").html(t),$(this.element).find(".single-dropdown-select-name").val(t),this.hideDropdown()},e.prototype.removeJQInvalidCharacter=function(e){return e.replace(/[^a-z0-9\s]/gi,"").replace(/[_\s]/g,"-")},e.prototype.hideDropdown=function(){$(this.element).find(".single-dropdown").hasClass("is-visible")&&$(this.element).find(".single-dropdown").removeClass("is-visible")},e.prototype.init=function(){$(this.element).find(".choosed-single").html()&&$(this.element).find(".choosed-single").html(this.itemName)},e.prototype.next=function(){var e=$(this.element).find(".single-query").val(),t=_urlSuggestMappings[this.Type]+"?query="+e;this.page=this.page+1,this.next_page=t+"&page="+this.page,this.loadUrl(this.next_page)},e.prototype.prev=function(){var e=$(this.element).find(".single-query").val(),t=_urlSuggestMappings[this.Type]+"?query="+e;this.page=this.page-1,this.prev_page=t+"&page="+this.page,this.loadUrl(this.prev_page)},e.prototype.loadUrl=function(e){var t=this;$.ajax({url:e,success:function(e){$(t.element).find(".single-suggest-result").html(e),Bindings.bind($(t.element).find(".single-dropdown").get(0),t)}})},e}()}.call(this),function(){var e=function(e){return e&&e.__esModule?e:{default:e}},t=e($),i=e(_),n=300,r="theme-preview__overlay",s="theme-preview__iframe";Juzaweb.ThemeSelect=function(){function e(e,r){var s,o;if(r)for(s in r)this[s]=r[s];this.ele=e,this.node=e,o=i.default.throttle(this.scaleFrames,n),t.default(window).off("resize",o.bind(this)).on("resize",o.bind(this))}return e.prototype.showPublishTheme=function(e,t,i){this.publishThemeModal.show(),$(".form-publish-theme .theme-name").html(i),$(".form-publish-theme input[name=id]").val(e),this.publishTheme("main")},e.prototype.deleteTheme=function(e,t){this.deleteThemeModal.show(),$(".form-delete-theme .theme-name").html(t),$(".form-delete-theme input[name=id]").val(e)},e.prototype.publishTheme=function(e){$(".btn-publish-theme").removeClass("disabled"),$(".theme-role").removeClass("theme-role-selected"),$(".role-"+e).addClass("theme-role-selected"),$(".form-publish-theme input[name=role]").val(e)},e.prototype.unpublishTheme=function(e){$.ajax({type:"POST",url:"/admin/themes/UnPublishTheme",data:{mobileThemeId:e},success:function(){window.location.href=window.location.href,Juzaweb.Flash.notice("Theme đã được ẩn")},error:function(){}})},e.prototype.enableUploadThemeSubmit=function(){$("#uploadTheme")[0].files.length>0&&$(".btn-upload-theme").removeClass("disabled")},e.prototype.uploadTheme=function(){$(".btn-upload-theme").addClass("disabled")},e.prototype.showCopyTheme=function(e,t){this.copyThemeModal.show(),$("#themeCopyId").val(e),$("#themeCopyName").val(t+" - Copy")},e.prototype.scaleFrames=function(){t.default(this.node).find("."+r).each(function(e,i){var n,r=t.default(i).width(),o=t.default(i).find("."+s),a=o.width();n=r<=a?1-(a-r)/a:1+(r-a)/r,o.css("transform","scale("+n+")")})},e}()}.call(this),function(){Juzaweb.FilterAndSavedSearchWithDropDown=function(){function e(t,i){e.base.constructor.call(this,t,i),this.element=t,this.isValid=!1,this.$filterForm=$("#frmFilter"),this.page=1,this.isLoaded=!1}return extend(Juzaweb.FilterAndSavedSearch,e),e.optionsNeedingValue=["greater_than","less_than","equals","not_equals"],e.prototype.getUrlByKey=function(){return this.filterKey.toLowerCase().substring(0,this.filterKey.length-2)},e.closeAllOpenDropdown=function(){$(".single-dropdown").removeClass("is-visible")},e.prototype.dropdown=function(){var e=this;this.page=1,this.isLoaded?$(this.element).find(".single-dropdown").hasClass("is-visible")?$(this.element).find(".single-dropdown").removeClass("is-visible"):$(this.element).find(".single-dropdown").addClass("is-visible"):$.ajax({type:"GET",url:_urlMappings[this.getUrlByKey()],success:function(t){e.isLoaded=!0,$(e.element).find(".result-dropdown").append(t),Bindings.bind($(e.element).find(".single-dropdown").get(0),e)},error:function(){},complete:function(){$(e.element).find(".single-dropdown").hasClass("is-visible")?$(e.element).find(".single-dropdown").removeClass("is-visible"):$(e.element).find(".single-dropdown").addClass("is-visible")}})},e.prototype.suggest=function(){var e=this,t=$(this.element).find(".single-query").val(),i=_urlSuggestMappings[this.getUrlByKey()]+"?query="+t;this.page&&0!=this.page||(this.page=1),null!=this.timer&&clearTimeout(this.timer),this.timer=setTimeout(function(){null!=this.request&&this.request.abort(),this.request=$.ajax({url:i,type:"GET",success:function(t){$(e.element).find(".single-suggest-result").html(t),Bindings.bind($(e.element).find(".single-dropdown").get(0),e)}})},500)},e.prototype.next=function(){var e=$(this.element).find(".single-query").val(),t=_urlSuggestMappings[this.getUrlByKey()]+"?query="+e;this.page=this.page+1,this.next_page=t+"&page="+this.page,this.loadUrl(this.next_page)},e.prototype.prev=function(){var e=$(this.element).find(".single-query").val(),t=_urlSuggestMappings[this.getUrlByKey()]+"?query="+e;this.page=this.page-1,this.prev_page=t+"&page="+this.page,this.loadUrl(this.prev_page)},e.prototype.loadUrl=function(e){var t=this;$.ajax({url:e,success:function(e){$(t.element).find(".single-suggest-result").html(e),Bindings.bind($(t.element).find(".single-dropdown").get(0),t)}})},e.prototype.toggle=function(e,t,i){"alias"===this.valueType?$(this.element).find("[type='hidden']").val(i):$(this.element).find(".choosed-single-id").val(e),$("#frmFilter").find("input[name='"+this.filterKey+"']").val(e),$(this.element).find(".choosed-single").html(t),$(this.element).find(".single-dropdown").hasClass("is-visible")&&$(this.element).find(".single-dropdown").toggleClass("is-visible"),this.option=e,Bindings.refresh()},e.prototype.hideDropdown=function(){$(this.element).find(".single-dropdown").hasClass("is-visible")&&$(this.element).find(".single-dropdown").removeClass("is-visible")},e.prototype.checkFocus=function(e){var t=$(e.target);0==t.closest(".single-dropdown").length&&t.find(".dropdown-toggle").length>0&&this.hideDropdown()},e.prototype.init=function(){$(this.element).find(".choosed-single").html()&&$(this.element).find(".choosed-single").html(this.itemName)},e}()}.call(this),function(){Juzaweb.ProductFilterAndSavedSearch=function(){function e(t,i){e.base.constructor.call(this,t,i),this.submitQuery=_.debounce(this.submitQuery,300),this.page=1,this.isLoaded=!1}return extend(Juzaweb.FilterAndSavedSearchWithDropDown,e),e.optionsNeedingValue=["greater_than","less_than","equals","not_equals"],e.prototype.dropdown=function(){var e=this;this.page=1,this.isLoaded?$(this.element).find(".single-dropdown").hasClass("is-visible")?$(this.element).find(".single-dropdown").removeClass("is-visible"):$(this.element).find(".single-dropdown").addClass("is-visible"):$.ajax({type:"GET",url:_urlMappings.collection,success:function(t){e.isLoaded=!0,$(e.element).find(".result-dropdown").append(t),Bindings.bind($(e.element).find(".single-dropdown").get(0),e)},error:function(){},complete:function(){$(e.element).find(".single-dropdown").hasClass("is-visible")?$(e.element).find(".single-dropdown").removeClass("is-visible"):$(e.element).find(".single-dropdown").addClass("is-visible")}})},e.prototype.suggest=function(){var e=this,t=$(this.element).find(".single-query").val(),i=_urlSuggestMappings.collection+"?query="+t;this.page=1,null!=this.timer&&clearTimeout(this.timer),this.timer=setTimeout(function(){null!=this.request&&this.request.abort(),this.request=$.ajax({url:i,type:"GET",success:function(t){$(e.element).find(".single-suggest-result").html(t),Bindings.bind($(e.element).find(".single-dropdown").get(0),e)}})},500)},e.prototype.next=function(){var e=$(this.element).find(".single-query").val(),t=_urlSuggestMappings.collection+"?query="+e;this.page=this.page+1,this.next_page=t+"&page="+this.page,this.loadUrl(this.next_page)},e.prototype.prev=function(){var e=$(this.element).find(".single-query").val(),t=_urlSuggestMappings.collection+"?query="+e;this.page=this.page-1,this.prev_page=t+"&page="+this.page,this.loadUrl(this.prev_page)},e.prototype.loadUrl=function(e){var t=this;$.ajax({url:e,success:function(e){$(t.element).find(".single-suggest-result").html(e),Bindings.bind($(t.element).find(".single-dropdown").get(0),t)}})},e.prototype.toggle=function(e,t){$(this.element).find(".choosed-single-id").val(e),$("#frmFilter").find("input[name='collectionId']").val(e),$(this.element).find(".choosed-single").html(t),$(this.element).find(".single-dropdown").hasClass("is-visible")&&$(this.element).find(".single-dropdown").toggleClass("is-visible"),this.option=e,Bindings.refresh()},e.name="ProductFilterAndSavedSearch",e}()}.call(this),function(){Juzaweb.OrderFilterAndSavedSearch=function(){function e(t,i){e.base.constructor.call(this,t,i),this.element=t,this.isValid=!1,this.$filterForm=$("#frmFilter"),this.page=1,this.isLoaded=!1}return extend(Juzaweb.FilterAndSavedSearchWithDropDown,e),e.optionsNeedingValue=["greater_than","less_than","equals","not_equals"],e.closeAllOpenDropdown=function(){$(".single-dropdown").removeClass("is-visible")},e.prototype.resetFilter=function(){this.option="",this.value="",this.isValid=!1,$(".filter-builder .filter-select").val("")},e.prototype.resetValue=function(){this.value="",this.isValid=!1},e.prototype.dropdown=function(){var e=this;this.page=1,this.isLoaded?$(this.element).find(".single-dropdown").hasClass("is-visible")?$(this.element).find(".single-dropdown").removeClass("is-visible"):$(this.element).find(".single-dropdown").addClass("is-visible"):$.ajax({type:"GET",url:_urlMappings.customer,success:function(t){e.isLoaded=!0,$(e.element).find(".result-dropdown").append(t),Bindings.bind($(e.element).find(".single-dropdown").get(0),e)},error:function(){},complete:function(){$(e.element).find(".single-dropdown").hasClass("is-visible")?$(e.element).find(".single-dropdown").removeClass("is-visible"):$(e.element).find(".single-dropdown").addClass("is-visible")}})},e.prototype.suggest=function(){var e=this,t=$(this.element).find(".single-query").val(),i=_urlSuggestMappings.customer+"?query="+t;this.page&&0!=this.page||(this.page=1),null!=this.timer&&clearTimeout(this.timer),this.timer=setTimeout(function(){null!=this.request&&this.request.abort(),this.request=$.ajax({url:i,type:"GET",success:function(t){$(e.element).find(".single-suggest-result").html(t),Bindings.bind($(e.element).find(".single-dropdown").get(0),e)}})},500)},e.prototype.toggle=function(e,t){$(this.element).find(".choosed-single-id").val(e),$("#frmFilter").find("input[name='CustomerId']").val(e),$(this.element).find(".choosed-single").html(t),$(this.element).find(".single-dropdown").hasClass("is-visible")&&$(this.element).find(".single-dropdown").toggleClass("is-visible"),this.option=e,Bindings.refresh()},e}()}.call(this),function(){Juzaweb.OrderBulkActions=function(){function e(t,i){e.base.constructor.call(this,t,i)}return extend(Juzaweb.BulkActions,e),e.prototype.fulfillOrders=function(){Juzaweb.Loading.start(),$.ajax({url:this.urlBulkActionFulfillOrders+"?"+$("#frmBulkActions").serialize(),global:!1,success:function(e){$("#juzaweb-modal").html(e),$("#juzaweb-modal").modal({backdrop:"static"}),$("#juzaweb-modal").modal("show"),Bindings.unbind($("#juzaweb-modal")[0]),Bindings.bind($("#juzaweb-modal")[0])}}).always(function(){Juzaweb.Loading.stop()})},e.prototype.archiveOrders=function(){var e=$("#frmBulkActions input[name='ids']").length*TIME_DELAY;e>7e3&&(e=7e3),Juzaweb.Loading.start(),$.ajax({url:this.urlBulkActionArchiveOrders,type:"POST",data:$("#frmBulkActions").serialize(),global:!1,success:function(t){setTimeout(function(){Juzaweb.Utility.loadAjax(window.location.href,".page-content",function(){Juzaweb.Flash.notice(t.result.message)})},e)}})},e.prototype.unarchiveOrders=function(){var e=$("#frmBulkActions input[name='ids']").length*TIME_DELAY;e>7e3&&(e=7e3),Juzaweb.Loading.start(),$.ajax({url:this.urlBulkActionUnArchiveOrders,type:"POST",global:!1,data:$("#frmBulkActions").serialize(),success:function(t){setTimeout(function(){Juzaweb.Utility.loadAjax(window.location.href,".page-content",function(){Juzaweb.Flash.notice(t.result.message)})},e)}})},e.prototype.printProcess=function(e,t){var i=window.frames.print_frame;i.document.body.innerHTML=t[0]?t[0].innerHTML:e.content,setTimeout(function(){i.document.close(),i.focus(),i.print(),i.close()},250)},e.prototype.printOrders=function(){Juzaweb.Loading.start();var e=this;$.ajax({url:this.urlBulkActionPrintOrders,type:"POST",data:$("#frmBulkActions").serialize(),global:!1,success:function(t){var n,r,s,o,a;if(null!=t.contents&&t.contents.length>0){for(n="",r=[],n+='<style type="text/css">@media all{.page-break{display:none;}}@media print{.page-break{float:none;border:none;width:100%;clear:both;display:block;page-break-after:always;}}</style>',i=0;i<t.contents.length;i++)r.push("<div>"+t.contents[i]+"</div>");n+=r.join('<div class="page-break"></div>'),(s=$("<div>"+n+"</div>")).find(".print_barcode").each(function(){var e=$(this).attr("val");$(this).JsBarcode(e,{width:1,height:37,quite:0,margin:0,format:"CODE128",displayValue:!1,font:"monospace",textAlign:"center",lineColor:"#000"})}),(o=s.find(".logo_store"))[0]?(a=$(o).attr("val"),toDataURL(a,function(i){s.find(".logo_store").each(function(){$(this).attr("src",i)}),e.printProcess(t,s)})):e.printProcess(t,s)}},error:function(e){422==e.status&&e.responseJSON?Juzaweb.Flash.error(e.responseJSON.message?e.responseJSON.message:"In đơn hàng không thành công"):Juzaweb.Flash.error("In đơn hàng không thành công")}}).always(function(){Juzaweb.Loading.stop()})},e.prototype.quickViewOrder=function(e){var t=this,i=$(t.element).find("#quick-view-order-"+e);$(i).children("td").length>0?$(i).hasClass("panel-quick-view-open")?(_.prepareTransition($(i)).removeClass("panel-quick-view-open"),$(t.element).find("#fa-quick-view-"+e).removeClass("fa-angle-double-down"),$(t.element).find("#fa-quick-view-"+e).addClass("fa-angle-double-right")):($(document).find(".panel-quick-view").removeClass("panel-quick-view-open"),$(document).find(".fa-quick-view").removeClass("fa-angle-double-down"),$(t.element).find("#fa-quick-view-"+e).addClass("fa-angle-double-down"),_.prepareTransition($(i)).addClass("panel-quick-view-open")):$.ajax({url:"/admin/orders/QuickOderProcessing",type:"GET",dataType:"html",data:{id:e},success:function(n){$(i).html(n),Bindings.unbind($("#quick-view-order-"+e)[0]),Bindings.bind($("#quick-view-order-"+e)[0]),$(document).find(".panel-quick-view").removeClass("panel-quick-view-open"),$(document).find(".fa-quick-view").removeClass("fa-angle-double-down"),$(t.element).find("#fa-quick-view-"+e).addClass("fa-angle-double-down"),_.prepareTransition($(i)).addClass("panel-quick-view-open")}})},e}()}.call(this),function(){Juzaweb.CheckoutBulkActions=function(){function e(t,i){e.base.constructor.call(this,t,i)}return extend(Juzaweb.BulkActions,e),e.prototype.archiveCheckouts=function(){var e=$("#frmBulkActions input[name='ids']").length*TIME_DELAY;e>7e3&&(e=7e3),Juzaweb.Loading.start(),$.ajax({url:this.urlBulkActionArchiveCheckouts,type:"POST",global:!1,data:$("#frmBulkActions").serialize(),success:function(t){setTimeout(function(){Juzaweb.Utility.loadAjax(window.location.href,".page-content",function(){Juzaweb.Flash.notice(t.result.message)})},e)}})},e.prototype.unarchiveCheckouts=function(){var e=$("#frmBulkActions input[name='ids']").length*TIME_DELAY;e>7e3&&(e=7e3),Juzaweb.Loading.start(),$.ajax({url:this.urlBulkActionUnArchiveCheckouts,type:"POST",global:!1,data:$("#frmBulkActions").serialize(),success:function(t){setTimeout(function(){Juzaweb.Utility.loadAjax(window.location.href,".page-content",function(){Juzaweb.Flash.notice(t.result.message)})},e)}})},e}()}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},t=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},i={}.hasOwnProperty;Juzaweb.EditArticle=function(i){function n(t,i){if(null!=i)for(var r in i)this[r]=i[r];this.element=t,this.form=t,this.opts={alertUnsavedChanges:!0,disabledUntilDirty:!0},this.resourceName="article",this.submit=e(this.submit,this),this.contentElement=document.getElementById("Content"),n.__super__.constructor.call(this,this.form,this.opts)}return t(n,i),n.prototype.submit=function(e){var t,i,n,r,s,o=$(this.contentElement).ckeditorGet();return void 0!==o&&(this.contentElement.value=o.getData()),e.preventDefault(),t={httpRequestType:(s=e.target).getAttribute("method"),httpUrl:s.getAttribute("action"),refreshOnErrorExcept:this.resourceName+"-image-drop",useNativeEncoding:null!=(null!=(i=this.imageDrop)?i.file:void 0),success:function(e){return function(){return e.imageDrop.file=null,e.imageDrop.dirty=!1}}(this)},r=new TurboGraft.Remote(t,this.form,s),(null!=(n=this.imageDrop)?n.file:void 0)&&(r.formData.append("altImage",this.imageDrop.alt),r.formData.append("imageArticle",this.imageDrop.file)),r.submit()},n.prototype.openUploadImage=function(){$("#article-upload-image").click()},n.prototype.uploadImage=function(){$("#article-upload-image")[0].files.length>0?($(".article-image").remove(),$("#uploaded-images").html("Đã chọn ảnh"),this.showImageFromComputer()):$("#uploaded-images").html("Up ảnh đại diện")},n.prototype.showImageFromComputer=function(){var e,t,i=$("#article-upload-image")[0].files[0],n=i.size,r=i.name;n<=1048576?(e=r.substr(r.lastIndexOf(".")+1),-1!=$.inArray(e.toLowerCase(),["jpg","png","gif","jpeg"])&&((t=new FileReader).onload=function(e){var t=$("#article-image-template").html(),i=Mustache.render(t,{image:{largeImage:e.target.result,smallImage:e.target.result,uploadedImage:0}});$("#btn-upload-article-image").after(i),Bindings.bind($(".upload-image").get(0),Bindings.context(document.body).editArticle)},t.readAsDataURL(i))):errors.push(r)},n.prototype.previewImage=function(e){this.previewImageModal.show(),$(".image-show").attr("src",e)},n.prototype.bindImageInTemplate=function(e,t){var i=Juzaweb.Utility.getThumb(e,"large"),n=Juzaweb.Utility.getThumb(e,"small"),r=$("#article-image-template").html(),s=Mustache.render(r,{image:{largeImage:i,smallImage:n,uploadedImage:t}});$("#btn-upload-article-image").after(s),Bindings.bind($(".upload-image").get(0),Bindings.context(document.body).editArticle)},n.prototype.deleteArticleImage=function(e){var t=this;e?$.ajax({type:"POST",url:"/admin/articles/DeleteImage",data:$(".form-delete-article-image").serialize(),dataType:"json",success:function(){$(".article-image").remove(),Juzaweb.Flash.notice("Xóa ảnh đại diện bài viết thành công"),t.previewImageModal.hide()},error:function(){Juzaweb.Flash.error("Xóa ảnh đại diện bài viết thất bại")}}):($(".article-image").remove(),$("#article-upload-image").val(""),$("#uploaded-images").html("Up ảnh đại diện"),t.previewImageModal.hide(),null!=t.src_image&&t.bindImageInTemplate(t.src_image,1))},n.prototype.showEditImageAlt=function(e){var t,i;this.editArticleImageAltModal.show(),t=$(".article-image-detail").attr("src"),$(".article-image-modal").attr("src",t),"null"==(i=$(".article-image-detail").attr("alt"))&&(i=""),$('.form-edit-article-image-alt input[name="altImage"]').val(i),$('.form-edit-article-image-alt input[name="articleId"]').val(e)},n.prototype.editArticleImageAlt=function(){var e,t=$('.form-edit-article-image-alt input[name="articleId"]').val(),i=$('.form-edit-article-image-alt input[name="altImage"]').val();i.length>255?Juzaweb.Flash.error("Nội dung thẻ alt không được quá 255 ký tự"):(e=this,t>0?(Juzaweb.Loading.start(),$.ajax({url:"/admin/articles/UpdateAltImage",type:"post",data:$(".form-edit-article-image-alt").serialize(),global:!1,success:function(){Juzaweb.Flash.notice("Cập nhật ảnh đại diện thành công"),$(".article-image-detail").attr("alt",i),$("#input-alt-image").val(i),e.editArticleImageAltModal.hide(),Juzaweb.Loading.stop()},error:function(e){e.responseJSON&&e.responseJSON.error?Juzaweb.Flash.error(e.responseJSON.error.replace(/\n/g,"; ").replace(/; $/,"")):(Juzaweb.Flash.error("Cập nhật thất bại"),Juzaweb.Loading.stop())}})):($(".article-image-detail").attr("alt",i),$("#input-alt-image").val(i),e.editArticleImageAltModal.hide()))},n.prototype.toggleGoToTopButton=function(){1==$("input:radio[name='active'][value='true']").is(":checked")?$(".top-blog").removeClass("disabled"):$(".top-blog").addClass("disabled")},n}(Juzaweb.Forms)}.call(this),function(){Juzaweb.Comment=function(){function e(e,t){if(null!=t)for(var i in t)this[i]=t[i];this.element=e}return e.prototype.updateComment=function(e,t){Juzaweb.Loading.start();var i=$(this.element).find(".action-comment"),n=i.text();i.addClass("disabled").html(Juzaweb.LOADING),$.ajax({url:Juzaweb.routes.comments+"/"+e+"/"+t,type:"post",global:!1,success:function(){Juzaweb.Utility.loadAjax(window.location.href,".edit-article",function(){})},error:function(e){e.responseJSON&&e.responseJSON.error?Juzaweb.Flash.error(e.responseJSON.error.replace(/\n/g,"; ").replace(/; $/,"")):(Juzaweb.Flash.error("Cập nhật thất bại"),Juzaweb.Loading.stop(),i.removeClass("disabled").html(n))}})},e}()}.call(this),function(){Juzaweb.Inventory=function(){function e(e){this.oldQuantity=e,this.manualSet=!1,this.amount=null}return e.name="Inventory",e.prototype.useManualUpdate=function(){return this.manualSet=!0},e.prototype.useRelativeUpdate=function(){return this.manualSet=!1},e.prototype.usingManualUpdate=function(){return this.manualSet},e.prototype.inventoryHasChanged=function(){return""!=this.amount&&null!=this.amount&&(this.manualSet||!this.manualSet&&0!=this.amount)},e.prototype.newQuantity=function(){return Juzaweb.Utility.isNumeric(this.amount)?this.manualSet?parseInt(this.amount):parseInt(this.oldQuantity)+parseInt(this.amount):(this.amount=0,Juzaweb.Utility.isNumeric(this.oldQuantity)||(this.oldQuantity=0),0)},e.prototype.updateVariant=function(e){var t=this,i=$(e);return $.ajax({url:i.attr("action"),type:"POST",dataType:"json",data:JSON.stringify({inventory_quantity:t.newQuantity(),id:t.id}),success:function(e,i,n){200==n.status&&(t.oldQuantity=e.inventory_quantity,t.amount=0,t.manualSet=!1,Juzaweb.Flash.notice("Cập nhật kho thành công"))},error:function(){Juzaweb.Flash.error("Cập nhật không thành công")}}),!1},e}()}.call(this),function(){Juzaweb.VariantsBulkActions=function(){function e(t,i){e.base.constructor.call(this,t,i)}return extend(Juzaweb.BulkActions,e),e.prototype.inventoryPolicyContinue=function(){this.BulkVariantsInventoryPolicyContinue="/admin/products/BulkVariantsInventoryPolicyContinue";var e=this;$.ajax({url:this.BulkVariantsInventoryPolicyContinue,type:"POST",data:$("#frmBulkActions").serialize(),success:function(t){t.message&&Juzaweb.Flash.notice(t.message),e.uncheckAllBulkActionItems()},error:function(e){Juzaweb.Flash.error(e.responseJSON.error.replace(/\n/g,"; ").replace(/; $/,""))}})},e.prototype.inventoryPolicyDeny=function(){this.BulkVariantsInventoryPolicyDeny="/admin/products/BulkVariantsInventoryPolicyDeny",$.ajax({url:this.BulkVariantsInventoryPolicyDeny,type:"POST",data:$("#frmBulkActions").serialize(),success:function(e){e.message&&Juzaweb.Flash.notice(e.message)},error:function(e){Juzaweb.Flash.error(e.responseJSON.error.replace(/\n/g,"; ").replace(/; $/,""))}})},e.prototype.updateInventoryVariants=function(e,t){0==e?$.ajax({url:this.urlBulkUpdateQuantity+"?"+$("#frmBulkActions").serialize(),success:function(e){$("#juzaweb-modal").html(e),$("#juzaweb-modal").modal("show"),Bindings.bind($("#juzaweb-modal")[0],Bindings.context(document.body).variantsInventory)}}):$.ajax({url:this.urlBulkUpdateQuantity+"?"+$("#frmBulkActions").serialize()+"&productId="+e+"&productName="+t,success:function(e){$("#juzaweb-modal").html(e),$("#juzaweb-modal").modal("show"),Bindings.bind($("#juzaweb-modal")[0],Bindings.context(document.body).variantsInventory)}})},e}()}.call(this),function(){Juzaweb.BulkVariantsUpdateInventory=function(){function e(){this.manualSet=!1,this.amount=null}return e.prototype.usingManualUpdate=function(){return $("input[name=SetInventoryQuantity]").val(this.manualSet),this.manualSet},e.prototype.useRelativeUpdate=function(){this.manualSet=!1,$("input[name=SetInventoryQuantity]").val(this.manualSet)},e.prototype.useManualUpdate=function(){this.manualSet=!0,$("input[name=SetInventoryQuantity]").val(this.manualSet)},e.prototype.newQuantity=function(e){return Juzaweb.Utility.isNumeric(this.amount)?this.manualSet?parseInt(this.amount):parseInt(e)+parseInt(this.amount):(this.amount=null,0)},e.prototype.inventoryHasChanged=function(){return""!=this.amount&&null!=this.amount&&(this.manualSet||!this.manualSet&&0!=this.amount)},e}()}.call(this),function(){Juzaweb.HoverIntent=function(e,t){$(e).hoverIntent({sensitivity:7,interval:100,timeout:100,over:function(){var e;return!(e=$(this)).hasClass("disabled")&&(e.addClass("active"),t)?e.find(t).addClass("is-visible"):void 0},out:function(){var e;return e=$(this).removeClass("active"),t&&(e=e.find(t)),e.removeClass("is-visible")}})}}.call(this),function(){Juzaweb.CustomerBubble=function(){function e(e,t){var i;this.node=e,new Juzaweb.HoverIntent(this.node,t),(i=$(this.node)).find("img").on("error",function(){return $(this).removeAttr("src")}),i.one("mouseenter",function(){return i.find("img[data-src]").each(function(e,t){var i;return(i=$(t)).attr("src",i.attr("data-src"))})})}return e.name="CustomerBubble",e}()}.call(this),function(){Juzaweb.ThemeSettingLanguage=function(){function e(){"main"==this.role&&(this.isMainTheme=!0),this.otherLanguage=!1,this.otherLanguageCustomRegion=!1,this.showFilterBar()}return e.prototype.openSettingLanguage=function(){this.changeThemeLanguageModal.show();var e=$("select[name=themeLanguage]").val();this.otherLanguage="other"==e},e.prototype.openSettingLanguageCategory=function(e){$(".filter-tab").removeClass("filter-tab-active"),$(e).addClass("filter-tab-active")},e.prototype.addSettingToFormSettingThemeLanguage=function(e){var t,i,n=$("#frmThemeSettingLanguage"),r=$("#frmThemeSettingLanguageSubmit"),s=n.find("#"+e).val(),o=n.find("#frm-setting-item-"+e);0!==o.length&&o.remove(),t=this.utf8_encode(s),i="<input type='hidden' class='frm-setting-item' name='SettingLanguages["+e+"]' value='"+(t=escape(t).replace(/\+/g,"%2B"))+"' id='frm-setting-item-"+e+"' setting-id='"+e+"'/>",$("#frmThemeSettingLanguageSubmit input").remove("#frm-setting-item-"+e),r.append($(i))},e.prototype.utf8_encode=function(e){var t,i,n,r;if(null==e)return"";var s,o,a,l=e+"",u="";for(s=o=0,a=l.length,t=0;t<a;t++){if(n=null,(i=l.charCodeAt(t))<128)o++;else if(i>127&&i<2048)n=String.fromCharCode(i>>6|192,63&i|128);else if(55296!=(63488&i))n=String.fromCharCode(i>>12|224,i>>6&63|128,63&i|128);else{if(55296!=(64512&i))throw new RangeError("Unmatched trail surrogate at "+t);if(56320!=(64512&(r=l.charCodeAt(++t))))throw new RangeError("Unmatched lead surrogate at "+(t-1));i=((1023&i)<<10)+(1023&r)+65536,n=String.fromCharCode(i>>18|240,i>>12&63|128,i>>6&63|128,63&i|128)}null!==n&&(o>s&&(u+=l.slice(s,o)),u+=n,s=o=t+1)}return o>s&&(u+=l.slice(s,a)),u},e.prototype.showFilterBar=function(){var e,t,i,n=0,r=[];if(n+=$("#filter-tab-all").width(),e=$(".filter-tab-list").width(),t=$("#dropdown-hidden-search"),$("#filter-tab-list").find(".filter-tab-item").each(function(){var t=$(this);(n+=t.width())>=e-100&&(r.push(t),n-=t.width())}),r.length>0){for(i=0;i<r.length;i++){var s=r[i],o=s.attr("data-tab-name"),a=s.attr("data-tab-category"),l=s.attr("data-tab-themeId");t.append(this.generateHiddenTabItem(l,a,o)),s.remove()}$("#hidden-search").width(e-n),$("#hidden-search").show()}},e.prototype.generateHiddenTabItem=function(e,t,i){return'<li> <a href="/admin/themes/language/'+e+"?category="+t+'" class="" bind-event-click="">'+i+"</a></li>"},e.prototype.showLanguageLabel=function(){return"other"!==$("#change-language").val()},e.prototype.submitFormSettingThemeLanguage=function(){$.ajax({url:"/admin/themes/language",type:"POST",data:$("#frmThemeSettingLanguageSubmit").serialize(),success:function(e){e.error?Juzaweb.Flash.error(e.error):Juzaweb.Flash.notice("Tùy biến ngôn ngữ giao diện thành công.")}})},e.prototype.changeThemeLanguage=function(e){var t=$(e).val();this.otherLanguage="other"==t,$("input[name=themeLanguageRegion]").val("")},e.prototype.selectRegion=function(e){var t=$(e).val();this.otherLanguageCustomRegion="custom"==t,$("input[name=themeLanguageRegion]").val("")},e}()}.call(this),function(){Juzaweb.ThemeSettingsV2=function(){function e(e,t){if(t)for(var i in t)this[i]=t[i];this.ele=e,this.changes=0,this.canUndo=!1,this.settings=[],this.changeSteps=[],this.undoing=!1,this.originValues={},this.applyPresetValues={},this.undoAll=!1,this.settingDropdowns=[],this.previewSize="desktop",this.viewportSize="desktop",this.openCurrentSection(),this.presetPreview=!1,this.initIframe(),this.initialLoad(),this.action=_.debounce(this.action,600),this.stylesheetRequests=[],this.isSaved=!1}return e.prototype.receiverMessage=function(e){var t;e.origin.toLowerCase().indexOf("juzaweb")>=0&&("requestStylesheets"===(t=JSON.parse(e.data)).message&&this.requestStylesheets(t.data),"navigate"===t.message&&this.updateIframeLocation(t.data.path))},e.prototype.requestStylesheets=function(e){var t=this;e.urls.forEach(function(e){$.ajax({url:e}).done(function(i,n){"success"===n&&t.postMessageData("stylesheetReceived",{url:e,value:i})})})},e.prototype.openCurrentSection=function(){var e=this.current_section;e>=0&&($(".theme-editor__panel").removeClass("theme-editor__panel--is-visible theme-editor__panel--is-active"),_.prepareTransition($("#panel-"+e)).addClass("theme-editor__panel--is-visible theme-editor__panel--is-active"))},e.prototype.openSection=function(e){$(".theme-editor__panel").removeClass("theme-editor__panel--is-visible theme-editor__panel--is-active"),_.prepareTransition($("#panel-"+e)).addClass("theme-editor__panel--is-visible theme-editor__panel--is-active"),this.current_section=e},e.prototype.closeSection=function(){_.prepareTransition($(".theme-editor__panel")).removeClass("theme-editor__panel--is-visible theme-editor__panel--is-active"),this.current_section=-1},e.prototype.openUploadTmpImage=function(e){var t=this.removeJQInvalidCharacter(e);$("#uploadTmpImage-"+t).click()},e.prototype.removeJQInvalidCharacter=function(e){return e.replace(/[^a-z0-9\s]/gi,"").replace(/[_\s]/g,"-")},e.prototype.saveChanges=function(){$("#btnSaveSetting, #btnRemoveSetting, #btnUndo, #save-setting-btn").addClass("disabled is-loading"),Juzaweb.Loading.start();this.id,this.current_section;var e=this;$("#frmThemeSettings").find("input[name=CurrentSection]").val(this.current_section),$.ajax({url:"/admin/themes/SaveSettingChanges",type:"POST",global:!1,data:$("#frmThemeSettings").serialize(),success:function(){$("#btnSaveSetting").addClass("disabled is-loading"),$("#btnRemoveSetting").addClass("disabled is-loading"),$("#btnUndo").addClass("disabled is-loading"),changes=0,$(".frm-setting-item").each(function(e,t){var i="setting-"+$(t).attr("setting-id").replace(/[^0-9a-zA-Z]+/g,""),n=$(t).val();$("#"+i).attr("origin-value",n),$("#"+i).attr("start-value",n)}),$(".frm-setting-item").remove(),$("#btnSaveSetting, #btnRemoveSetting, #btnUndo").removeClass("disabled is-loading"),$("#save-setting-btn").removeClass("is-loading"),e.clearState(),Juzaweb.Flash.notice("Tất cả thay đổi đã được lưu"),e.reload()},error:function(e){Juzaweb.Loading.stop(),$("#btnSaveSetting, #btnRemoveSetting, #btnUndo, #save-setting-btn").removeClass("disabled is-loading"),$("#btnRemoveSetting").removeClass("disabled is-loading"),$("#btnUndo").removeClass("disabled is-loading"),void 0!==e.responseJSON?null!==e.responseJSON.error&&""!==e.responseJSON.error&&Juzaweb.Flash.error(e.responseJSON.error.replace(/\n/g,"; ").replace(/; $/,"")):Juzaweb.Flash.error("")}})},e.prototype.uploadTmpImage=function(e){var t,i,n=this.removeJQInvalidCharacter(e),r=this.id,s=this,o=new FormData,a=$("#uploadTmpImage-"+n)[0].files.length;if(a<=0)Juzaweb.Flash.error("Không tìm thấy ảnh!");else{this.progressUploadImage.show();var l=document.getElementById("myBar"),u=1,c=setInterval(function(){u>=100?clearInterval(c):(u++,l.style.width=u+"%")},10);for(t=0;t<a;t++)i=document.getElementById("uploadTmpImage-"+n).files[t],o.append("mediaImage",i);o.append("themeId",r),o.append("settingId",e),requestUploadImage=$.ajax({type:"POST",url:"/admin/themes/createImgeTmp",data:o,contentType:!1,processData:!1,global:!1,success:function(e){e.error?alert(e.error):($("#uploadTmpImage-"+n).val(""),s.showImgTmp(e.setting_id,e.public_url))},error:function(){}})}},e.prototype.cancelRequestUploadImage=function(){requestUploadImage.abort()},e.prototype.showImgTmp=function(e,t){var i=this.removeJQInvalidCharacter(e),n=t;$("img#img-setting-"+i).attr("src",n||"//cdn.juzaweb.com/styles/images/no-image-50-50.png"),$("#setting-"+i).val(t),$("#setting-"+i).trigger("change")},e.prototype.submitFormSettingTheme=function(){Juzaweb.Loading.start(),$("#btnSaveSetting").addClass("disabled is-loading"),$("#btnRemoveSetting").addClass("disabled is-loading"),$("#btnUndo").addClass("disabled is-loading");var e=this;$.ajax({url:"/admin/themes/"+e.id+"/editor/override.json",type:"PUT",data:$("#frmThemeSettings").serialize(),global:!1,success:function(){$("#btnSaveSetting").removeClass("disabled is-loading"),$("#btnRemoveSetting").removeClass("disabled is-loading"),$("#btnUndo").removeClass("disabled is-loading"),e.reload(!1),Juzaweb.Modal.hide()}})},e.prototype.action=function(e,t,i){this.overrideThemeEditor(e,t,i)},e.prototype.overrideThemeEditor=function(e,t,i){var n,r,s,o,a;if(!this.undoing&&!this.undoAll){var l={},u=this.removeJQInvalidCharacter(e),c=null,d=null,h=null;switch(null==this.originValues[e]?(n=$("#setting-"+u).attr("start-value"),r=$("#setting-"+u).attr("origin-value"),c=l.OriginValue=r,l.SettingId=e,l.SettingType=t,l.StartValue=n,o=["collection","blog","page"],$.inArray(t,o)>-1?(s=$("#setting-"+u).attr("start-text"),l.StartText=s):l.StartText=n,this.originValues[e]=l):c=this.originValues[e].OriginValue,t){case"text":case"textarea":case"radio":case"color":d=$(i).val();break;case"collection":case"blog":case"page":case"product":case"article":d=$(i).val(),h=$("#setting-"+u).attr("setting-text");break;case"checkbox":d=$(i).is(":checked");break;case"select":case"snippet":d=$("#setting-"+u+" option:selected").val();break;case"link_list":case"font":d=$("#setting-"+u+" option:selected").val();break;case"image":d=$(i).val()}this.addSettingToFormSettingTheme(e,t,d,c),null==this.settings[e]&&(this.settings[e]=[]),this.settings[e].push(d),o=["collection","blog","page"],$.inArray(t,o)>-1&&null!=h&&""!=h&&(null==this.settingDropdowns[e]&&(this.settingDropdowns[e]=[]),this.settingDropdowns[e].push(h)),(a={}).SettingType=t,a.SettingId=e,this.changeSteps.push(a),this.canUndo=!0,"color"!==t?this.submitFormSettingTheme():0==e.indexOf("checkout_")&&this.submitFormSettingTheme()}0==this.changeSteps.length&&(this.canUndo=!1),this.undoing=!1},e.prototype.addSettingToFormSettingTheme=function(e,t,i,n){var r,s=$("#frmThemeSettings"),o=this.removeJQInvalidCharacter(e),a=s.find("#frm-setting-item-"+o);0!==a.length&&(a.remove(),this.changes--),i!==n&&(r='<input type="hidden" class="frm-setting-item" name="settings['+e+']" value="'+(null!=i?i.toString().replace(/"/g,"&quot;"):"")+'" id="frm-setting-item-'+o+'" setting-id="'+e+'" setting-type="'+t+'"/>',s.append($(r)),this.changes++,this.changes>0&&($(".btn-remove-changes").removeAttr("disabled"),$(".btn-save-changes").removeAttr("disabled"),$(".btn-remove-changes").removeClass("disabled"),$(".btn-save-changes").removeClass("disabled")))},e.prototype.utf8_encode=function(e){var t,i,n,r;if(null==e)return"";var s,o,a,l=e+"",u="";for(s=o=0,a=l.length,t=0;t<a;t++){if(n=null,(i=l.charCodeAt(t))<128)o++;else if(i>127&&i<2048)n=String.fromCharCode(i>>6|192,63&i|128);else if(55296!=(63488&i))n=String.fromCharCode(i>>12|224,i>>6&63|128,63&i|128);else{if(55296!=(64512&i))throw new RangeError("Unmatched trail surrogate at "+t);if(56320!=(64512&(r=l.charCodeAt(++t))))throw new RangeError("Unmatched lead surrogate at "+(t-1));i=((1023&i)<<10)+(1023&r)+65536,n=String.fromCharCode(i>>18|240,i>>12&63|128,i>>6&63|128,63&i|128)}null!==n&&(o>s&&(u+=l.slice(s,o)),u+=n,s=o=t+1)}return o>s&&(u+=l.slice(s,a)),u},e.prototype.changeSettingValue=function(e,t,i,n,r){this.setSettingValue(t,e,i,r),this.addSettingToFormSettingTheme(e,t,i,n)},e.prototype.setSettingValue=function(e,t,i,n){var r,s,o=this.removeJQInvalidCharacter(t);switch(e){case"text":case"textarea":$("#setting-"+o).val(i);break;case"color":$("#setting-"+o).spectrum("set",i);break;case"collection":case"blog":case"page":$("#setting-"+o).val(i),$("#setting-"+o).attr("setting-text",n),$("input.choosed-single-setting-"+o).val(i),$("span.choosed-single-setting-"+o).html(n);break;case"radio":for(r=$(".theme-editor__settings__radio input[id=setting-"+o+"]").each(function(){$(this)}),s=0;s<r.length;s++)$(r[s]).val()==i&&$(r[s]).prop("checked",!0);break;case"checkbox":"true"===i||"True"===i?$("#setting-"+o).iCheck("check"):$("#setting-"+o).iCheck("uncheck");break;case"select":case"font":case"link_list":case"snippet":$("#setting-"+o).val(i);break;case"image":$("#setting-"+o).val(i),this.showImgTmp(t,i)}},e.prototype.undo=function(){var e,t,i,n;this.undoing=!0;var r=this.changeSteps.length,s=this.changeSteps[r-1].SettingId,o=this.changeSteps[r-1].SettingType;this.removeJQInvalidCharacter(s);if("clearChanges"==o)return this.undoAfterClearChanges();if("applyPreset"==o)return this.undoAfterApplyPreset();var a=this.originValues[s].OriginValue,l=this.originValues[s].StartValue,u=this.originValues[s].StartText;switch(this.settings[s].splice(-1,1),e=["collection","blog","page"],$.inArray(o,e)>-1&&this.settingDropdowns[s].splice(-1,1),0==(t=this.settings[s].length)?(i=l,n=u):(i=this.settings[s][t-1],n=$.inArray(o,e)>-1?this.settingDropdowns[s][t-1]:""),this.setSettingValue(o,s,i,n),this.addSettingToFormSettingTheme(s,o,i,a),this.changeSteps.splice(-1,1),0==this.changeSteps.length&&(this.canUndo=!1),this.submitFormSettingTheme(),o){case"radio":case"checkbox":case"color":this.undoing=!1;break;default:this.undoing=!1}},e.prototype.undoAfterApplyPreset=function(){var e=this;this.undoAll=!0,$.each(this.applyPresetValues,function(){var t,i,n=this.SettingId,r=this.SettingType,s=this.OriginValue,o=this.StartValue;e.settings[n].splice(-1,1),null!=e.settingDropdowns[n]&&e.settingDropdowns[n].length>0&&e.settingDropdowns[n].splice(-1,1),0==(t=e.settings[n].length)?(i=o,startText):(i=e.settings[n][t-1],e.settingDropdowns[n][t-1]),e.changeSettingValue(n,r,i,s)}),this.changeSteps.splice(-1,1),0==this.changeSteps.length&&(this.canUndo=!1),this.submitFormSettingTheme(),this.undoAll=!1},e.prototype.undoAfterClearChanges=function(){var e=this;this.undoAll=!0,$.each(this.originValues,function(){var t=this.SettingId,i=this.SettingType,n=this.OriginValue,r=e.originValues[t].StartText;e.settings[t].splice(-1,1),null!=e.settingDropdowns[t]&&e.settingDropdowns[t].length>0&&e.settingDropdowns[t].splice(-1,1);var s=e.settings[t].length,o=null,a=null;0==s?(o=this.originValues[t].StartValue,a=r):(o=e.settings[t][s-1],a=null!=e.settingDropdowns[t]?e.settingDropdowns[t][s-1]:r),e.changeSettingValue(t,i,o,n,a)}),this.changeSteps.splice(-1,1),0==this.changeSteps.length&&(this.canUndo=!1),this.submitFormSettingTheme(),this.undoAll=!1},e.prototype.clearChanges=function(){var e,t,i,n;for(this.undoAll=!0,e=this,t=$("#frmThemeSettings").find(".frm-setting-item"),i=0;i<t.length;i++){var r=t[i],s=$(r).attr("setting-id"),o=$(r).attr("setting-type");if(null!=e.originValues[s])var a=e.originValues[s].OriginValue,l=e.originValues[s].StartValue,u=this.originValues[s].StartText;else{var c=this.removeJQInvalidCharacter(s),d={};a=d.OriginValue=$("#setting-"+c).attr("origin-value"),l=$("#setting-"+c).attr("start-value"),u=$("#setting-"+c).attr("start-text");d.SettingId=s,d.SettingType=o,d.StartValue=l,e.originValues[s]=d}e.changeSettingValue(s,o,l,a,u),this.settings[s].push(a),n=["collection","blog","page"],$.inArray(o,n)>-1&&null!=u&&""!=u&&(null==this.settingDropdowns[s]&&(this.settingDropdowns[s]=[]),this.settingDropdowns[s].push(u))}this.clearState(),this.submitFormSettingTheme()},e.prototype.clearState=function(){var e,t,i;for(this.changeSteps=[],this.presetPreview=!1,this.undoAll=!1,this.canUndo=!1,this.changes=0,this.originValues={},e=$("#frmThemeSettings").find(".frm-setting-item"),t=0;t<e.length;t++)i=e[t],$(i).remove();Bindings.refreshImmediately()},e.prototype.changeColor=function(e){var t="#setting-"+this.removeJQInvalidCharacter(e);this.postMessageData("changeColor",{key:$(t).data("color-setting"),value:t.value})},e.prototype.postMessageData=function(e,t){var i=JSON.stringify({message:e,data:t});if(null!=this.iframe&&null!=this.iframe.contentWindow)return this.iframe.contentWindow.postMessage(i,window.location),null!=t?t.callbackId:void 0},e.prototype.showClearChangesModal=function(){this.clearChangesModal.show()},e.prototype.showDeletePresetModal=function(e){this.deletePresetModal.show(),$("#delete-preset").val(e),$("#frm-delete-preset").find(".preset-name").html(e)},e.prototype.deletePreset=function(){var e=$("#frm-delete-preset").find("input[name=preset]").val();$.ajax({url:"/admin/themes/deletepreset",type:"POST",data:$("#frm-delete-preset").serialize(),success:function(){$("#presets-list ul").find("#preset-"+e).remove(),0==$("#presets-list ul li").length&&$("#presets-list").removeClass("theme-editor__card"),Juzaweb.Modal.hide(),Juzaweb.Flash.notice("Xóa thiết lập mẫu thành công!")}})},e.prototype.saveCurrentPreset=function(){this.saveCurrentPresetModal.show()},e.prototype.saveCurrentSettingBeforeApplyPreset=function(e,t){var i=$(".btn-remove-changes").attr("disabled"),n=$(".btn-save-changes").attr("disabled");"disabled"!=i&&"disabled"!=n?(this.applyPresetModal.show(),$("#apply-preset").val(t)):this.applyPreset(e,t)},e.prototype.applyPresetWithoutSaving=function(e){var t=$("#apply-preset").val();this.applyPreset(e,t)},e.prototype.applyPreset=function(e,t){$("#frmThemeSettings").find("input[name=CurrentSection]").val(this.current_section),Juzaweb.Loading.start(),this.undoAll=!0;var i=this;$.ajax({url:"/admin/themes/ApplyPreset",type:"POST",global:!1,data:{preset:t,themeId:e},success:function(e){for(var t,n,r,s=0;s<e.length;s++){var o=e[s].setting_id,a=i.removeJQInvalidCharacter(o),l=$("#setting-"+a).attr("setting-type"),u=$("#setting-"+a).attr("origin-value"),c=$("#setting-"+a).attr("start-value"),d=e[s].value,h=d;i.changeSettingValue(o,l,d,u,d),null==i.settings[o]&&(i.settings[o]=[]),i.settings[o].push(d),t=["collection","blog","page"],$.inArray(l,t)>-1&&null!=h&&""!=h&&(null==i.settingDropdowns[o]&&(i.settingDropdowns[o]=[]),i.settingDropdowns[o].push(h)),(n={}).OriginValue=u,n.SettingId=o,n.SettingType=l,n.StartValue=c,i.applyPresetValues[o]=n}i.undoAll=!1,(r={}).SettingType="applyPreset",r.SettingId="",i.changeSteps.push(r),Juzaweb.Loading.stop(),i.submitFormSettingTheme(),i.presetPreview=!0}})},e.prototype.changeThemePreviewMode=function(e){var t=$(e).attr("data-preview");this.previewSize=t,this.viewportSize=t,$(document).find("#theme-editor").removeClass("theme-editor--fullscreen"),$(document).find(".theme-editor__iframe-wrapper").attr("data-preview-window",t)},e.prototype.previewThemeFullScreen=function(){$(document).find("#theme-editor").addClass("theme-editor--fullscreen"),this.viewportSize="fullscreen"},e.prototype.showPreset=function(){_.prepareTransition($("#presets-panel")).addClass("theme-editor__panel--is-visible theme-editor__panel--is-active")},e.prototype.closePreset=function(){this.changes>0&&this.clearChanges(),$("#presets-list ul li button").removeClass("is-selected"),$("#applyPreset").prop("disabled",!0),_.prepareTransition($("#presets-panel")).removeClass("theme-editor__panel--is-visible theme-editor__panel--is-active")},e.prototype.openclearPresetModal=function(){this.clearPresetModal.show()},e.prototype.clearPresetApply=function(){Juzaweb.Utility.loadAjax(window.location.href,"#theme-editor-sidebar",function(){Juzaweb.Flash.notice(""),that.reload()})},e.prototype.previewPreset=function(e,t,i){$("#presets-list ul li button").removeClass("is-selected"),$("#apply-preset").val(i),$(e).addClass("is-selected"),this.applyPreset(t,i)},e.prototype.confirmApplyPreset=function(){this.saveChanges(),$("#applyPreset").addClass("disabled is-loading")},e.prototype.initIframe=function(){Juzaweb.Loading.start(),this.iframe=document.getElementById("theme-editor-iframe")},e.prototype.initialLoad=function(){var e=this;this.iframe.onload=function(){e.postMessageData("reloadedIframe",""),Juzaweb.Loading.stop()}},e.prototype.loadIframe=function(e){var t=this;e.onload=function(){if(null!=t.iframeForReload){t.syncScrollPosition(t.iframe,t.iframeForReload);var e=t.iframe;t.iframe=t.iframeForReload,t.iframeForReload=null,t.removeIframe(e),t.postMessageData("reloadedIframe",""),Juzaweb.Loading.stop()}}},e.prototype.reload=function(e){(null==e||1==e)&&Juzaweb.Loading.start(),this.isReloading=!0,null!=this.iframeForReload&&this.removeIframe(this.iframeForReload),this.iframeForReload=this.cloneIframe(this.iframe),this.loadIframe(this.iframeForReload)},e.prototype.cloneIframe=function(e){var t;return(t=e.cloneNode(!1)).removeAttribute("src"),e.parentNode.appendChild(t),Twine.bind(t),t},e.prototype.removeIframe=function(e){Twine.unbind(e),e.onload=null,$(e).slideUp({duration:1e3,queue:!1}).fadeOut({duration:10,queue:!1}).promise().done(function(){e.parentNode.removeChild(e)})},e.prototype.syncScrollPosition=function(e,t){var i;i=e.contentWindow.scrollY,t.contentWindow.scrollBy(0,i)},e.prototype.currentLocation=function(){var e,t,i;return i=this.iframe.getAttribute("data-src"),"/"===location.hash.charAt(1)?(e=location.hash.substr(1),t=i.slice(i.indexOf("/?")+1),location.protocol+"//"+location.host+e+t):i},e.prototype.updateIframeLocation=function(e){var t;return t=location.protocol+"//"+location.host+location.pathname+location.search,"/"!==e&&(t+="#"+e),window.history.replaceState({path:e},"",t)},e}()}.call(this),function(){Juzaweb.ThemeEditorPreviewV2=function(){function e(){}return e.prototype.previewThemeFullScreen=function(){var e=$(document).find("#theme-editor");e.hasClass("theme-editor--fullscreen")?e.removeClass("theme-editor--fullscreen"):e.addClass("theme-editor--fullscreen")},e}()}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};Juzaweb.SingleSelectRemoteSourceAutocomplete=function(){function t(t,i){var n,r;if(this.closePopover=e(this.closePopover,this),this.element=t,null!=i)for(n in i)this[n]=i[n];this.allItems=[],this.suggestItems=[],this.initSelectItems(),$("body").on("click",this.closePopover),r=this,$(t).focusout(function(e){r.closePopover(e)})}return t.prototype.initSelectItems=function(){var e,t,i,n=$(this.element).find(".next-list__item");if(this.allItems.length<=0)for(e=0;e<n.length;e++)t=n[e],i=$(t).attr("item-value"),this.allItems.push(i);this.suggestItems=this.allItems,this.showSelected()},t.prototype.suggest=function(e,t){var i,n,r;if(this.suggestItems=[],i=$(this.element).find(".next-list--toggles"),$(i).empty(),0==$.trim(e).length||1==t)this.suggestItems=this.allItems;else for(n=0;n<this.allItems.length;n++)(r=this.allItems[n]).toLowerCase().search(e.toLowerCase())>-1&&this.suggestItems.push(r);this.showSuggestItems(e,t),$(this.element).find(".next-popover").addClass("next-popover--is-active"),$(this.element).find(".next-popover").addClass("next-popover--is-positioned-beneath")},t.prototype.showSuggestItems=function(e){var t,i,n,r,s,o=this,a=$(this.element).find(".next-list--toggles"),l=this.getSuggestNewItem(-1,e),u=$(l);for(a.append(u),Bindings.bind(u[0],o),t=!1,i=0;i<this.suggestItems.length;i++)(n=this.suggestItems[i])==e&&(t=!0),r=o.getSuggestItem(i,n),s=$(r),a.append(s),Bindings.bind(s[0],o);t&&u.remove(),0==$.trim(e).length&&u.remove(),this.showSelected()},t.prototype.getSuggestNewItem=function(e,t){return""},t.prototype.getSuggestItem=function(e,t){return'<li><a bind-event-click="selectSuggestion(this)" class="next-list__item" item-value="'+htmlEscape(t)+'"><div class="next-grid next-grid--no-outside-padding next-grid--compact"><div class="next-grid__cell next-grid__cell--no-flex"><i class="gi pull-left gi-ok next-icon next-icon--12"></i></div><div class="next-grid__cell">'+htmlEscape(t)+"</div></div></a></li>"},t.prototype.inputChanged=function(e){if(13!=e.keyCode){var t=$(this.element).find(".next-field--connected").val();this.suggest(t,!1)}},t.prototype.showSelected=function(){var e,t,i,n;for($(".next-list__item").removeClass("next-list__item--is-applied"),$(".next-list__item").removeClass("next-list__item--is-selected"),e=$(this.element).find(".next-list__item"),t=$(this.element).find(".next-field--connected").val(),i=0;i<e.length;i++)n=e[i],$(n).attr("item-value")==t&&($(n).addClass("next-list__item--is-applied"),$(n).addClass("next-list__item--is-selected"))},t.prototype.selectInputValue=function(e){if(13==e.keyCode){var t=$(this.element).find(".next-field--connected").val();this.selectValue(t)}},t.prototype.selectSuggestion=function(e){var t=$(e).attr("item-value");this.selectValue(htmlUnescape(t))},t.prototype.selectValue=function(e){$(this.element).find(".next-field--connected").val(e),$(".next-popover").removeClass("next-popover--is-active"),$(".next-popover").removeClass("next-popover--is-positioned-beneath"),this.showSelected()},t.prototype.togglePopover=function(){var e;this.showSelected(),$(".next-popover-"+this.type).hasClass("next-popover--is-active")?($(".next-popover").removeClass("next-popover--is-active"),$(".next-popover").removeClass("next-popover--is-positioned-beneath")):(e=$(this.element).find(".next-field--connected").val(),this.suggest(e,!0))},t.prototype.closePopover=function(e){var t=$(e.target).attr("id"),i=this.type;t!="btn-toggle-popover-"+this.type&&t!="fa-toggle-"+this.type&&t!=i&&($(".next-popover-"+i).removeClass("next-popover--is-active"),$(".next-popover-"+i).removeClass("next-popover--is-positioned-beneath"))},t}()}.call(this),function(){Juzaweb.AddSavedSearch=function(){function e(){this.id=null,this.name=null}return e.prototype.showCreateSavedSearch=function(){$("#div-update-saved-search").hide(),$("#div-create-saved-search").show()},e.prototype.showUpdateSavedSearch=function(){$("#div-create-saved-search").hide(),$("#div-update-saved-search").show()},e.prototype.submitForm=function(){if(0==$("#create-saved-search").length||$("#create-saved-search").prop("checked"))$("input[name=Name]").val(),$("#savedSearchSave").addClass("disabled").addClass("is-loading"),$("#frm-saved-search").submit();else{if($("#override-saved-search").val()<=0)return Juzaweb.Flash.error("Chọn kết quả tìm kiếm lưu đè"),!1;$(".btn-add").addClass("disabled").html(Juzaweb.LOADING),$("#frm-saved-search").submit()}},e}()}.call(this),function(){var e=function(e,t){var i,n,r,s,o,a=new URI(t);if(null==t&&(t=""),i=(o=a.segment()).slice(0,e.length),Common.difference(e,i).length>0)for(n=r=0;r<e.length;n=++r)s=e[n],(o=a.segment()).splice(n,0,s),a.segment(o);return a},t=function(e){var t;return"/"!==(t=e.path()+e.search()+e.hash())[0]&&(t="/"+t),t};Juzaweb.Path={admin:function(i){return t(e(["admin"],i))},app:function(i,n){return t(e(["admin","apps",i],n))}}}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};Juzaweb.MultipleDropdown=function(){function t(t,i){if(this.checkFocus=e(this.checkFocus,this),$(document).on("click",this.checkFocus),null!=i)for(var n in i)this[n]=i[n];null!=i.type&&(this.Type=i.type),this.element=t,this.timer=null,this.request=null,this.isLoaded=!1}return t.prototype.checkFocus=function(e){var t=$(e.target);0==t.closest(".dropdown").length&&t.find(".dropdown-toggle").length>0&&this.hideDropdown()},t.prototype.dropdown=function(){var e=this;this.isLoaded?$(this.element).find(".dropdown").hasClass("is-visible")?$(this.element).find(".dropdown").removeClass("is-visible"):$(this.element).find(".dropdown").addClass("is-visible"):$.ajax({type:"GET",url:_urlMultipleMappings[this.Type],success:function(t){e.isLoaded=!0,$(e.element).append(t),Bindings.bind($(e.element).find(".dropdown").get(0),e)},error:function(){},complete:function(){$(e.element).find(".dropdown").hasClass("is-visible")?$(e.element).find(".dropdown").removeClass("is-visible"):$(e.element).find(".dropdown").addClass("is-visible")}})},t.prototype.suggest=function(){var e=this,t=$(this.element).find(".query").val(),i=_urlMultipleSuggestMappings[this.Type]+"query="+t;this.page=1,null!=this.timer&&clearTimeout(this.timer),this.timer=setTimeout(function(){null!=this.request&&this.request.abort(),this.request=$.ajax({url:i,type:"GET",success:function(t){$(e.element).find(".multiple-suggest-result").html(t),Bindings.bind($(e.element).find(".dropdown").get(0),e)}})},1e3)},t.prototype.hideDropdown=function(){$(this.element).find(".dropdown").hasClass("is-visible")&&$(this.element).find(".dropdown").removeClass("is-visible")},t.prototype.next=function(){var e=$(this.element).find(".query").val(),t=_urlMultipleSuggestMappings[this.Type]+"query="+e;this.page=this.page+1,this.next_page=t+"&page="+this.page,this.loadUrl(this.next_page)},t.prototype.prev=function(){var e=$(this.element).find(".query").val(),t=_urlMultipleSuggestMappings[this.Type]+"query="+e;this.page=this.page-1,this.prev_page=t+"&page="+this.page,this.loadUrl(this.prev_page)},t.prototype.loadUrl=function(e){var t=this;$.ajax({url:e,success:function(e){$(t.element).find(".multiple-suggest-result").html(e),Bindings.bind($(t.element).find(".dropdown").get(0),t)}})},t}()}.call(this),function(){Juzaweb.CollectionMultipleDropdown=function(){function e(t,i){e.base.constructor.call(this,t,i)}return extend(Juzaweb.MultipleDropdown,e),e.prototype.toggle=function(e,t,i){var n,r;$(".list-collection table tr[collection-id='"+e+"']").length>0?this.removeCollection(e):(r='<tr collection-id="'+e+'"><td class="pl-none"><img src="'+(""!=(n=Juzaweb.Utility.getThumb(i,"thumb"))?n:"//juzaweb.dktcdn.net/assets/admin/images/no-image-50-50.png")+'" class="'+(""!=n?"":"image-is-blank")+'"/></td><td><a href="/admin/collections/'+e+'">'+t+'</a></td><td class="pr-none" style="width: 80px; text-align:right;"><a bind-event-click="removeCollection('+e+')" href="javascript:void(0)"><i class="gi gi-remove"></i></a><input type="hidden" name="collectionId" value="'+e+'"/></td></tr>',$(".list-collection table tbody").append(r),Bindings.bind($(".list-collection")[0]),$(".collection-select[collection-id='"+e+"']").addClass("added-ico")),$(".list-collection").find("table tr").length>0?$(".no-colection-found").hide():$(".no-colection-found").show()},e.prototype.removeCollection=function(e){$(".list-collection table tr[collection-id='"+e+"']").remove(),$(".collection-select[collection-id='"+e+"']").removeClass("added-ico"),$(".list-collection").find("table tr").length>0?$(".no-colection-found").hide():$(".no-colection-found").show()},e}()}.call(this),function(){Juzaweb.ProductMultipleDropdown=function(){function e(t,i){e.base.constructor.call(this,t,i)}return extend(Juzaweb.MultipleDropdown,e),e.prototype.existProductId=function(e){return this.product_ids.indexOf(e)>-1},e.prototype.toggle=function(e,t,i){var n,r=this,s=this.collectionId,o=$(".list-product table tr").length,a=$(".sort-products-context").attr("product-limit");this.product_ids.indexOf(e)>-1?(n=$(".list-product table tr[product-id='"+e+"']").attr("collect-id"),r.deleteProduct(n,s,e)):($("#frmAddProduct input[name='productId']").val(e),$("#frmAddProduct input[name='collectionId']").val(s),$.ajax({url:"/admin/collections/AddProduct",type:"POST",data:$("#frmAddProduct").serialize(),success:function(n){var l,u,c;r.product_ids.push(e),o<a?(l=r.generateAddedProductItem(s,e,t,i,n.id,n.position),$(".list-product table tbody").append(l),u=$(".list-product table tr[product-id='"+e+"']"),"manual"==$("select[name=SortOrder]").val()&&(c=u.attr("product-position"),u.prepend(r.enableDragProduct(c))),Bindings.bind(u.get(0),Bindings.context(document.body).editCollection.sortProducts)):$(".btn-next").removeClass("disabled"),$(".product-dropdown .product-suggest-result li[product-id='"+e+"']").addClass("added-ico"),$(".no-product-found").hide(),Juzaweb.Flash.notice("Cập nhật danh mục thành công")}}))},e.prototype.deleteProduct=function(e,t,i){Bindings.context(document.body).editCollection.sortProducts.removeProduct(e,t,i);var n=this.product_ids.indexOf(i);n>=0&&this.product_ids.splice(n,1)},e.prototype.generateAddedProductItem=function(e,t,i,n,r,s){$(".sort-products-context").attr("product-limit");var o="//juzaweb.dktcdn.net/assets/admin/images/no-image-50-50.png";return""!=n&&(o=Juzaweb.Utility.getThumb(n,"thumb")),'<tr product-id="'+t+'" class="product-item product-image" product-position="'+s+'" id="collect-'+r+'" collect-id ="'+r+'" ><td class="pl-none"><img src="'+o+'" class="'+(""!=n?"":"image-is-blank")+'" /></td><td class=""><a href="/admin/products/'+t+'">'+i+'</a></td><td class="pr-none"><a bind-event-click="removeProduct('+r+","+e+","+t+')" href="javascript:void(0)" id="remove-collect-'+r+'"><i class="gi gi-remove"></i></a><input type="hidden" name="productIds" value="'+t+'" /></td></tr>'},e.prototype.generateInputProduct=function(e,t){return'<input type="hidden" name="productIds" value="'+e+'" product-id="'+e+'" collect-id="'+t+'" />'},e.prototype.enableDragProduct=function(e){return'<td class="pl-none"><span class="col-sm-3 dragable-product-item"> <input type="hidden" class="product-option-sort" name="product.sort" value="'+e+'"/><i class="ico-drag-handle"></i></span></td>'},e}()}.call(this),function(){Juzaweb.CustomersImportAndExport=function(){function e(e,t){if(null!=t)for(var i in t)this[i]=t[i];this.element=e}return e.prototype.showExportCustomers=function(){this.exportCustomersModal.show();var e=$("#frmFilter"),t=$("#form-export-customers"),i=$("#frmBulkActions"),n=this.copyFromFormToAnother(e,t);this.copyOnlyInputNameFromFormToAnother(i,t,"ids")<=0&&$("#exportCustomersType-selected-customers").attr("disabled","disabled"),$("#customers-match-current-search").html(this.customers_match_current_search+" "),n<1&&$("#exportCustomersType-current-search").attr("disabled","disabled")},e.prototype.exportCustomers=function(){var e=this,t=$("#form-export-customers");$.ajax({url:"/admin/customers/Export",type:"POST",data:t.serialize(),success:function(t){null==t.error?(Juzaweb.Flash.notice(t.success),e.exportCustomersModal.hide()):Juzaweb.Flash.error(t.error)}})},e.prototype.copyFromFormToAnother=function(e,t){var i=0;return $(":input[name]",e).each(function(){$(this).val()&&($("[name="+$(this).attr("name")+"]",t).val($(this).val()),i++)}),i},e.prototype.copyOnlyInputNameFromFormToAnother=function(e,t,i){var n=0;return $(":input[name]",e).each(function(){if($(this).attr("name")==i){var e=$(this).attr("value");t.append("<input type='hidden' name='"+i+"' value='"+e+"' />"),n++}}),n},e.prototype.enableButtonImport=function(){var e=$("#importCustomersFileUpload").val();null!=e&&""!=e?$(".btn-import-customers").prop("disabled",!1):$(".btn-import-customers").prop("disabled",!0)},e.prototype.openFileImportCustomers=function(){this.importCustomersModal.show(),$("#importCustomersFileUpload").val("")},e.prototype.importCustomers=function(){$("#form-import-customers").submit()},e}()}.call(this),function(){Juzaweb.SaleChannel=function(){function e(e,t){if(null!=t)for(var i in t)this[i]=t[i];this.element=e}return e.prototype.remove=function(e){var t=this;$(".btn-add-channel").addClass("disabled").html(Juzaweb.LOADING),Juzaweb.Loading.start(),$.ajax({url:Juzaweb.routes.channels+"/remove/"+e,type:"POST",global:!1,success:function(){window.location.reload()},error:function(e){$(".btn-add-channel").removeClass("disabled").html("Thêm mới "+t.name),Juzaweb.Flash.error(e.responseJSON.error.replace(/\n/g,"; ").replace(/; $/,"")),Juzaweb.Loading.stop()}})},e}()}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};Juzaweb.KeyboardSelector=function(){function t(t,i){this._keypressHandler=e(this._keypressHandler,this),this.cssClass=i,$(t).on("keydown",this._keypressHandler)}var i;return t.name="KeyboardSelector",i={enter:13,up:38,down:40},t.prototype.bind=function(e,t){return this.selectedIndex=null,this.$lastSelectedNode=null,this.children=$(e).find(t).toArray(),this},t.prototype._keypressHandler=function(e){switch(e.which){case i.enter:this._selectOption();break;case i.up:this._focusPreviousOption();break;case i.down:this._focusNextOption();break;default:return!0}return!1},t.prototype._selectOption=function(){var e;if(null!=(e=this.$lastSelectedNode))return e.trigger("click")},t.prototype._focusPreviousOption=function(){if(null!=this.children)return this.focusOption(this.$lastSelectedNode&&0!==this.selectedIndex?this.selectedIndex-1:this.children.length-1)},t.prototype._focusNextOption=function(){if(null!=this.children)return this.focusOption(this.$lastSelectedNode&&this.selectedIndex!==this.children.length-1?this.selectedIndex+1:0)},t.prototype.focusOption=function(e){var t;return null!=(t=this.$lastSelectedNode)&&t.removeClass(this.cssClass),this.selectedIndex=e,this.$lastSelectedNode=$(this.children[this.selectedIndex]),this.$lastSelectedNode.addClass(this.cssClass)},t}()}.call(this),function(){var e=[].slice;Juzaweb.dedupedXHR=function(t,i){var n,r;return null==i&&(i=null),n=null,r=null,function(){var s,o;return s=1<=arguments.length?e.call(arguments,0):[],"pending"===(null!=n?n.state():void 0)&&n.abort(),null!=i?(o=this,clearTimeout(r),r=setTimeout(function(){return n=t.apply(o,s)},i)):n=t.apply(this,s)}}}.call(this),function(){Juzaweb.Partial=function(){function e(e,t,i){this.node=e,this.partial_container_id=t,this.options=null!=i?i:{replace:!1},this.$container=$("#"+this.partial_container_id)}return e.name="Partial",e.prototype.loadPartial=function(e){var t;return null==e&&(e=Bindings.context(this.node)),t=this.node.getAttribute("href"),this.fetchHTML(t,e)},e.prototype.fetchHTML=function(e,t){var i,n=this;return(i=$.ajax({dataType:"html",url:e})).done(function(e){return n.show(e,t)}),i.fail(Juzaweb.handleError)},e.prototype.show=function(e,t){var i;return i=$(e),this.$container=this.options.replace?this.$container.html(i):this.$container.append(i),Bindings.bind(this.$container.children().last()[0],t).refreshImmediately()},e}()}.call(this),function(){var e={}.hasOwnProperty,t=function(t,i){function n(){this.constructor=t}for(var r in i)e.call(i,r)&&(t[r]=i[r]);return n.prototype=i.prototype,t.prototype=new n,t.__super__=i.prototype,t};Juzaweb.ResourceDropdown=function(e){function i(e,t,i){this.node=e,this.partial_container_id=t,this.options=null!=i?i:{replace:!1},this.$node=$(e),this.$container=$("#"+this.partial_container_id),this.initialized=!1,this.submitQuery=_.debounce(Juzaweb.dedupedXHR(this.submitQuery),300)}return t(i,e),i.name="ResourceDropdown",i.prototype.renderDropdown=function(){if(!this.initialized)return this.loadPartial(),this.initialized=!0},i.prototype.focus=function(){return this.$node.focus()},i.prototype.submitQuery=function(e,t,i){var n;return e||(e=this.$node.attr("href")),e+=e.indexOf("?",0)>=0?"&":"?",e+="query="+t,(n=$.ajax({dataType:"html",url:e})).done(function(e,t,n){return Page.refresh({response:n,onlyKeys:i})}),n.fail(Juzaweb.handleError),Bindings.refresh(),n},i}(Juzaweb.Partial)}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},t={}.hasOwnProperty,i=function(e,i){function n(){this.constructor=e}for(var r in i)t.call(i,r)&&(e[r]=i[r]);return n.prototype=i.prototype,e.prototype=new n,e.__super__=i.prototype,e};Juzaweb.SearchDropdown=function(t){function n(t,i,r,s,o,a,l){this.refreshKeys=s,this.clearSearchQuery=e(this.clearSearchQuery,this),n.__super__.constructor.call(this,t,i,o),this.query="",$("#"+r).on("dropdown:hide",this.clearSearchQuery),l&&(this.renderDropdown(),$("#"+r).trigger("focus"))}return i(n,t),n.name=name,n.prototype.clearSearchQuery=function(){if(this.query.length)return this.query="",this.submitQuery()},n.prototype.submitQuery=function(e){var t=this;return Bindings.unbind(this.$container[0]),n.__super__.submitQuery.call(this,"string"==typeof e?e:null,this.query,this.refreshKeys).done(function(){return Bindings.bind(t.$container[0]),""!==t.query&&null!=e?e.focusOption(0):void 0})},n.prototype.fetchHTML=function(){var e=this;return Bindings.unbind(this.$container[0]),n.__super__.fetchHTML.apply(this,arguments).done(function(){return Bindings.bind(e.$container[0])})},n}(Juzaweb.ResourceDropdown)}.call(this),function(){Juzaweb.Promotion={newArr:function(e){for(var t=[],i=0;i<e;i++)t.push(0);return t},arrayNullOrEmpty:function(e){return!e||!e.length},matchProducts:function(e,t,i){for(var n=0;n<e.length;n++){var r=e[n],s=r.indexOf(":")<0&&r==t,o=r.indexOf(":")>=0&&r==":"+i;if(s||o)return!0}return!1},matchCollections:function(e,t){var i,n,r;if(!this.arrayNullOrEmpty(t))for(i=0;i<e.length;i++)for(n=e[i],r=0;r<t.length;r++)if(n==t[r])return!0;return!1},mapPriceRuleDomainToEvaluationPromotionModel:function(e){var t={title:"",discount_type:"percentage",percentage_value:0,amount_value:0,fixed_price_value:0,has_promotion_product_cond:!1,promotion_product_cond_type:"quantity",minimum_promotion_product_quantity:0,minimum_promotion_product_total_price:0,applies_to:"all",collection_ids:[],product_ids:[]};return this.arrayNullOrEmpty(e.promotions)||(t.title=e.promotions[0].title),"line_item"==e.target_type&&"percentage"==e.value_type?(t.discount_type="percentage",t.percentage_value=Math.abs(e.value)):"line_item"==e.target_type&&"fixed_amount"==e.value_type?(t.discount_type="amount",t.amount_value=Math.abs(e.value)):"line_item"==e.target_type&&"fixed_price"==e.value_type&&(t.discount_type="fixed_price",t.fixed_price_value=Math.abs(e.value)),"entitled"==e.target_selection?this.arrayNullOrEmpty(e.entitled_product_ids)&&this.arrayNullOrEmpty(e.entitled_variant_ids)?this.arrayNullOrEmpty(e.entitled_collection_ids)||(t.applies_to="collections",t.collection_ids=e.entitled_collection_ids):(t.applies_to="products",t.product_ids=[],this.arrayNullOrEmpty(e.entitled_product_ids)||(t.product_ids=t.product_ids.concat(e.entitled_product_ids.map(function(e){return e+""}))),this.arrayNullOrEmpty(e.entitled_variant_ids)||(t.product_ids=t.product_ids.concat(e.entitled_variant_ids.map(function(e){return":"+e})))):t.applies_to="all",e.prerequisite_subtotal_range&&e.prerequisite_subtotal_range.greater_than_or_equal_to?(t.has_promotion_product_cond=!0,t.promotion_product_cond_type="total_price",t.minimum_promotion_product_total_price=e.prerequisite_subtotal_range.greater_than_or_equal_to):e.prerequisite_quantity_range&&e.prerequisite_quantity_range.greater_than_or_equal_to?(t.has_promotion_product_cond=!0,t.promotion_product_cond_type="quantity",t.minimum_promotion_product_quantity=e.prerequisite_quantity_range.greater_than_or_equal_to):t.has_promotion_product_cond=!1,t},evalPromotions:function(e,t){for(var i,n,r,s,o,a,l,u,c,d,h,p=e.length,f=t.length,m=[],g=0;g<p;g++)m.push(this.newArr(f));for(i=this.newArr(f),l=0;l<p;l++){var v,y=(v=e[l]).has_promotion_product_cond&&"quantity"==v.promotion_product_cond_type,_=v.has_promotion_product_cond&&"total_price"==v.promotion_product_cond_type,b=0,w=0;for(u=0;u<f;u++)(d=t[u]).id&&(r="all"==v.applies_to||"products"==v.applies_to&&this.matchProducts(v.product_ids,d.product_id,d.variant_id)||"collections"==v.applies_to&&this.matchCollections(v.collection_ids,d.collections),y&&r&&(b+=d.quantity),_&&r&&(w+=d.price*d.quantity));for(n=!v.has_promotion_product_cond||y&&b>=v.minimum_promotion_product_quantity||_&&w>=v.minimum_promotion_product_total_price,u=0;u<f;u++)(d=t[u]).id&&(r="all"==v.applies_to||"products"==v.applies_to&&this.matchProducts(v.product_ids,d.product_id,d.variant_id)||"collections"==v.applies_to&&this.matchCollections(v.collection_ids,d.collections),n&&r?(s=0,"percentage"==v.discount_type?s=d.price*v.percentage_value/100:"amount"==v.discount_type?s=v.amount_value:"fixed_price"==v.discount_type&&(s=d.price-v.fixed_price_value),m[l][u]=s>0?s:0):m[l][u]=-1)}for(u=0;u<f;u++)if((d=t[u]).id)if(d.is_discount&&(!d.applied_discount||!d.applied_discount.description||!d.applied_discount.description.startsWith("CTKM")))i[u]=-1;else{for(o=-1,a=-1,l=0;l<p;l++)m[l][u]>o&&(o=m[l][u],a=l);i[u]=a}for(u=0;u<f;u++)c=i[u],(d=t[u]).id&&(-1!=c?(v=e[c],d.is_discount=!0,d.applied_discount.description="CTKM: "+v.title,d.applied_discount.value_type="percentage"==v.discount_type?"percentage":"amount",h=0,"percentage"==v.discount_type?h=v.percentage_value:"amount"==v.discount_type?h=Math.min(v.amount_value,d.price):"fixed_price"==v.discount_type&&(h=Math.max(d.price-v.fixed_price_value,0)),d.applied_discount.value=Math.max(0,h)):d.is_discount&&d.applied_discount&&d.applied_discount.description&&d.applied_discount.description.startsWith("CTKM")&&(d.is_discount=!1,d.applied_discount.description=null,d.applied_discount.value_type="percentage",d.applied_discount.value=0));return t}},Juzaweb.Promotion.mapPriceRuleDomainToEvaluationPromotionModel=Juzaweb.Promotion.mapPriceRuleDomainToEvaluationPromotionModel.bind(Juzaweb.Promotion),Juzaweb.Promotion.evalPromotions=Juzaweb.Promotion.evalPromotions.bind(Juzaweb.Promotion)}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};Juzaweb.DraftBuilder=function(){function t(t,i){if(i)for(var n in i)this[n]=i[n];this.promotion_rules=i.price_rules?i.price_rules.map(Juzaweb.Promotion.mapPriceRuleDomainToEvaluationPromotionModel):[],this.line_items=[],this.shipping_methods=[],this.default_customer={id:0,shipping_address:null,billing_address:null},this.customer=this.default_customer,this.hasCustomerInfo=0!=this.customer.id,this.default_address={last_name:null,first_name:null,address1:null,province:null,province_code:null,country:null,country_code:null},this.no_shipping_address=!0,this.no_billing_address=!0,this.is_discount_percent=!1,this.reason_discount="",this.email="",this.phone="",this.discount=0,this.isDiscountPercent=!1,this.reason_discount="",this.apply_discount=null,this.isShippingInVietnam=!1,this.resetAddress(),this.custom_shipping_name=null,this.custom_shipping_fee=null,this.shipping_custom=!0,this.shipping_value="custom",this.validDraftOrder=!0,this.isCreating=!1,this.copyOrderId=0,this.cancelSourceOrder=null,this.isShippingCustom=e(this.isShippingCustom,this),this.ajaxGetShipping=null,this.discount_target_type=null,this.cusEmail="",this.billingSameAsShipping=null,this.copy_order&&(this.copyOrderId=this.copy_order.id,this._bindFromOrder(this.copy_order)),this.loadAjaxSuggestFee=null,this.loadAjaxSuggestFeeTimeout=null,initAutoNumeric()}function i(e){return e.discount_reason&&0===e.discount_reason.trim().indexOf("CTKM:")}return t.prototype._bindFromOrder=function(e){var t=this;this.email=e.email,this.note=e.note,this.tags=e.tags,this.cusEmail=e.email,e.customer&&(this.customer=e.customer,this.cusEmail=e.customer.email,this.phone=e.customer.phone?e.customer.phone.replace("+84","0"):""),e.shipping_address&&(this._bindShippingAddress(e.shipping_address),this.no_shipping_address=!1),e.billing_address&&(this._bindBillingAddress(e.billing_address),this.no_billing_address=!1),e.line_items&&e.line_items.forEach(function(e,i){e.id=e.variant_id,e.name=e.title,e.title=e.variant_title,e.image&&e.image.src&&(e.image=e.image.src),t._addLineItem(e),e.total_discount>0&&t._applyDiscountLineItem(i,e.total_discount,e.discount_code)}),this.hasCustomerInfo=!0,Bindings.unbind($(".order-sidebar")[0]),Bindings.bind($(".order-sidebar")[0],this),Bindings.refreshImmediately(),e.shipping_lines&&e.shipping_lines.length>0&&(t.shipping_custom=t.shipping_custom_tmp=!1,t.shipping_name=e.shipping_lines[0].title,t.shipping_fee=parseFloat(e.shipping_lines[0].price)),e.discount_codes&&e.discount_codes.length>0&&(e.discount_codes[0].custom?(this.discount=this.discount_tmp=e.discount_codes[0].amount,this.reason_discount=this.reason_discount=e.discount_codes[0].code,this.is_discount_percent=this.is_discount_percent=!1):(this.apply_discount={},this.apply_discount.amount=e.discount_codes[0].amount,this.apply_discount.code=this.apply_discount_code_input=e.discount_codes[0].code,this.apply_discount.type=e.discount_codes[0].type)),this.getShippingMethods(function(i){var n,r,s;if(e.shipping_lines&&e.shipping_lines.length>0){if(i.shipping_methods&&i.shipping_methods.length>0)for(r=0;r<i.shipping_methods.length;r++)(s=i.shipping_methods[r]).name==e.shipping_lines[0].title&&(n=s);n?(t.shipping_custom=t.shipping_custom_tmp=!1,t.shipping_name=e.shipping_lines[0].title,t.shipping_fee=parseFloat(n.fee),$(".shipping-methods-select").find('input[type="radio"][shipping-name="'+t.shipping_name+'"]').attr("checked","checked"),$(".btn-apply-shipping").removeClass("disabled")):(t.shipping_custom=t.shipping_custom_tmp=!0,t.shipping_name=t.custom_shipping_name=t.custom_shipping_name_tmp=e.shipping_lines[0].title,t.shipping_fee=t.custom_shipping_fee=t.custom_shipping_fee_tmp=parseFloat(e.shipping_lines[0].price),$(".shipping-methods-select").find('input[type="radio"][value="custom"]').attr("checked","checked"),$(".btn-apply-shipping").removeClass("disabled")),t.hasShipping=!0}$(document).click()})},t.prototype.resetShipping=function(){this.shipping_name="",this.shipping_fee=0,this.isShippingInVietnam=!1},t.prototype.updatePromotionInfo=function(){for(var e,t,i=Juzaweb.Promotion.evalPromotions(this.promotion_rules,this.line_items.map(function(e){return e.id&&(e.applied_discount={value_type:e.is_discount_percent?"percentage":"amount",value:e.discount_value,description:e.discount_reason},e.variant_id=e.id,e.is_discount=e.discount),e})),n=this.line_items.length,r=0;r<n;r++)(e=this.line_items[r]).id&&(t=i[r],e.discount=t.is_discount,e.is_discount_percent="percentage"==t.applied_discount.value_type,e.discount_reason=t.applied_discount.description,e.discount_value=t.applied_discount.value,e.total_discount=e.is_discount_percent?e.price*e.discount_value/100:e.discount_value)},t.prototype.resetApplyDiscount=function(){this.discount_tmp=this.discount,this.reason_discount_tmp=this.reason_discount,this.isDiscountPercentTmp=this.is_discount_percent,initAutoNumeric()},t.prototype.addLineItem=function(e){var t=this._addLineItem(e);this.updatePromotionInfo(),Juzaweb.Modal.hide(),t&&($(".line_item_"+t.item_index).find(".line_item_quantity").focus().select(),$(document).click(),this.getShippingMethods())},t.prototype._addLineItem=function(e){var t,i,n,r,s,o;return e.quantity=this.getRoundQuantity(e.quantity),"string"==typeof e.price&&(e.price=parseFloat(e.price)),null==e.title&&(e.title=""),e.id>0&&(t=$(".variant_id_"+e.id),i=$(t).attr("item-index"),t.length>0)?(n=t.find(".line_item_quantity"),r=this.getRoundQuantity(n.val()),isNaN(r)&&(r=1),this.line_items[i].quantity=r,Bindings.bind($(".line_item_"+i).get(0),this),Bindings.refreshImmediately(),t.find(".line_item_quantity").focus().select(),void $(document).click()):(e.item_index=this.line_items.length,e.money_format=this.money_format,e.reason_discount||(e.reason_discount=""),e.is_discount_percent||(e.is_discount_percent=!1),e.discount_value||(e.discount_value=0),e.total_discount||(e.total_discount=0),e.discount_reason||(e.discount_reason=""),e.discount||(e.discount=!1),e.reason_discount_tmp="",e.is_discount_percent_tmp=!1,e.discount_value_tmp=0,e.discount_value_changed=!1,(null==e.grams||null==e.grams)&&(e.grams=0),e.product&&1==e.product.options.length&&1==e.product.variants.length&&"Title"==e.product.options[0].name&&"Default Title"==e.product.variants[0].option1&&(e.is_default=!0),this.line_items.push(e),s=$("#line-item-template").html(),o=Mustache.render(s,{line_item:e}),$("#line_item_rows").append(o),Bindings.bind($(".line_item_"+e.item_index).get(0),this),e)},t.prototype.validateLineItemQuantity=function(e){var t=this.getRoundQuantity(this.line_items[e].quantity);parseInt(t)<1&&(t=1),this.line_items[e].quantity=t,this.updatePromotionInfo(),this.getShippingMethods()},t.prototype.getRoundQuantity=function(e){var t=Math.floor(Math.abs(e));return parseInt(t)<1?1:t},t.prototype.removeDiscountLineItem=function(e){this.line_items[e].discount_value=this.line_items[e].total_discount=0,this.line_items[e].is_discount_percent=!1,this.line_items[e].discount_reason="",this.line_items[e].discount=!1,$(".line_item_"+e+"_price").html(money(this.line_items[e].price,this.money_format).replace(" ","")),Juzaweb.UIPopover.deactivate(),this.getShippingMethods()},t.prototype.isValidDiscountLineItem=function(e){var t=$(".line-item-discount-value-"+e).val();return!t||(t=t.replace(",","").replace(".","")),Juzaweb.Utility.isNumeric(t)?parseInt(t)>0&&!(this.line_items[e].is_discount_percent_tmp&&parseInt(t)>100):void 0},t.prototype.discountItemTmpChange=function(e){var t=this.line_items[e];t.discount_value_changed||(t.discount_value_changed=!0,t.discount_reason_tmp&&t.discount_reason_tmp.startsWith("CTKM:")&&(t.discount_reason_tmp=""))},t.prototype.applyDiscountLineItem=function(e){var t,i=$(".line-item-discount-value-"+e).val();i=i.replace(",","").replace(".",""),t=$(".line-item-discount-reason-"+e).val(),this._applyDiscountLineItem(e,i,t),Juzaweb.UIPopover.deactivate(),this.getShippingMethods()},t.prototype._applyDiscountLineItem=function(e,t,i){this.line_items[e].discount_value=t,this.line_items[e].discount_reason=i,this.line_items[e].is_discount_percent=this.line_items[e].is_discount_percent_tmp,this.line_items[e].is_discount_percent?(this.line_items[e].discount_value>100&&(this.validDraftOrder=!1),this.line_items[e].total_discount=this.line_items[e].discount_value*this.line_items[e].price/100):this.line_items[e].total_discount=this.line_items[e].discount_value,this.line_items[e].total_discount>this.line_items[e].price&&(this.line_items[e].total_discount=this.line_items[e].price),this.line_items[e].discount=!0},t.prototype.resetApplyDiscountLineItem=function(e){this.line_items[e].discount_value_tmp=this.line_items[e].discount_value,this.line_items[e].discount_value_changed=!1,this.line_items[e].discount_reason_tmp=this.line_items[e].discount_reason,this.line_items[e].is_discount_percent_tmp=this.line_items[e].is_discount_percent},t.prototype.getShippingMethods=function(e){for(var t,i=this,n=$(".shipping-method-radio"),r=0;r<n.length;r++)t=n[r],$(t).remove();this.shipping_address_provinceId>0||""!=this.shipping_address_province_code?(this.ajaxGetShipping&&this.ajaxGetShipping.abort(),this.ajaxGetShipping=$.ajax({url:"/admin/draft_orders/GetShippingMethods",type:"POST",data:{provinceId:i.shipping_address_provinceId,districtId:i.shipping_address_districtId,provinceCode:i.shipping_address_province_code,districtCode:i.shipping_address_district_code,totalPrice:i.caculateTotalLineItemPrice(),totalWeight:i.caculateTotalWeight(),currentShippingMethod:i.shipping_name,discountCode:i.apply_discount&&!i.apply_discount.unexisted?i.apply_discount.code:null,lineItems:i.rebuildCurrentLineItems(),email:i.cusEmail},success:function(t){t&&!t.error&&(t.shipping_methods&&t.shipping_methods.length>0?(i.shipping_methods=t.shipping_methods,i.checkCurrentShippingMethod()):(i.shipping_methods=[],i.checkCurrentShippingMethod()),i.apply_discount&&(i.checkForValidExcludeType(t)?(i.apply_discount.amount=t.applied_discount.amount,i.apply_discount.type=t.applied_discount.value_type,i.apply_discount.unexisted=!1,i.apply_discount.value=t.applied_discount.value):(i.apply_discount.unexisted=!0,i.apply_discount_code_input="",i.apply_discount.amount=0,i.apply_discount.type="",i.apply_discount.value=0)),i.discount_target_type=t.discount_target_type),e&&e(t)},complete:function(){this.ajaxGetShipping=void 0}})):(i.shipping_methods=[],i.checkCurrentShippingMethod())},t.prototype.recalculateCopiedDiscount=function(e){var t=this;t.apply_discount&&!t.apply_discount.unexisted&&$.ajax({url:"/admin/draft_orders/GetShippingMethods",type:"POST",data:{provinceId:t.shipping_address_provinceId,districtId:t.shipping_address_districtId,provinceCode:t.shipping_address_province_code,districtCode:t.shipping_address_district_code,totalPrice:t.caculateTotalLineItemPrice(),totalWeight:t.caculateTotalWeight(),currentShippingMethod:t.shipping_name,discountCode:t.apply_discount&&!t.apply_discount.unexisted?t.apply_discount.code:null,lineItems:t.rebuildCurrentLineItems(),email:t.cusEmail},success:function(i){i&&!i.error&&(t.checkForValidExcludeType(i)?(t.apply_discount.amount=i.applied_discount.amount,t.apply_discount.type=i.applied_discount.value_type,t.apply_discount.unexisted=!1,t.apply_discount.value=i.applied_discount.value):(t.apply_discount.unexisted=!0,t.apply_discount_code_input="",t.apply_discount.amount=0,t.apply_discount.type="",t.apply_discount.value=0)),e&&e()}})},t.prototype.checkCurrentShippingMethod=function(){var e,t,i;if(null!=this.shipping_methods){if(e=!1,this.shipping_custom)e=!0;else for(t=0;t<this.shipping_methods.length;t++)if(i=this.shipping_methods[t],!this.shipping_custom&&i.name==this.shipping_name&&i.fee==this.shipping_fee){e=!0,this.shipping_value=i.value;break}if(!e){if("free"==this.shipping_value)return;this.hasShipping=!1,this.shipping_name=null,this.shipping_fee=0,this.shipping_value="custom"}}else this.shipping_methods=[]},t.prototype.caculateTotalWeight=function(){for(var e=0,t=0;t<this.line_items.length;t++)null!=this.line_items[t]&&null!=this.line_items[t].item_index&&null!=this.line_items[t].item_index&&(e+=this.line_items[t].grams*this.line_items[t].quantity);return e},t.prototype.checkDiscountLineItemType=function(e){return this.line_items[e].is_discount_percent},t.prototype.removeLineItem=function(e){this.line_items[e]=null,Bindings.unbind($("#line_item_rows").get(0)),Bindings.bind($("#line_item_rows").get(0)),$(".line_item_"+e).remove(),Bindings.refreshImmediately(),this.line_items&&this.updatePromotionInfo(),this.getShippingMethods()},t.prototype.checkNewLineItem=function(e){return e.price&&(e.price=parseFloat(e.price.toString().replace(/,/g,""))),!isNaN(e.price)&&e.name&&""!==e.price&&e.price>=0},t.prototype.getCountLineItems=function(){for(var e=0,t=0;t<this.line_items.length;t++)null!=this.line_items[t]&&null!=this.line_items[t].item_index&&null!=this.line_items[t].item_index&&e++;return e},t.prototype.bindSrc=function(){var e="https://secure.gravatar.com/avatar/",t="?s=60&d=https%3A%2F%2Fjuzaweb.dktcdn.net%2Fassets%2Fadmin%2Fno-gravatar.png";return this.customer&&this.customer.email?e+CryptoJS.MD5(this.customer.email)+".jpg"+t:e+t},t.prototype.selectCustomer=function(e){null==e.default_address?(e.default_address=this.default_address,this.no_shipping_address=this.no_billing_address=!0):this.no_shipping_address=this.no_billing_address=!1,this._bindShippingAddress(e.default_address),this._bindBillingAddress(e.default_address),this.hasCustomerInfo=!0,this.email=e.email,this.phone=e.phone?e.phone.replace("+84","0"):"",this.cusEmail=e.email,this.customer=e,Bindings.unbind($(".order-sidebar")[0]),Bindings.bind($(".order-sidebar")[0]),Bindings.refreshImmediately(),this.applyDiscount()},t.prototype._bindShippingAddress=function(e){var t=null!=e.first_name?e.first_name:"",i=((null!=e.last_name?e.last_name:"")+" "+t).trim();this.shipping_address_name=i,this.shipping_address_first_name=e.first_name,this.shipping_address_last_name=e.last_name,this.shipping_address_province=e.province,this.shipping_address_phone=e.phone,this.shipping_address_country=e.country,this.shipping_address_country_code=e.country_code,this.shipping_address_address1=null==e.address1?"":e.address1,this.shipping_address_city=e.city?e.city:e.province,this.shipping_address_province_code=e.province_code,this.shipping_address_districtId=0,this.shipping_address_district_code=e.district_code,this.shipping_address_district=e.district,this.shipping_address_wardId=0,this.shipping_address_ward_code=e.ward_code,this.shipping_address_ward=e.ward,this.shipping_address_company=e.company,this.shipping_address_zip=e.zip},t.prototype._bindBillingAddress=function(e){var t=null!=e.first_name?e.first_name:"",i=((null!=e.last_name?e.last_name:"")+" "+t).trim();this.billing_address_name=i,this.billing_address_first_name=e.first_name,this.billing_address_last_name=e.last_name,this.billing_address_province=e.province,this.billing_address_phone=e.phone,this.billing_address_country=e.country,this.billing_address_country_code=e.country_code,this.billing_address_address1=null==e.address1?"":e.address1,this.billing_address_province_code=e.province_code,this.billing_address_districtId=0,this.billing_address_district_code=e.district_code,this.billing_address_district=e.district,this.billing_address_wardId=0,this.billing_address_ward_code=e.ward_code,this.billing_address_ward=e.ward,this.billing_address_company=e.company,this.billing_address_zip=e.zip,this.billing_address_city=e.city?e.city:e.province},t.prototype.isSameAddress=function(){return null!=this.billingSameAsShipping?this.billingSameAsShipping:(this.billingSameAsShipping=!(!this.isNullAddress(this.getShippingAddress())||!this.isNullAddress(this.getBillingAddress()))||_.equal(this.getShippingAddress(),this.getBillingAddress()),this.billingSameAsShipping)},t.prototype.isNullAddress=function(e){return!(null!=e.name&&e.name.trim().length>0)&&(!(null!=e.address1&&e.address1.trim().length>0)&&(!(null!=e.province&&e.province.trim().length>0)&&(!(null!=e.country&&e.country.trim().length>0)&&!(null!=e.phone&&e.phone.trim().length>0))))},t.prototype.getShippingAddress=function(){var e={};return e.name=this.shipping_address_name,e.province=this.shipping_address_province,e.phone=this.shipping_address_phone,e.country=this.shipping_address_country,e.address1=this.shipping_address_address1,e.district=this.shipping_address_district,e.ward=this.shipping_address_ward,e},t.prototype.invalidShippingAddress=function(){var e={};return e.name=this.shipping_address_name_tmp,e.province=this.shipping_address_province_tmp,e.phone=this.shipping_address_phone_tmp,e.country=this.shipping_address_country_tmp,e.address1=this.shipping_address_address1_tmp,this.isNullAddress(e)},t.prototype.getBillingAddress=function(){var e={};return e.name=this.billing_address_name,e.province=this.billing_address_province,e.phone=this.billing_address_phone,e.country=this.billing_address_country,e.address1=this.billing_address_address1,e.district=this.billing_address_district,e.ward=this.billing_address_ward,e},t.prototype.invalidBillingAddress=function(){var e={};return e.name=this.billing_address_name_tmp,e.province=this.billing_address_province_tmp,e.phone=this.billing_address_phone_tmp,e.country=this.billing_address_country_tmp,e.address1=this.billing_address_address1_tmp,this.isNullAddress(e)},t.prototype.updateBillingAddress=function(){$("#showErrorAddressDraft").find(".ui-banner__title").text(""),$("#showErrorAddressDraft").find(".ui-type-container ul").empty(),$("#showErrorAddressDraft").hasClass("hide")||$("#showErrorAddressDraft").addClass("hide");var e="",t=0;this.customerAddress.address_last_name.length>50&&(t+=1,e+="<li>Họ không được dài quá 50 ký tự</li>"),this.customerAddress.address_first_name.length>50&&(t+=1,e+="<li>Tên không được dài quá 50 ký tự</li>"),this.customerAddress.address_company.length>50&&(t+=1,e+="<li>Công ty không dài quá 50 ký tự</li>"),this.customerAddress.address_phone.length>15&&(t+=1,e+="<li>Số điện thoại không dài quá 15 ký tự</li>"),this.customerAddress.address_address1.length>255&&(t+=1,e+="<li>Địa chỉ không dài quá 255 ký tự</li>"),this.customerAddress.address_city&&this.customerAddress.address_city.length>50&&(t+=1,e+="<li>Tỉnh / Thành phố không dài quá 50 ký tự</li>"),this.customerAddress.address_zip.length>20&&(t+=1,e+="<li>Postal / Zip Code phố không dài quá 20 ký tự</li>"),0===t?(this.billing_address_name=(this.customerAddress.address_last_name+" "+this.customerAddress.address_first_name).trim(),this.billing_address_first_name=this.customerAddress.address_first_name,this.billing_address_last_name=this.customerAddress.address_last_name,this.billing_address_company=this.customerAddress.address_company,this.billing_address_zip=this.customerAddress.address_zip,this.billing_address_phone=this.customerAddress.address_phone,this.billing_address_address1=this.customerAddress.address_address1,this.billing_address_city=this.customerAddress.address_city,this.billing_address_countryId=this.customerAddress.country_id,this.billing_address_country=$("#CountryId option:selected").text(),this.customerAddress.have_city?(this.billing_address_provinceId=this.customerAddress.province_id,this.billing_address_province=$("#provinceSlt option:selected").text(),this.billing_address_districtId=this.customerAddress.district_id,this.billing_address_district=$("#districtSlt option:selected").text(),this.billing_address_wardId=this.customerAddress.ward_id,this.billing_address_ward=$("#wardSlt option:selected").text()):(this.billing_address_city=this.customerAddress.city,this.billing_address_province=this.customerAddress.city,this.billing_address_provinceId=0,this.billing_address_province_code="",this.billing_address_districtId=0,this.billing_address_district_code="",this.billing_address_district="",this.billing_address_wardId=0,this.billing_address_ward_code="",this.billing_address_ward=""),Juzaweb.Modal.hide(),Bindings.bind($(".order-sidebar")[0],this),this.no_billing_address=!1,this.billingSameAsShipping=null):($("#showErrorAddressDraft").find(".ui-banner__title").text("Có "+t+" lỗi:"),$("#showErrorAddressDraft").find(".ui-type-container ul").append(e),$("#showErrorAddressDraft").removeClass("hide"))},t.prototype.resetBillingAddress=function(){$.ajax({url:Juzaweb.routes.draftorders+"/address?callback=updateBillingAddress",type:"GET",data:{firstName:this.billing_address_first_name,lastName:this.billing_address_last_name,company:this.billing_address_company,zip:this.billing_address_zip,phone:this.billing_address_phone,address1:this.billing_address_address1,city:this.billing_address_city,countryCode:this.billing_address_country_code,provinceCode:this.billing_address_province_code,districtCode:this.billing_address_district_code,wardCode:this.billing_address_ward_code,customerId:this.customer.id},success:function(e){(new Juzaweb.Modal).show({content:e}),$(".filter-dropdown").select2("destroy"),initSelect2()}})},t.prototype.updateShippingAddress=function(){$("#showErrorAddressDraft").find(".ui-banner__title").text(""),$("#showErrorAddressDraft").find(".ui-type-container ul").empty(),$("#showErrorAddressDraft").hasClass("hide")||$("#showErrorAddressDraft").addClass("hide");var e="",t=0;this.customerAddress.address_last_name.length>50&&(t+=1,e+="<li>Họ không được dài quá 50 ký tự</li>"),this.customerAddress.address_first_name.length>50&&(t+=1,e+="<li>Tên không được dài quá 50 ký tự</li>"),this.customerAddress.address_company.length>50&&(t+=1,e+="<li>Công ty không dài quá 50 ký tự</li>"),this.customerAddress.address_phone.length>15&&(t+=1,e+="<li>Số điện thoại không dài quá 15 ký tự</li>"),this.customerAddress.address_address1.length>255&&(t+=1,e+="<li>Địa chỉ không dài quá 255 ký tự</li>"),this.customerAddress.address_city&&this.customerAddress.address_city.length>50&&(t+=1,e+="<li>Tỉnh / Thành phố không dài quá 50 ký tự</li>"),this.customerAddress.address_zip.length>20&&(t+=1,e+="<li>Postal / Zip Code phố không dài quá 20 ký tự</li>"),0===t?(this.shipping_address_name=(this.customerAddress.address_last_name+" "+this.customerAddress.address_first_name).trim(),this.shipping_address_first_name=this.customerAddress.address_first_name,this.shipping_address_last_name=this.customerAddress.address_last_name,this.shipping_address_company=this.customerAddress.address_company,this.shipping_address_zip=this.customerAddress.address_zip,this.shipping_address_phone=this.customerAddress.address_phone,this.shipping_address_address1=this.customerAddress.address_address1,this.shipping_address_city=this.customerAddress.address_city,this.shipping_address_countryId=this.customerAddress.country_id,this.shipping_address_country=$("#CountryId option:selected").text(),this.customerAddress.have_city?(this.shipping_address_provinceId=this.customerAddress.province_id,this.shipping_address_province=$("#provinceSlt option:selected").text(),this.shipping_address_districtId=this.customerAddress.district_id,this.shipping_address_district=$("#districtSlt option:selected").text(),this.shipping_address_wardId=this.customerAddress.ward_id,this.shipping_address_ward=$("#wardSlt option:selected").text()):(this.shipping_address_city=this.customerAddress.city,this.shipping_address_province=this.customerAddress.city,this.shipping_address_provinceId=0,this.shipping_address_province_code="",this.shipping_address_districtId=0,this.shipping_address_district_code="",this.shipping_address_district="",this.shipping_address_wardId=0,this.shipping_address_ward_code="",this.shipping_address_ward=""),Juzaweb.Modal.hide(),Bindings.bind($(".order-sidebar")[0],this),this.no_shipping_address=!1,this.billingSameAsShipping=null,this.getShippingMethods()):($("#showErrorAddressDraft").find(".ui-banner__title").text("Có "+t+" lỗi:"),$("#showErrorAddressDraft").find(".ui-type-container ul").append(e),$("#showErrorAddressDraft").removeClass("hide"))},t.prototype.resetShippingAddress=function(){$.ajax({url:Juzaweb.routes.draftorders+"/address?callback=updateShippingAddress",type:"GET",data:{firstName:this.shipping_address_first_name,lastName:this.shipping_address_last_name,company:this.shipping_address_company,zip:this.shipping_address_zip,phone:this.shipping_address_phone,address1:this.shipping_address_address1,city:this.shipping_address_city,countryCode:this.shipping_address_country_code,provinceCode:this.shipping_address_province_code,districtCode:this.shipping_address_district_code,wardCode:this.shipping_address_ward_code,customerId:this.customer.id},success:function(e){(new Juzaweb.Modal).show({content:e}),$(".filter-dropdown").select2("destroy"),initSelect2()}})},t.prototype.isValidPaid=function(){return this.validDraftOrder&&this.getCountLineItems()>0},t.prototype.isValid=function(){return this.validDraftOrder&&this.getCountLineItems()>0},t.prototype.isValidPending=function(){return this.validDraftOrder&&this.getCountLineItems()>0&&this.caculateTotalPrice()>0},t.prototype.createDraftOrder=function(e){var t,i,n=this;if(this.isCreating=!0,$(".btn-save-draft-order").addClass("disabled is-loading"),t={},this.hasCustomerInfo&&(t.customerId=this.customer.id,t.email=this.email,this.no_shipping_address||(t.shippingAddress={},t.shippingAddress.firstName=this.shipping_address_first_name,t.shippingAddress.lastName=this.shipping_address_last_name,t.shippingAddress.name=this.shipping_address_name,t.shippingAddress.phone=this.shipping_address_phone,t.shippingAddress.address1=this.shipping_address_address1,t.shippingAddress.country=this.shipping_address_country,t.shippingAddress.countryId=this.shipping_address_countryId,t.shippingAddress.countryCode=this.shipping_address_country_code,t.shippingAddress.city=this.shipping_address_city,t.shippingAddress.province=this.shipping_address_province,t.shippingAddress.provinceId=this.shipping_address_provinceId,t.shippingAddress.provinceCode=this.shipping_address_provinceCode,t.shippingAddress.districtId=this.shipping_address_districtId,t.shippingAddress.districtCode=this.shipping_address_district_code,t.shippingAddress.district=this.shipping_address_district,t.shippingAddress.wardId=this.shipping_address_wardId,t.shippingAddress.wardCode=this.shipping_address_ward_code,t.shippingAddress.ward=this.shipping_address_ward,t.shippingAddress.company=this.shipping_address_company,t.shippingAddress.zip=this.shipping_address_zip),this.no_billing_address||(t.billingAddress={},t.billingAddress.firstName=this.billing_address_first_name,t.billingAddress.lastName=this.billing_address_last_name,t.billingAddress.name=this.billing_address_name,t.billingAddress.phone=this.billing_address_phone,t.billingAddress.address1=this.billing_address_address1,t.billingAddress.country=this.billing_address_country,t.billingAddress.countryId=this.billing_address_countryId,t.billingAddress.countryCode=this.billing_address_country_code,t.billingAddress.city=this.billing_address_city,t.billingAddress.province=this.billing_address_province,t.billingAddress.provinceId=this.billing_address_provinceId,t.billingAddress.provinceCode=this.billing_address_provinceCode,t.billingAddress.districtId=this.billing_address_districtId,t.billingAddress.districtCode=this.billing_address_district_code,t.billingAddress.district=this.billing_address_district,t.billingAddress.wardId=this.billing_address_wardId,t.billingAddress.wardCode=this.billing_address_ward_code,t.billingAddress.ward=this.billing_address_ward,t.billingAddress.company=this.billing_address_company,t.billingAddress.zip=this.billing_address_zip)),this.hasShipping&&(t.shippingLine={},t.shippingLine.code=this.shipping_code?this.shipping_code:this.shipping_name,t.shippingLine.title=this.shipping_name,t.shippingLine.price=this.shipping_fee,t.shippingLine.custom=this.shipping_custom),t.financialStatus=e,t.note=this.note,i=[],$(".next-token-list :input[name='Tags[]']").each(function(){var e=$(this);i.push(e.val())}),t.tags=i,t.isSendMail=this.isSendMail,t.discountTargetType=this.discount_target_type,(this.discount||this.apply_discount&&this.apply_discount.amount>0)&&(t.appliedDiscount={},this.apply_discount?(t.appliedDiscount.title=this.apply_discount.code,t.appliedDiscount.value=this.apply_discount.value,t.appliedDiscount.valueType=this.apply_discount.type,t.appliedDiscount.custom=!1,t.appliedDiscount.amount=this.apply_discount.amount,t.appliedDiscount.unexisted=this.apply_discount.unexisted):(t.appliedDiscount.description=this.reason_discount,t.appliedDiscount.value=this.discount,t.appliedDiscount.valueType=this.is_discount_percent?"percentage":"fixed_amount",t.appliedDiscount.custom=!0)),t.lineItems=this.rebuildCurrentLineItems(),null==t.lineItems||0==t.lineItems.length)return Juzaweb.Flash.error("Đơn hàng phải có sản phẩm."),void $(".btn-save-draft-order").removeClass("disabled is-loading");!this.email||validateEmail(this.email)?$.ajax({type:"POST",url:"/admin/draft_orders/create",contentType:"application/json; charset=utf-8",data:JSON.stringify(t),dataType:"json",success:function(t){if(null==t.error){(null==e||""==e)&&Juzaweb.Flash.notice("Tạo đơn hàng nháp thành công!");var i=t.id;setTimeout(function(){window.location.href="/admin/draft_orders/"+i},1e3)}else Juzaweb.Flash.error(t.error)},error:function(e){$(".btn-save-draft-order").removeClass("disabled is-loading"),n.isCreating=!1,Juzaweb.Flash.error(null!=e.responseJSON?e.responseJSON.error:"Có lỗi xảy ra")}}):Juzaweb.Flash.error("Email không đúng định dạng.")},t.prototype.rebuildCurrentLineItems=function(){for(var e,t,i=[],n=0;n<this.line_items.length;n++)null!=this.line_items[n]&&null!=this.line_items[n].item_index&&null!=this.line_items[n].item_index&&(e=this.line_items[n],(t={}).quantity=e.quantity,t.productId=e.product_id,t.variantId=e.id,t.variantTitle=e.title,t.title=e.name,t.requiresShipping=e.requires_shipping,t.price=e.price,t.discountedPrice=Math.max(0,e.price-e.total_discount),t.grams=e.grams,e.discount&&(t.appliedDiscount={},t.appliedDiscount.value=e.discount_value,t.appliedDiscount.description=e.discount_reason,t.appliedDiscount.valueType=e.is_discount_percent?"percentage":"dollar"),i.push(t));return i},t.prototype.resetAddress=function(){this.shipping_address_name="",this.shipping_address_first_name="",this.shipping_address_last_name="",this.shipping_address_province="",this.shipping_address_phone="",this.shipping_address_country="",this.shipping_address_address1="",this.shipping_address_city="",this.shipping_address_provinceId=0,this.shipping_address_districtId=0,this.shipping_address_district="",this.shipping_address_wardId=0,this.shipping_address_ward="",this.shipping_address_zip="",this.shipping_address_company="",this.shipping_address_country_code="",this.shipping_address_countryId=0,this.billing_address_first_name="",this.billing_address_last_name="",this.billing_address_name="",this.billing_address_province="",this.billing_address_phone="",this.billing_address_country="",this.billing_address_address1="",this.billing_address_city="",this.billing_address_provinceId=0,this.billing_address_districtId=0,this.billing_address_district="",this.billing_address_wardId=0,this.billing_address_ward="",this.billing_address_zip="",this.billing_address_company="",this.billing_address_country_code="",this.billing_address_countryId=0,this.no_shipping_address=!0,this.no_billing_address=!0,this.billingSameAsShipping=null,this.hasShipping=!1,this.shipping_name="",this.shipping_fee=0},t.prototype.removeCustomer=function(){this.customer=this.default_customer,this.hasCustomerInfo=!1,this.email="",this.phone="",this.cusEmail="",this.resetAddress(),this.getShippingMethods()},t.prototype.resetOrderEmail=function(){this.email_tmp=this.customer.email,this.editEmailModal.show()},t.prototype.updateEmail=function(){var e=$("input#order_email").val();!e||validateEmail(e)?(this.email=e,this.editEmailModal.hide()):Juzaweb.Flash.error("Email không đúng định dạng.")},t.prototype.caculateTotalLineItemPrice=function(){for(var e=0,t=0;t<this.line_items.length;t++)null!=this.line_items[t]&&null!=this.line_items[t].item_index&&null!=this.line_items[t].item_index&&(e+=(this.line_items[t].price-this.line_items[t].total_discount)*this.line_items[t].quantity);return e},t.prototype.isValidDiscount=function(){if(this.getCountLineItems()>0){if(this.apply_discount_code_input)return!0;var e=this.discount_tmp,t=this.isDiscountPercentTmp;if(e&&(e=parseFloat(e.toString().replace(/,/g,""))),Juzaweb.Utility.isNumeric(e)&&parseInt(e)>0){if(!t)return!0;if(parseInt(e)<=100)return!0}}return!1},t.prototype.applyDiscount=function(){var e=this;this.apply_discount_code_input?(this.apply_discount={},this.apply_discount.code=this.apply_discount_code_input,this.discount=this.discount_tmp=0,this.reason_discount=this.reason_discount_tmp=""):(this.apply_discount=null,this.apply_discount_code_input="",this.discount=this.discount_tmp,this.reason_discount=this.reason_discount_tmp,this.is_discount_percent=this.isDiscountPercentTmp,this.discount&&(this.discount=parseFloat(this.discount.toString().replace(/,/g,"")))),Juzaweb.UIPopover.deactivate(),this.getShippingMethods(function(){$(".shipping-methods-select").find('input[type="radio"][shipping-name="'+e.shipping_name+'"]').iCheck("check"),$(".btn-apply-shipping").removeClass("disabled")}),reSetAutoNumeric()},t.prototype.caculateDiscount=function(){var e,t=0;return this.apply_discount?t=this.apply_discount.amount?this.apply_discount.amount:0:(e=this.caculateTotalLineItemPrice(),t=this.is_discount_percent?e*this.discount/100:parseFloat(this.discount)),t},t.prototype.caculateTotalPrice=function(){var e=this.caculateTotalLineItemPrice();return"shipping_line"==this.discount_target_type?e-this.caculateDiscount()+this.shipping_fee:e-Math.min(this.caculateDiscount(),e)+this.shipping_fee},t.prototype.caculateSubtotalPrice=function(){var e=this.caculateTotalLineItemPrice();return e-Math.min(this.caculateDiscount(),e)},t.prototype.removeDiscount=function(){this.apply_discount=null,this.apply_discount_code_input="",this.discount=0,this.reason_discount="",this.discount_tmp=0,this.reason_discount_tmp="",this.is_discount_percent=this.isDiscountPercentTmp=!1,Juzaweb.UIPopover.deactivate()},t.prototype.canSaveShippingRate=function(){var e,t;return"custom"!=$("input[name='shippingMethod']:checked").val()||(e=$("#customShippingName").val(),t=parseFloat($("#customShippingFee").val()),""!=e&&Juzaweb.Utility.isNumeric(t))},t.prototype.setShippingLine=function(){var e;if(unSetAutoNumeric(),e=$("input[name='shippingMethod']:checked"),this.shipping_value=$(e).val(),"custom"==$(e).val())this.shipping_custom=this.shipping_custom_tmp=!0,t=$("#customShippingName").val(),i=parseFloat($("#customShippingFee").val()),t.trim()||(t="Tùy chọn"),Juzaweb.Utility.isNumeric(i)||(i=0),this.shipping_name=this.custom_shipping_name=t,this.shipping_fee=this.custom_shipping_fee=i;else if("partner"==$(e).data("type")){this.shipping_value="custom",this.shipping_custom=this.shipping_custom_tmp=!0;var t=$(e).data("partner-name")+"-"+$(e).data("deliver-type"),i=parseFloat($(e).data("partner-fee")),n=$(e).data("service-code");t.trim()||(t="Tùy chọn đối tác vận chuyển"),Juzaweb.Utility.isNumeric(i)||(i=0),this.shipping_name=this.custom_shipping_name=t,this.shipping_fee=this.custom_shipping_fee=i,this.shipping_code=this.custom_shipping_code=n}else this.shipping_custom=this.shipping_custom_tmp=!1,this.shipping_name=$("input[name='shippingMethod']:checked").attr("shipping-name"),this.shipping_fee=parseFloat($("input[name='shippingMethod']:checked").attr("fee"));this.recalculateCopiedDiscount(),this.hasShipping=!0,reSetAutoNumeric(),this.closeShippingMethodModal(),this.form.makeDirty()},t.prototype.isValidShippingFee=function(){var e,t,i=$("input[name='shippingMethod']:checked");if("custom"==$(i).val()){if(this.shipping_custom=this.shipping_custom_tmp=!0,e=$("#customShippingName").val(),t=unFomatPrice($("#customShippingFee").val()),!e.trim())return!1}else if("partner"==$(i).data("type")){if(this.shipping_custom=this.shipping_custom_tmp=!0,e=$(i).data("partner-name")+"-"+$(i).data("deliver-type"),t=$(i).data("partner-fee"),!e.trim())return!1}else this.shipping_custom=this.shipping_custom_tmp=!1,t=parseFloat($("input[name='shippingMethod']:checked").attr("fee"));return!!Juzaweb.Utility.isNumeric(t)&&!(t<0)},t.prototype.isShippingCustom=function(){var e=$("input[name='shippingMethod']:checked").val();this.shipping_custom_tmp="custom"==e},t.prototype.resetShippingLine=function(){this.custom_shipping_name_tmp=this.custom_shipping_name,this.custom_shipping_fee_tmp=this.custom_shipping_fee,this.shipping_custom_tmp=this.shipping_custom,initAutoNumeric(),this.shippingMethodModal.show();var e=$("#shipping-methods-template").html(),t=Mustache.render(e,{"shipping-methods":this.shipping_methods});$(".shipping-method-fee-radio").before(t),Bindings.unbind($(".shipping-methods-select").get(0)),Bindings.bind($(".shipping-methods-select").get(0))},t.prototype.closeShippingMethodModal=function(){this.shippingMethodModal.hide(),setTimeout(function(){var e=$("#shipping_methods");e.parent().is("script")&&e.unwrap(),$(".suggest-fee-modal").find("#shipping-address").empty(),$(".suggest-fee-modal").find("#location-store-address").empty(),$(".suggest-fee-modal").find(".suggest-fee-detail").empty(),$(e).css("display","none")},50)},t.prototype.showFeePartner=function(e){var t=this,i=$(e).closest(".suggest-fee-modal");$(i).addClass("is-secondary"),$(i).find(".load-city-district").addClass("show").addClass("btn-loading"),$(i).find(".load-location-store").addClass("show").addClass("btn-loading");var n=this.caculateTotalLineItemPrice()-Math.min(this.caculateDiscount(),this.caculateTotalLineItemPrice()),r=this.caculateTotalWeight();$(i).find("#order-totalprice").val(n),$(i).find("#order-total-weight").val(r),initAutoNumeric(),$.ajax({url:"/admin/draft_orders/GetStoreLocations",type:"GET",async:!0,success:function(e){$(i).find(".load-location-store").removeClass("show").removeClass("btn-loading"),$(i).find("#location-store-address").html(e),$("#location-store").select2({placeholder:""}),$.ajax({url:"/admin/draft_orders/GetLocations",type:"POST",data:{provinceCode:t.shipping_address_province_code,districtCode:t.shipping_address_district_code,countryId:t.shipping_address_countryId,countryName:t.shipping_address_country,provinceName:t.shipping_address_province,provinceId:t.shipping_address_provinceId,districtId:t.shipping_address_districtId},success:function(e){$(i).find(".load-city-district").removeClass("show").removeClass("btn-loading"),$(i).find("#shipping-address").html(e),$("#cityDistrictShipping").select2({placeholder:""}),Bindings.refreshImmediately(),Bindings.unbind($(i).get(0),t),Bindings.bind($(i).get(0),t),t.getFeePartner()},error:function(){Sapo.Flash.error("")}})},error:function(){Juzaweb.Flash.error("Có lỗi xảy ra!")}})},t.prototype.getFeePartner=function(){var e,t,i=this;null!=i.loadAjaxSuggestFee&&i.loadAjaxSuggestFee.abort(),null!=this.loadAjaxSuggestFeeTimeout&&clearTimeout(this.loadAjaxSuggestFeeTimeout);var n=$(".suggest-fee-modal-wrapper");$(n).find(".load-fee-partner").addClass("show").addClass("btn-loading"),$(n).find(".error-text").removeClass("show"),$(n).find(".error-text").empty(),$(n).find(".suggest-fee-detail").empty();var r=$(n).find("#location-store option:selected"),s=$(r).data("provincecode"),o=$(r).data("districtcode"),a=$(n).find("#cityDistrictShipping option:selected"),l=$(a).val(),u=$(n).find("#order-totalprice").val(),c=$(n).find("#order-total-weight").val(),d=this.caculateTotalLineItemPrice()-Math.min(this.caculateDiscount(),this.caculateTotalLineItemPrice()),h="";if(0==l&&(h+="<li></li>"),0==$(r).val()&&(h+="<li></li>"),(""==u||u<0||parseInt(u)>d)&&(h+="<li></li>"),(""==c||parseInt(c)<0)&&(h+="<li>Khối lượng không được để trống và không âm!</li>"),h)return $(n).find(".load-fee-partner").removeClass("show").removeClass("btn-loading"),$(n).find(".suggest-fee-detail").html(""),$(n).find(".error-text").html(h),void $(n).find(".error-text").addClass("show");e=$(a).data("provincecode"),t=$(a).data("districtcode"),230===i.shipping_address_countryId||0===i.shipping_address_countryId?this.loadAjaxSuggestFeeTimeout=setTimeout(function(){i.loadAjaxSuggestFee=$.ajax({url:"/admin/draft_orders/SuggestFees",type:"POST",async:!0,data:{srcProvinceCode:s,srcDistrictCode:o,cod:u,weight:c,targetProvinceCode:e,targetDistrictCode:t,isCreate:!0},success:function(e){$(n).find(".load-fee-partner").removeClass("show").removeClass("btn-loading"),$(n).find(".suggest-fee-detail").html(e),Bindings.refreshImmediately(),Bindings.unbind($(n).get(0),i),Bindings.bind($(n).get(0),i)},error:function(){$(n).find(".load-fee-partner").removeClass("show").removeClass("btn-loading"),$(n).find(".suggest-fee-detail").html("")}})},500):($(n).find(".load-fee-partner").removeClass("show").removeClass("btn-loading"),$(n).find(".suggest-fee-detail").html("<div class='no-info'><p></p></div>"))},t.prototype.changeElementSuggestFee=function(){this.getFeePartner()},t.prototype.backFeeStore=function(e){$(e).closest(".suggest-fee-modal").removeClass("is-secondary")},t.prototype.caculateTotalWeight=function(){for(var e=0,t=0;t<this.line_items.length;t++)null!=this.line_items[t]&&null!=this.line_items[t].item_index&&null!=this.line_items[t].item_index&&(e+=this.line_items[t].grams*this.line_items[t].quantity);return e},t.prototype.removeShipping=function(){this.hasShipping=!1,this.shipping_name="",this.shipping_fee=0,Juzaweb.UIPopover.deactivate(),this.apply_discount&&this.recalculateCopiedDiscount()},t.prototype.quickCreateCustomer=function(){$("#juzaweb-modal .btn-default.btn-primary").addClass("disabled").html(Juzaweb.LOADING),this.isCustomerInVietnam=!0;var e=this,t=$("#form-quick-add-customer");$.ajax({url:"/admin/customers/quickcreate",type:"POST",data:t.serialize(),success:function(t){null!=t.error?Juzaweb.Flash.error(t.error):null!=t.id&&t.id>0&&(e.selectCustomer(t),Juzaweb.Modal.hide())}})},t.prototype.selectShippingMethod=function(){},t.prototype.displayDiscountError=function(e,t){var i=this.apply_discount.code;null!=i&&""!==i&&(i=" "+_.escape(i)),!e||Juzaweb.Flash.error(""),!t||Juzaweb.Flash.error("")},t.prototype.checkForValidExcludeType=function(e){return e&&e.applied_discount?!e.exclude_type||!_.some(this.line_items,i)||(this.displayDiscountError(!1,!0),!1):(this.displayDiscountError(!0),!1)},t}()}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};Juzaweb.DraftBuilderEdit=function(){function t(t,i){if(i)for(var n in i)this[n]=i[n];this.promotion_rules=i.price_rules?i.price_rules.map(Juzaweb.Promotion.mapPriceRuleDomainToEvaluationPromotionModel):[],this.line_items=[],this.shipping_methods=[],this.default_customer={id:0,shipping_address:null,billing_address:null},this.customer=this.default_customer,this.hasCustomerInfo=0!=this.customer.id,this.default_address={last_name:null,first_name:null,address1:null,province:null,province_code:null,country:null,country_code:null},this.no_shipping_address=!0,this.no_billing_address=!0,this.is_discount_percent=!1,this.reason_discount="",this.email="",this.phone="",this.discount=0,this.isDiscountPercent=!1,this.reason_discount="",this.apply_discount=null,this.isShippingInVietnam=!1,this.resetAddress(),this.custom_shipping_name=null,this.custom_shipping_fee=null,this.shipping_custom=!0,this.shipping_value="custom",this.validDraftOrder=!0,this.isCreating=!1,this.draftOrderId=0,this.cancelSourceOrder=null,this.isShippingCustom=e(this.isShippingCustom,this),this.ajaxGetShipping=null,this.discount_target_type=null,this.cusEmail="",this.billingSameAsShipping=null,this.loadAjaxSuggestFee=null,this.loadAjaxSuggestFeeTimeout=null,this.draft_order&&(this.draftOrderId=this.draft_order.id,this._bindFromOrder(this.draft_order)),this.markPaymentOrder(),initAutoNumeric()}function i(e){return e.discount_reason&&0===e.discount_reason.trim().indexOf("CTKM:")}return t.prototype._bindFromOrder=function(e){var t=this;this.email=e.email,this.note=e.note,this.cusEmail=e.email,e.customer&&(this.customer=e.customer,this.cusEmail=e.customer.email,this.phone=e.customer.phone?e.customer.phone.replace("+84","0"):""),e.shipping_address&&(this._bindShippingAddress(e.shipping_address),this.no_shipping_address=!1),e.billing_address&&(this._bindBillingAddress(e.billing_address),this.no_billing_address=!1),e.line_items&&e.line_items.forEach(function(e,i){e.id=e.variant_id,e.name=e.title,e.title=e.variant_title,e.image&&e.image.src&&(e.image=e.image.src),t._addLineItem(e),e.total_discount>0&&t._applyDiscountLineItem(i,e.total_discount,e.discount_code)}),this.hasCustomerInfo=null!=e.customer,Bindings.unbind($(".order-sidebar")[0]),Bindings.bind($(".order-sidebar")[0],this),Bindings.refreshImmediately(),e.shipping_line&&(t.shipping_custom=t.shipping_custom_tmp=!1,t.shipping_name=e.shipping_line.title,t.shipping_fee=parseFloat(e.shipping_line.price),t.shipping_code=e.shipping_line.code),e.applied_discount&&(e.applied_discount.custom?(this.discount=this.discount_tmp=e.applied_discount.amount,this.reason_discount=e.applied_discount.description,this.is_discount_percent=this.is_discount_percent=!1):(this.apply_discount={},this.apply_discount.amount=e.applied_discount.amount,this.apply_discount.code=this.apply_discount_code_input=e.applied_discount.title,this.apply_discount.type=e.applied_discount.type,this.apply_discount.value=e.applied_discount.value)),this.getShippingMethods(function(i){var n,r,s;if(e.shipping_line){if(i.shipping_methods&&i.shipping_methods.length>0)for(r=0;r<i.shipping_methods.length;r++)(s=i.shipping_methods[r]).name==e.shipping_line.title&&(n=s);n?(t.shipping_custom=t.shipping_custom_tmp=!1,t.shipping_name=e.shipping_line.title,t.shipping_fee=parseFloat(n.fee),$(".shipping-methods-select").find('input[type="radio"][shipping-name="'+t.shipping_name+'"]').attr("checked","checked"),$(".btn-apply-shipping").removeClass("disabled")):(t.shipping_custom=t.shipping_custom_tmp=!0,t.shipping_name=t.custom_shipping_name=t.custom_shipping_name_tmp=e.shipping_line.title,t.shipping_fee=t.custom_shipping_fee=t.custom_shipping_fee_tmp=parseFloat(e.shipping_line.price),$(".shipping-methods-select").find('input[type="radio"][value="custom"]').attr("checked","checked"),$(".btn-apply-shipping").removeClass("disabled")),t.hasShipping=!0}$(document).click()})},t.prototype.resetShipping=function(){this.shipping_name="",this.shipping_fee=0,this.isShippingInVietnam=!1},t.prototype.resetApplyDiscount=function(){this.discount_tmp=this.discount,this.reason_discount_tmp=this.reason_discount,this.isDiscountPercentTmp=this.is_discount_percent,initAutoNumeric()},t.prototype.addLineItem=function(e){var t=this._addLineItem(e);this.updatePromotionInfo(),Juzaweb.Modal.hide(),t&&($(".line_item_"+t.item_index).find(".line_item_quantity").focus().select(),$(document).click(),this.getShippingMethods())},t.prototype.updatePromotionInfo=function(){for(var e,t,i=Juzaweb.Promotion.evalPromotions(this.promotion_rules,this.line_items.map(function(e){return e.id&&(e.applied_discount={value_type:e.is_discount_percent?"percentage":"amount",value:e.discount_value,description:e.discount_reason},e.variant_id=e.id,e.is_discount=e.discount),e})),n=this.line_items.length,r=0;r<n;r++)(e=this.line_items[r]).id&&(t=i[r],e.discount=t.is_discount,e.is_discount_percent="percentage"==t.applied_discount.value_type,e.discount_reason=t.applied_discount.description,e.discount_value=t.applied_discount.value,e.total_discount=e.is_discount_percent?e.price*e.discount_value/100:e.discount_value)},t.prototype._addLineItem=function(e){var t,i,n,r,s,o;return e.quantity=this.getRoundQuantity(e.quantity),"string"==typeof e.price&&(e.price=parseFloat(e.price)),(null==e.title||"Default Title"==e.title)&&(e.title=""),e.id>0&&(t=$(".variant_id_"+e.id),i=$(t).attr("item-index"),t.length>0)?(n=t.find(".line_item_quantity"),r=this.getRoundQuantity(n.val()),isNaN(r)&&(r=1),this.line_items[i].quantity=r,Bindings.bind($(".line_item_"+i).get(0),this),Bindings.refreshImmediately(),t.find(".line_item_quantity").focus().select(),void $(document).click()):(e.item_index=this.line_items.length,e.money_format=this.money_format,e.reason_discount||(e.reason_discount=""),e.is_discount_percent||(e.is_discount_percent=!1),e.discount_value||(e.discount_value=0),e.total_discount||(e.total_discount=0),e.discount_reason||(e.discount_reason=""),e.discount||(e.discount=!1),e.reason_discount_tmp="",e.is_discount_percent_tmp=!1,e.discount_value_tmp=0,e.discount_value_changed=!1,null!=e.applied_discount&&"percentage"==e.applied_discount.value_type&&(e.total_discount=e.applied_discount.value,e.discount_value=e.applied_discount.value,e.is_discount_percent=!0,e.is_discount_percent_tmp=!0),(null==e.grams||null==e.grams)&&(e.grams=0),e.product&&1==e.product.options.length&&1==e.product.variants.length&&"Title"==e.product.options[0].name&&"Default Title"==e.product.variants[0].option1&&(e.is_default=!0),this.line_items.push(e),s=$("#line-item-template").html(),o=Mustache.render(s,{line_item:e}),$("#line_item_rows").append(o),Bindings.bind($(".line_item_"+e.item_index).get(0),this),e)},t.prototype.validateLineItemQuantity=function(e){var t=this.getRoundQuantity(this.line_items[e].quantity);parseInt(t)<1&&(t=1),this.line_items[e].quantity=t,this.updatePromotionInfo(),this.getShippingMethods()},t.prototype.getRoundQuantity=function(e){var t=Math.floor(Math.abs(e));return parseInt(t)<1?1:t},t.prototype.removeDiscountLineItem=function(e){this.line_items[e].discount_value=this.line_items[e].total_discount=0,this.line_items[e].is_discount_percent=!1,this.line_items[e].discount_reason="",this.line_items[e].discount=!1,$(".line_item_"+e+"_price").html(money(this.line_items[e].price,this.money_format).replace(" ","")),Juzaweb.UIPopover.deactivate(),this.getShippingMethods()},t.prototype.isValidDiscountLineItem=function(e){var t=$(".line-item-discount-value-"+e).val();return!t||(t=t.replace(",","").replace(".","")),Juzaweb.Utility.isNumeric(t)?parseInt(t)>0&&!(this.line_items[e].is_discount_percent_tmp&&parseInt(t)>100):void 0},t.prototype.applyDiscountLineItem=function(e){var t=$(".line-item-discount-value-"+e).val(),i=$(".line-item-discount-reason-"+e).val();this._applyDiscountLineItem(e,t,i),Juzaweb.UIPopover.deactivate(),this.getShippingMethods()},t.prototype.discountItemTmpChange=function(e){var t=this.line_items[e];t.discount_value_changed||(t.discount_value_changed=!0,t.discount_reason_tmp&&t.discount_reason_tmp.startsWith("CTKM:")&&(t.discount_reason_tmp=""))},t.prototype._applyDiscountLineItem=function(e,t,i){this.line_items[e].discount_value=t,this.line_items[e].discount_reason=i,this.line_items[e].is_discount_percent=this.line_items[e].is_discount_percent_tmp,this.line_items[e].is_discount_percent?(this.line_items[e].discount_value>100&&(this.validDraftOrder=!1),this.line_items[e].total_discount=this.line_items[e].discount_value*this.line_items[e].price/100):this.line_items[e].total_discount=this.line_items[e].discount_value,this.line_items[e].total_discount>this.line_items[e].price&&(this.line_items[e].total_discount=this.line_items[e].price),this.line_items[e].discount=!0},t.prototype.resetApplyDiscountLineItem=function(e){this.line_items[e].discount_value_tmp=this.line_items[e].discount_value,this.line_items[e].discount_value_changed=!1,this.line_items[e].discount_reason_tmp=this.line_items[e].discount_reason,this.line_items[e].is_discount_percent_tmp=this.line_items[e].is_discount_percent},t.prototype.getShippingMethods=function(e){for(var t,i=this,n=$(".shipping-method-radio"),r=0;r<n.length;r++)t=n[r],$(t).remove();this.shipping_address_provinceId>0||""!=this.shipping_address_province_code?(this.ajaxGetShipping&&this.ajaxGetShipping.abort(),this.ajaxGetShipping=$.ajax({url:"/admin/draft_orders/GetShippingMethods",type:"POST",data:{provinceId:i.shipping_address_provinceId,districtId:i.shipping_address_districtId,provinceCode:i.shipping_address_province_code,districtCode:i.shipping_address_district_code,totalPrice:i.caculateTotalLineItemPrice(),totalWeight:i.caculateTotalWeight(),currentShippingMethod:i.shipping_name,discountCode:i.apply_discount&&!i.apply_discount.unexisted?i.apply_discount.code:null,lineItems:i.rebuildCurrentLineItems(),email:i.cusEmail},success:function(t){t&&!t.error&&(t.shipping_methods&&t.shipping_methods.length>0?(i.shipping_methods=t.shipping_methods,i.checkCurrentShippingMethod()):(i.shipping_methods=[],i.checkCurrentShippingMethod()),i.apply_discount&&(i.checkForValidExcludeType(t)?(i.apply_discount.amount=t.applied_discount.amount,i.apply_discount.type=t.applied_discount.value_type,i.apply_discount.unexisted=!1,i.apply_discount.value=t.applied_discount.value):(i.apply_discount.unexisted=!0,i.apply_discount_code_input="",i.apply_discount.amount=0,i.apply_discount.type="",i.apply_discount.value=0)),i.discount_target_type=t.discount_target_type),e&&e(t)},complete:function(){this.ajaxGetShipping=void 0}})):(i.shipping_methods=[],i.checkCurrentShippingMethod())},t.prototype.recalculateCopiedDiscount=function(e){var t=this;t.apply_discount&&!t.apply_discount.unexisted&&$.ajax({url:"/admin/draft_orders/GetShippingMethods",type:"POST",data:{provinceId:t.shipping_address_provinceId,districtId:t.shipping_address_districtId,provinceCode:t.shipping_address_province_code,districtCode:t.shipping_address_district_code,totalPrice:t.caculateTotalLineItemPrice(),totalWeight:t.caculateTotalWeight(),currentShippingMethod:t.shipping_name,discountCode:t.apply_discount&&!t.apply_discount.unexisted?t.apply_discount.code:null,lineItems:t.rebuildCurrentLineItems(),email:t.cusEmail},success:function(i){i&&!i.error&&(t.checkForValidExcludeType(i)?(t.apply_discount.amount=i.applied_discount.amount,t.apply_discount.type=i.applied_discount.value_type,t.apply_discount.unexisted=!1,t.apply_discount.value=i.applied_discount.value):(t.apply_discount.unexisted=!0,t.apply_discount_code_input="",t.apply_discount.amount=0,t.apply_discount.type="",t.apply_discount.value=0)),e&&e()}})},t.prototype.checkCurrentShippingMethod=function(){var e,t,i;if(null!=this.shipping_methods){if(e=!1,this.shipping_custom)e=!0;else for(t=0;t<this.shipping_methods.length;t++)i=this.shipping_methods[t],this.shipping_custom||i.name!=this.shipping_name||i.fee!=this.shipping_fee||(e=!0,this.shipping_value=i.value);if(!e){if("free"==this.shipping_value)return;this.hasShipping=!1,this.shipping_name=null,this.shipping_fee=0,this.shipping_value="custom"}}else this.shipping_methods=[]},t.prototype.caculateTotalWeight=function(){for(var e=0,t=0;t<this.line_items.length;t++)null!=this.line_items[t]&&null!=this.line_items[t].item_index&&null!=this.line_items[t].item_index&&(e+=this.line_items[t].grams*this.line_items[t].quantity);return e},t.prototype.checkDiscountLineItemType=function(e){return this.line_items[e].is_discount_percent},t.prototype.removeLineItem=function(e){this.line_items[e]=null,Bindings.unbind($("#line_item_rows").get(0)),Bindings.bind($("#line_item_rows").get(0)),$(".line_item_"+e).remove(),Bindings.refreshImmediately(),this.line_items&&this.updatePromotionInfo(),this.getShippingMethods()},t.prototype.checkNewLineItem=function(e){return e.price&&(e.price=parseFloat(e.price.toString().replace(/,/g,""))),!isNaN(e.price)&&e.name&&""!==e.price&&e.price>=0},t.prototype.getCountLineItems=function(){for(var e=0,t=0;t<this.line_items.length;t++)null!=this.line_items[t]&&null!=this.line_items[t].item_index&&null!=this.line_items[t].item_index&&e++;return e},t.prototype.bindSrc=function(){var e="https://secure.gravatar.com/avatar/",t="?s=60&d=https%3A%2F%2Fjuzaweb.dktcdn.net%2Fassets%2Fadmin%2Fno-gravatar.png";return this.customer&&this.customer.email?e+CryptoJS.MD5(this.customer.email)+".jpg"+t:e+t},t.prototype.selectCustomer=function(e){null==e.default_address?(e.default_address=this.default_address,this.no_shipping_address=this.no_billing_address=!0):this.no_shipping_address=this.no_billing_address=!1,this._bindShippingAddress(e.default_address),this._bindBillingAddress(e.default_address),this.hasCustomerInfo=!0,this.email=e.email,this.phone=e.phone?e.phone.replace("+84","0"):"",this.cusEmail=e.email,this.customer=e,Bindings.unbind($(".order-sidebar")[0]),Bindings.bind($(".order-sidebar")[0]),Bindings.refreshImmediately(),this.applyDiscount()},t.prototype._bindShippingAddress=function(e){var t=null!=e.first_name?e.first_name:"",i=((null!=e.last_name?e.last_name:"")+" "+t).trim();this.shipping_address_name=i,this.shipping_address_first_name=e.first_name,this.shipping_address_last_name=e.last_name,this.shipping_address_province=e.province,this.shipping_address_phone=e.phone,this.shipping_address_country=e.country,this.shipping_address_country_code=e.country_code,this.shipping_address_address1=e.address1,this.shipping_address_city=e.city?e.city:e.province,this.shipping_address_province_code=e.province_code,this.shipping_address_districtId=0,this.shipping_address_district_code=e.district_code,this.shipping_address_district=e.district,this.shipping_address_wardId=0,this.shipping_address_ward_code=e.ward_code,this.shipping_address_ward=e.ward,this.shipping_address_company=e.company,this.shipping_address_zip=e.zip},t.prototype._bindBillingAddress=function(e){var t=null!=e.first_name?e.first_name:"",i=((null!=e.last_name?e.last_name:"")+" "+t).trim();this.billing_address_name=i,this.billing_address_first_name=e.first_name,this.billing_address_last_name=e.last_name,this.billing_address_province=e.province,this.billing_address_phone=e.phone,this.billing_address_country=e.country,this.billing_address_country_code=e.country_code,this.billing_address_address1=e.address1,this.billing_address_province_code=e.province_code,this.billing_address_districtId=0,this.billing_address_district_code=e.district_code,this.billing_address_district=e.district,this.billing_address_wardId=0,this.billing_address_ward_code=e.ward_code,this.billing_address_ward=e.ward,this.billing_address_company=e.company,this.billing_address_zip=e.zip,this.billing_address_city=e.city?e.city:e.province},t.prototype.isSameAddress=function(){return null!=this.billingSameAsShipping?this.billingSameAsShipping:(this.billingSameAsShipping=!(!this.isNullAddress(this.getShippingAddress())||!this.isNullAddress(this.getBillingAddress()))||_.equal(this.getShippingAddress(),this.getBillingAddress()),this.billingSameAsShipping)},t.prototype.isNullAddress=function(e){return!(null!=e.name&&e.name.trim().length>0)&&(!(null!=e.address1&&e.address1.trim().length>0)&&(!(null!=e.province&&e.province.trim().length>0)&&(!(null!=e.country&&e.country.trim().length>0)&&!(null!=e.phone&&e.phone.trim().length>0))))},t.prototype.getShippingAddress=function(){var e={};return e.name=this.shipping_address_name,e.province=this.shipping_address_province,e.phone=this.shipping_address_phone,e.country=this.shipping_address_country,e.address1=this.shipping_address_address1,e.district=this.shipping_address_district,e.ward=this.shipping_address_ward,e},t.prototype.invalidShippingAddress=function(){var e={};return e.name=this.shipping_address_name_tmp,e.province=this.shipping_address_province_tmp,e.phone=this.shipping_address_phone_tmp,e.country=this.shipping_address_country_tmp,e.address1=this.shipping_address_address1_tmp,this.isNullAddress(e)},t.prototype.getBillingAddress=function(){var e={};return e.name=this.billing_address_name,e.province=this.billing_address_province,e.phone=this.billing_address_phone,e.country=this.billing_address_country,e.address1=this.billing_address_address1,e.district=this.billing_address_district,e.ward=this.billing_address_ward,e},t.prototype.invalidBillingAddress=function(){var e={};return e.name=this.billing_address_name_tmp,e.province=this.billing_address_province_tmp,e.phone=this.billing_address_phone_tmp,e.country=this.billing_address_country_tmp,e.address1=this.billing_address_address1_tmp,this.isNullAddress(e)},t.prototype.updateBillingAddress=function(){$("#showErrorAddressDraft").find(".ui-banner__title").text(""),$("#showErrorAddressDraft").find(".ui-type-container ul").empty(),$("#showErrorAddressDraft").hasClass("hide")||$("#showErrorAddressDraft").addClass("hide");var e="",t=0;this.customerAddress.address_last_name.length>50&&(t+=1,e+="<li>Họ không được dài quá 50 ký tự</li>"),this.customerAddress.address_first_name.length>50&&(t+=1,e+="<li>Tên không được dài quá 50 ký tự</li>"),this.customerAddress.address_company.length>50&&(t+=1,e+="<li>Công ty không dài quá 50 ký tự</li>"),this.customerAddress.address_phone.length>15&&(t+=1,e+="<li>Số điện thoại không dài quá 15 ký tự</li>"),this.customerAddress.address_address1.length>255&&(t+=1,e+="<li>Địa chỉ không dài quá 255 ký tự</li>"),this.customerAddress.address_city&&this.customerAddress.address_city.length>50&&(t+=1,e+="<li>Tỉnh / Thành phố không dài quá 50 ký tự</li>"),this.customerAddress.address_zip.length>20&&(t+=1,e+="<li>Postal / Zip Code phố không dài quá 20 ký tự</li>"),0===t?(this.billing_address_name=(this.customerAddress.address_last_name+" "+this.customerAddress.address_first_name).trim(),this.billing_address_first_name=this.customerAddress.address_first_name,this.billing_address_last_name=this.customerAddress.address_last_name,this.billing_address_company=this.customerAddress.address_company,this.billing_address_zip=this.customerAddress.address_zip,this.billing_address_phone=this.customerAddress.address_phone,this.billing_address_address1=this.customerAddress.address_address1,this.billing_address_city=this.customerAddress.address_city,this.billing_address_countryId=this.customerAddress.country_id,this.billing_address_country=$("#CountryId option:selected").text(),this.customerAddress.have_city?(this.billing_address_provinceId=this.customerAddress.province_id,this.billing_address_province=$("#provinceSlt option:selected").text(),this.billing_address_districtId=this.customerAddress.district_id,this.billing_address_district=$("#districtSlt option:selected").text(),this.billing_address_wardId=this.customerAddress.ward_id,this.billing_address_ward=$("#wardSlt option:selected").text()):(this.billing_address_city=this.customerAddress.city,this.billing_address_province=this.customerAddress.city,this.billing_address_provinceId=0,this.billing_address_province_code="",this.billing_address_districtId=0,this.billing_address_district_code="",this.billing_address_district="",this.billing_address_wardId=0,this.billing_address_ward_code="",this.billing_address_ward=""),Juzaweb.Modal.hide(),Bindings.bind($(".order-sidebar")[0],this),this.no_billing_address=!1,this.billingSameAsShipping=null,this.updateDraftOrder()):($("#showErrorAddressDraft").find(".ui-banner__title").text("Có "+t+" lỗi:"),$("#showErrorAddressDraft").find(".ui-type-container ul").append(e),$("#showErrorAddressDraft").removeClass("hide"))},t.prototype.resetBillingAddress=function(){$.ajax({url:Juzaweb.routes.draftorders+"/address?callback=updateBillingAddress",type:"GET",data:{firstName:this.billing_address_first_name,lastName:this.billing_address_last_name,company:this.billing_address_company,zip:this.billing_address_zip,phone:this.billing_address_phone,address1:this.billing_address_address1,city:this.billing_address_city,countryCode:this.billing_address_country_code,provinceCode:this.billing_address_province_code,districtCode:this.billing_address_district_code,wardCode:this.billing_address_ward_code,customerId:this.customer.id},success:function(e){(new Juzaweb.Modal).show({content:e}),$(".filter-dropdown").select2("destroy"),initSelect2()}})},t.prototype.updateShippingAddress=function(){$("#showErrorAddressDraft").find(".ui-banner__title").text(""),$("#showErrorAddressDraft").find(".ui-type-container ul").empty(),$("#showErrorAddressDraft").hasClass("hide")||$("#showErrorAddressDraft").addClass("hide");var e="",t=0;this.customerAddress.address_last_name.length>50&&(t+=1,e+="<li>Họ không được dài quá 50 ký tự</li>"),this.customerAddress.address_first_name.length>50&&(t+=1,e+="<li>Tên không được dài quá 50 ký tự</li>"),this.customerAddress.address_company.length>50&&(t+=1,e+="<li>Công ty không dài quá 50 ký tự</li>"),this.customerAddress.address_phone.length>15&&(t+=1,e+="<li>Số điện thoại không dài quá 15 ký tự</li>"),this.customerAddress.address_address1.length>255&&(t+=1,e+="<li>Địa chỉ không dài quá 255 ký tự</li>"),this.customerAddress.address_city&&this.customerAddress.address_city.length>50&&(t+=1,e+="<li>Tỉnh / Thành phố không dài quá 50 ký tự</li>"),this.customerAddress.address_zip.length>20&&(t+=1,e+="<li>Postal / Zip Code phố không dài quá 20 ký tự</li>"),0===t?(this.shipping_address_name=(this.customerAddress.address_last_name+" "+this.customerAddress.address_first_name).trim(),this.shipping_address_first_name=this.customerAddress.address_first_name,this.shipping_address_last_name=this.customerAddress.address_last_name,this.shipping_address_company=this.customerAddress.address_company,this.shipping_address_zip=this.customerAddress.address_zip,this.shipping_address_phone=this.customerAddress.address_phone,this.shipping_address_address1=this.customerAddress.address_address1,this.shipping_address_city=this.customerAddress.address_city,this.shipping_address_countryId=this.customerAddress.country_id,this.shipping_address_country=$("#CountryId option:selected").text(),this.customerAddress.have_city?(this.shipping_address_provinceId=this.customerAddress.province_id,this.shipping_address_province=$("#provinceSlt option:selected").text(),this.shipping_address_districtId=this.customerAddress.district_id,this.shipping_address_district=$("#districtSlt option:selected").text(),this.shipping_address_wardId=this.customerAddress.ward_id,this.shipping_address_ward=$("#wardSlt option:selected").text()):(this.shipping_address_city=this.customerAddress.city,this.shipping_address_province=this.customerAddress.city,this.shipping_address_provinceId=0,this.shipping_address_province_code="",this.shipping_address_districtId=0,this.shipping_address_district_code="",this.shipping_address_district="",this.shipping_address_wardId=0,this.shipping_address_ward_code="",this.shipping_address_ward=""),Juzaweb.Modal.hide(),Bindings.bind($(".order-sidebar")[0],this),this.no_shipping_address=!1,this.billingSameAsShipping=null,this.getShippingMethods(),this.updateDraftOrder()):($("#showErrorAddressDraft").find(".ui-banner__title").text("Có "+t+" lỗi:"),$("#showErrorAddressDraft").find(".ui-type-container ul").append(e),$("#showErrorAddressDraft").removeClass("hide"))},t.prototype.resetShippingAddress=function(){$.ajax({url:Juzaweb.routes.draftorders+"/address?callback=updateShippingAddress",type:"GET",data:{firstName:this.shipping_address_first_name,lastName:this.shipping_address_last_name,company:this.shipping_address_company,zip:this.shipping_address_zip,phone:this.shipping_address_phone,address1:this.shipping_address_address1,city:this.shipping_address_city,countryCode:this.shipping_address_country_code,provinceCode:this.shipping_address_province_code,districtCode:this.shipping_address_district_code,wardCode:this.shipping_address_ward_code,customerId:this.customer.id},success:function(e){(new Juzaweb.Modal).show({content:e}),$(".filter-dropdown").select2("destroy"),initSelect2()}})},t.prototype.isValidPaid=function(){return this.validDraftOrder&&this.getCountLineItems()>0},t.prototype.isValidPending=function(){return this.validDraftOrder&&this.getCountLineItems()>0&&this.caculateTotalPrice()>0},t.prototype.isValid=function(){return this.validDraftOrder&&this.getCountLineItems()>0},t.prototype.createDraftOrder=function(e){var t,i=this;this.isCreating=!0,null!=(t=this.getDraftOrder(e)).lineItems&&0!=t.lineItems.length?!this.email||validateEmail(this.email)?($(".btn-save-draft-order").addClass("disabled is-loading"),$.ajax({type:"POST",url:"/admin/draft_orders/create",contentType:"application/json; charset=utf-8",data:JSON.stringify(t),dataType:"json",success:function(e){if(null==e.error){Juzaweb.Flash.notice("Tạo đơn hàng mới thành công!");var t=e.id;setTimeout(function(){window.location.href="/admin/draft_orders/"+t},1e3)}else Juzaweb.Flash.error(e.error)},error:function(e){$(".btn-save-draft-order").removeClass("disabled is-loading"),i.isCreating=!1,Juzaweb.Flash.error(e.responseJSON.error)}})):Juzaweb.Flash.error("Email không đúng định dạng."):Juzaweb.Flash.error("Đơn hàng phải có sản phẩm.")},t.prototype.completeDraftOrder=function(e){var t={};t.id=this.draftOrderId,t.paymentPending="pending"==e,$(".btn-complete-draft-order").addClass("disabled is-loading"),$.ajax({type:"POST",url:"/admin/draft_orders/"+this.draftOrderId+"/complete",contentType:"application/json; charset=utf-8",data:JSON.stringify(t),dataType:"json",success:function(e){if(null==e.error){var t=e.id;setTimeout(function(){window.location.href="/admin/orders/"+t},100)}else Juzaweb.Flash.error(e.error)},error:function(e){Juzaweb.Flash.error(e.responseJSON.error),$(".btn-complete-draft-order").addClass("disabled is-loading")}})},t.prototype.updateDraftOrder=function(e){var t,i=this;this.isCreating=!1,null!=(t=this.getDraftOrder(e)).lineItems&&0!=t.lineItems.length?!this.email||validateEmail(this.email)?(Juzaweb.Loading.start(),$(".btn-save-draft-order").addClass("disabled is-loading"),$.ajax({type:"POST",url:"/admin/draft_orders/"+i.draftOrderId,contentType:"application/json; charset=utf-8",data:JSON.stringify(t),dataType:"json",success:function(e){null==e.error?(Juzaweb.Flash.notice("Cập nhật đơn hàng thành công!"),setTimeout(function(){location.reload()},100)):Juzaweb.Flash.error(e.error)},error:function(e){i.isCreating=!1,Juzaweb.Flash.error(e.responseJSON.error),Juzaweb.Loading.stop(),$(".btn-save-draft-order").removeClass("disabled is-loading")}})):Juzaweb.Flash.error("Email không đúng định dạng."):Juzaweb.Flash.error("Đơn hàng phải có sản phẩm.")},t.prototype.getDraftOrder=function(e){var t,i={};return this.hasCustomerInfo&&(i.customerId=this.customer.id,i.email=this.email,this.no_shipping_address||(i.shippingAddress={},i.shippingAddress.firstName=this.shipping_address_first_name,i.shippingAddress.lastName=this.shipping_address_last_name,i.shippingAddress.name=this.shipping_address_name,i.shippingAddress.phone=this.shipping_address_phone,i.shippingAddress.address1=this.shipping_address_address1,i.shippingAddress.country=this.shipping_address_country,i.shippingAddress.countryId=this.shipping_address_countryId,i.shippingAddress.countryCode=this.shipping_address_country_code,i.shippingAddress.city=this.shipping_address_city,i.shippingAddress.province=this.shipping_address_province,i.shippingAddress.provinceId=this.shipping_address_provinceId,i.shippingAddress.provinceCode=this.shipping_address_province_code,i.shippingAddress.districtId=this.shipping_address_districtId,i.shippingAddress.districtCode=this.shipping_address_district_code,i.shippingAddress.district=this.shipping_address_district,i.shippingAddress.wardId=this.shipping_address_wardId,i.shippingAddress.wardCode=this.shipping_address_ward_code,i.shippingAddress.ward=this.shipping_address_ward,i.shippingAddress.company=this.shipping_address_company,i.shippingAddress.zip=this.shipping_address_zip),this.no_billing_address||(i.billingAddress={},i.billingAddress.firstName=this.billing_address_first_name,i.billingAddress.lastName=this.billing_address_last_name,i.billingAddress.name=this.billing_address_name,i.billingAddress.phone=this.billing_address_phone,i.billingAddress.address1=this.billing_address_address1,i.billingAddress.country=this.billing_address_country,i.billingAddress.countryId=this.billing_address_countryId,i.billingAddress.countryCode=this.billing_address_country_code,i.billingAddress.city=this.billing_address_city,i.billingAddress.province=this.billing_address_province,i.billingAddress.provinceId=this.billing_address_provinceId,i.billingAddress.provinceCode=this.billing_address_provinceCode,i.billingAddress.districtId=this.billing_address_districtId,i.billingAddress.districtCode=this.billing_address_district_code,i.billingAddress.district=this.billing_address_district,i.billingAddress.wardId=this.billing_address_wardId,i.billingAddress.wardCode=this.billing_address_ward_code,i.billingAddress.ward=this.billing_address_ward,i.billingAddress.company=this.billing_address_company,i.billingAddress.zip=this.billing_address_zip)),this.hasShipping&&(i.shippingLine={},i.shippingLine.code=this.shipping_code?this.shipping_code:this.shipping_name,i.shippingLine.title=this.shipping_name,i.shippingLine.price=this.shipping_fee,i.shippingLine.custom=this.shipping_custom),t=[],$(".next-token-list :input[name='Tags[]']").each(function(){var e=$(this);t.push(e.val())}),i.financialStatus=null==e?"":e,i.note=this.note,i.tags=t,i.isSendMail=this.isSendMail,i.discountTargetType=this.discount_target_type,(this.discount||this.apply_discount&&this.apply_discount.amount>0)&&(i.appliedDiscount={},this.apply_discount?(i.appliedDiscount.title=this.apply_discount.code,i.appliedDiscount.value=this.apply_discount.value,i.appliedDiscount.valueType=this.apply_discount.type,i.appliedDiscount.custom=!1,i.appliedDiscount.amount=this.apply_discount.amount):(i.appliedDiscount.description=this.reason_discount,i.appliedDiscount.value=this.discount,i.appliedDiscount.valueType=this.is_discount_percent?"percentage":"fixed_amount",i.appliedDiscount.custom=!0)),i.lineItems=this.rebuildCurrentLineItems(),i},t.prototype.rebuildCurrentLineItems=function(){for(var e,t,i=[],n=0;n<this.line_items.length;n++)null!=this.line_items[n]&&null!=this.line_items[n].item_index&&null!=this.line_items[n].item_index&&(e=this.line_items[n],(t={}).quantity=e.quantity,t.productId=e.product_id,t.variantId=e.id,t.variantTitle=e.title,t.title=e.name,t.requiresShipping=e.requires_shipping,t.price=e.price,t.discountedPrice=Math.max(0,e.price-e.total_discount),t.grams=e.grams,e.discount&&(t.appliedDiscount={},t.appliedDiscount.value=e.discount_value,t.appliedDiscount.description=e.discount_reason,t.appliedDiscount.valueType=e.is_discount_percent?"percentage":"dollar"),i.push(t));return i},t.prototype.resetAddress=function(){this.shipping_address_name="",this.shipping_address_first_name="",this.shipping_address_last_name="",this.shipping_address_province="",this.shipping_address_phone="",this.shipping_address_country="",this.shipping_address_address1="",this.shipping_address_city="",this.shipping_address_provinceId=0,this.shipping_address_districtId=0,this.shipping_address_district="",this.shipping_address_wardId=0,this.shipping_address_ward="",this.shipping_address_zip="",this.shipping_address_company="",this.shipping_address_country_code="",this.shipping_address_countryId=0,this.billing_address_first_name="",this.billing_address_last_name="",this.billing_address_name="",this.billing_address_province="",this.billing_address_phone="",this.billing_address_country="",this.billing_address_address1="",this.billing_address_city="",this.billing_address_provinceId=0,this.billing_address_districtId=0,this.billing_address_district="",this.billing_address_wardId=0,this.billing_address_ward="",this.billing_address_zip="",this.billing_address_company="",this.billing_address_country_code="",this.billing_address_countryId=0,this.no_shipping_address=!0,this.no_billing_address=!0,this.billingSameAsShipping=null,this.hasShipping=!1,this.shipping_name="",this.shipping_fee=0},t.prototype.removeCustomer=function(){this.customer=this.default_customer,this.hasCustomerInfo=!1,this.email="",this.phone="",this.cusEmail="",this.resetAddress(),this.getShippingMethods()},t.prototype.resetOrderEmail=function(){this.email_tmp=this.customer.email,this.editEmailModal.show()},t.prototype.updateEmail=function(){var e=$("input#order_email").val();!e||validateEmail(e)?(this.email=e,this.editEmailModal.hide(),this.updateDraftOrder()):Juzaweb.Flash.error("Email không đúng định dạng.")},t.prototype.caculateTotalLineItemPrice=function(){for(var e=0,t=0;t<this.line_items.length;t++)null!=this.line_items[t]&&null!=this.line_items[t].item_index&&null!=this.line_items[t].item_index&&(e+=(this.line_items[t].price-this.line_items[t].total_discount)*this.line_items[t].quantity);return e},t.prototype.isValidDiscount=function(){if(this.getCountLineItems()>0){if(this.apply_discount_code_input)return!0;var e=this.discount_tmp,t=this.isDiscountPercentTmp;if(e&&(e=parseFloat(e.toString().replace(/,/g,""))),Juzaweb.Utility.isNumeric(e)&&parseInt(e)>0){if(!t)return!0;if(parseInt(e)<=100)return!0}}return!1},t.prototype.applyDiscount=function(){var e=this;this.apply_discount_code_input?(this.apply_discount={},this.apply_discount.code=this.apply_discount_code_input,this.discount=this.discount_tmp=0,this.reason_discount=this.reason_discount_tmp=""):(this.apply_discount=null,this.apply_discount_code_input="",this.discount=this.discount_tmp,this.reason_discount=this.reason_discount_tmp,this.is_discount_percent=this.isDiscountPercentTmp,this.discount&&(this.discount=parseFloat(this.discount.toString().replace(/,/g,"")))),Juzaweb.UIPopover.deactivate(),this.getShippingMethods(function(){$(".shipping-methods-select").find('input[type="radio"][shipping-name="'+e.shipping_name+'"]').iCheck("check"),$(".btn-apply-shipping").removeClass("disabled")}),reSetAutoNumeric()},t.prototype.caculateDiscount=function(){var e,t=0;return this.apply_discount?t=this.apply_discount.amount?this.apply_discount.amount:0:(e=this.caculateTotalLineItemPrice(),t=this.is_discount_percent?e*this.discount/100:parseFloat(this.discount)),t},t.prototype.caculateTotalPrice=function(){var e=this.caculateTotalLineItemPrice();return"shipping_line"==this.discount_target_type?e-this.caculateDiscount()+this.shipping_fee:e-Math.min(this.caculateDiscount(),e)+this.shipping_fee},t.prototype.caculateSubtotalPrice=function(){var e=this.caculateTotalLineItemPrice();return e-Math.min(this.caculateDiscount(),e)},t.prototype.removeDiscount=function(){this.apply_discount=null,this.apply_discount_code_input="",this.discount=0,this.reason_discount="",this.discount_tmp=0,this.reason_discount_tmp="",this.is_discount_percent=this.isDiscountPercentTmp=!1,Juzaweb.UIPopover.deactivate()},t.prototype.canSaveShippingRate=function(){var e,t;return"custom"!=$("input[name='shippingMethod']:checked").val()||(e=$("#customShippingName").val(),t=parseFloat($("#customShippingFee").val()),""!=e&&Juzaweb.Utility.isNumeric(t))},t.prototype.setShippingLine=function(){var e;if(unSetAutoNumeric(),e=$("input[name='shippingMethod']:checked"),this.shipping_value=$(e).val(),"custom"==$(e).val())this.shipping_custom=this.shipping_custom_tmp=!0,t=$("#customShippingName").val(),i=parseFloat($("#customShippingFee").val()),t.trim()||(t="Tùy chọn"),Juzaweb.Utility.isNumeric(i)||(i=0),this.shipping_name=this.custom_shipping_name=t,this.shipping_fee=this.custom_shipping_fee=i;else if("partner"==$(e).data("type")){this.shipping_value="custom",this.shipping_custom=this.shipping_custom_tmp=!0;var t=$(e).data("partner-name")+"-"+$(e).data("deliver-type"),i=parseFloat($(e).data("partner-fee")),n=$(e).data("service-code");t.trim()||(t="Tùy chọn đối tác vận chuyển"),Juzaweb.Utility.isNumeric(i)||(i=0),this.shipping_name=this.custom_shipping_name=t,this.shipping_fee=this.custom_shipping_fee=i,this.shipping_code=this.custom_shipping_code=n}else this.shipping_custom=this.shipping_custom_tmp=!1,this.shipping_name=$("input[name='shippingMethod']:checked").attr("shipping-name"),this.shipping_fee=parseFloat($("input[name='shippingMethod']:checked").attr("fee"));this.recalculateCopiedDiscount(),this.hasShipping=!0,reSetAutoNumeric(),this.closeShippingMethodModal(),this.form.makeDirty()},t.prototype.isValidShippingFee=function(){var e,t,i=$("input[name='shippingMethod']:checked");if("custom"==$(i).val()){if(this.shipping_custom=this.shipping_custom_tmp=!0,e=$("#customShippingName").val(),t=unFomatPrice($("#customShippingFee").val()),!e.trim())return!1}else if("partner"==$(i).data("type")){if(this.shipping_custom=this.shipping_custom_tmp=!0,e=$(i).data("partner-name")+"-"+$(i).data("deliver-type"),t=$(i).data("partner-fee"),!e.trim())return!1}else t=parseFloat($("input[name='shippingMethod']:checked").attr("fee"));return!!Juzaweb.Utility.isNumeric(t)&&!(t<0)},t.prototype.isShippingCustom=function(){var e=$("input[name='shippingMethod']:checked").val();this.shipping_custom_tmp="custom"==e},t.prototype.resetShippingLine=function(){this.custom_shipping_name_tmp=this.custom_shipping_name,this.custom_shipping_fee_tmp=this.custom_shipping_fee,this.shipping_custom_tmp=this.shipping_custom,initAutoNumeric(),this.shippingMethodModal.show();var e=$("#shipping-methods-template").html(),t=Mustache.render(e,{"shipping-methods":this.shipping_methods});$(".shipping-method-fee-radio").before(t),Bindings.unbind($(".shipping-methods-select").get(0)),Bindings.bind($(".shipping-methods-select").get(0))},t.prototype.closeShippingMethodModal=function(){this.shippingMethodModal.hide(),setTimeout(function(){var e=$("#shipping_methods");e.parent().is("script")&&e.unwrap(),$(".suggest-fee-modal").find("#shipping-address").empty(),$(".suggest-fee-modal").find("#location-store-address").empty(),$(".suggest-fee-modal").find(".suggest-fee-detail").empty(),$(e).css("display","none")},50)},t.prototype.showFeePartner=function(e){var t=this,i=$(e).closest(".suggest-fee-modal");$(i).addClass("is-secondary"),$(i).find(".load-city-district").addClass("show").addClass("btn-loading"),$(i).find(".load-location-store").addClass("show").addClass("btn-loading");var n=this.caculateTotalLineItemPrice()-Math.min(this.caculateDiscount(),this.caculateTotalLineItemPrice()),r=this.caculateTotalWeight();$(i).find("#order-totalprice").val(n),$(i).find("#order-total-weight").val(r),initAutoNumeric(),$.ajax({url:"/admin/draft_orders/GetStoreLocations",type:"GET",async:!0,success:function(e){$(i).find(".load-location-store").removeClass("show").removeClass("btn-loading"),$(i).find("#location-store-address").html(e),$("#location-store").select2({placeholder:"Tỉnh/Thành phố - Quận/Huyện"}),$.ajax({url:"/admin/draft_orders/GetLocations",type:"POST",data:{provinceCode:t.shipping_address_province_code,districtCode:t.shipping_address_district_code,countryId:t.shipping_address_countryId,countryName:t.shipping_address_country,provinceName:t.shipping_address_province,provinceId:t.shipping_address_provinceId,districtId:t.shipping_address_districtId},success:function(e){$(i).find(".load-city-district").removeClass("show").removeClass("btn-loading"),$(i).find("#shipping-address").html(e),$("#cityDistrictShipping").select2({placeholder:"Tỉnh/Thành phố - Quận/Huyện"}),Bindings.refreshImmediately(),Bindings.unbind($(i).get(0),t),Bindings.bind($(i).get(0),t),t.getFeePartner()},error:function(){Sapo.Flash.error("Có lỗi xảy ra!")}})},error:function(){Juzaweb.Flash.error("Có lỗi xảy ra!")}})},t.prototype.getFeePartner=function(){var e,t,i=this;null!=i.loadAjaxSuggestFee&&i.loadAjaxSuggestFee.abort(),null!=this.loadAjaxSuggestFeeTimeout&&clearTimeout(this.loadAjaxSuggestFeeTimeout);var n="<div class='no-info'><p>Nhập đầy đủ thông tin <strong>địa chỉ giao hàng, tiền thu hộ, khối lượng</strong> để Sapo gợi ý phí Ship và thời gian dự kiến giao của các đối tác vận chuyển cho cửa hàng của bạn!</p></div>",r=$(".suggest-fee-modal-wrapper");$(r).find(".load-fee-partner").addClass("show").addClass("btn-loading"),$(r).find(".error-text").removeClass("show"),$(r).find(".error-text").empty(),$(r).find(".suggest-fee-detail").empty();var s=$(r).find("#location-store option:selected"),o=$(s).data("provincecode"),a=$(s).data("districtcode"),l=$(r).find("#cityDistrictShipping option:selected"),u=$(l).val(),c=$(r).find("#order-totalprice").val(),d=$(r).find("#order-total-weight").val(),h=this.caculateTotalLineItemPrice()-Math.min(this.caculateDiscount(),this.caculateTotalLineItemPrice()),p="";if(0==u&&(p+="<li>Khu vực giao hàng là bắt buộc!</li>"),0==$(s).val()&&(p+="<li>Khu vực lấy hàng là bắt buộc!</li>"),(""==c||c<0||parseInt(c)>h)&&(p+="<li>Tiền thu hộ không được để trống, không được âm hoặc lớn hơn giá trị đơn hàng!</li>"),(""==d||parseInt(d)<0)&&(p+="<li>Khối lượng không được để trống và không âm!</li>"),p)return $(r).find(".load-fee-partner").removeClass("show").removeClass("btn-loading"),$(r).find(".suggest-fee-detail").html(n),$(r).find(".error-text").html(p),void $(r).find(".error-text").addClass("show");e=$(l).data("provincecode"),t=$(l).data("districtcode"),230===i.shipping_address_countryId||0===i.shipping_address_countryId?this.loadAjaxSuggestFeeTimeout=setTimeout(function(){i.loadAjaxSuggestFee=$.ajax({url:"/admin/draft_orders/SuggestFees",type:"POST",async:!0,data:{srcProvinceCode:o,srcDistrictCode:a,cod:c,weight:d,targetProvinceCode:e,targetDistrictCode:t,isCreate:!0},success:function(e){$(r).find(".load-fee-partner").removeClass("show").removeClass("btn-loading"),$(r).find(".suggest-fee-detail").html(e),Bindings.refreshImmediately(),Bindings.unbind($(r).get(0),i),Bindings.bind($(r).get(0),i)},error:function(){$(r).find(".load-fee-partner").removeClass("show").removeClass("btn-loading"),$(r).find(".suggest-fee-detail").html(n)}})},500):($(r).find(".load-fee-partner").removeClass("show").removeClass("btn-loading"),$(r).find(".suggest-fee-detail").html("<div class='no-info'><p>Hiện tại chúng tôi chưa hỗ trợ gợi ý phí đối với địa chỉ nước ngoài.</p></div>"))},t.prototype.changeElementSuggestFee=function(){this.getFeePartner()},t.prototype.backFeeStore=function(e){$(e).closest(".suggest-fee-modal").removeClass("is-secondary")},t.prototype.caculateTotalWeight=function(){for(var e=0,t=0;t<this.line_items.length;t++)null!=this.line_items[t]&&null!=this.line_items[t].item_index&&null!=this.line_items[t].item_index&&(e+=this.line_items[t].grams*this.line_items[t].quantity);return e},t.prototype.removeShipping=function(){this.hasShipping=!1,this.shipping_name="",this.shipping_fee=0,Juzaweb.UIPopover.deactivate(),this.apply_discount&&this.recalculateCopiedDiscount()},t.prototype.quickCreateCustomer=function(){$("#juzaweb-modal .btn-default.btn-primary").addClass("disabled").html(Juzaweb.LOADING),this.isCustomerInVietnam=!0;var e=this,t=$("#form-quick-add-customer");$.ajax({url:"/admin/customers/quickcreate",type:"POST",data:t.serialize(),success:function(t){null!=t.error?Juzaweb.Flash.error(t.error):null!=t.id&&t.id>0&&(e.selectCustomer(t),Juzaweb.Modal.hide())}})},t.prototype.selectShippingMethod=function(){},t.prototype.markPaymentOrder=function(){var e=this;setTimeout(function(){if(null!=e.mark_payment_order&&""!=e.mark_payment_order){switch(e.mark_payment_order){case"paid":e.confirmPaidOrderModal.show();break;case"pending":e.confirmPendingOrderModal.show()}Bindings.refreshImmediately()}},50)},t.prototype.saveIfDirtyThenShow=function(e){var t,i=this;this.isCreating=!1,null!=(t=this.getDraftOrder("")).lineItems&&0!=t.lineItems.length?($(".btn-save-draft-order").addClass("disabled is-loading"),$.ajax({type:"POST",url:"/admin/draft_orders/"+i.draftOrderId,contentType:"application/json; charset=utf-8",data:JSON.stringify(t),dataType:"json",success:function(t){$(".btn-save-draft-order").removeClass("disabled is-loading"),null==t.error?"markAsPaidModal"==e?i.confirmPaidOrderModal.show():"markAsPendingModal"==e&&i.confirmPendingOrderModal.show():Juzaweb.Flash.error(t.error)},error:function(e){$(".btn-save-draft-order").removeClass("disabled is-loading"),i.isCreating=!1,void 0!==e.responseJSON?null!==e.responseJSON.error&&""!==e.responseJSON.error&&Juzaweb.Flash.error(e.responseJSON.error.replace(/\n/g,"; ").replace(/; $/,"")):Juzaweb.Flash.error("Đã xảy ra lỗi khiến quá trình cập nhật đơn hàng thất bại.")}})):Juzaweb.Flash.error("Đơn hàng phải có sản phẩm.")},t.prototype.displayDiscountError=function(e,t){var i=this.apply_discount.code;null!=i&&""!==i&&(i=" "+_.escape(i)),!e||Juzaweb.Flash.error("Mã khuyến mãi"+i+" không được tìm thấy hoặc không thể sử dụng"),!t||Juzaweb.Flash.error("Mã khuyến mãi"+i+" không thể dùng chung với chương trình khuyến mãi")},t.prototype.checkForValidExcludeType=function(e){return e&&e.applied_discount?!e.exclude_type||!_.some(this.line_items,i)||(this.displayDiscountError(!1,!0),!1):(this.displayDiscountError(!0),!1)},t}()}.call(this),function(){Juzaweb.CustomerAddress=function(){function e(e,t){if(null!=t)for(var i in t)this[i]=t[i];this.$provinces=$(t.province_slt),this.$districts=$(t.district_slt),this.$wards=$(t.ward_slt),this.element=e,this.loaded=!1,initSelect2(),$(".modal-dialog").on("click",this.closeSuggestAddress),this.address_form_dirty=!1,this.have_city&&(void 0!==this.init_ward_id||void 0!==this.init_ward_code)&&(void 0===this.init_ward_id&&(this.init_ward_id=null),void 0===this.init_ward_code&&(this.init_ward_code=null),this.changeDistrict(this.init_ward_id,this.init_ward_code,function(){$(t.ward_slt).removeClass("js-no-dirty")}))}return e.prototype.closeSuggestAddress=function(e){"ui-popover-addresses"!==e.target.id&&"btn-select-address"!==e.target.id&&0===$("#ui-popover-addresses.ui-popover--is-active").has(e.target).length&&$(".ui-popover-container-mod").hasClass("ui-popover__container--contains-active-popover")&&($(".ui-popover-container-mod").removeClass("ui-popover__container--contains-active-popover"),$(e).attr("aria-expanded",!1),$("#ui-popover-addresses").removeClass("ui-popover--is-active"),$("#ui-popover-addresses").attr("aria-expanded",!1))},e.prototype.changeCountry=function(e,t,i){var n=this;$.ajax({url:"/admin/countries/{0}/provinces".format(n.country_id),success:function(r){var s,o,a;if(0==r.length)n.have_city=!1,n.$provinces.empty(),n.$districts.empty(),n.$wards.empty();else{for(o in s="",r)s+="<option value='"+(a=r[o]).id+"'>"+a.name+"</option>";n.$provinces.empty().html(s),null!=e&&null!=t?(n.$provinces.val(e),n.changeProvince(t,i)):n.$provinces.trigger("change"),n.have_city=!0}}})},e.prototype.changeProvince=function(e,t){var i=this;$.ajax({url:"/admin/provinces/{0}/districts".format(i.province_id),success:function(n){var r,s,o;if(0==n.length)i.$districts.empty(),i.$wards.empty();else{for(s in r="",n)r+="<option value='"+(o=n[s]).id+"'>"+o.name+"</option>";if(i.$districts.empty().html(r),null!=e&&(i.$districts.val(e),null!=t))return void i.changeDistrict(null,t);i.$districts.trigger("change")}}})},e.prototype.changeDistrict=function(e,t,i){var n=this;$.ajax({url:"/admin/districts/{0}/wards".format(n.$districts.val()),success:function(r){var s,o,a;if(0==r.length)n.$wards.empty();else{for(a in s="",r)s+="<option value='"+(o=r[a]).id+"'>"+o.name+"</option>";n.$wards.empty().html(s),null!=e&&(0==e?n.$wards.val(r[0].id):n.$wards.val(e)),null!=t&&(-1!=(a=_.findIndex(r,function(e){return e.code==t}))&&(n.$wards.val(r[a].id),n.ward_id=r[a].id)),n.$wards.trigger("change"),null!=i&&i()}}})},e.prototype.getAddresses=function(e,t){var i=this;$(".ui-popover-container-mod").hasClass("ui-popover__container--contains-active-popover")?($(".ui-popover-container-mod").removeClass("ui-popover__container--contains-active-popover"),$(e).attr("aria-expanded",!1),$("#ui-popover-addresses").removeClass("ui-popover--is-active"),$("#ui-popover-addresses").attr("aria-expanded",!1)):($(".ui-popover-container-mod").addClass("ui-popover__container--contains-active-popover"),$(e).attr("aria-expanded",!0),$("#ui-popover-addresses").addClass("ui-popover--is-active"),$("#ui-popover-addresses").attr("aria-expanded",!0),this.loaded||$.ajax({url:"/admin/orders/GetAddresses",data:{customerId:t},success:function(e){i.loaded=!0,$("#list_address").html(e),Bindings.refreshImmediately(),Bindings.unbind($("#ui-popover-addresses").get(0)),Bindings.bind($("#ui-popover-addresses").get(0))},error:function(){}}))},e.prototype.setShippingAddress=function(e,t){if($(".ui-popover-container-mod").removeClass("ui-popover__container--contains-active-popover"),$("#btn-select-address").attr("aria-expanded",!1),$("#ui-popover-addresses").removeClass("ui-popover--is-active"),$("#ui-popover-addresses").attr("aria-expanded",!1),230==t.address.country_id)this.address_last_name=null!==t.address.last_name?t.address.last_name:"",this.address_first_name=null!==t.address.first_name?t.address.first_name:"",this.address_company=null!=t.address.company?t.address.company:"",this.address_phone=null!==t.address.phone?t.address.phone:"",this.address_address1=null!==t.address.address1?t.address.address1:"",this.country_id=230,this.address_zip=null!==t.address.zip?t.address.zip:"",this.province_id=t.address.province_id,this.district_id=t.address.district_id,this.ward_code=t.address.ward_code,$("#Name").val(null!==t.address.last_name?t.address.last_name:t.address.first_name),$("#LastName").val(null!==t.address.last_name?t.address.last_name:""),$("#FirstName").val(null!==t.address.first_name?t.address.first_name:""),$("#Company").val(null!=t.address.company?t.address.company:""),$("#Phone").val(null!==t.address.phone?t.address.phone:""),$("#Address1").val(null!==t.address.address1?t.address.address1:""),$("#Zip").val(null!==t.address.zip?t.address.zip:""),$("#CountryId").val(t.address.country_id),this.changeCountry(t.address.province_id,t.address.district_id,t.address.ward_code);else{var i=$("#CountryId").find("option:contains("+t.address.country+")").val();$("#CountryId").val(i),$("select[id='CountryId']").trigger("change"),$("#City").val(null!==t.address.city?t.address.city:""),this.country_id=i,this.city=null!==t.address.city?t.address.city:""}$(".filter-dropdown").select2("destroy"),initSelect2()},e.prototype.mirrorCustomerInfo=function(){this.address_form_dirty||(this.address_last_name=this.last_name,this.address_first_name=this.first_name,this.address_phone=this.phone)},e}()}.call(this),function(){Juzaweb.ProductsImportAndExport=function(){function e(e,t){var i,n;if(null!=t)for(i in t)this[i]=t[i];this.show_change_notice&&window.storageAvailable("localStorage")&&(null!=(n=window.localStorage.getItem("file_import_notice_read"))&&"true"==n&&(this.show_change_notice=!1)),this.element=e}return e.prototype.setNoticeAsRead=function(){this.show_change_notice&&(window.storageAvailable("localStorage")&&window.localStorage.setItem("file_import_notice_read","true"),this.show_change_notice=!1)},e.prototype.showExportProducts=function(){this.exportProductsModal.show();var e=$("#frmFilter"),t=$("#form-export-products"),i=$("#frmBulkActions"),n=this.copyFromFormToAnother(e,t);this.copyOnlyInputNameFromFormToAnother(i,t,"ids")<=0&&$("#exportProductsType-selected-products").attr("disabled","disabled"),$("#products-match-current-search").html(this.products_match_current_search+" "),n<1&&$("#exportProductsType-current-search").attr("disabled","disabled")},e.prototype.exportProducts=function(){var e=this,t=$("#form-export-products");$.ajax({url:"/admin/products/Export",type:"POST",data:t.serialize(),success:function(t){null==t.error?(Juzaweb.Flash.notice(t.success),e.exportProductsModal.hide()):Juzaweb.Flash.error(t.error)}})},e.prototype.copyFromFormToAnother=function(e,t){var i=0;return $(":input[name]",e).each(function(){$(this).val()&&($("[name="+$(this).attr("name")+"]",t).val($(this).val()),i++)}),i},e.prototype.copyOnlyInputNameFromFormToAnother=function(e,t,i){var n=0;return $(":input[name]",e).each(function(){if($(this).attr("name")==i){var e=$(this).attr("value");t.append("<input type='hidden' name='"+i+"' value='"+e+"' />"),n++}}),n},e.prototype.openFileImportProducts=function(){this.importProductsModal.show(),$("#importProductsFileUpload").val("")},e.prototype.enableButtonImportProducts=function(){var e=$("#importProductsFileUpload").val();null!=e&&""!=e?$(".btn-import-products").prop("disabled",!1):$(".btn-import-products").prop("disabled",!0)},e.prototype.importProducts=function(){$("#form-import-products").submit()},e}()}.call(this),function(){Juzaweb.Apps=function(){function e(){}return e.prototype.buyApp=function(e){$.ajax({url:Juzaweb.routes.apps+"/buyapp",type:"POST",data:{apiKey:e},success:function(e){var t="";null!=e&&e.charge_id>0&&(t=Juzaweb.routes.charges+"/"+e.charge_id),null!=e&&e.redirect&&(t=e.redirect),Page.refresh({url:t})},error:function(e){void 0!==e.responseJSON?null!==e.responseJSON.error&&""!==e.responseJSON.error&&Juzaweb.Flash.error(e.responseJSON.error.replace(/\n/g,"; ").replace(/; $/,"")):Juzaweb.Flash.error("Thao tác thất bại")}})},e}()}.call(this),function(){Juzaweb.OrderEvent=function(){function e(e,t){if(null!=t)for(var i in t)this[i]=t[i];this.element=e}return e.prototype.resendMail=function(e,t){$(e).addClass("disabled").html(Juzaweb.LOADING);var i=this.order_id;$.ajax({url:Juzaweb.routes.orders+"/resendNotification?id="+i+"&eventId="+t,type:"POST",success:function(e){Juzaweb.Flash.notice(e.message),Juzaweb.Modal.hide()},error:function(t){Juzaweb.Flash.error(t.responseJSON.error.replace(/\n/g,"; ").replace(/; $/,"")),$(e).removeClass("disabled").html("Xác nhận")}})},e.prototype.expanDetail=function(e,t){var i=$(e).closest("#event_"+t);$(i).hasClass("ui-feed__item--revealed")?(_.prepareTransition($(i)).removeClass("ui-feed__item--revealed"),_.prepareTransition($(i)).find("#event_detail_"+t).removeClass("ui-accordion--is-expanded"),_.prepareTransition($(i)).find("#event_detail_"+t).find("#ui-accordion__panel--"+t).removeClass("block")):(_.prepareTransition($(i)).addClass("ui-feed__item--revealed"),_.prepareTransition($(i)).find("#event_detail_"+t).addClass("ui-accordion--is-expanded"),_.prepareTransition($(i)).find("#event_detail_"+t).find("#ui-accordion__panel--"+t).addClass("block"))},e}()}.call(this),function(){Juzaweb.OrdersExport=function(){function e(e,t){if(null!=t)for(var i in t)this[i]=t[i];this.element=e}return e.prototype.showExportOrders=function(){this.exportOrdersModal.show();var e=$("#frmFilter"),t=$("#form-export-orders"),i=$("#frmBulkActions"),n=this.copyFromFormToAnother(e,t);this.copyOnlyInputNameFromFormToAnother(i,t,"ids")<=0&&$("#exportOrdersType-selected-orders").attr("disabled","disabled"),$("#orders-match-current-search").html(this.orders_match_current_search+" "),n<1&&$("#exportOrdersType-current-search").attr("disabled","disabled")},e.prototype.exportOrders=function(){$("#form-export-orders input[name=ExportTransactions]").val(!1),this.submitFormExportOrders()},e.prototype.exportOrderTransactions=function(){$("#form-export-orders input[name=ExportTransactions]").val(!0),this.submitFormExportOrders()},e.prototype.submitFormExportOrders=function(){var e=this,t=$("#form-export-orders");$.ajax({url:"/admin/orders/Export",type:"POST",data:t.serialize(),success:function(t){null==t.error?(Juzaweb.Flash.notice(t.success),e.exportOrdersModal.hide()):Juzaweb.Flash.error(t.error)}})},e.prototype.copyFromFormToAnother=function(e,t){var i=0;return $(":input[name]",e).each(function(){$(this).val()&&($("[name="+$(this).attr("name")+"]",t).val($(this).val()),i++)}),i},e.prototype.copyOnlyInputNameFromFormToAnother=function(e,t,i){var n=0;return $(":input[name]",e).each(function(){if($(this).attr("name")==i){var e=$(this).attr("value");t.append("<input type='hidden' name='"+i+"' value='"+e+"' />"),n++}}),n},e}()}.call(this),function(){Juzaweb.ShipmentsExport=function(){function e(e,t){if(null!=t)for(var i in t)this[i]=t[i];this.element=e}return e.prototype.showExportShipments=function(){this.exportShipmentsModal.show();var e=$("#frmFilter"),t=$("#form-export-shipments"),i=$("#frmBulkActions"),n=this.copyFromFormToAnother(e,t);this.copyOnlyInputNameFromFormToAnother(i,t,"ids")<=0&&$("#exportShipmentsType-selected-shipments").attr("disabled","disabled"),$("#shipments-match-current-search").html(this.shipments_match_current_search+" "),n<1&&$("#exportShipmentsType-current-search").attr("disabled","disabled")},e.prototype.exportShipments=function(){this.submitFormExportShipments()},e.prototype.submitFormExportShipments=function(){var e=this,t=$("#form-export-shipments");$.ajax({url:"/admin/shipments/Export",type:"POST",data:t.serialize(),success:function(t){null==t.error?(Juzaweb.Flash.notice(t.success),e.exportShipmentsModal.hide()):Juzaweb.Flash.error(t.error)}})},e.prototype.copyFromFormToAnother=function(e,t){var i=0;return $(":input[name]",e).each(function(){$(this).val()&&($("[name="+$(this).attr("name")+"]",t).val($(this).val()),i++)}),i},e.prototype.copyOnlyInputNameFromFormToAnother=function(e,t,i){var n=0;return $(":input[name]",e).each(function(){if($(this).attr("name")==i){var e=$(this).attr("value");t.append("<input type='hidden' name='"+i+"' value='"+e+"' />"),n++}}),n},e}()}.call(this),function(){Juzaweb.CheckoutsExport=function(){function e(e,t){if(null!=t)for(var i in t)this[i]=t[i];this.element=e}return e.prototype.showExportCheckouts=function(){this.exportCheckoutsModal.show();var e=$("#frmFilter"),t=$("#form-export-checkouts"),i=$("#frmBulkActions"),n=this.copyFromFormToAnother(e,t);this.copyOnlyInputNameFromFormToAnother(i,t,"ids")<=0&&$("#exportCheckoutsType-selected-checkouts").attr("disabled","disabled"),$("#checkouts-match-current-search").html(this.checkouts_match_current_search+" "),n<1&&$("#exportCheckoutsType-current-search").attr("disabled","disabled")},e.prototype.exportCheckouts=function(){this.submitFormExportCheckouts()},e.prototype.submitFormExportCheckouts=function(){var e=this,t=$("#form-export-checkouts");$.ajax({url:"/admin/checkouts/export",type:"POST",data:t.serialize(),success:function(t){null==t.error?(Juzaweb.Flash.notice(t.success),e.exportCheckoutsModal.hide()):Juzaweb.Flash.error(t.error)}})},e.prototype.copyFromFormToAnother=function(e,t){var i=0;return $(":input[name]",e).each(function(){$(this).val()&&($("[name="+$(this).attr("name")+"]",t).val($(this).val()),i++)}),i},e.prototype.copyOnlyInputNameFromFormToAnother=function(e,t,i){var n=0;return $(":input[name]",e).each(function(){if($(this).attr("name")==i){var e=$(this).attr("value");t.append("<input type='hidden' name='"+i+"' value='"+e+"' />"),n++}}),n},e}()}.call(this),function(){Juzaweb.DraftOrdersExport=function(){function e(e,t){if(null!=t)for(var i in t)this[i]=t[i];this.element=e}return e.prototype.showExportDraftOrders=function(){this.exportDraftOrdersModal.show();var e=$("#frmFilter"),t=$("#form-export-drafts"),i=$("#frmBulkActions"),n=this.copyFromFormToAnother(e,t);this.copyOnlyInputNameFromFormToAnother(i,t,"ids")<=0&&$("#exportDraftOrdersType-selected-drafts").attr("disabled","disabled"),$("#drafts-match-current-search").html(this.drafts_match_current_search+" "),n<1&&$("#exportDraftOrdersType-current-search").attr("disabled","disabled")},e.prototype.exportDraftOrders=function(){this.submitFormExportDraftOrders()},e.prototype.submitFormExportDraftOrders=function(){var e=this,t=$("#form-export-drafts");$.ajax({url:"/admin/draft_orders/export",type:"POST",data:t.serialize(),success:function(t){null==t.error?(Juzaweb.Flash.notice(t.success),e.exportDraftOrdersModal.hide()):Juzaweb.Flash.error(t.error)}})},e.prototype.copyFromFormToAnother=function(e,t){var i=0;return $(":input[name]",e).each(function(){$(this).val()&&($("[name="+$(this).attr("name")+"]",t).val($(this).val()),i++)}),i},e.prototype.copyOnlyInputNameFromFormToAnother=function(e,t,i){var n=0;return $(":input[name]",e).each(function(){if($(this).attr("name")==i){var e=$(this).attr("value");t.append("<input type='hidden' name='"+i+"' value='"+e+"' />"),n++}}),n},e}()}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};Juzaweb.GoogleAnalyticReportSettings=function(){function t(t,i){var n,r;if(null!=i)for(n in i)this[n]=i[n];this.element=t,this.saving=!1,this.deleting=!1,r=this,this.gaOauthWindow=null,this.oauthButton=$(".ga-oauth-button"),this.gaChangeView=$(".ga-change-view"),this.gaSubmitChange=$(".ga-submit-change"),this.gaDelete=$(".ga-delete"),this.submitSettingChange=_.debounce(function(){var e="ga:"+r.ga_view_id;Juzaweb.Loading.start(),$.ajax({url:"/admin/settings/store/UpdateGoogleAnalyticsViewId",type:"POST",dataType:"json",data:{viewId:e},global:!1,success:function(t){Juzaweb.Flash.notice(t.message),r.has_view_id=!0,window.storageAvailable("localStorage")&&window.localStorage.setItem("gaReportCurrentViewId",e),Page.refresh({url:window.location,onlyKeys:["ga-report"]})},error:function(e){Juzaweb.Flash.notice(e.message)},complete:function(){r.saving=!1,Juzaweb.Loading.stop(),Bindings.refresh()}})},500),this.registEventListener=e(this.registEventListener,this),window.addEventListener("message",this.registEventListener),$(document).one("page:before-replace",function(){window.removeEventListener("message",r.registEventListener)})}return t.prototype.registEventListener=function(e){e.origin===window.location.origin&&1==e.data.authorization&&($(".ga-oauth-button").prop("disabled",!0),this.gaOauthWindow.close(),this.resetAccountList(),this.gaChangeView.prop("disabled",!0),this.getAccountList(),this.has_view_id=!1)},t.prototype.initOauthWindow=function(){this.gaOauthWindow=window.open("/admin/settings/store/gaoauth","Google Analytics Oauthentication","width=450,height=800,scrollbars=yes")},t.prototype.changeViewId=function(){this.gaChangeView.prop("disabled",!0),this.getAccountList()},t.prototype.saveChange=function(){this.saving=!0,this.submitSettingChange()},t.prototype.deleteSetting=function(){this.deleting=!0;var e=this;$.ajax({url:"/admin/settings/store/removegoogleanalyticssetting",type:"POST",dataType:"json",success:function(t){$(".ga-view-menu.in").collapse("hide"),e.has_account=!1,e.has_view_id=!1,$(".ga-oauth-button").prop("disabled",!1),e.resetAccountList(),Juzaweb.Flash.notice(t.message)},error:function(e){Juzaweb.Flash.notice(e.message)},complete:function(){e.deleting=!1,Bindings.refresh()}})},t.prototype.changeGaAcc=function(e){var t,i=$(e).val();$(".ga-prop-select").addClass("hide"),$(".ga-"+i).removeClass("hide"),t=$(".ga-"+i).val(),$(".ga-view-select").addClass("hide"),$(".ga-"+t).removeClass("hide"),this.ga_view_id=$(".ga-"+t).val(),Bindings.refreshImmediately()},t.prototype.changeGaProp=function(e){var t=$(e).val();$(".ga-view-select").addClass("hide"),$(".ga-"+t).removeClass("hide"),this.ga_view_id=$(".ga-"+t).val(),Bindings.refreshImmediately()},t.prototype.changeGaView=function(e){this.ga_view_id=$(e).val(),Bindings.refreshImmediately()},t.prototype.resetAccountList=function(){$(".ga-account").empty(),$("#prop-select-container").empty(),$("#view-select-container").empty(),this.ga_view_id=""},t.prototype.getAccountList=function(){var e=this;$.ajax({url:"/admin/settings/store/googleanalyticsaccount",type:"GET",dataType:"json",success:function(t){var i,n,r,s,o,a,l,u,c,d,h,p,f;e.has_account=!0;var m=e.ga_view_id,g=null,v=null;for(i=0;i<t.items.length;i++){for(n=t.items[i],(r=document.createElement("option")).value=n.id,r.innerHTML=n.name,document.getElementsByClassName("ga-account")[0].appendChild(r),(s=document.createElement("select")).className="ui-select hide js-no-dirty ga-prop-select ga-"+n.id,s.setAttribute("bind-event-change","changeGaProp(this)"),s.setAttribute("data-form-dirty","false"),o=0;o<n.webProperties.length;o++){for(a=n.webProperties[o],(l=document.createElement("option")).value=a.id,l.innerHTML=a.name,s.appendChild(l),(u=document.createElement("select")).className="ui-select hide js-no-dirty ga-view-select ga-"+a.id,u.setAttribute("bind-event-change","changeGaView(this)"),u.setAttribute("data-form-dirty","false"),c=0;c<a.profiles.length;c++)d=a.profiles[c],(h=document.createElement("option")).value=d.id,m&&d.id==m&&(g=a.id,v=n.id),h.innerHTML=d.name,u.appendChild(h);document.getElementById("view-select-container").appendChild(u),Bindings.bind($(".ga-"+a.id).get(0))}document.getElementById("prop-select-container").appendChild(s),Bindings.bind($(".ga-"+n.id).get(0))}$(".ga-view-menu").collapse("show"),m?($(".ga-account").val(v),$(".ga-"+v).val(g).removeClass("hide"),$(".ga-"+g).val(m).removeClass("hide")):(p=$(".ga-account").val(),$(".ga-"+p).removeClass("hide"),f=$(".ga-"+p).val(),$(".ga-"+f).removeClass("hide"),e.ga_view_id=$(".ga-"+f).val())},error:function(){e.has_account=!0,e.has_view_id=!1,e.oauthButton.prop("disabled",!1),e.gaChangeView.prop("disabled",!1),Juzaweb.Flash.notice("Không lấy được thông tin Tài khoản Google Analytics")},complete:function(){Bindings.refresh()}})},t}()}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};Juzaweb.Drawer=function(){function t(t){this.drawerKeyup=e(this.drawerKeyup,this),this.$pager=$(".page-wrapper"),this.$drawer=$(t),this.$parent=$("html, body"),this.$wrapper=$(".page-content"),this.isOpen=this.$drawer.hasClass(this.DRAWER_OPEN_CLASS),this.numOfOpenningOrder=0,this.showOpenningOder()}return t.prototype.NO_SCROLLING_CLASS="no-scrolling",t.prototype.DRAWER_OPEN_CLASS="nav-drawer-open",t.prototype.toggle=function(){this.$pager.hasClass("had-minimized")?this.$pager.toggleClass("page-minimize"):this.isOpen?this.close():this.open()},t.prototype.open=function(){this.isOpen||(_.prepareTransition(this.$drawer).addClass(this.DRAWER_OPEN_CLASS),this.$parent.addClass(this.NO_SCROLLING_CLASS),this.isOpen=!0,this.$wrapper.on("touchmove.drawer",function(){return!1}),$(document).on("keyup.drawer",this.drawerKeyup),$(".next-nav__panel").height()<=$(".next-nav__list--primary").height()&&$(".next-nav__panel").height($(".next-nav__list--primary").height()))},t.prototype.close=function(){this.isOpen&&(_.prepareTransition(this.$drawer).removeClass(this.DRAWER_OPEN_CLASS),this.$parent.removeClass(this.NO_SCROLLING_CLASS),this.isOpen=!1,this.$wrapper.off(".drawer"),$(document).off(".drawer"))},t.prototype.drawerKeyup=function(e){e.keyCode===Juzaweb.Keycodes.ESCAPE&&this.close()},t.prototype.showOpenningOder=function(){var e=this;$.ajax({url:"/admin/orders/GetOpeningOrder",global:!1,success:function(t){e.numOfOpenningOrder=t.num_of_opening_order,Bindings.refresh()}})},t.prototype.showSubMenu=function(e){var t=$(e),i=t.data("name");$("#sidebar--nav").addClass("next-nav--is-expanded"),$("#sidebar--nav").find("a.active-temp").removeClass("active-temp"),$(t).hasClass("active-temp")||$(t).addClass("active-temp"),"orders"==i?$("#NextNavOrders").hasClass("next-nav__list--is-open")?($("#NextNavOrders").removeClass("next-nav__list--is-open"),$("#sidebar--nav").find("a.active-temp").removeClass("active-temp"),$("#sidebar--nav").removeClass("next-nav--is-expanded"),_.prepareTransition($(".next-nav__panel--secondary")).removeClass("next-nav__panel--secondary-open")):(_.prepareTransition($(".next-nav__panel--secondary")).addClass("next-nav__panel--secondary-open"),$("#NextNavWebsite").removeClass("next-nav__list--is-open"),$("#NextNavProducts").removeClass("next-nav__list--is-open"),$("#NextNavGoogleShopping").removeClass("next-nav__list--is-open"),$("#NextNavOrders").addClass("next-nav__list--is-open")):"website"==i?$("#NextNavWebsite").hasClass("next-nav__list--is-open")?($("#NextNavWebsite").removeClass("next-nav__list--is-open"),$("#sidebar--nav").find("a.active-temp").removeClass("active-temp"),$("#sidebar--nav").removeClass("next-nav--is-expanded"),_.prepareTransition($(".next-nav__panel--secondary")).removeClass("next-nav__panel--secondary-open")):(_.prepareTransition($(".next-nav__panel--secondary")).addClass("next-nav__panel--secondary-open"),$("#NextNavOrders").removeClass("next-nav__list--is-open"),$("#NextNavProducts").removeClass("next-nav__list--is-open"),$("#NextNavGoogleShopping").removeClass("next-nav__list--is-open"),$("#NextNavWebsite").addClass("next-nav__list--is-open")):"products"==i?$("#NextNavProducts").hasClass("next-nav__list--is-open")?($("#NextNavProducts").removeClass("next-nav__list--is-open"),$("#sidebar--nav").find("a.active-temp").removeClass("active-temp"),$("#sidebar--nav").removeClass("next-nav--is-expanded"),_.prepareTransition($(".next-nav__panel--secondary")).removeClass("next-nav__panel--secondary-open")):(_.prepareTransition($(".next-nav__panel--secondary")).addClass("next-nav__panel--secondary-open"),$("#NextNavOrders").removeClass("next-nav__list--is-open"),$("#NextNavWebsite").removeClass("next-nav__list--is-open"),$("#NextNavGoogleShopping").removeClass("next-nav__list--is-open"),$("#NextNavProducts").addClass("next-nav__list--is-open")):"googleshoppings"==i&&($("#NextNavGoogleShopping").hasClass("next-nav__list--is-open")?($("#NextNavGoogleShopping").removeClass("next-nav__list--is-open"),$("#sidebar--nav").find("a.active-temp").removeClass("active-temp"),$("#sidebar--nav").removeClass("next-nav--is-expanded"),_.prepareTransition($(".next-nav__panel--secondary")).removeClass("next-nav__panel--secondary-open")):(_.prepareTransition($(".next-nav__panel--secondary")).addClass("next-nav__panel--secondary-open"),$("#NextNavOrders").removeClass("next-nav__list--is-open"),$("#NextNavWebsite").removeClass("next-nav__list--is-open"),$("#NextNavProducts").removeClass("next-nav__list--is-open"),$("#NextNavGoogleShopping").addClass("next-nav__list--is-open")))},t.prototype.closeSubMenu=function(){$("#NextNavOrders").removeClass("next-nav__list--is-open"),$("#NextNavWebsite").removeClass("next-nav__list--is-open"),$("#NextNavProducts").removeClass("next-nav__list--is-open"),$("#NextNavGoogleShopping").removeClass("next-nav__list--is-open"),$("#sidebar--nav").find("a.active-temp").removeClass("active-temp"),$("#sidebar--nav").removeClass("next-nav--is-expanded"),_.prepareTransition($(".next-nav__panel--secondary")).removeClass("next-nav__panel--secondary-open")},t.prototype.showChannel=function(){var e=$(".hideSaleChannel").contents();$(".hideSaleChannel").replaceWith(e),$("#showMore").remove(),$(".next-nav__panel").height<=$(".next-nav__list--primary").height()&&$(".next-nav__panel").height($(".next-nav__list--primary").height())},t.name="Drawer",t}()}.call(this),function(){Juzaweb.FilePicker=function(){function e(e,t){if(t)for(var i in t)this[i]=t[i];this.ele=e,this.selectChanged=!1,this.selected_id?this.selectChanged=!0:this.selected_id=0}return e.prototype.selectFile=function(e,t){this.selected_id=e,this.selected_src=t,this.selectChanged=!0},e.prototype.chooseFile=function(e){e&&e.callback?callback({id:this.selected_id,src:this.selected_src}):Bindings.context(document.body).app&&Bindings.context(document.body).app.host.filePickerConfirm({id:this.selected_id,src:this.selected_src})},e.prototype.cancelPicker=function(){Bindings.context(document.body).app&&Bindings.context(document.body).app.host.filePickerCancel()},e.prototype.next=function(){this.loadUrl(this.next_page)},e.prototype.prev=function(){this.loadUrl(this.prev_page)},e.prototype.loadUrl=function(e){var t=this;Bindings.unbind($(".image-popup").get(0)),$.ajax({url:e,success:function(e){$(t.ele).parent(".modal-dialog").html(e),Bindings.bind($(".image-popup").get(0),this)}})},e.prototype.uploadFile=function(){var e,t,i=new FormData,n=$("#file-uploader")[0].files.length;if(!(n<=0)){for(e=0;e<n;e++)t=document.getElementById("file-uploader").files[e],i.append("mediaImages",t);Juzaweb.Loading.start(),$.ajax({type:"POST",url:"/admin/settings/files/upload",data:i,contentType:!1,processData:!1,global:!1,success:function(e){e.error?(Juzaweb.Flash.error(e.error),Juzaweb.Loading.stop()):e.length>0?Juzaweb.Utility.loadAjax("/admin/settings/files/picker?selectedId="+e[0].id,"#juzaweb-modal",Juzaweb.Flash.notice("Cập nhật thành công"),{hide:!1}):Juzaweb.Utility.loadAjax("/admin/settings/files/picker","#juzaweb-modal",Juzaweb.Flash.notice("Cập nhật thành công"),{hide:!1})},error:function(e){Juzaweb.Flash.error(e.responseJSON.error.replace(/\n/g,"; ").replace(/; $/,"")),Juzaweb.Loading.stop()}})}},e.prototype.openFileUpload=function(){$("#file-uploader").click()},e}()}.call(this),function(){Juzaweb.FilePickerV2=function(){function e(e,t){if(t)for(var i in t)this[i]=t[i];this.selectedImage=[],this.numOfSelectedImage=0,this.maxImageChoosed=10,this.ele=e,this.selectChanged=!1,this.selectedImage.length>0&&(this.selectChanged=!0)}return e.prototype.addOrRemoveBulkActionImage=function(e,t,i){var n,r,s,o=this.numOfSelectedImage;if($(i).parent().hasClass("is-selected"))n=this.selectedImage.indexOf(e),$(i).parent().removeClass("is-selected"),n>-1&&this.selectedImage.splice(n,1),null!=(r=document.getElementById("bulk-action-image-"+e))&&(r.parentNode.removeChild(r),o--);else{if(this.selectedImage.push(t),(s=document.createElement("input")).type="hidden",s.name="src",s.value=t,s.id="bulk-action-image-"+e,document.getElementById("frmImageBulkActions").appendChild(s),parseFloat(o)>=parseFloat(this.maxImageChoosed))return eleCheckBox.checked=!1,$(i).parent().removeClass("is-selected"),void Juzaweb.Flash.error("Chỉ được chọn tối đa "+this.maxImageChoosed+" ảnh");o++,$(i).parent().addClass("is-selected")}this.numOfSelectedImage=o,this.selectChanged=this.selectedImage.length>0},e.prototype.chooseFile=function(e){e&&e.callback?callback({srcs:$("#frmImageBulkActions").serialize()}):Bindings.context(document.body).app&&Bindings.context(document.body).app.host.filePickerConfirm({srcs:$("#frmImageBulkActions").serialize()})},e.prototype.cancelPicker=function(){Bindings.context(document.body).app&&Bindings.context(document.body).app.host.filePickerCancel()},e.prototype.next=function(){this.loadUrl(this.next_page)},e.prototype.prev=function(){this.loadUrl(this.prev_page)},e.prototype.loadUrl=function(e){var t=this;Bindings.unbind($(".image-popup").get(0)),$.ajax({url:e,success:function(e){$(t.ele).closest(".parent-dialog").html(e),Bindings.bind($(".image-popup").get(0),this)}})},e.prototype.uploadFile=function(){var e,t,i=new FormData,n=$("#file-uploader")[0].files.length;if(!(n<=0)){for(e=0;e<n;e++)t=document.getElementById("file-uploader").files[e],i.append("mediaImages",t);Juzaweb.Loading.start(),$.ajax({type:"POST",url:"/admin/settings/files/upload",data:i,contentType:!1,processData:!1,global:!1,success:function(e){e.error?(Juzaweb.Flash.error(e.error),Juzaweb.Loading.stop()):e.length>0?Juzaweb.Utility.loadAjax("/admin/settings/files/pickerV2?selectedId="+e[0].id,"#juzaweb-modal",Juzaweb.Flash.notice("Cập nhật thành công"),{hide:!1}):Juzaweb.Utility.loadAjax("/admin/settings/files/pickerV2","#juzaweb-modal",Juzaweb.Flash.notice("Cập nhật thành công"),{hide:!1})},error:function(e){Juzaweb.Flash.error(e.responseJSON.error.replace(/\n/g,"; ").replace(/; $/,"")),Juzaweb.Loading.stop()}})}},e.prototype.openFileUpload=function(){$("#file-uploader").click()},e}()}.call(this),function(){Juzaweb.MenuPicker=function(){function e(e,t){if(t)for(var i in t)this[i]=t[i];this.$container=$(e),this.$form=this.$container.parents("form"),this.formContext=null,this.$form.size()&&(this.formContext=Bindings.context(this.$form.get(0))),this.linklistIds||(this.linklistIds=[])}return e.prototype.removeMenu=function(e){this.$container.find("tr[linklist-id="+e+"]").remove(),this.linklistIds=$.grep(this.linklistIds,function(t){return t!=e}),Bindings.refreshImmediately(),this.formContext&&this.formContext.form&&this.formContext.form._updateDirtyState()},e.prototype.addToMenu=function(e,t){if(!Common.include(this.linklistIds,e)){this.linklistIds.push(e);var i='<tr linklist-id="{{ linklist.id }}"><td><a href="/admin/links/{{ linklist.id }}" target="_blank" rel="noopener noreferrer">{{ linklist.title }}</a></td><td style="text-align:right;"><a bind-event-click="removeMenu({{ linklist.id }})" href="javascript:void(0)"><svg class="next-icon next-icon--size-12"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#next-remove"></use></svg></a><input type="hidden" name="LinklistIds" value="{{ linklist.id }}" /></td></tr>'.replace(/{{ linklist.id }}/g,e).replace(/{{ linklist.title }}/g,t);this.$container.find("table.menu-container tbody").append(i),Bindings.refreshImmediately(),Bindings.unbind(this.$container.find("table.menu-container tbody").get(0)),Bindings.bind(this.$container.find("table.menu-container tbody").get(0)),this.formContext&&this.formContext.form&&this.formContext.form._updateDirtyState()}Juzaweb.Modal.hide()},e.prototype.createChildMenu=function(e){var t=this;$.ajax({type:"POST",url:"/admin/links/createjson",data:{title:e},success:function(e){e&&t.addToMenu(e.id,e.title)},error:function(e){e?Juzaweb.Flash.error(e.responseJSON.error.replace(/\n/g,"; ").replace(/; $/,"")):Juzaweb.Flash.error("Thêm menu thất bại.")}})},e.name="MenuPicker",e}()}.call(this),function(){Juzaweb.EnterUserPassword=function(){function e(e,t){this.$parentForm=$(e),this.modal=t,this.passwordRequired=!1,this.showEmailChange=!1,this.showPasswordChange=!1,this.showLogoutOptions=!1}return e.prototype.expandEmailChange=function(){this.showEmailChange=!0,this.flagPasswordAsRequired(!1)},e.prototype.expandPasswordChange=function(){return this.showPasswordChange=!0,this.flagPasswordAsRequired(!0)},e.prototype.flagPasswordAsRequired=function(e){return this.passwordRequired=!Juzaweb.currentUser.isEmployee,this.showLogoutOptions=e},e.prototype.showOrSubmitModal=function(e){"True"!==e&&this.passwordRequired?(this.modal.show(),$("#current_password").focus()):this.$parentForm.submit()},e.prototype.submitUserForm=function(e){var t;return t=e.current_password.value,this.$parentForm.find("#user_current_password").val(t),e.revoke_mobile_access_tokens.checked&&this.$parentForm.find("#user_revoke_mobile_access_tokens").val(!0),this.$parentForm.submit(),this.modal.hide()},e.prototype.showErrorChangeEmail=function(){Juzaweb.Flash.error("Bạn cần đổi mật khẩu trước khi thay đổi email!")},e}()}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},t=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},i={}.hasOwnProperty;Juzaweb.UserFormNoImage=function(i){function n(t,i){this.form=t,this.opts=null!=i?i:{},this.submit=e(this.submit,this),n.__super__.constructor.apply(this,arguments)}return t(n,i),n.prototype.submit=function(e){var t,i;return e.preventDefault(),t={httpRequestType:(i=e.target).getAttribute("method"),httpUrl:i.getAttribute("action"),refreshOnSuccess:"user-form"},new TurboGraft.Remote(t,this.form,i).submit()},n}(Juzaweb.Forms)}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};Juzaweb.BulkEditor=function(){function t(t){null==t&&(t={}),this._persistColumnState=e(this._persistColumnState,this),this.toggleStickyHeaders=e(this.toggleStickyHeaders,this),this.spreadsheetScrolled=e(this.spreadsheetScrolled,this),this.scrollerScrolled=e(this.scrollerScrolled,this),this.resizableMouseMove=e(this.resizableMouseMove,this),this.resizableMouseUp=e(this.resizableMouseUp,this),this.resizableMouseDown=e(this.resizableMouseDown,this),this.debouncedRedraw=_.debounce(this._redrawTable,1e3,{leading:!0,trailing:!0}),this.submitting=!1,this.anyFormDirty=!1,this.resizing=!1,this.resizingCell=null,this.startResizingWidth=null,this.startResizingPosition=null,this.resourceName=t.resource_name,this.showColumns=t.show_columns||[],this.editColumns=t.edit_columns||[],this.ids=t.ids,this.search=t.search||{},this.metafieldTitles=t.metafield_titles,this.metafieldOptions=t.metafield_options,this.resourceTitle=t.resource_title,this._persistColumnState(),this.savedSearchId=t.saved_search_id,this._datetimePicker=!1}var i,n="bulk-submit",r="btn-primary",s="spreadsheet__cell--dirty-indicator",o="spreadsheet__status-indicator--is-hidden",a="spreadsheet__header-group",l="next-spinner",u="spreadsheet__cell--has-changes",c="spreadsheet__cell--resizable",d="spreadsheet__resize-handle",h={BASE:"spreadsheet-scroller",SCROLLBAR:"spreadsheet-scroller__scroll-bar"};return t.goToBulkEditor=function(e,t){var i={resourceName:e,edit:t.defaultEditColumns,show:t.defaultShowColumns};i.returnTo=t.returnTo,i.edit=this._fromSessionStorage("edit",e)||i.edit,i.show=this._fromSessionStorage("show",e)||i.show,t.useSearch?_.extend(i,URI().search(!0)):i.ids=t.ids,t.customParams&&_.merge(i,t.customParams),document.location.href=Juzaweb.funcRoutes.bulk(i).html},t._fromSessionStorage=function(e,t,i){return null==i&&(i=!1),sessionStorage.getItem("bulk-editor-"+e+"-"+t)},t.prototype.bind=function(e){return this.node=e,this.$node=$(e),this.$headerGroup=$(this.node).find("."+a),this.$headerCells=this.$headerGroup.children(),this.$scroller=$(this.node).find("."+h.SCROLLBAR),this.$scrollerContainer=$(this.node).find("."+h.BASE),this.setInitialCellWidths(),this.addResizeHandles(),this.duplicateTableHeader(),this.setScrollerWidth(),$(window).on("scroll.bulk-editor",_.debounce(this.toggleStickyHeaders,10)),this.$node.on("mousedown.bulk-editor","."+d,this.resizableMouseDown),this.$node.on("mouseup.bulk-editor",this.resizableMouseUp),this.$node.on("mousemove.bulk-editor",_.debounce(this.resizableMouseMove,10)),this.$scrollerContainer.on("scroll.bulk-editor",_.throttle(this.scrollerScrolled,10)),this.$node.on("scroll.bulk-editor",_.throttle(this.spreadsheetScrolled,10)),Page.onReplace(this.node,function(){return $(window).off(".bulk-editor")})},t.prototype.resizableMouseDown=function(e){var t;return this.resizing=!0,t=$(e.target.parentNode),this.resizingCell=t.index(),this.startResizingPosition=e.pageX,this.startResizingWidth=t.width()},t.prototype.resizableMouseUp=function(){var e;if(this.resizing)return this.resizing=!1,e=this.$headerCells.eq(this.resizingCell),SafeLocalStorage.set("bulk-editor-column-size-"+e.attr("title"),e.width())},t.prototype.resizableMouseMove=function(e){var t;if(this.resizing)return(t=this.startResizingWidth+(e.pageX-this.startResizingPosition))>100?(this.$headerCells.eq(this.resizingCell).css({width:t,"min-width":t}),this.$clonedHeaderCells.eq(this.resizingCell).css({width:t,"min-width":t}),this.$headerGroupClone.width(this.$headerGroup.width()),this.setScrollerWidth()):void 0},t.prototype.setInitialCellWidths=function(){return this.$headerCells.each(function(){var e,t;return e=$(this),(t=SafeLocalStorage.get("bulk-editor-column-size-"+e.attr("title"),null))?e.width(t):void 0})},t.prototype.addResizeHandles=function(){var e;return e=$("<span>").addClass(d),this.$headerGroup.find("."+c).append(e)},t.prototype.duplicateTableHeader=function(){},t.prototype.setScrollerWidth=function(){return this.$scroller.width(this.$headerGroup.width())},t.prototype.scrollerScrolled=function(){return this.$node.scrollLeft(this.$scrollerContainer.scrollLeft())},t.prototype.spreadsheetScrolled=function(){return this.$scrollerContainer.scrollLeft(this.$node.scrollLeft()),this.scrollHeaderHorizontally()},t.prototype.scrollHeaderHorizontally=function(){},t.prototype.toggleStickyHeaders=function(){},t.prototype.register=function(e,t){return t.off("bindings:change"),t.on("input change paste",function(e){return function(){return e._setDirty(t)}}(this))},t.prototype.submitAll=function(){var e;this.submitting=!0,e=$("[data-form-dirty]."+n),this.submissionFailures=0,this.submissionSuccesses=0,e.length?this.submitNextRow(e.toArray()):(this.submitting=!1,this.anyFormDirty=!1,Bindings.refresh())},t.prototype.submitNextRow=function(e){if(0===e.length)this._finishSubmitting();else{var t=e.shift(),i=$(t).closest("form");i[0].checkValidity()?(i.one("turbograft:remote:success",function(t){return function(){t.submissionSuccesses++,t.submitNextRow(e)}}(this)),i.one("turbograft:remote:fail",function(t){return function(n){var r,s,o;t.submissionFailures++,422!==(null!=n&&null!=(r=n.originalEvent)&&null!=(s=r.data)&&null!=(o=s.xhr)?o.status:void 0)&&t._handleSubmissionError(i),t.submitNextRow(e)}}(this)),this._setClean(i),this._toggleSpindicate(i),t.click()):(this.submissionFailures++,this.submitNextRow(e))}},t.prototype.fadeIndicators=function(e){return $(e).one("transitionend webkitTransitionEnd oTransitionEnd",function(){return $(e).addClass("hide")}),_.defer(function(){return $(e).addClass(o)})},t.prototype.addColumn=function(e,t){var i;if(!this.columnIsSelected(e))return i={full_name:e},null!=t&&(i.type=t),this.editColumns.push(i),this.debouncedRedraw()},t.prototype.removeColumn=function(e){var t;return(t=this._columnIndex(e))>=0?(this.editColumns.splice(t,1),this.debouncedRedraw()):void 0},t.prototype.columnIsSelected=function(e){return this._columnIndex(e)>=0},t.prototype._finishSubmitting=function(){var e="";$("."+r+"."+n+":enabled").length<=0&&(this.anyFormDirty=!1,Juzaweb.Forms.makeClean()),this.submissionSuccesses&&(e="Đã chỉnh sửa "+this.submissionSuccesses+" "+this.resourceTitle+"."),this.submissionFailures?Juzaweb.Flash.error("Chỉnh sửa "+this.submissionFailures+" "+this.resourceTitle+" thất bại. "+e):Juzaweb.Flash.notice(e),this.submitting=!1,$(".ui-button--primary.ui-context-bar__actions-primary").removeClass("has-loading").removeClass("is-loading"),setTimeout(function(){Juzaweb.Forms.makeClean()},50)},t.prototype._handleSubmissionError=function(e){return this._toggleSpindicate(e),this._setDirty(e)},t.prototype._toggleSpindicate=function(e){e.find("."+s);e.find("."+l).toggleClass("next-spinner--is-hidden")},t.prototype._setDirty=function(e){if(!this._datetimePicker){e.find("."+s);e.find("."+s).addClass(u),this.anyFormDirty=!0,Bindings.refresh()}},t.prototype._setClean=function(e){return e.find("."+s).removeClass(u)},t.prototype._redrawTable=function(){var e;return(e=this.search).edit=this.editColumnsParam(),e.show=this.showColumnsParam(),e.ids=this.ids,e.SavedSearchId=this.savedSearchId,e.resourceName=this.resourceName,Page.refresh({queryParams:e,onlyKeys:["bulk","columns"],updatePushState:!1},this._postRedrawCallback(e))},t.prototype._postRedrawCallback=function(e){return this._replaceHistory(e),this._persistColumnState},t.prototype._persistColumnState=function(){return this._persistToSessionStorage("edit",this.editColumnsParam()),this._persistToSessionStorage("show",this.showColumnsParam()),this._persistToSessionStorage("metafield-titles",this.metafieldTitles?JSON.stringify(this.metafieldTitles):null),this._persistToSessionStorage("metafield-options",this.metafieldOptions?JSON.stringify(this.metafieldOptions):null)},t.prototype._persistToSessionStorage=function(e,t){return t?sessionStorage.setItem("bulk-editor-"+e+"-"+this.resourceName,t):sessionStorage.removeItem("bulk-editor-"+e+"-"+this.resourceName)},t.prototype._replaceHistory=function(e){var t,i;return(t=$.param(e))&&(t="?"+t),i=location.pathname+t,Page.replaceState(i)},t.prototype.showColumnsParam=function(){return this._columnsAsString(this.showColumns)},t.prototype.editColumnsParam=function(){return this._columnsAsString(this.editColumns)},t.prototype._columnsAsString=function(e){return _.map(e,function(e){var t;return t=""+e.full_name,null!=e.type&&(t+=":"+e.type),t}).join(",")},t.prototype._columnIndex=function(e){return _.findIndex(this.editColumns,function(t){return t.full_name===e})},t.prototype.initializePublishingDatetimePicker=function(){this._datetimePicker=!0,$("[data-rel=publish_datepicker]").datepicker({format:"yyyy-mm-dd",autoclose:!0,todayHighlight:!0}),$("[data-rel=publish_timepicker]").timepicker2({lang:{am:"sa",pm:"ch",AM:"SA",PM:"CH",decimal:".",mins:"phút",hr:"giờ",hrs:"giờ"}}),this._datetimePicker=!1},i={incrXZ:{percent:function(e,t){var i=parseFloat(e.orgValue)||0;return i+t/100*i},amount:function(e,t){return(parseFloat(e.orgValue)||0)+t}},descXZ:{percent:function(e,t){var i=parseFloat(e.orgValue)||0;return i-t/100*i},amount:function(e,t){var i=parseFloat(e.orgValue)||0;return Math.max(0,i-t)}},incrXX:{percent:function(e,t){var i=parseFloat(e.value)||0;return i+t/100*i},amount:function(e,t){return(parseFloat(e.value)||0)+t}},descXX:{percent:function(e,t){var i=parseFloat(e.value)||0;return i-t/100*i},amount:function(e,t){var i=parseFloat(e.value)||0;return Math.max(0,i-t)}},incrYZ:{percent:function(e,t){var i=parseFloat(e.orgValue)||0;return i+t/100*i},amount:function(e,t){return(parseFloat(e.orgValue)||0)+t}},descYZ:{percent:function(e,t){var i=parseFloat(e.orgValue)||0;return i-t/100*i},amount:function(e,t){var i=parseFloat(e.orgValue)||0;return Math.max(0,i-t)}},incrYY:{percent:function(e,t){var i=parseFloat(e.value)||0;return i+t/100*i},amount:function(e,t){return(parseFloat(e.value)||0)+t}},descYY:{percent:function(e,t){var i=parseFloat(e.value)||0;return i-t/100*i},amount:function(e,t){var i=parseFloat(e.value)||0;return Math.max(0,i-t)}},incrYX:{percent:function(e,t,i){var n=parseFloat(i.value)||0;return n+t/100*n},amount:function(e,t,i){return(parseFloat(i.value)||0)+t}},descYX:{percent:function(e,t,i){var n=parseFloat(i.value)||0;return Math.max(0,n-t/100*n)},amount:function(e,t,i){var n=parseFloat(i.value)||0;return Math.max(0,n-t)}}},t.prototype.bulkPriceModify=function(){var e,t=this.bulkPriceModifyCtx.op,n=this.bulkPriceModifyCtx.unit,r=parseFloat(this.bulkPriceModifyCtx.value)||0;r=r<0?0:r,e=this,Object.keys(e.prices).forEach(function(s){var o=e.prices[s];o.value=i[t][n](o,r)}),Bindings.refreshImmediately(),$("input.price-dirty").trigger("change")},t.prototype.bulkComparePriceModify=function(){var e,t=this.bulkComparePriceModifyCtx.op,n=this.bulkComparePriceModifyCtx.unit,r=parseFloat(this.bulkComparePriceModifyCtx.value)||0;r=r<0?0:r,e=this,Object.keys(e.comparePrices).forEach(function(s){var o=e.comparePrices[s],a=e.prices[s];o.value=i[t][n](o,r,a)}),Bindings.refreshImmediately(),$("input.price-dirty").trigger("change")},t}()}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};Juzaweb.SpreadsheetNavigator=function(){function t(t){this.node=t,this.focusCursor=e(this.focusCursor,this),this.applyMultiEdit=e(this.applyMultiEdit,this),this.customApplyMultiEdit=e(this.customApplyMultiEdit,this),this.multiselectDrag=e(this.multiselectDrag,this),this.stopDragging=e(this.stopDragging,this),this.startDragClick=e(this.startDragClick,this),this.clickHandler=e(this.clickHandler,this),this.preventClickIfShiftClicking=e(this.preventClickIfShiftClicking,this),this.keypressHandler=e(this.keypressHandler,this),this.outsideClickHandler=e(this.outsideClickHandler,this),$(this.node).on("keydown",this.keypressHandler),$(this.node).on("mousedown",this.clickHandler),$(this.node).on("click",this.preventClickIfShiftClicking),$(this.node).on("turbograft:remote:done",this.clearSelection),$(document).on("mouseup.spreadsheet",this.stopDragging),$(document).on("mousedown.spreadsheet",this.outsideClickHandler),this.multiEditing=!1,this.dragging=!1,this.autoFocusFirstCell(),Page.onReplace(this.node,function(){return $(document).off("mousedown.spreadsheet",this.outsideClickHandler),$(document).off("mouseup.spreadsheet",this.stopDragging)})}var i="spreadsheet__cell",n="spreadsheet__cell--selectable",r="spreadsheet__cell--visually-focused",s="spreadsheet__cell--focused",o="spreadsheet__row",a="spreadsheet__row-group";return t.prototype.autoFocusFirstCell=function(){var e;return(e=this._cellInputElements($(".spreadsheet__cell--selectable:first")).first()).length?(this._updateCursorCell(e.closest("."+i)),e.focus()):void 0},t.prototype.outsideClickHandler=function(e){return!(!$(this.node).is(e.target)&&0===$(this.node).has(e.target).length)||(this.clearSelection(),!0)},t.prototype.keypressHandler=function(e){var t,i;return i=e.which,!!this._ignoreKeypressHandler(e,i)||(t=this._keyPressTargetCell(e),!this._handleNavInput(t,i,e)&&(!this._handleMultiSelectInput(t,i,e)&&!!this._handleInput(t,i)))},t.prototype._ignoreKeypressHandler=function(e,t){if($(e.target).is("textarea:focus"))return t===Juzaweb.Keycodes.UP||t===Juzaweb.Keycodes.DOWN||t===Juzaweb.Keycodes.ENTER},t.prototype._handleNavInput=function(e,t,i){if(i.metaKey||i.altKey||i.shiftKey&&t!==Juzaweb.Keycodes.TAB)return!1;switch(t){case Juzaweb.Keycodes.UP:this._hoverPreviousSimilarCell(e);break;case Juzaweb.Keycodes.DOWN:this._hoverNextSimilarCell(e);break;case Juzaweb.Keycodes.LEFT:if(!this.cursorActive())return!1;this._hoverPrevCell(e);break;case Juzaweb.Keycodes.RIGHT:if(!this.cursorActive())return!1;this._hoverNextCell(e);break;case Juzaweb.Keycodes.TAB:i.shiftKey?this._hoverPrevCell(e):this._hoverNextCell(e);break;case Juzaweb.Keycodes.ESCAPE:this._updateCursorCell(e);break;default:return!1}return!0},t.prototype._handleMultiSelectInput=function(e,t,i){if(!(i.metaKey||i.altKey||i.shiftKey))return!1;switch(t){case Juzaweb.Keycodes.UP:return this._setHovered(this.$cursorCell),this._pushPrevSimilarCell(e),!0;case Juzaweb.Keycodes.DOWN:return this._setHovered(this.$cursorCell),this._pushNextSimilarCell(e),!0}},t.prototype._handleInput=function(e,t){return!this.cursorActive()||(this.multiSelection()&&(this._updateCursorCell(e,!1),this.bindMultiEdit()),t===Juzaweb.Keycodes.SHIFT||t===Juzaweb.Keycodes.COMMAND||(this._selectCellInputElement(e),t!==Juzaweb.Keycodes.ENTER))},t.prototype.preventClickIfShiftClicking=function(){return!this.preventClickEventOnCell||(this.preventClickEventOnCell=!1,!1)},t.prototype.clickHandler=function(e){var t;return t=this._evtTargetCell(e),this._selectable(t)?this.$cursorCell?!this.multiSelectionClick(e,t)&&(!!this.startMultiEditClick(e,t)||!this.startDragClick(e,t)&&(this.matchesCursor(t)?(this._unsetHovered(this.$cursorCell),!0):this._setNewCursorClick(e,t))):this._setNewCursorClick(e,t):(this.clearSelection(),!0)},t.prototype.startDragClick=function(e,t){var i,n;return i=e.offsetX||e.pageX-$(e.target).offset().left,n=e.offsetY||e.pageY-$(e.target).offset().top,this.matchesCursor(t)&&9>i&&t.height()-n<9?(this.focusCursor(),this.dragging=!0,$(this.node).on("mousemove.spreadsheet",_.debounce(this.multiselectDrag,10)),!0):void 0},t.prototype.stopDragging=function(){return this.dragging&&this.$cursorCell&&this.focusCursor(),$(this.node).off("mousemove.spreadsheet"),this.dragging=!1,!0},t.prototype.multiselectDrag=function(e){var t;return t=this._rowFor(this._evtTargetCell(e)).find(this._cellClassSelector(this.$cursorCell[0])),this.matchesCursor(t)&&this.clearSelection(!1),t.length?(this.clearSelection(!1),this.selectedCells=[this.$cursorCell[0]],this.clickedCellAboveCurrentCell(t,this.$cursorCell)?this.highlightUpTowards(t):this.highlightDownTowards(t)):void 0},t.prototype._setNewCursorClick=function(e,t){return this._updateCursorCell(t),e.preventDefault(),!1},t.prototype.startMultiEditClick=function(e,t){if(this.multiSelection()&&this.selected(t[0])&&!this.multiEditing)return this._setHovered(this.$cursorCell),this._updateCursorCell(t,!1),this.bindMultiEdit(),this._unsetHovered(this.$cursorCell),!0},t.prototype.multiSelectionClick=function(e,t){var i;return!!(e.metaKey||e.altKey||e.shiftKey)&&(this.matchesCursorColumn(t)?e.shiftKey?(i=this.$cursorCell,this.clearSelection(!1),this.selectedCells=[i[0]],this.clickedCellAboveCurrentCell(t,i)?this.highlightUpTowards(t):this.highlightDownTowards(t),this._updateCursorCell(i,!1),this.preventClickEventOnCell=!0):(this._setHovered(this.$cursorCell),this._pushCell(t),this._setHovered(this.$cursorCell)):this._updateCursorCell(t),!0)},t.prototype.clickedCellAboveCurrentCell=function(e,t){var i,n;return(i=e.closest("."+a).index())===(n=t.closest("."+a).index())?e.closest("."+o).index()<t.closest("."+o).index():n>i},t.prototype.highlightUpTowards=function(e){for(var t=this._prevSimilarCell(this.$cursorCell),i=[];!this.selected(e[0]);)this.selectedCells.push(t[0]),this._setHovered(t),i.push(t=this._prevSimilarCell(t));return i},t.prototype.highlightDownTowards=function(e){for(var t=this._nextSimilarCell(this.$cursorCell),i=[];!this.selected(e[0]);)this.selectedCells.push(t[0]),this._setHovered(t),i.push(t=this._nextSimilarCell(t));return i},t.prototype.matchesCursorColumn=function(e){var t;return!(null==(t=this.$cursorCell)||!t.length)&&e.filter(this._cellClassSelector(this.$cursorCell[0])).length>0},t.prototype.matchesCursor=function(e){return!(!this.$cursorCell||!this.$cursorCell.length)&&e[0]===this.$cursorCell[0]},t.prototype.customApplyMultiEdit=function(){var e,t,i,n,r,s,o,a;for(a=[],r=0,s=(o=this.selectedCells).length;s>r;r++)t=o[r],this.matchesCursor($(t))||(e=$("[data-input-change]",t).first(),i=Bindings.context(e[0])[e.attr("context")],n=e.data("input-change"),a.push(i[n].apply(i,arguments)));return a},t.prototype.applyMultiEdit=function(e){var t,i,n,r,s,o,a,l,u;if(this.selectedCells&&(s=this._cellInputElements(this.$cursorCell).index(e.target))>=0){for(u="checkbox"===(i=$(e.target))[0].type?i[0].checked:i[0].value,l=[],r=0,o=(a=this.selectedCells).length;o>r;r++)n=a[r],this.matchesCursor($(n))||(t=this._cellInputElements($(n)),"checkbox"===i[0].type?t[s].checked=u:$(t[s]).val(u),l.push(t.change()));return l}},t.prototype.multiSelection=function(){var e;return(null!=(e=this.selectedCells)?e.length:void 0)>1},t.prototype.selected=function(e){return $.inArray(e,this.selectedCells)>=0},t.prototype.clearSelection=function(e){return null==e&&(e=!0),this.selectedCells&&this._unsetHovered($(this.selectedCells)),this.unbindMultiEdit(),this.selectedCells=null,e&&this.stopDragging(),e?this.clearCursor():void 0},t.prototype.unbindMultiEdit=function(){if(this.$cursorCell)return this._cellInputElements(this.$cursorCell).off(".multiedit"),this.$cursorCell.off("spreadsheet-cell:change"),this.multiEditing=!1},t.prototype.bindMultiEdit=function(){if(this.$cursorCell)return this.multiEditing=!0,this.$cursorCell.data("custom-input")?this.$cursorCell.on("spreadsheet-cell:change",this.customApplyMultiEdit):this._cellInputElements(this.$cursorCell).on("input.multiedit change.multiedit",this.applyMultiEdit)},t.prototype.clearCursor=function(e){var t;return null==e&&(e=!0),null!=(t=this.$cursorCell)&&t.removeClass(s),e&&this._unsetHovered(this.$cursorCell),this.$cursorCell=null},t.prototype.cursorActive=function(){var e;if(null!=(e=this.$cursorCell))return e.hasClass(r)},t.prototype.focusCursor=function(){return this._setHovered(this.$cursorCell),this.$cursorCell.focus()},t.prototype._unsetHovered=function(e){if(null!=e)return e.removeClass(r)},t.prototype._setHovered=function(e){if(null!=e)return e.addClass(r)},t.prototype._toggleSelectedCell=function(e,t){var i;if(null==t&&(t=!0),!this.selectedCells)return this.selectedCells=[e];if((i=$.inArray(e,this.selectedCells))<0)return this.selectedCells.push(e),this._setHovered($(e));if(t){if(this.selectedCells.splice(i,1),!this.matchesCursor($(e)))return this._unsetHovered($(e));if(this.clearCursor($(e)),this.selectedCells.length)return this.$cursorCell=$(this.selectedCells).first()}},t.prototype._updateCursorCell=function(e,t){var i;return null==t&&(t=!0),t&&this.clearSelection(),this.unbindMultiEdit(),null!=(i=this.$cursorCell)&&i.removeClass(s),this.$cursorCell=e,this.$cursorCell.addClass(s),this._toggleSelectedCell(e[0],t),this.focusCursor()},t.prototype._evtTargetCell=function(e){return $(e.target).closest("."+i)},t.prototype._cellInputElements=function(e){return e.find(":input").not("[type='hidden']")},t.prototype._keyPressTargetCell=function(e){return this.$cursorCell||this._evtTargetCell(e)},t.prototype._pushPrevSimilarCell=function(e){var t;return(null!=(t=this._prevSimilarCell(e))?t.length:void 0)&&this.selectedCells.length>1&&this.selected(t[0])&&this._toggleSelectedCell(e[0]),(null!=t?t.length:void 0)?this._updateCursorCell(t,!1):void 0},t.prototype._pushNextSimilarCell=function(e){var t;return(null!=(t=this._nextSimilarCell(e))?t.length:void 0)&&this.selectedCells.length>1&&this.selected(t[0])&&this._toggleSelectedCell(e[0]),(null!=t?t.length:void 0)?this._updateCursorCell(t,!1):void 0},t.prototype._pushCell=function(e){return this.selected(e[0])?this._toggleSelectedCell(e[0],!0):this._updateCursorCell(e,!1)},t.prototype._hoverNextSimilarCell=function(e){var t;return(null!=(t=this._nextSimilarCell(e))?t.length:void 0)?this._updateCursorCell(t):void 0},t.prototype._hoverPreviousSimilarCell=function(e){var t;return(null!=(t=this._prevSimilarCell(e))?t.length:void 0)?this._updateCursorCell(t):void 0},t.prototype._hoverPrevCell=function(e){var t;return(null!=(t=this._prevCell(e))?t.length:void 0)?this._updateCursorCell(t):void 0},t.prototype._hoverNextCell=function(e){var t;return(null!=(t=this._nextCell(e))?t.length:void 0)?this._updateCursorCell(t):void 0},t.prototype._selectCellInputElement=function(e){var t,i,n=e.find("[spreadsheet-popover-trigger]");n.length>0&&((t=n.siblings(".next-popover")).length>0&&Juzaweb.UIPopover.for(t[0]).isActive()&&n.click()),i=e.find(":input").not("[type='hidden']").first(),this._unsetHovered(this.$cursorCell),(null!=i?i.length:void 0)&&("SELECT"===i[0].tagName||"checkbox"===i[0].type?i[0].focus():i[0].select())},t.prototype._prevCell=function(e){var t;return(t=e.prev("."+n)).length?t:this._lastSelectableCellOf(this._prevSelectableRowFor(e))},t.prototype._nextCell=function(e){var t;return(t=e.next("."+n)).length?t:this._firstSelectableCellOf(this._nextSelectableRowFor(e))},t.prototype._prevSimilarCell=function(e,t){var i,n;return t||(t=this._cellClassSelector(e[0])),(i=this._prevRowFor(e)).length?(n=i.find(t)).length?n:this._prevSimilarCell(this._firstCellOf(i),t):void 0},t.prototype._nextSimilarCell=function(e,t){var i,n;return t||(t=this._cellClassSelector(e[0])),(i=this._nextRowFor(e)).length?(n=i.find(t)).length?n:this._nextSimilarCell(this._firstCellOf(i),t):void 0},t.prototype._lastCellOf=function(e){if(null!=e)return e.find("."+i).last()},t.prototype._firstCellOf=function(e){if(null!=e)return e.find("."+i).first()},t.prototype._lastSelectableCellOf=function(e){if(null!=e)return e.find("."+n).last()},t.prototype._firstSelectableCellOf=function(e){if(null!=e)return e.find("."+n).first()},t.prototype._prevRowFor=function(e){var t;return(t=this._prevGroupedRowFor(e)).length?t:this._lastRowOfGroup(this._prevRowGroupFor(e))},t.prototype._nextSelectableRowFor=function(e){var t;return(t=this._nextRowFor(e)).length?t.find("."+n).length?t:this._nextSelectableRowFor(this._firstCellOf(t)):null},t.prototype._prevSelectableRowFor=function(e){var t;return(t=this._prevRowFor(e)).length?t.find("."+n).length?t:this._prevSelectableRowFor(this._lastCellOf(t)):null},t.prototype._nextRowFor=function(e){var t;return(t=this._nextGroupedRowFor(e)).length?t:this._firstRowOfGroup(this._nextRowGroupFor(e))},t.prototype._nextRowGroupFor=function(e){return $(this._rowGroupFor(e)).next()},t.prototype._prevRowGroupFor=function(e){return $(this._rowGroupFor(e)).prev()},t.prototype._prevGroupedRowFor=function(e){return $(this._rowFor(e)).prev("."+o)},t.prototype._nextGroupedRowFor=function(e){return $(this._rowFor(e)).next("."+o)},t.prototype._lastRowOfGroup=function(e){return $(e).find("."+o).last()},t.prototype._firstRowOfGroup=function(e){return $(e).find("."+o).first()},t.prototype._rowFor=function(e){return e.closest("."+o)},t.prototype._rowGroupFor=function(e){return e.closest("."+a)},t.prototype._selectable=function(e){if(null!=e)return e.hasClass(n)},t.prototype._cellClassSelector=function(e){var t;return t=e.className.split(" "),"."+_.difference(t,[r,s]).join(".")},t}()}.call(this),function(){var e,t,i,n,r,s,o,a;e="next-textarea--expanding",t="only-when-printing",i=["borderBottomWidth","borderTopWidth","borderLeftWidth","borderRightWidth","paddingTop","paddingBottom","textTransform","whiteSpace","wordBreak","wordSpacing","wordWrap","letterSpacing","lineHeight","fontFamily","fontSize","fontSizeAdjust","fontStyle","fontVariant","fontWeight","boxSizing"],n=["borderBottomWidth","borderTopWidth","paddingBottom","paddingTop"],r=null,$(document).on("ready",function(){return $(document).on("focus."+e,"."+e,s).on("input."+e,"."+e,o),$(window).on("resize."+e,_.debounce(a,50,{leading:!0}))}),$(document).on("ready page:load",function(){var t;return r=function(){var i,n,r,s;for(s=[],i=0,n=(r=document.querySelectorAll("."+e)).length;n>i;i++)t=r[i],s.push(Juzaweb.NextExpandingTextarea.forNode(t));return s}()}),s=function(e){var t;if(null!=(t=$(e.target).data("next-expanding-textarea")))return t.onFocus()},o=function(e){var t,i;return null!=(t=$(e.target).data("next-expanding-textarea"))&&t.resize(),null!=(i=$(e.target).data("next-expanding-textarea"))?i.updatePrintArea():void 0},a=function(){var e,t,i,n;for(i=[],e=0,t=r.length;t>e;e++)n=r[e],i.push(n.resizeIfVisible());return i},Juzaweb.NextExpandingTextarea=function(){function e(e){this.textArea=e,this.$textArea=$(this.textArea),this.$printArea=$('<div class="'+t+'"></div>'),this.$printArea.insertAfter(this.$textArea),this.updatePrintArea(),this.heightTester=this._newHeightTester(),this.$textArea.after(this.heightTester),this.$textArea.is(":visible")&&(this._extraVerticalSpace=this._calculateVerticalSpace(),this.resize()),this.$textArea.data("next-expanding-textarea",this)}return e.forNode=function(e){return $(e).data("next-expanding-textarea")||new Juzaweb.NextExpandingTextarea(e)},e.prototype.resize=function(){var e;return null==this._extraVerticalSpace&&(this._extraVerticalSpace=this._calculateVerticalSpace()),this.heightTester.value=this.textArea.value||this.textArea.getAttribute("placeholder"),e=this.heightTester.scrollHeight+this._extraVerticalSpace,this.textArea.style.height=e+"px"},e.prototype.resizeIfVisible=function(){if(this.$textArea.is(":visible"))return this.resize()},e.prototype.onFocus=function(){return null!=this._extraVerticalSpace?this._extraVerticalSpace:this._extraVerticalSpace=this.calculateVerticalSpace()},e.prototype.updatePrintArea=function(){return this.$printArea.html(this.filterHTML(this.$textArea.val()))},e.prototype.filterHTML=function(e){return $("<div/>").text(e).html().replace(/\n/g,"<br>")},e.prototype._calculateVerticalSpace=function(){var e;return e=window.getComputedStyle(this.textArea,null),n.reduce(function(t,i){return t+parseInt(e[i])},0)},e.prototype._newHeightTester=function(){var e,t,n,r,s,o,a,l,u;if((e=document.createElement("textarea")).tabIndex="-1",e.value=this.textArea.value,l={minHeight:0,height:0,position:"absolute",minWidth:"100%",visibility:"hidden",zIndex:-1,top:0,paddingLeft:"10px",paddingRight:"10px",pointerEvents:"none"},null!=(o=(u=window.getComputedStyle(this.textArea,null)).cssText)?o.length:void 0)e.style.cssText=u.cssText;else for(t=0,n=i.length;n>t;t++)l[s=i[t]]||(l[s]=u[s]);for(a in l)r=l[a],e.style[a]=r;return e.classList.add("js-no-dirty"),e},e}()}.call(this),function(){Juzaweb.SpreadsheetColumn=function(){function e(e,t,i){this.node=e,this.bulkEditor=t,this.form=i,this.$cellNode=$(this.node).parents(".spreadsheet__cell")}return e.prototype.triggerCellChange=function(e,t){var i;return null==t&&(t={}),i={action:e},i=_.merge(i,t),this.form.$form.change(),this.$cellNode.trigger("spreadsheet-cell:change",i)},e}()}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},t=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},i={}.hasOwnProperty;Juzaweb.InventoryColumn=function(i){function n(t,i,r,s,o){this.quantityUpdated=e(this.quantityUpdated,this),this.adjustmentDecremented=e(this.adjustmentDecremented,this),this.adjustmentIncremented=e(this.adjustmentIncremented,this),this.adjustmentUpdated=e(this.adjustmentUpdated,this),n.__super__.constructor.call(this,t,i,r),this.inventoryOptions=new Juzaweb.InventoryOptions(s,o,{onAdjustmentUpdated:this.adjustmentUpdated,onAdjustmentIncremented:this.adjustmentIncremented,onAdjustmentDecremented:this.adjustmentDecremented,onQuantityUpdated:this.quantityUpdated})}return t(n,i),n.prototype.updateInventory=function(e,t){switch(t.action){case"adjustment":return this.inventoryOptions.adjustment=t.adjustment,this.inventoryOptions.adjustmentUpdated();case"increment":return this.inventoryOptions.adjustment=this.inventoryOptions.adjustment+1,this.inventoryOptions.adjustmentUpdated();case"decrement":return this.inventoryOptions.adjustment=this.inventoryOptions.adjustment-1,this.inventoryOptions.adjustmentUpdated();default:return this.inventoryOptions.quantity=t.quantity,this.inventoryOptions.quantityUpdated()}},n.prototype.adjustmentUpdated=function(){return this.triggerCellChange("adjustment",{adjustment:this.inventoryOptions.adjustment})},n.prototype.adjustmentIncremented=function(){return this.triggerCellChange("increment")},n.prototype.adjustmentDecremented=function(){return this.triggerCellChange("decrement")},n.prototype.quantityUpdated=function(){return this.triggerCellChange("update",{quantity:this.inventoryOptions.quantity})},n}(Juzaweb.SpreadsheetColumn)}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},t=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},i={}.hasOwnProperty,n='<li class="next-token next-token--clickable js-tag" data-tag="{{ tag }}"><span class="next-token__label js-tag-text">{{ tag }}</span></li>';Juzaweb.TagColumn=function(i){function r(t,i,s){this.tagRemoved=e(this.tagRemoved,this),this.tagAdded=e(this.tagAdded,this),r.__super__.constructor.call(this,t,i,s),this.$_tagShortlist=$("[data-tag-shortlist]",this.node).first(),this._tagTemplate=n}return t(r,i),r.prototype.toggleTag=function(e,t){var i;return i=t.tag,"addTag"===t.action?this.taggable.addTag(i):this.taggable.removeTag(i)},r.prototype.tagAdded=function(e){this.redrawTagList(),this.triggerCellChange("addTag",{tag:e})},r.prototype.tagRemoved=function(e){this.redrawTagList(),this.triggerCellChange("removeTag",{tag:e})},r.prototype.redrawTagList=function(){for(var e,t="",i=this.taggable.getTags(),n=0,r=i.length;r>n;n++)e=i[n],t+=this._tagTemplate.replace(/{{ tag }}/g,e);this.$_tagShortlist.html(t),this.$_tagShortlist.append("<li>&nbsp;</li>")},r}(Juzaweb.SpreadsheetColumn)}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};Juzaweb.TagitExtension=function(){function t(t,i){this.options=null!=i?i:{},this.hideErrorMessage=e(this.hideErrorMessage,this),this.onTagExists=e(this.onTagExists,this),this.onTagExceedsMaxLength=e(this.onTagExceedsMaxLength,this),this.$node=$(t),this.$tagIt=this.$node.find("[tagit]"),this.$errorTagTooltip=$(".tooltip-error",this.$node),this.placeholderText=this.options.placeholderText}return t.prototype.initTagit=function(e){return null==e&&(e={}),this.$tagIt.tagit(_.defaults(e,this.options,{caseSensitive:!1,allowDuplicates:!1,allowSpaces:!0,animate:!1,placeholderText:this.placeholderText,onTagExceedsMaxLength:this.onTagExceedsMaxLength,onTagExists:this.onTagExists}))},t.prototype.getTags=function(){return this.$tagIt.tagit("assignedTags")},t.prototype.onTagExceedsMaxLength=function(){return this.showErrorMessage(this.options.maxLengthError||"Giới hạn của tag là "+this.$tagIt.tagit("getTagMaxLength")+" ký tự.")},t.prototype.onTagExists=function(){return this.showErrorMessage(this.options.tagExistsError||"Oops, Bạn đã chọn tag này rồi.")},t.prototype.showErrorMessage=function(e){var t=$("ul.next-token-list .tagit-new",this.$errorTagTooltip.parent());this.$errorTagTooltip.css("margin-left",t.position().left),this.$errorTagTooltip.css("top",t.position().top+t.height()),this.errorMessage=e,Bindings.refreshImmediately(),clearTimeout(this.errorTimeout),this.errorTimeout=setTimeout(this.hideErrorMessage,5e3)},t.prototype.hideErrorMessage=function(){clearTimeout(this.errorTimeout),null!=this.errorMessage&&(this.errorMessage=null,Bindings.refreshImmediately())},t.prototype.showPlaceholderText=function(){return this.getTags().length?this.$tagIt.find("input.ui-autocomplete-input").prop("placeholder",""):this.$tagIt.find("input.ui-autocomplete-input").prop("placeholder",this.placeholderText)},t}()}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},t=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},i={}.hasOwnProperty;Juzaweb.Taggable=function(i){function n(t,i){var r;this.addTagOnClick=e(this.addTagOnClick,this),this.removeTag=e(this.removeTag,this),this.addTag=e(this.addTag,this),this.onTagsUpdated=i.onTagsUpdated,i.onTagsUpdated=null,this.onTagAdded=i.onTagAdded,i.onTagAdded=null,this.onTagRemoved=i.onTagRemoved,i.onTagRemoved=null,n.__super__.constructor.apply(this,arguments),this.placeholderText=null!=(r=this.options.placeholderText)?r:"Vintage, cotton, summer",this.$form=$(this.options.formSelector),this.errorMessage=null,this.setupTagIt(),this.$node.on("click",".previous-tags .js-tag",this.addTagOnClick),this.previousTags=_.map($(".js-addtags .js-tag",this.$node),function(e){return Juzaweb.Inflection.generateAlias(e.textContent.trim())}),this.checkIfEmpty()}return t(n,i),n.prototype.findFormObject=function(){var e,t,i,n;for(t in e=Bindings.context(this.$form[0]))if((n=e[t])instanceof Juzaweb.Forms&&(null!=n&&null!=(i=n.$form)?i[0]:void 0)===this.$form[0])return n},n.prototype.setupTagIt=function(){return this._initializing=!0,this.initTagit({fieldName:this.options.fieldName,tagMaxLength:this.options.tagMaxLength,autocomplete:{source:[]},afterTagRemoved:this.afterTagRemoved.bind(this),afterTagAdded:this.afterTagAdded.bind(this)}),this._initializing=!1},n.prototype.setDirty=function(){var e;if(!this._initializing)return this.$form.trigger("change"),null!=(e=this.findFormObject())?e.makeDirty():void 0},n.prototype.checkIfEmpty=function(){if(this.$tagIt)return this.showPlaceholderText(),this.getTags().length||this.$hiddenEmptyNode?this.$hiddenEmptyNode?(this.$hiddenEmptyNode.remove(),delete this.$hiddenEmptyNode):void 0:(this.$hiddenEmptyNode=$("<input type='hidden' name='"+this.options.fieldName+"' value='' />"),this.$form.append(this.$hiddenEmptyNode))},n.prototype.addTag=function(e){return this.$tagIt.tagit("createTag",e)},n.prototype.removeTag=function(e){return this.$tagIt.tagit("removeTagByLabel",e)},n.prototype.addTagOnClick=function(e){var t;return(t=$(e.currentTarget)).hasClass("next-token--is-disabled")?void 0:(this.$tagIt.tagit("createTag",t.text().trim()),t.addClass("next-token--is-disabled"))},n.prototype.renderTag=function(e){var t;return(t=$("li.js-tag",this.$node).first().clone()).attr("data-tag",Juzaweb.Inflection.generateAlias(e)).find("span").text(e),t.removeClass("next-token--is-disabled"),t},n.prototype.addPreviousTag=function(e){var t;if(e&&-1===this.previousTags.indexOf(Juzaweb.Inflection.generateAlias(e)))return t=this.renderTag(e),this.getTags().indexOf(e)>=0&&t.addClass("next-token--is-disabled"),$(".js-addtags",this.$node).append(t)},n.prototype.showAllPreviousTags=function(e){var t;return(t=$.ajax({url:this.options.allTagsUrl,type:"GET",dataType:"json"})).done(function(t){return function(i){var n,r,s,o;for(n=0,r=(s=i.tags).length;r>n;n++)o=s[n],t.addPreviousTag(o);return $(e.currentTarget).remove()}}(this)),t.fail(Juzaweb.handleError)},n.prototype.afterTagRemoved=function(e,t){var i;if(t.tagLabel)return(i=$(".previous-tags li[data-tag="+Juzaweb.Inflection.generateAlias(t.tagLabel)+"]",this.$node)).removeClass("next-token--is-disabled"),!i.length&&t.tagLabel&&this.addPreviousTag(t.tagLabel),this.hideErrorMessage(),this.checkIfEmpty(),this.setDirty(),this.fireTagRemovedCallback(t.tagLabel),this.fireTagsUpdatedCallback()},n.prototype.afterTagAdded=function(e,t){if(!t.duringInitialization)return this.hideErrorMessage(),$(".previous-tags li[data-tag="+Juzaweb.Inflection.generateAlias(t.tagLabel)+"]",this.$node).addClass("next-token--is-disabled"),this.checkIfEmpty(),this.setDirty(),this.fireTagAddedCallback(t.tagLabel),this.fireTagsUpdatedCallback()},n.prototype.fireTagsUpdatedCallback=function(){if("function"==typeof this.onTagsUpdated)return this.onTagsUpdated(this.getTags())},n.prototype.fireTagAddedCallback=function(e){if("function"==typeof this.onTagAdded)return this.onTagAdded(e,this.getTags())},n.prototype.fireTagRemovedCallback=function(e){if("function"==typeof this.onTagRemoved)return this.onTagRemoved(e,this.getTags())},n}(Juzaweb.TagitExtension)}.call(this),function(){var e,t,i;moment.updateLocale("vi",{longDateFormat:{LT:"h:mma",L:"MM/DD/YYYY",l:"M/D/YYYY",LL:"MMMM Do YYYY",ll:"MMM D YYYY",LLL:"MMMM Do YYYY LT",lll:"MMM D YYYY LT",LLLL:"dddd, MMMM Do YYYY LT",llll:"ddd, MMM D YYYY LT"},calendar:{lastDay:"[Yesterday at] LT",sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",lastWeek:"dddd [at] LT",nextWeek:"next dddd [at] LT",sameElse:"MMM D, LT"}}),t=function(e){return moment.isMoment(e)?e.format("YYYY-MM-DD HH:mm:ss"):e instanceof Date?moment(e).format("YYYY-MM-DD HH:mm:ss"):e},e=function(){function e(e){this.moment=e}return e.prototype.inShop=function(){return new e(this.moment.clone().tz(Juzaweb.Time.shopTz))},e.prototype.inLocal=function(){return new e(this.moment.clone().tz(Juzaweb.Time.localTz))},e.prototype.formatInShop=function(e,t){var i,n;return null==e&&(e="YYYY-MM-DD"),null==t&&(t=!1),i=(n=this.inShop().moment).format(e),Juzaweb.Time.isDifferentTimezone()&&(e.match(/h|H/)||e.match(/LT/)||e.match(/l{3,}/i))&&!t&&(i+=" "+n.format("z")),i},e.prototype.formatInLocal=function(e){return null==e&&(e="YYYY-MM-DD"),this.inLocal().moment.format(e)},e}(),Juzaweb.Time={shopTz:null!=(i=Juzaweb.store)?i.settings.tzinfo:void 0,localTz:jstz.determine().name(),fromShop:function(i){return new e(moment.tz(t(i),Juzaweb.Time.shopTz))},fromLocal:function(i){return new e(moment.tz(t(i),Juzaweb.Time.localTz))},fromUTC:function(i){return new e(moment.tz(t(i),"UTC"))},nowLocal:function(){return this.fromLocal(new Date)},nowShop:function(){return this.fromLocal(new Date).inShop()},isDifferentTimezone:function(){var e,t,i,n,r,s,o;for(o=moment.tz.zone(Juzaweb.Time.shopTz),n=moment.tz.zone(Juzaweb.Time.localTz),t=e=0,i=(s=o.offsets).length;i>e;t=++e)if(r=s[t],n.offsets[t]!==r)return!0;return!1},shopTimeToNext30MinuteIncrement:function(){var e,t;return(e=(t=this.nowShop()).moment).minute()<30?e.minute(30):e.minute(60),e.startOf("minute"),t},fullMonthDayFormat:"MMMM D",fullMonthDayYearFormat:"MMMM D, YYYY",shortMonthDayTimeFormat:"MMM D, LT",shortMonthDayYearTimeFormat:"MMM D, YYYY, LT",shortMonthDayYearFormat:"MMM D, YYYY"}}.call(this),function(){Juzaweb.FuturePublishing=function(){function e(e,t){null==t&&(t={}),e=Juzaweb.Time.fromShop(e),this.setPublishedAt(e),this.onPublishedAtChanged=t.onPublishedAtChanged,this.lastDate=this.publishDateString}return e.prototype.publishedChanged=function(e){var t;return t=e.checked?Juzaweb.Time.nowShop():null,this.setPublishedAt(t)},e.prototype.dateChanged=function(){var e;if(this.date&&this.time)return(e=moment(this.date+" "+this.time,"YYYY-MM-DD h:mma")).seconds(0),this.setPublishedAt(Juzaweb.Time.fromShop(e))},e.prototype.setPublishedAt=function(e){this.isFuturePublished=!1,null!=e&&e.moment.isValid()?(this.published_at=e,this.isFuturePublished=this.published_at.moment>Juzaweb.Time.nowShop().moment,this.published=!this.isFuturePublished,this.publishDateString=e.formatInShop("YYYY-MM-DD HH:mm",!0),this.date=e.formatInShop("YYYY-MM-DD"),this.time=e.formatInShop("h:mma",!0)):(this.published_at=null,this.isFuturePublished=!1,this.published=!1,this.publishDateString=null,this.date=null,this.time=null),"function"==typeof this.onPublishedAtChanged&&this.onPublishedAtChanged(e)},e}()}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},t=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},i={}.hasOwnProperty;Juzaweb.PublishingColumn=function(i){function n(t,i,r,s){this.publishedAtChanged=e(this.publishedAtChanged,this),n.__super__.constructor.call(this,t,i,r),this.futurePublishing=new Juzaweb.FuturePublishing(s,{onPublishedAtChanged:this.publishedAtChanged})}return t(n,i),n.prototype.updatePublishedAt=function(e,t){return this.futurePublishing.setPublishedAt(t.published_at)},n.prototype.publishedAtChanged=function(e){return this.triggerCellChange("update",{published_at:e})},n}(Juzaweb.SpreadsheetColumn)}.call(this),function(){Juzaweb.DashboardActivity=function(){function e(){this.nextPage=2,this.isLoading=!1,this.activityContainer=$(".activity-container"),this.totalPages=parseInt($("#TotalPages").val())}return e.prototype.loadMoreActivity=function(){var e=this;this.isLoading=!0,$.ajax({url:Juzaweb.routes.activityFeed+"?page="+e.nextPage,complete:function(){e.isLoading=!1},success:function(t){e.nextPage+=1,e.activityContainer.append(t),e.nextPage>e.totalPages&&$("a.btn-load-more").hide()}})},e}()}.call(this),function(){Juzaweb.ShowImageModal=function(){function e(e,t,i,n){this.aviary=t,this.fileName=i,this.id=n,this.modal=new Juzaweb.Modal(e)}return e.prototype.show=function(e){null==e&&(e={}),this.modal.show(e)},e.prototype.launchAviary=function(e,t){var i=this;this.modal.hide(),this.aviary.launchEditor(e,t,function(e){$.ajax({url:"/admin/settings/files/update",data:{id:i.id,imageurl:e},method:"POST",success:function(){Juzaweb.Flash.notice("Chỉnh sửa ảnh thành công."),Juzaweb.Utility.loadAjax(document.location.href,".mediafiles")},error:function(){Juzaweb.Flash.error("Chỉnh sửa ảnh thất bại.")}})})},e}()}.call(this),function(){Juzaweb.LinkListContainer=function(){function e(e,t){this.linkListId=t,this.$container=$(e),this.initializeSortable()}return e.prototype.initializeSortable=function(){this.linklist=$(".link-list-group",this.$container).sortable({items:".link-list-group-item",placeholder:"ui-sortable__placeholder",helper:"original",opacity:.7,update:this.submitNewSortOrder.bind(this),start:function(e,t){t.placeholder.height(t.helper.height())}})},e.prototype.submitNewSortOrder=function(){var e=this;this.setIndexForMultiObjectPost(),$.ajax({url:"/admin/links/order/"+this.linkListId,dataType:"html",type:"POST",data:this.$container.find("form").serialize(),complete:function(){e.resetIndexForMultiObjectPost()}})},e.prototype.setIndexForMultiObjectPost=function(){for(var e,t,i,n=this.$container.find(".link-list-group-item"),r=0;r<n.length;r++)for(e=$(n[r]).find(":input"),t=0;t<e.length;t++)void 0!==(i=$(e[t]).attr("name"))&&i.indexOf("[]")>=0&&(i=i.replace("[]","["+r+"]"),$(e[t]).attr("name",i))},e.prototype.resetIndexForMultiObjectPost=function(){for(var e,t,i,n=this.$container.find(".link-list-group-item"),r=0;r<n.length;r++)for(e=$(n[r]).find(":input"),t=0;t<e.length;t++)void 0!==(i=$(e[t]).attr("name"))&&(i=i.replace(/\[\d\]/g,"[]"),$(e[t]).attr("name",i))},e.name="LinkListContainer",e}()}.call(this),function(){Juzaweb.DomainOperations=function(){function e(){}return e.verifyDns=function(){return $.ajax({url:Juzaweb.routes.setting.domain+"/verify_configuration",type:"GET",global:!1}).done(function(e,t,i){return Page.refresh({response:i,onlyKeys:["domains-listing"]})})},e.submitSsl=function(e){var t=$(e).find("[type='submit']"),i=t.html(),n=new FormData($("#sslConfig")[0]);t.addClass("disabled").html(Juzaweb.LOADING),Juzaweb.Loading.start(),$.ajax({url:Juzaweb.routes.setting.domain+"/certificate",type:"POST",success:function(e){Juzaweb.Utility.loadAjax(window.location.href,".page-content-domains",function(){Juzaweb.Flash.notice(e.message)})},error:function(e){e.responseJSON&&e.responseJSON.error?Juzaweb.Flash.error(e.responseJSON.error.replace(/\n/g,"; ").replace(/; $/,"")):Juzaweb.Flash.error("Cập nhật thông tin thất bại"),t.removeClass("disabled").html(i),Juzaweb.Loading.stop()},data:n,cache:!1,contentType:!1,processData:!1})},e}()}.call(this),function(){Juzaweb.SetSessionViewOrder=function(){function e(){}return e.prototype.set=function(e){var t="/admin/orders"+window.location.search;Juzaweb.Utility.setCookie("viewOrder",e,365),Juzaweb.Utility.loadAjax(t,".page-order",function(){Juzaweb.Utility.changeUrl(t)})},e.prototype.setCookieForTooltip=function(){Juzaweb.Utility.setCookie("notifyNew","close",365),$(".popover").removeClass("showNotify")},e}()}.call(this),function(){Juzaweb.SetSessionUtility=function(){function e(){}return e.prototype.setCookieForBannerApp=function(){Juzaweb.Utility.setCookie("bannerApp","close",365),$(".area-banner-app").addClass("hide")},e}()}.call(this),function(){Juzaweb.ShipmenEdit=function(){function e(e,t){if(this.$element=$(e),t)for(var i in t)this[i]=t[i];initAutoNumeric()}return e.prototype.changeDeliverStatus=function(e){this.deliverStatus=$(e).find(":selected").val(),this.deliverStatusName=$(e).find(":selected").text()},e.prototype.changePaymentStatus=function(e){this.paymentStatus=$(e).find(":selected").val(),this.paymentStatusName=$(e).find(":selected").text()},e.prototype.updateShipmentDetails=function(){var e,t=this,i=$('input[name="Tags"]').val(),n=$("#Note").val();Juzaweb.Loading.start(),(e=$(".update-order-btn")).addClass("disabled").html(Juzaweb.LOADING),$.ajax({url:"/admin/shipments/"+t.id,data:{note:n,tags:i},type:"POST",global:!1,success:function(e){var i="/admin/shipments/"+t.id;Juzaweb.Utility.loadAjax(i,".shipments-info",function(){e.message?Juzaweb.Flash.notice(e.message):Juzaweb.Flash.notice("Cập nhật vận đơn thành công")})},error:function(t){t.responseJSON&&t.responseJSON.error?Juzaweb.Flash.error(t.responseJSON.error.replace(/\n/g,"; ").replace(/; $/,"")):Juzaweb.Flash.error("Cập nhật thông tin thất bại"),e.removeClass("disabled").html("Lưu"),Juzaweb.Loading.stop()}})},e}()}.call(this),function(){Juzaweb.ShipmentBulkActions=function(){function e(t,i){e.base.constructor.call(this,t,i)}return extend(Juzaweb.BulkActions,e),e.prototype.archiveShipments=function(){var e=$("#frmBulkActions input[name='ids']").length*TIME_DELAY;e>7e3&&(e=7e3),Juzaweb.Loading.start(),$.ajax({url:this.urlBulkActionArchiveShipments,type:"POST",global:!1,data:$("#frmBulkActions").serialize(),success:function(t){setTimeout(function(){Juzaweb.Utility.loadAjax(window.location.href,".page-content",function(){Juzaweb.Flash.notice(t.result.message)})},e)}})},e.prototype.unarchiveShipments=function(){var e=$("#frmBulkActions input[name='ids']").length*TIME_DELAY;e>7e3&&(e=7e3),Juzaweb.Loading.start(),$.ajax({url:this.urlBulkActionUnArchiveShipments,type:"POST",global:!1,data:$("#frmBulkActions").serialize(),success:function(t){setTimeout(function(){Juzaweb.Utility.loadAjax(window.location.href,".page-content",function(){Juzaweb.Flash.notice(t.result.message)})},e)}})},e.prototype.printShipments=function(){$.ajax({url:this.urlBulkActionPrintShipments,type:"POST",data:$("#frmBulkActions").serialize(),success:function(e){var t,n,r,s;if(null!=e.contents&&e.contents.length>0){for(t="",n=[],t+='<style type="text/css">@media all{.page-break{display:none;}}@media print{.page-break{float:none;border:none;width:100%;clear:both;display:block;page-break-after:always;}}</style>',i=0;i<e.contents.length;i++)n.push("<div>"+e.contents[i]+"</div>");t+=n.join('<div class="page-break"></div>'),r=window.frames.print_frame,(s=$("<div>"+t+"</div>")).find(".print_barcode").each(function(){var e=$(this).attr("val");$(this).JsBarcode(e,{width:1,height:37,quite:0,margin:0,format:"CODE128",displayValue:!1,font:"monospace",textAlign:"center",lineColor:"#000"})}),r.document.body.innerHTML=s[0]?s[0].innerHTML:t,setTimeout(function(){r.document.close(),r.focus(),r.print(),r.close()},250)}},error:function(){Juzaweb.Flash.error("In vận đơn không thành công")}})},e}()}.call(this),function(){Juzaweb.ShipmentAction=function(){function e(e,t){if(t)for(var i in t)this[i]=t[i]}return e.prototype.showModal=function(e){this[e].show()},e.prototype.archiveShipment=function(e,t){var i;i=t?"Lưu trữ":"Hủy lưu trữ",$.ajax({url:e,type:"post",data:{isArchive:t},success:function(e){"OK"!=e?Juzaweb.Flash.notice(i+" phiếu giao hàng không thành công"):window.location.reload()},error:function(e){Juzaweb.Flash.error(e.responseJSON.error.replace(/\n/g,"; ").replace(/; $/,""))}})},e.prototype.cancel=function(e){this.shipmentId=e,this.cancelShipmentModal.show()},e}()}.call(this),function(){Juzaweb.NotifyFeatures=function(){function e(e,t){if(t)for(var i in t)this[i]=t[i];this.$container=$(e)}return e.prototype.shouldShowFeatureInfo=function(){var e=this.getFeatureCookieName(this.feature),t=Juzaweb.Utility.getCookie(e);return"false"!==t&&"False"!==t},e.prototype.hideFeatureInfo=function(){var e=this.getFeatureCookieName(this.feature);Juzaweb.Utility.setCookie(e,"false",365),this.$container.hide()},e.prototype.getFeatureCookieName=function(e){if(e)return"should_show_feature_"+e},e}()}.call(this),function(){Juzaweb.AdminNotificationBulkActions=function(){function e(t,i){e.base.constructor.call(this,t,i)}return extend(Juzaweb.BulkActions,e),e.prototype.markAsRead=function(){$.ajax({url:"/admin/adminnotifications/markAsRead",type:"POST",data:$("#frmBulkActions").serialize(),success:function(e){"OK"==e.content?Juzaweb.Utility.loadAjax(window.location.href,".adminNotification",function(){Juzaweb.Flash.notice("Đánh dấu đã đọc thành công!")}):Juzaweb.Flash.error("Có lỗi xảy ra !")},error:function(){Juzaweb.Flash.error("Có lỗi xảy ra !")}})},e.prototype.markAsUnRead=function(){$.ajax({url:"/admin/adminnotifications/markAsUnRead",type:"POST",data:$("#frmBulkActions").serialize(),success:function(e){"OK"==e.content?Juzaweb.Utility.loadAjax(window.location.href,".adminNotification",function(){Juzaweb.Flash.notice("Đánh dấu chưa đọc thành công!")}):Juzaweb.Flash.error("Có lỗi xảy ra !")},error:function(){Juzaweb.Flash.error("Có lỗi xảy ra !")}})},e}()}.call(this),function(){Juzaweb.TwoFactorAuth=function(){function e(e,t){if(null!=t)for(var i in t)this[i]=t[i]}return e.prototype.submitModalForm=function(e){var t;t=$(e).serialize(),$.ajax({url:e.getAttribute("action"),type:e.getAttribute("method"),data:t,success:function(e){null==e.error?($("#two_factor_auth_modal").html(e),Bindings.bind($("#two_factor_auth_modal").get(0)),Bindings.refreshImmediately()):Juzaweb.Flash.error(e.error)},error:function(){Juzaweb.Flash.error("Có lỗi xảy ra !")}})},e.prototype.submitDisableModalForm=function(e){var t;t=$(e).serialize(),$.ajax({url:e.getAttribute("action"),type:e.getAttribute("method"),data:t,success:function(e){null==e.error?"OK"!=e?Juzaweb.Flash.error("Có lỗi xảy ra !"):window.location.reload():Juzaweb.Flash.error(e.error)},error:function(){Juzaweb.Flash.error("Có lỗi xảy ra !")}})},e.prototype.submitConfirmModalForm=function(e){var t;t=$(e).serialize(),$.ajax({url:e.getAttribute("action"),type:e.getAttribute("method"),data:t,success:function(e){null==e.error?""!=e?Juzaweb.Utility.loadAjax(window.location.href,".user_two_factor_auth",function(){$("#two_factor_auth_modal").html(e),Bindings.bind($("#two_factor_auth_modal").get(0)),Bindings.refreshImmediately()},{hide:!1}):window.location.reload():Juzaweb.Flash.error(e.error)},error:function(){Juzaweb.Flash.error("Có lỗi xảy ra !")}})},e.prototype.enablePrimaryBtn=function(){$("#two_factor_auth_modal").find(".btn-primary:last").removeAttr("disabled")},e.prototype.printCodes=function(){var e,t,i=$("#two_factor_auth_modal").clone();i.find("#generate_new_code").remove(),i.find(".ui-modal__header-actions").remove(),i.find(".ui-modal__footer").remove(),i.find(".tfa-confirm-info").remove(),e=i.html(),(t=window.frames.print_frame).document.body.innerHTML=e,setTimeout(function(){t.document.close(),t.focus(),t.print(),t.close()},50)},e}()}.call(this),function(){var e;Juzaweb.Scrolling={scrollToElement:function(t,i){var n,r,s,o;if(!(t.offsetHeight>=t.scrollHeight))return r=e(i)-e(t),s=t.offsetHeight,o=t.scrollTop,n=i.offsetHeight,r<0?t.scrollTop=o+r:r+n>s?t.scrollTop=o+r-s+n:void 0}},e=function(e){return e.getBoundingClientRect().top+window.pageXOffset-document.documentElement.clientTop}}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};window.Juzaweb.PaginatedPopoverKeyboardSelector=function(){function t(t,i,n,r){this.childSelector=i,null==r&&(r={}),this.keypressHandler=e(this.keypressHandler,this),this.$input=$(t),this.selectedClass=r.selectedClass||"is-selected",this.selectedOptionId="selected-option-"+_.uniqueId(),this.$popoverNode=$(n),this.$popoverPane=this.$popoverNode.find("."+Juzaweb.UIPopover.CLASSES.PANE),this.popover=Juzaweb.UIPopover.for(this.$popoverNode[0]),this.$input.on("keydown",this.keypressHandler),this._setupAccessibility()}var i;return i="popover-announce-selected",t.prototype.set=function(e,t){if(null==t&&(t=!1),this.clearSelection(),this.children=e.find(this.childSelector).toArray(),this._setupAccessibilitySelectionRoles(e),t&&this.children.length)return this.focusOption(0)},t.prototype.add=function(e){return null==this.children&&(this.children=[]),this.children=this.children.concat(e.find(this.childSelector).toArray()),this._setupAccessibilitySelectionRoles(e)},t.prototype.hasSelection=function(){return null!=this.$lastSelectedNode&&this.popover.isActive()},t.prototype.clearSelection=function(){var e;return this.selectedIndex=null,null!=(e=this.$lastSelectedNode)&&e.removeClass(this.selectedClass).removeAttr("id"),this.$lastSelectedNode=null,$("#"+i).text("")},t.prototype.clear=function(){return this.children=[],this.clearSelection()},t.prototype.keypressHandler=function(e){switch(e.which){case Juzaweb.Keycodes.ENTER:return this._selectOption(e);case Juzaweb.Keycodes.UP:return this._focusPreviousOption(e);case Juzaweb.Keycodes.DOWN:return this._focusNextOption(e)}},t.prototype.focusOption=function(e){var t,n;return _.isEmpty(this.children)?this.clearSelection():(this.selectedIndex=Math.max(Math.min(this.children.length-1,e),0),null!=(t=this.$lastSelectedNode)&&t.removeClass(this.selectedClass),null!=(n=this.$lastSelectedNode)&&n.removeAttr("id"),this.$lastSelectedNode=$(this.children[this.selectedIndex]),this.$lastSelectedNode.addClass(this.selectedClass),this.$lastSelectedNode.attr({id:this.selectedOptionId}),this._scrollToSelectedNode(),this.popover.isActive()?$("#"+i).text(this.$lastSelectedNode.text()):void 0)},t.prototype._setupAccessibilitySelectionRoles=function(e){if(e.find("li").attr({role:"option"}),e.is("li"))return e.attr({role:"option"})},t.prototype._setupAccessibility=function(){var e,t;if(t=(e=this.$popoverNode.find("ul")).attr("id")||"popover-dropdown-"+_.uniqueId(),e.attr({role:"listbox",id:t}),this.$input.attr({role:"combobox","aria-autocomplete":"list","aria-activedescendant":this.selectedOptionId,"aria-controls":"popover-announce-selected","aria-owns":t,"aria-haspopup":"false"}),!$("#"+i).length)return $("<div id='"+i+"' class='helper--visually-hidden' aria-live='polite'></div>").appendTo("body")},t.prototype._selectOption=function(e){var t;if(this.hasSelection())return e.preventDefault(),null!=(t=this.$lastSelectedNode)?t.trigger("click"):void 0},t.prototype._focusPreviousOption=function(e){if(e.preventDefault(),!_.isEmpty(this.children))return this.popover.isActive()?this.$lastSelectedNode?this.focusOption(this.selectedIndex-1):this.focusOption(0):this._openAndAnnounceSelection()},t.prototype._focusNextOption=function(e){if(e.preventDefault(),!_.isEmpty(this.children))return this.popover.isActive()?this.$lastSelectedNode?this.focusOption(this.selectedIndex+1):this.focusOption(0):this._openAndAnnounceSelection()},t.prototype._openAndAnnounceSelection=function(){var e;return this.popover.activate(),$("#"+i).text(null!=(e=this.$lastSelectedNode)?e.text():void 0)},t.prototype._scrollToSelectedNode=function(){var e,t;if((e=this.$lastSelectedNode).length&&(t=e.closest(this.$popoverPane)[0]))return 0===this.selectedIndex?void(t.scrollTop=0):this.selectedIndex>=this.children.length-1?void(t.scrollTop=t.scrollHeight):Juzaweb.Scrolling.scrollToElement(t,e[0])},t}()}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};Juzaweb.AutocompleteV2=function(){function t(t,n,r){var s;this.renderer=n,this.options=null!=r?r:{},this._clearError=e(this._clearError,this),this.onScroll=e(this.onScroll,this),this.onMouseOut=e(this.onMouseOut,this),this.onFocusin=e(this.onFocusin,this),this.$node=$(t),this.options.maxLength&&null==(s=this.options).maxLengthError&&(s.maxLengthError="Vượt quá "+this.options.maxLength+" ký tự cho phép"),this.$popoverNode=this.$node.find("."+Juzaweb.UIPopover.CLASSES.BASE),this.$popoverPane=this.$node.find("."+Juzaweb.UIPopover.CLASSES.PANE),this.$suggestionsContainer=this.$node.find(i),this.$input=this.$node.find("input:first"),this.$popoverNode.addClass(Juzaweb.UIPopover.VARIANTS.BASE.NO_FOCUS),this.popover=Juzaweb.UIPopover.for(this.$popoverNode[0]),this.$node.on("mouseout",i,this.onMouseOut),this.$input.on("focusin",this.onFocusin),this.$input.on("click",!1),this.$popoverPane.on("scroll",this.onScroll),this.keyboardSelector=new Juzaweb.PaginatedPopoverKeyboardSelector(this.$input[0],"[selectable]",this.$popoverNode[0],{scrollPane:this.$popoverPane[0],selectedClass:"next-list__item--is-selected"}),this.dedupedRenderWithInput=Juzaweb.dedupedXHR(this.renderWithInput,200),Bindings.afterBound(function(e){return function(){return e.lastInput=e.input}}(this))}var i;return i=".js-autocomplete-suggestions",500,5e3,t.prototype.precompileTemplates=function(e){var t;return t=_.pickBy(e,_.identity),_.mapValues(t,function(e){return Juzaweb.Templates.precompile($(e).html())})},t.prototype.resetSuggestions=function(){return this.renderWithInput()},t.prototype.setInput=function(e){return this.input=this.lastInput=e},t.prototype.inputChanged=function(){var e;if((e=this.trimmedInput())!==this.lastInput)return this.lastInput=e,this.dedupedRenderWithInput(e)},t.prototype.checkInputMaxLength=function(e){if(this.options.maxLength){if(_.size(e)>this.options.maxLength)return this.showMaxLengthError(),!1;this._clearError()}return!0},t.prototype.renderWithInput=function(e){var t,i;if(null==e&&(e=""),this.checkInputMaxLength(e))return t=!1,e&&this.popover.activate(),Bindings.unbind(this.$suggestionsContainer[0]),this.$suggestionsContainer.empty(),this.keyboardSelector.clear(),i=this.renderer.inputChanged(e,function(e){return function(i,n){return null==n&&(n=0),t=!0,e.loadingResults=!1,e._appendAndBindRenderedContent(i,n),Bindings.refresh()}}(this)),t||(this.loadingResults=!0,Bindings.refreshImmediately(),this.popover.reposition()),i},t.prototype.trimmedInput=function(){var e,t;return null!=(e=null!=(t=this.input)?t.trim():void 0)?e:""},t.prototype.onFocusin=function(e){if(this._clearError(),this.resetSuggestions(),_.defer(function(e){return function(){return e.$input.select()}}(this)),this.options.showSuggestionsOnFocus&&(this._hasContent()||this.loadingResults))return this.popover.activate(),e.stopPropagation()},t.prototype.onMouseOut=function(){return this.keyboardSelector.clearSelection()},t.prototype.onScroll=function(){var e,t,i;if(!this.loadingResults&&this.renderer.hasNextPage()&&!(this.$popoverPane[0].scrollTop+this.$popoverPane[0].offsetHeight+500<this.$popoverPane[0].scrollHeight))return e=!1,t=this.trimmedInput(),this.renderer.renderNextPage((i=this,function(n){var r;if(i.trimmedInput()===t)return e=!0,i.loadingResults=!1,r=$(n),_.each(r.filter("*"),function(e){return Bindings.bind(e,i)}),i.$suggestionsContainer.append(r),i.keyboardSelector.add(r),Bindings.refresh()})),e?void 0:(this.loadingResults=!0,Bindings.refresh())},t.prototype.showMaxLengthError=function(){return this.showError(this.options.maxLengthError)},t.prototype.showError=function(e){return this.errorMessage=e,this.popover.deactivate(),clearTimeout(this.errorTimeout),this.errorTimeout=setTimeout(this._clearError,5e3),Bindings.refresh()},t.prototype._clearError=function(){var e;if(e=!!this.errorMessage,this.errorMessage=null,e)return Bindings.refresh()},t.prototype._hasContent=function(){return this.$suggestionsContainer.children("*").length>0},t.prototype._appendAndBindRenderedContent=function(e,t,i){return null==i&&(i=!1),!i&&this._isPopoverClosing()?this.$popoverNode.one(Juzaweb.UIPopover.EVENTS.DEACTIVATED,function(i){return function(){return i._appendAndBindRenderedContent(e,t,!0)}}(this)):(Bindings.unbind(this.$suggestionsContainer[0]),this.$suggestionsContainer.html(e),Bindings.bind(this.$suggestionsContainer[0]),this.keyboardSelector.set(this.$suggestionsContainer),this.keyboardSelector.focusOption(t),this._hasContent()?void 0:this.popover.deactivate())},t.prototype._isPopoverClosing=function(){return this.$popoverNode.hasClass(Juzaweb.UIPopover.STATES.CONTAINER.DEACTIVATING)},t}()}.call(this),function(){Juzaweb.Templates={precompile:function(e){return _.template(e)},render:function(e,t){return _.isFunction(e)?e(t):_.template(e)(t)},renderAndAppend:function(e,t,i){return i.append(this.render(e,t))},renderAppendAndBind:function(e,t,i){return Juzaweb.Templates.renderAndAppend(e,t,i),Bindings.bind(i[0])},unbindAndRemove:function(e){return Bindings.unbind(e[0]),e.remove()},renderSetAndBind:function(e,t,i){return Bindings.unbind(i[0]),i.html(this.render(e,t)),Bindings.bind(i[0])}}}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},t=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},i={}.hasOwnProperty;Juzaweb.AutocompleteV2.RemoteMultiSelectAutocomplete=function(i){function n(t,i,r,s,o){var a,l,u;this.eventBus=r,null==o&&(o={}),this._clearInput=e(this._clearInput,this),this._deleteValue=e(this._deleteValue,this),this._addValue=e(this._addValue,this),u={results:"#autocomplete-v2-suggestions-list-with-toggle-template",noResults:"#autocomplete-v2-no-results-template"},o.templates&&(u=_.merge(u,o.templates)),u=this.precompileTemplates(u),o=_.defaults(o,{values:[],showSuggestionsOnFocus:!0}),this.values={},_.each(o.values,function(e){e.init=!0}),_.each(o.values,this._addValue),_.each(o.values,function(e){e.init=!1}),l={displayKey:o.displayKey,detailsKey:o.detailsKey,secondaryDetailsKey:o.secondaryDetailsKey},a=new Juzaweb.AutocompleteV2.PaginatedRemoteRenderer(i,s,u,l),n.__super__.constructor.call(this,t,a,o),this.eventBus.on("value:removed",this._deleteValue),this.$input.on("blur",this._clearInput)}return t(n,i),n.prototype.isApplied=function(e){return this.values[e]},n.prototype.selectSuggestion=function(e){return this.values[e.id]?this.eventBus.trigger("value:removed",e):this._addValue(e)},n.prototype.deleteSuggestion=function(e){return this.eventBus.trigger("value:removed",e)},n.prototype._addValue=function(e){this.values[e.id]=!0,this.eventBus.trigger("value:added",e)},n.prototype._deleteValue=function(e,t){return delete this.values[t.id],Bindings.refresh()},n.prototype._clearInput=function(){return this.setInput(""),Twine.refresh()},n}(Juzaweb.AutocompleteV2)}.call(this),function(){Juzaweb.AutocompleteV2.RendererTools={fetchResource:function(e,t){var i;return(i=$.ajax({dataType:"json",method:"GET",url:e})).done(function(e){return t(null,e)}),i.fail(function(e,i){if("abort"!==i)return Juzaweb.handleError(arguments),t(e)})},filterSourceArrayByInput:function(e,t){var i,n,r,s,o,a;if(_.isEmpty(e)||!_.isArray(e))return[[],null];if(!t)return[e,null];for(t=t.toLowerCase(),s=new RegExp("(^|\\s)"+Juzaweb.escapeRegexpString(t),"i"),a=[],i=null,n=0,r=e.length;n<r;n++)o=e[n],s.test(o)&&(o.toLowerCase()===t&&(i=_.size(a)),a.push(o));return[a,i]},sortSourceArray:function(e){return _.sortBy(_.compact(e),function(e){return e.toLowerCase()})}}}.call(this),function(){Juzaweb.AutocompleteV2.BasicRenderer=function(){function e(e,t){this.templates=t,this.setSource(e)}return e.prototype.inputChanged=function(e,t){var i,n,r,s,o;return s=Juzaweb.AutocompleteV2.RendererTools.filterSourceArrayByInput(this.sourceArray,e),this.allSuggestions=s[0],n=s[1],this.renderedSuggestionCount=0,_.isEmpty(this.allSuggestions)?t(this.templates.noResults?this.templates.noResults({input:e}):null):(o=this.allSuggestions.slice(0,Juzaweb.AUTOCOMPLETE_MAX_SIZE),this.renderedSuggestionCount=_.size(o),(r=_.isNumber(n))&&n>=Juzaweb.AUTOCOMPLETE_MAX_SIZE&&(n=null),i={suggestions:o,firstPage:!0,hasMatchingSuggestion:r,input:e},t(this.templates.results(i),n)),null},e.prototype.renderNextPage=function(e){var t;return this.hasNextPage()?(t=this.allSuggestions.slice(this.renderedSuggestionCount,this.renderedSuggestionCount+Juzaweb.AUTOCOMPLETE_MAX_SIZE),this.renderedSuggestionCount+=_.size(t),e(this.templates.results({suggestions:t,firstPage:!1}))):e(null)},e.prototype.hasNextPage=function(){return _.size(this.allSuggestions)>this.renderedSuggestionCount},e.prototype.getSource=function(){return this.sourceArray},e.prototype.setSource=function(e){return this.sourceArray=Juzaweb.AutocompleteV2.RendererTools.sortSourceArray(e)},e}()}.call(this),function(){var e;e=/[|\\{}()[\]^$+*?.]/g,Juzaweb.escapeRegexpString=function(t){return t.replace(e,"\\$&")}}.call(this),function(){Juzaweb.AutocompleteV2.CountryRenderer=function(){function e(e,t){this.templates=t,this.setSource(e)}return e.prototype.inputChanged=function(e,t){var i,n,r,s;return r=this.filterSourceArrayByInput(this.sourceArray,e),this.allSuggestions=r[0],n=r[1],this.renderedSuggestionCount=0,_.isEmpty(this.allSuggestions)?t(this.templates.noResults?this.templates.noResults({input:e}):null):(s=this.allSuggestions,this.renderedSuggestionCount=_.size(s),i={suggestions:s,firstPage:!0,hasMatchingSuggestion:_.isNumber(n),input:e},t(this.templates.results(i),n)),null},e.prototype.filterSourceArrayByInput=function(e,t){var i,n,r,s,o,a;if(_.isEmpty(e)||!_.isArray(e))return[[],null];if(!t)return[e,null];for(t=t.toLowerCase(),s=new RegExp("(^|\\s)"+Juzaweb.escapeRegexpString(t),"i"),a=[],i=null,n=0,r=e.length;n<r;n++)o=e[n],(s.test(o.name)||s.test(o.code))&&(o.name.toLowerCase()!==t&&o.code.toLowerCase()!==t||(i=_.size(a)),a.push(o));return[a,i]},e.prototype.hasNextPage=function(){return!1},e.prototype.getSource=function(){return this.sourceArray},e.prototype.setSource=function(e){return this.sourceArray=e},e}()}.call(this),function(){var e=function(e,i){function n(){this.constructor=e}for(var r in i)t.call(i,r)&&(e[r]=i[r]);return n.prototype=i.prototype,e.prototype=new n,e.__super__=i.prototype,e},t={}.hasOwnProperty;Juzaweb.AutocompleteV2.LazyLoadedBasicRenderer=function(t){function i(e,t,n){this.sourceUrl=e,this.resultsRoot=t,i.__super__.constructor.call(this,[],n)}return e(i,t),i.prototype.inputChanged=function(e,t){return this.hasSource?i.__super__.inputChanged.apply(this,arguments):Juzaweb.AutocompleteV2.RendererTools.fetchResource(this.sourceUrl,function(i){return function(n,r){if(!n)return i.hasSource=!0,i.setSource(r[i.resultsRoot]),i.inputChanged(e,t)}}(this))},i}(Juzaweb.AutocompleteV2.BasicRenderer)}.call(this),function(){Juzaweb.AutocompleteV2.PaginatedRemoteRenderer=function(){function e(e,t,i,n){this.sourceUrl=e,this.resultsRoot=t,this.templates=i,null==n&&(n={}),this.displayKey=n.displayKey||"title",this.detailsKey=n.detailsKey||!1,this.secondaryDetailsKey=n.secondaryDetailsKey||!1}return e.prototype.inputChanged=function(e,t){return this.input=e,this.input||!this.hasSource?this._fetchAndRenderPage(this.input,t):(this._renderCachedFirstPage(t),null)},e.prototype.renderNextPage=function(e){var t,i,n,r,s;if(!this.hasNextPage())return e(null);for(t in r=Juzaweb.UrlMangler.getURL(this.sourceUrl),n=this.nextPageParams)s=n[t],Juzaweb.UrlMangler.addQuery(r,((i={})[""+t]=s,i));return this.input&&Juzaweb.UrlMangler.addQuery(r,{query:this.input}),Juzaweb.AutocompleteV2.RendererTools.fetchResource(r.href,function(t){return function(i,n){var r,s;if(!i)return s=n[t.resultsRoot],t.nextPageParams=n.next_page_params,r={suggestions:s,firstPage:!1,displayKey:t.displayKey,detailsKey:t.detailsKey,secondaryDetailsKey:t.secondaryDetailsKey},e(t.templates.results(r))}}(this))},e.prototype.hasNextPage=function(){return null!=this.nextPageParams},e.prototype._fetchAndRenderPage=function(e,t){var i;return i=Juzaweb.UrlMangler.getURL(this.sourceUrl),e&&Juzaweb.UrlMangler.addQuery(i,{query:e}),Juzaweb.AutocompleteV2.RendererTools.fetchResource(i.href,function(i){return function(n,r){var s,o;if(!n)return o=r[i.resultsRoot],i.nextPageParams=r.next_page_params,e||(i.hasSource=!0,i.defaultSuggestions=o,i.defaultNextPageParams=i.nextPageParams),s={suggestions:o,firstPage:!0,input:e,displayKey:i.displayKey,detailsKey:i.detailsKey,secondaryDetailsKey:i.secondaryDetailsKey},t(i.templates.results(s))}}(this))},e.prototype._renderCachedFirstPage=function(e){var t;return this.nextPageParams=this.defaultNextPageParams,t={suggestions:this.defaultSuggestions,firstPage:!0,input:"",displayKey:this.displayKey,detailsKey:this.detailsKey,secondaryDetailsKey:this.secondaryDetailsKey},e(this.templates.results(t))},e}()}.call(this),function(){Juzaweb.AutocompleteV2.ShippingZoneRenderer=function(){function e(e,t){this.sourceArray=e,this.templates=t}return e.prototype.inputChanged=function(e,t){return this.allSuggestions=this.filterSourceArrayByInput(this.sourceArray,e),t(_.isEmpty(this.allSuggestions)?this.templates.noResults({input:e}):this.templates.results({suggestions:this.allSuggestions,input:e})),null},e.prototype.filterSourceArrayByInput=function(e,t){var i,n,r,s,o;if(!_.isArray(e)||_.isEmpty(e))return[];if(!(t=t.trim()))return e;for(r=new RegExp("(^|\\s)"+Juzaweb.escapeRegexpString(t),"i"),s=[],i=0,n=e.length;i<n;i++)o=e[i],(r.test(o.name)||r.test(o.group))&&s.push(o);return s},e.prototype.hasNextPage=function(){return!1},e}()}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};Juzaweb.AutocompleteV2.TagsRenderer=function(){function t(t,i,n){this.sourceUrl=t,this.templates=i,this.eventBus=n,this._valueRemoved=e(this._valueRemoved,this),this._valueAdded=e(this._valueAdded,this),this.values=new Map,this.eventBus.on("value:added",this._valueAdded),this.eventBus.on("value:removed",this._valueRemoved)}return 25,t.prototype.inputChanged=function(e,t){var i,n,r,s,o,a;return null!=this.sourceArray?(e?(s=Juzaweb.AutocompleteV2.RendererTools.filterSourceArrayByInput(this._filterAndSortSuggestions(),e),this.allSuggestions=s[0],n=s[1]):this.allSuggestions=this._defaultSuggestions(),this.renderedSuggestionCount=0,_.isEmpty(this.allSuggestions)?t(this.templates.noResults?this.templates.noResults({input:this._generateInputAddMessage(e)}):null):(o=this.allSuggestions.slice(0,Juzaweb.AUTOCOMPLETE_MAX_SIZE),this.renderedSuggestionCount=_.size(o),(r=_.isNumber(n)||this.hasValue(e))&&n>=Juzaweb.AUTOCOMPLETE_MAX_SIZE&&(n=null),i={suggestions:o,firstPage:!0,hasMatchingSuggestion:r,input:this._generateInputAddMessage(e)},t(this.templates.results(i),n)),null):(a=Juzaweb.UrlMangler.addQuery(Juzaweb.UrlMangler.getURL(this.sourceUrl),{order:"popularity"}).href,Juzaweb.AutocompleteV2.RendererTools.fetchResource(a,function(i){return function(n,r){if(!n)return i.sourceArray=r.tags,i.inputChanged(e,t)}}(this)))},t.prototype.renderNextPage=function(e){var t;return this.hasNextPage()?(t=this.allSuggestions.slice(this.renderedSuggestionCount,this.renderedSuggestionCount+Juzaweb.AUTOCOMPLETE_MAX_SIZE),this.renderedSuggestionCount+=_.size(t),e(this.templates.results({suggestions:t,firstPage:!1}))):e(null)},t.prototype.hasNextPage=function(){return _.size(this.allSuggestions)>this.renderedSuggestionCount},t.prototype.hasValue=function(e){return this.values.has(e.toLowerCase())},t.prototype._valueAdded=function(e,t){return this.values.set(t.toLowerCase(),!0)},t.prototype._valueRemoved=function(e,t){return this.values.delete(t.toLowerCase())},t.prototype._defaultSuggestions=function(){return _.take(this._suggestionsWithoutSelectedValues(this.source),25)},t.prototype._filterAndSortSuggestions=function(){return _.sortBy(this._suggestionsWithoutSelectedValues(),function(e){return e.toLowerCase()})},t.prototype._suggestionsWithoutSelectedValues=function(){return _.reject(this.sourceArray,(e=this,function(t){return e.values.get(t.toLowerCase())}));var e},t.prototype._generateInputAddMessage=function(e){var t,i;return i=_.map(e.split(","),function(e){if(e=e.trim())return'"'+e+'"'}),t=(i=_.compact(i)).shift(),i.length>0?t+" và "+i.length+" tag khác":t},t}()}.call(this),function(){var e=function(e,i){function n(){this.constructor=e}for(var r in i)t.call(i,r)&&(e[r]=i[r]);return n.prototype=i.prototype,e.prototype=new n,e.__super__=i.prototype,e},t={}.hasOwnProperty;Juzaweb.AutocompleteV2.SingleSelectRemoteSourceAutocomplete=function(t){function i(e,t,n,r){var s,o;o={results:"#autocomplete-v2-results-template",noResults:"#autocomplete-v2-no-results-template"},r.templates&&(o=_.merge(o,r.templates)),o=this.precompileTemplates(o),s=new Juzaweb.AutocompleteV2.LazyLoadedBasicRenderer(t,n,o),i.__super__.constructor.call(this,e,s,r)}return e(i,t),i.prototype.selectSuggestion=function(e){return this.setInput(e),this.popover.deactivate(),this.resetSuggestions()},i.prototype.selectHeader=function(){return this.popover.deactivate(),this.resetSuggestions()},i.prototype.togglePopover=function(e){return this.popover.toggle(),this.$input.one("focusin",!1),this.$input.focus(),e.stopPropagation()},i}(Juzaweb.AutocompleteV2)}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},t=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},i={}.hasOwnProperty;Juzaweb.AutocompleteV2.TagsAutocomplete=function(i){function n(t,i,r,s){var o,a;this.eventBus=r,null==s&&(s={}),this._addValue=e(this._addValue,this),this._onKeydown=e(this._onKeydown,this),this._onPageFocusin=e(this._onPageFocusin,this),this.cleanUp=e(this.cleanUp,this),a={results:"#autocomplete-v2-tag-results-template",noResults:"#autocomplete-v2-no-results-template"},s.templates&&(a=_.merge(a,s.templates)),a=this.precompileTemplates(a),s=_.defaults(s,{values:[],duplicateError:"You've already selected %s",maxLength:255,showSuggestionsOnFocus:!0}),o=new Juzaweb.AutocompleteV2.TagsRenderer(i,a,this.eventBus),_.each(s.values,this._addValue),n.__super__.constructor.call(this,t,o,s),this.$popoverNode.attr(Juzaweb.UIPopover.ATTRS.PREFERRED_POSITION,Juzaweb.UIPopover.POSITIONS.TOP),this.$input.on("keydown",this._onKeydown),$(document).on("focusin click",this._onPageFocusin),Page.onReplace(t,this.cleanUp)}return t(n,i),n.prototype.cleanUp=function(){return $(document).off("focusin click",this._onPageFocusin)},n.prototype.selectSuggestion=function(e,t){var i,n;return null!=t&&t.stopPropagation(),this._addValue(e),this.trimmedInput()?(this._resetInput(),this.popover.deactivate(),this.resetSuggestions()):(n=this.keyboardSelector.selectedIndex,i=this.$popoverPane.scrollTop(),this.resetSuggestions(),this.keyboardSelector.focusOption(n),this.$popoverPane.scrollTop(i))},n.prototype.checkInputMaxLength=function(e){if(this.options.maxLength){if(_.size(e)>this.options.maxLength&&!_.includes(e,","))return this.showMaxLengthError(),!1;this._clearError()}return!0},n.prototype.selectHeader=function(){return this._addTagsFromInput()},n.prototype.showDuplicateError=function(e){return this.showError(this.options.duplicateError.replace("%s",Juzaweb.String.humanizeList(e)))},n.prototype._onPageFocusin=function(e){if(!this.$node.find(e.target).length)return this._resetInput(),Bindings.refresh()},n.prototype._onKeydown=function(e){return e.which!==Juzaweb.Keycodes.COMMA||e.shiftKey||e.altKey||e.ctrlKey||e.metaKey?e.which===Juzaweb.Keycodes.ENTER&&this.trimmedInput()&&!this.keyboardSelector.hasSelection()?(e.preventDefault(),this._addTagsFromInput()):void 0:(e.preventDefault(),this._addTagsFromInput())},n.prototype._resetInput=function(){return this.setInput("")},n.prototype._addValue=function(e){return this.eventBus.trigger("value:added",e)},n.prototype._addTagsFromInput=function(){var e,t,i,n;if(n=this.trimmedInput())return i=!1,e=[],t=[],_.each(n.split(","),function(n){return function(r){if(r=r.trim())return n.options.maxLength&&_.size(r)>n.options.maxLength?(e.push(r),i=!0):n.renderer.hasValue(r)?(e.push(r),t.push(r)):n._addValue(r)}}(this)),this.setInput(e.join(", ")),_.isEmpty(t)?i?this.showMaxLengthError():(this.popover.deactivate(),Bindings.refresh(),void this.resetSuggestions()):this.showDuplicateError(t)},n}(Juzaweb.AutocompleteV2)}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};Juzaweb.TagDisplay=function(){function t(t){var i;this.tagRemoved=e(this.tagRemoved,this),this.tagAdded=e(this.tagAdded,this),this.$node=$(t),this.$tagList=this.$node.find(".js-tag-list"),this.tags=new Map,this.$node.on("value:added",this.tagAdded),this.$node.on("value:removed",this.tagRemoved),i=$("#display-one-tag"),this.inputName=i.data("input-name"),this.tagTemplate=Juzaweb.Templates.precompile(i.html())}return t.prototype.hasTags=function(){return this.tags.size>0},t.prototype.tagAdded=function(e,t){var i;return this.tagRemoved(e,t),i=$(this.renderTag(t)).filter("li"),this.tags.set(t,i.prependTo(this.$tagList)),Bindings.bind(this.tags.get(t)[0],this),this.recalculateDirty()},t.prototype.tagRemoved=function(e,t){if(this.tags.has(t))return Bindings.unbind(this.tags.get(t)[0]),this.tags.get(t).remove(),this.tags.delete(t),this.recalculateDirty()},t.prototype.recalculateDirty=function(){return this.$node.closest("form").trigger("change")},t.prototype.removeTag=function(e){var t;return t=$(e).find("input").val(),this.$node.trigger("value:removed",t)},t.prototype.renderTag=function(e){return Juzaweb.Templates.render(this.tagTemplate,{tag:e,inputName:this.inputName})},t}()}.call(this),function(){Juzaweb.SeoFields=function(){function e(e,t){var i;this._node=e,i=t.objectName,this.originalHandle=t.originalHandle,this._context=Bindings.context(this._node),this._objectName=i,this.object=this._context[this._objectName],this.newHandle=this.originalHandle,this._visible=!1}return 70,320,e.prototype.isVisible=function(){return this._visible},e.prototype.show=function(){return this._visible=!0},e.prototype.titlePlaceholder=function(){return(this.object.title||"").substr(0,70)},e.prototype.descriptionPlaceholder=function(){return Juzaweb.HTML.unsafeStripWithoutNbsp($("#Content").val()).replace(/(\r?\n|\r)/gm," ").trim().substr(0,320)},e.prototype.defaultHandle=function(){return Juzaweb.Inflection.generateAlias(this.object.title)},e.prototype.shouldShowGooglePreview=function(){return this.googleTitle()&&this.googleDescription()},e.prototype.googleTitle=function(){var e;return e=this.object.seo_title||this.object.title||"",Juzaweb.Inflection.truncate(e,70)},e.prototype.googleDescription=function(){var e;return e=this.object.seo_description||Juzaweb.HTML.unsafeStripWithoutNbsp($("#Content").val()).replace(/(\r?\n|\r)/gm," ").trim()||"",Juzaweb.Inflection.truncate(e,320)},e.prototype.googlePath=function(){return this.newHandle||this.defaultHandle()},e.prototype.newHandleWithDefault=function(){return this.newHandle||this.defaultHandle()},e.prototype.urlChanged=function(){return this.newHandleWithDefault()!==this.originalHandle},e.prototype.redirectSelected=function(){return this.urlChanged()&&this.object.seo_redirect},e}()}.call(this),function(){Juzaweb.AllTagsModal=function(){function e(e,t,i){var n,r;for(r in this.$eventBus=e,this.currentTags=t,this.$activeTagsList=$(i).find(".js-tag-list"),this.tags={},n=$("#display-one-tag"),this.inputName=n.data("input-name"),this.tagTemplate=Juzaweb.Templates.precompile(n.html()),this.currentTags)this.addTagByString(r)}return e.prototype.isTagSelected=function(e){var t;return t=e.getElementsByTagName("input")[0].value,null!=this.tags[t]},e.prototype.toggleTag=function(e){var t;return t=$(e).find("input").val(),this.tags[t]?this.removeTagByString(t):this.addTagByString(t)},e.prototype.addTagByString=function(e){var t;return this.removeTagByString(e),t=$(this.renderTag(e)).filter("li"),this.tags[e]=t.prependTo(this.$activeTagsList),Bindings.bind(this.tags[e][0],this)},e.prototype.removeTag=function(e){var t;return t=$(e).find("input").val(),this.removeTagByString(t)},e.prototype.removeTagByString=function(e){if(this.tags[e])return Bindings.unbind(this.tags[e][0]),this.tags[e].remove(),delete this.tags[e]},e.prototype.renderTag=function(e){return Juzaweb.Templates.render(this.tagTemplate,{tag:e,inputName:this.inputName})},e.prototype.confirmSelectedTags=function(){var e;for(var t in this.currentTags)this.$eventBus.trigger("value:removed",t);for(t in e=[],this.tags)e.push(this.$eventBus.trigger("value:added",t));return e},e}()}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},t=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},i={}.hasOwnProperty;Juzaweb.RemoteImageForm=function(i){function n(t,i,r){this.resourceName=t,this.form=i,this.opts=null!=r?r:{},this.submit=e(this.submit,this),n.__super__.constructor.call(this,this.form,this.opts)}return t(n,i),n.prototype.submit=function(e){var t,i,n,r,s;return e.preventDefault(),t={httpRequestType:(s=e.target).getAttribute("method"),httpUrl:s.getAttribute("action"),refreshOnErrorExcept:this.resourceName+"-image-drop",useNativeEncoding:null!=(null!=(i=this.imageDrop)?i.file:void 0),success:function(e){return function(){return e.imageDrop.file=null}}(this)},r=new TurboGraft.Remote(t,this.form,s),(null!=(n=this.imageDrop)?n.file:void 0)&&(r.formData.append(this.resourceName+"[image][alt]",this.imageDrop.alt),r.formData.append(this.resourceName+"[image][attachment]",this.imageDrop.file)),r.submit()},n}(Juzaweb.Forms)}.call(this),function(){var e,t,i,n=function(e,t){return function(){return e.apply(t,arguments)}};t=function(){return SafeLocalStorage.get("adjacent",{})},e=function(e){return t()[e]||{ids:[],params:{}}},i=function(e,i,n){var r;return(r=t())[e]={params:i,ids:n},SafeLocalStorage.set("adjacent",r)},Juzaweb.AdjacentResources=function(){function t(t,i){var r;this.type=t,this.id=i,this._fetch=n(this._fetch,this),r=e(this.type),this.ids=r.ids,this.params=r.params}return t.storeIndex=function(e,t,n){return i(e,t,n)},t.storeAndRedirect=function(e,t,n,r){return i(t,n,r),Page.refresh({url:e.href})},t.lastSearchURI=function(t,i){var n;return(n=Juzaweb.UrlMangler.getURL(t.href)).search=Juzaweb.UrlMangler.buildSearchString(_.merge(Juzaweb.UrlMangler.parseSearchString(n.search),e(i).params)),n.href},t.prototype.init=function(e){var t,i,n;return t=(i=$(e)).find(".js-next-btn"),n=i.find(".js-prev-btn"),t.attr("href",this.nextURI(t)),n.attr("href",this.prevURI(n)),this},t.prototype.index=function(){return this.ids.indexOf(this.id)},t.prototype.nextURI=function(e){var t,i;return this.ids.length?(i=this.index())===this.ids.length-1?this.fetchNext(e):(t=this.ids[i+1],Juzaweb.routes[this.type](t).html):e.attr("href")},t.prototype.prevURI=function(e){var t,i;return this.ids.length?0===(i=this.index())?this.fetchPrev(e):(-1===i&&(i=this.ids.length),t=this.ids[i-1],Juzaweb.routes[this.type](t).html):e.attr("href")},t.prototype.fetchNext=function(e){return this._fetch("next",(t=this,function(n){return e.on("click",function(){return i(t.type,t.params=n.params,t.ids=n.ids)}),n.ids.length?t.ids=t.ids.concat(n.ids):(t.ids.push(-1),i(t.type,t.params,t.ids)),Bindings.refresh()})),e.attr("href");var t},t.prototype.fetchPrev=function(e){return this._fetch("prev",(t=this,function(n){return e.on("click",function(){return i(t.type,t.params=n.params,t.ids=n.ids)}),n.ids.length?t.ids=n.ids.concat(t.ids):(t.ids.unshift(-1),i(t.type,t.params,t.ids)),Bindings.refresh()})),e.attr("href");var t},t.prototype._fetch=function(e,t){var i;return(i=$.ajax({url:Juzaweb.routes[e+"_page_"+this.type+"s"]().json,data:this.params,dataType:"json"})).fail(Juzaweb.handleError),i.done(t)},t.prototype.isNextDisabled=function(){return-1===this.ids[this.index()+1]},t.prototype.isPrevDisabled=function(){return-1===this.ids[this.index()-1]},t}()}.call(this),function(){Juzaweb.ImageDrop=function(){function e(e,t,i,n,r){this.form=t,this.src=i,this.alt=n,this.updateUrl=r,this.initialAlt=this.alt,this.fileDragHelper=new Juzaweb.FileDragHelper,this.dirty=!1,Page.onRefresh(this,e,function(e){return function(t){if(t.dirty)return e.dirty=t.dirty,e.src=t.src,e.file=t.file,e.alt=t.alt}}(this)),$(".image-drop-file-input").change(function(e){var t;e.preventDefault();var i=$(this).attr("id"),n=document.getElementById(i).files[0],r=!0;if(n){switch((t=n.name).substring(t.lastIndexOf(".")+1).toLowerCase()){case"gif":case"jpg":case"png":case"jpeg":break;default:r=!1}if(!r)return Juzaweb.Flash.error("File upload không đúng định dạng"),$(this).val(""),!0;if(parseFloat(n.size/1024).toFixed(2)>1024)return Juzaweb.Flash.error("Kích thước file tối đa được upload là 1MB"),$(this).val(""),!0}})}return e.prototype.dragging=function(){return this.fileDragHelper.dragging},e.prototype.startDrag=function(e){return this.fileDragHelper.start(e)},e.prototype.dragOver=function(e){return this.fileDragHelper.over(e)},e.prototype.cancelDrag=function(e){return this.fileDragHelper.cancel(e)},e.prototype.fileInputChanged=function(e,t){return this.updatePreviewAndHiddenInput(t.files[0])},e.prototype.dropFile=function(e){if(this.fileDragHelper.isFileDragEvent(e))return this.updatePreviewAndHiddenInput(e.originalEvent.dataTransfer.files[0]),this.fileDragHelper.cancel(e)},e.prototype.setImageSrc=function(e){return this.alt=this.initialAlt=this.updateUrl="",this.src=e,this.dirty=!0},e.prototype.removeImage=function(){return this.file=null,this.setImageSrc("")},e.prototype.cancelAltTextUpdate=function(){return Juzaweb.Modal.hide(),this.alt=this.initialAlt},e.prototype.updatePreviewAndHiddenInput=function(e){var t;if(e)return this.file=e,(t=new FileReader).onload=function(e){return function(t){return e.setImageSrc(t.target.result),Bindings.refresh()}}(this),e instanceof Blob?t.readAsDataURL(e):void 0},e.prototype.saveAltText=function(){var e;if(Juzaweb.Modal.hide(),this.updateUrl)return(e=$.ajax({url:this.updateUrl,method:"POST",data:{altImage:this.alt}})).success(function(e){return function(){return e.initialAlt=e.alt,Juzaweb.Flash.notice("Đã cập nhật ALT của ảnh")}}(this)),e.fail(function(e){var t;try{t=JSON.parse(e.responseText).errors.image.join(". ")}catch(e){t="Cập nhật thất bại"}return Juzaweb.Flash.error(t)})},e}()}.call(this),function(){var e,t,i,n=function(e,t){return function(){return e.apply(t,arguments)}};e={BASE:"bulk-actions",CHECKBOX:"bulk-actions__select-all",HEADER:"ui-title-bar",CARD_SECTION:"next-card__section",UI_CARD_SECTION:"ui-card__section",TABLE_WRAPPER:"table-wrapper"},i={BASE:{STICKY:"bulk-actions--is-sticky"},CHECKBOX:{STICKY:"bulk-actions__select-all--is-sticky"}},t="bulk-operations",Juzaweb.BulkOperations=function(){function r(i,r){this.options=i,this.node=r,this.multiSelectClick=n(this.multiSelectClick,this),this.setMaxWidth=n(this.setMaxWidth,this),this.toggleStickyness=n(this.toggleStickyness,this),this.working=!1,this.multipageSelected=!1,this.selected={},this.shouldHideAllSelectedText=!1,this.initializeMultiSelect(),this.$headerRow=$("."+e.HEADER),this.$bulkActions=$("."+e.BASE),this.$selectAllCheckbox=$("."+e.CHECKBOX),this.$parent=this.$bulkActions.closest("."+e.TABLE_WRAPPER),this.$cardSection=this.$bulkActions.closest("."+e.CARD_SECTION+", ."+e.UI_CARD_SECTION),$(window).on("scroll."+t,_.debounce(this.toggleStickyness,10)).on("resize."+t,_.debounce(this.toggleStickyness,10)),Bindings.afterBound(this.setMaxWidth),Page.onReplace(this.node,this.cleanup),Page.onRefresh(this,this.node,function(e){return function(t){var i,n=t.selected;for(i in e.selected)n[i]&&(e.selected[i]=!0);e.tableSelectBoxChanged()}}(this))}return r.prototype.cleanup=function(){return $(window).off("."+t)},r.prototype.toggleStickyness=function(){var e,t,n,r;return e=(t=this.$parent.offset().top)+this.$parent.height()-this.$bulkActions.height(),r=(n=window.pageYOffset+this.$headerRow.outerHeight())>t&&n<e,this.$bulkActions.toggleClass(i.BASE.STICKY,r),this.$selectAllCheckbox.toggleClass(i.CHECKBOX.STICKY,r),this.selfAlignBar(r)},r.prototype.setMaxWidth=function(){return this.$bulkActions.width(this.$cardSection.outerWidth())},r.prototype.getCssPropValue=function(e,t){return parseInt(e.css(t).replace(/[^0-9\.]/g,""),10)},r.prototype.selfAlignBar=function(e){var t,i,n,r;return r=this.$cardSection.outerWidth(),t=this.getCssPropValue(this.$cardSection,"padding-left"),n=parseInt(this.$cardSection.offset().left,10),e&&this.selectedItems().length>0?(i=this.getCssPropValue(this.$selectAllCheckbox,"padding-top"),this.$selectAllCheckbox.css("left",n+i+t+"px"),this.$bulkActions.css("left",n+"px"),this.$bulkActions.css("padding-left",t+"px"),this.$bulkActions.css("width",r)):(this.$cardSection.css("padding-right"),this.$selectAllCheckbox.css("left","auto"),this.$bulkActions.css("left",t+"px"),this.$bulkActions.css("padding-left",0),this.$bulkActions.css("width",r-2*t+"px"))},r.prototype.bulkActionChecked=function(e){var t,i=!!e.checked;for(t in this.selected)this.selected[t]=i;return this.afterSelectionChange(),i?this.toggleStickyness():this.selfAlignBar(i)},r.prototype.selectAll=function(){for(var e in this.selected)this.selected[e]=!0;return this.afterSelectionChange()},r.prototype.deselectAll=function(){for(var e in this.selected)this.selected[e]=!1;return this.afterSelectionChange()},r.prototype.allSelected=function(){var e;return 0!==(e=_.size(this.selected))&&e===this.countSelected()},r.prototype.noneSelected=function(){return 0===this.countSelected()},r.prototype.selectedItems=function(){var e,t,i;for(e in i=[],t=this.selected)t[e]&&i.push(e);return i},r.prototype.countSelected=function(){return _.size(this.selectedItems())},r.prototype.multipageSelectAllItems=function(){return this.multipageSelected=!0},r.prototype.afterSelectionChange=function(){this.multipageSelected=!1,this.tableSelectBoxChanged()},r.prototype.clearMultipageSelection=function(){this.multipageSelected=!1},r.prototype.tableSelectBoxChanged=function(){var e,t,i;return e=$(this.node).find("th.select input"),i=_.size(this.selected),(t=this.countSelected())>0?t<i?e.prop("checked",!1).prop("indeterminate",!0):e.prop("checked",!0).prop("indeterminate",!1):e.prop("checked",!1).prop("indeterminate",!1),this.$selectAllCheckbox.blur()},r.prototype.selectionChanged=function(){return this.afterSelectionChange(),this.toggleStickyness()},r.prototype.appLink=function(e){return""+e+this.selectedItems().map(function(e){return"&ids%5B%5D="+e}).join("")},r.prototype.selectedItemsString=function(e){var t,i;return t=this.multipageSelected?this.countSelected()+"+":this.countSelected(),i=Juzaweb.Inflection.humanize(e),Juzaweb.Inflection.pluralizeWithCount(t,i,i)},r.prototype.inflectOnCountSelected=function(e,t){return Juzaweb.Inflection.pluralize(this.countSelected(),e,t)},r.prototype.startWorking=function(){return this.working=!0,Juzaweb.UIPopover.deactivate(),Juzaweb.Loading.start()},r.prototype.stopWorking=function(){return this.working=!1,Juzaweb.Loading.stop()},r.prototype.isWorking=function(){return this.working},r.prototype.hasSearch=function(){return""!==window.location.search},r.prototype.initializeMultiSelect=function(){return this.lastChecked=null,this.$items=$(this.node).find(".select input[type=checkbox]"),this.$items.on("click",this.multiSelectClick)},r.prototype.multiSelectClick=function(e){var t,i,n,r,s,o,a;if(this.lastChecked){if(e.shiftKey){for(a=this.$items.index(e.target),t=this.$items.index(this.lastChecked),i=r=0,s=(o=this.$items.slice(Math.min(a,t),Math.max(a,t)+1)).length;r<s;i=++r)n=o[i],this.selected[n.value]=this.lastChecked.checked;this.afterSelectionChange()}return this.lastChecked=e.target}this.lastChecked=e.target},r.prototype.perform=function(e,t,i){var n;null==i&&(i={}),(n={operation:e})[this.options.parameterName]=this.selectedItems(),null!=t&&(n.value=t),this.multipageSelected&&(n.multipage_select=!0),n.search=Juzaweb.UrlMangler.parseSearchString(window.location.search),this.startWorking(),that=this,(e=$.ajax({url:this.options.path,type:"PUT",data:n,dataType:"json"})).done(function(e){return function(){return!1!==i.closeModal&&Juzaweb.Modal.hide(),"function"==typeof i.onSuccess&&i.onSuccess(),e.stopWorking(),Page.refresh(e.options.refresh?{onlyKeys:e.options.refresh}:void 0,function(){that.deselectAll()})}}(this)),e.fail(function(e){return function(){return!1!==i.closeModal&&Juzaweb.Modal.hide(),Juzaweb.handleJsonError.apply(e,arguments),e.stopWorking(),Bindings.refresh()}}(this))},r}()}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},t=[].indexOf||function(e){for(var t=0,i=this.length;t<i;t++)if(t in this&&this[t]===e)return t;return-1};Juzaweb.CollectionProducts=function(){function i(t,i,n,r,s){this.sortOrder=i,this.collectionId=n,this.type=r,this.pageSize=s,this._refreshProductsList=e(this._refreshProductsList,this),this.submitNewSortOrder=e(this.submitNewSortOrder,this),this.eventBus=$(t),this.originalPageSize=this.pageSize,this.loadedProductIds=[],this.eventBus.on("value:added",function(e){return function(t,i){return e.addProduct(i.id,i.init)}}(this)),this.eventBus.on("value:removed",function(e){return function(t,i){return e.removeProduct(i.id)}}(this)),this.debouncedRefreshProductList=_.debounce(this._refreshProductsList,1e3),this._resetProductsAddedRemovedCount()}return i.prototype.REFRESH_KEYS=["collection_products"],i.prototype.LARGE_PAGE_SIZE=250,i.prototype.updateLoadedProductIds=function(e){if(e)return this.loadedProductIds=_.uniq(_.merge(this.loadedProductIds,e))},i.prototype.addProduct=function(e,t){if(!t){var i,n={collect:{collection_id:this.collectionId,product_id:e}};if(!this.productSelected(e))return this.loadedProductIds.push(e),Juzaweb.Loading.start(),(i=$.ajax({url:"/admin/collects.json",dataType:"json",type:"POST",data:JSON.stringify(n),contentType:"application/json"})).success(function(t){return function(){return t._afterProductAdded(e),t.debouncedRefreshProductList()}}(this)),i.fail(function(){return Juzaweb.Loading.stop(),Juzaweb.Flash.notice("There was an error adding the product to this collection")})}},i.prototype.removeProductOnClick=function(e){return this.eventBus.trigger("value:removed",{id:e})},i.prototype._updateIndexAfterDragging=function(e){return $(e.children).each(function(e,t){return $(t).find(".collection_item_enumeration").text(e+1+".")})},i.prototype.removeProduct=function(e){var t,i;if(!((t=this.loadedProductIds.indexOf(e))<0))return this.loadedProductIds.splice(t,1),Juzaweb.Loading.start(),(i=$.ajax({url:"/admin/collects/"+e+"-"+this.collectionId+".json",type:"DELETE",contentType:"application/json"})).success(function(t){return function(){return t._afterProductRemoved(e),t.debouncedRefreshProductList()}}(this)),i.fail(function(){return Juzaweb.Loading.stop(),Juzaweb.Flash.notice("There was an error removing the product from this collection")})},i.prototype.upToFistPosition=function(e){var t;"manual"==this.sortOrder&&(Juzaweb.Loading.start(),(t=$.ajax({url:Juzaweb.routes.collections+"/"+this.collectionId+"/push_top.json?product_id="+e,type:"POST",contentType:"application/json"})).success(function(e){return function(){return Juzaweb.Flash.notice("Cập nhật thành công"),e.debouncedRefreshProductList()}}(this)),t.fail(function(){return Juzaweb.Loading.stop(),Juzaweb.Flash.notice("There was an error removing the product from this collection")}))},i.prototype.productSelected=function(e){return t.call(this.loadedProductIds,e)>=0},i.prototype.updateSortOrder=function(){var e,t,i;return Juzaweb.Loading.start(),e={},i={sort_order:this.sortOrder},"smart_collection"==this.type?e.smart_collection=i:e.custom_collection=i,(t=$.ajax({url:"/admin/"+this.type+"s/"+this.collectionId+".json",dataType:"json",type:"PUT",data:JSON.stringify(e),contentType:"application/json"})).success(function(e){return function(){return e._refreshProductsList("Cập nhật danh mục thành công")}}(this)),t.fail(function(){return Juzaweb.Loading.stop(),Juzaweb.Flash.notice("There was an error updating the collection order")})},i.prototype.makeProductsSortable=function(){if("manual"===this.sortOrder)return $("#collection-products-table").sortable({handle:".ui-sortable__handle",placeholder:"ui-sortable__placeholder",update:this.submitNewSortOrder.bind(this),distance:0,start:function(e,t){return t.item.startIndex=t.item.index(),t.placeholder.html(t.item.html())},helper:function(e,t){var i,n,r,s,o,a,l;for(o=(l=t[0]).getElementsByClassName("ui-sortable__item"),(i=l.cloneNode(!0)).style.width="auto",n=r=0,s=(a=i.getElementsByClassName("ui-sortable__item")).length;r<s;n=++r)a[n].style.width=o[n].offsetWidth+"px";return i},stop:(e=this,function(t,i){return e._updateIndexAfterDragging(t.target),i.item.addClass("flash-highlight"),i.item.one("animationend webkitAnimationEnd oAnimationEnd MSAnimationEnd",function(){return i.item.removeClass("flash-highlight")})})});var e},i.prototype.submitNewSortOrder=function(e,t){var i;return(i=$.ajax({url:"/admin/collections/"+this.collectionId+"/order.json",type:"PUT",data:$("#collection-products-table").sortable("serialize",{key:"products[]"})+"&sort_order=manual&page_size="+this.pageSize+"&from_index="+t.item.startIndex+"&to_index="+t.item.index()})).success(function(){return Juzaweb.Flash.notice("Sắp xếp thành công")}),i.fail(function(){return Juzaweb.Flash.notice("Sắp xếp thất bại")})},i.prototype.showMoreProducts=function(e,t,i,n){var r,s,o,a;return Juzaweb.Loading.start(),this.loadingMoreProducts=!0,a="/admin/collections/"+this.collectionId+"/products_list",s=$("#"+t),r=$("#"+i),(o=$.ajax({url:a,dataType:"html",type:"GET",data:n||_.merge({},this.nextPageParams,{limit:this.LARGE_PAGE_SIZE})})).done(function(e){return function(t,n,o){var a,l,u,c,d,h,p,f;for(e.loadingMoreProducts=!1,e.pageSize=e.pageSize<e.LARGE_PAGE_SIZE?e.LARGE_PAGE_SIZE:e.pageSize+e.LARGE_PAGE_SIZE,l=$(t).find("table").children(),a=$(t).find("#"+i),c=Bindings.context(s[0]),d=0,p=l.length;d<p;d++)u=l[d],Bindings.bind(u,c);return Bindings.bind(a[0],Bindings.context(r[0])),r.html(a),(h=s.find(".collection_item_enumeration").last())&&(f=Number($(h).text()),l.each(function(e,t){return $(t).find(".collection_item_enumeration").text(f+e+1+".")})),Page.refresh({response:o,onlyKeys:["next-product-page-params"]}),s.append(l),null!=e.nextPageParams&&(e.title="Hiện thêm "+e.LARGE_PAGE_SIZE+" sản phẩm"),e.refreshTooltip(),Juzaweb.Loading.stop()}}(this)),o.fail(function(e){return function(){return e.loadingMoreProducts=!1,Juzaweb.Loading.stop(),Juzaweb.Flash.error("There was an error retrieving more products")}}(this))},i.prototype.refreshTooltip=function(){$("#collection-products-table").find(".tooltip").off("mouseenter").off("mouseleave").hover(function(){$(this).toggleClass("is-active")})},i.prototype._afterProductAdded=function(e){return this.productsAdded[e]=!0,delete this.productsRemoved[e]},i.prototype._afterProductRemoved=function(e){return this.productsRemoved[e]=!0,delete this.productsAdded[e]},i.prototype._resetProductsAddedRemovedCount=function(){return this.productsAdded={},this.productsRemoved={}},i.prototype._refreshProductsList=function(e){var t,i;return this.pageSize>=this.LARGE_PAGE_SIZE?(this.pageSize=this.LARGE_PAGE_SIZE,t={limit:this.LARGE_PAGE_SIZE}):(this.pageSize=this.originalPageSize,t={}),(i=$.ajax({type:"GET",url:"/admin/collections/"+this.collectionId,data:t,dataType:"html"})).always(function(){return Juzaweb.Loading.stop()}),i.done(function(t){return function(i,n,r){return Page.refresh({response:r,onlyKeys:t.REFRESH_KEYS},function(){return e||(e=t._collectionAddRemoveMessage()),e&&Juzaweb.Flash.notice(e),t._resetProductsAddedRemovedCount()})}}(this))},i.prototype._collectionAddRemoveMessage=function(){var e;return e=[],_.size(this.productsAdded)>0&&e.push("Đã thêm "+_.size(this.productsAdded)+" sản phẩm"),_.size(this.productsRemoved)>0&&e.push("Đã xóa "+_.size(this.productsRemoved)+" sản phẩm"),e.join(" và ")},i}()}.call(this),function(){var e,t,i,n,r,s,o,a,l;n=!1,e={DRAG_ENTER:"page-drop-zone:drag-enter",DRAG_OVER:"page-drop-zone:drag-over",DRAG_LEAVE:"page-drop-zone:drag-leave",DROP:"page-drop-zone:drop"},r=function(e){var t,i;return(null!=(t=e.originalEvent.dataTransfer)&&null!=(i=t.types[0])?i.toLowerCase().indexOf("file"):void 0)>=0},t=function(e,t){if(r(e))return e.stopPropagation(),e.preventDefault(),t()},s=function(){if(!n)return Juzaweb.rootDispatcher.dispatch({type:e.DRAG_ENTER}),n=!0},o=function(){return Juzaweb.rootDispatcher.dispatch({type:e.DRAG_OVER})},l=function(){if(n)return n=!1,Juzaweb.rootDispatcher.dispatch({type:e.DRAG_LEAVE})},a=function(){return n=!1,Juzaweb.rootDispatcher.dispatch({type:e.DROP})},i=function(e){return null==e&&(e=document),$(e).on("dragenter",function(e){return t(e,s)}),$(e).on("dragover",function(e){return t(e,o)}),$(e).on("drop",function(e){return t(e,a)}),$(e).on("mouseleave",l)},window.Juzaweb.PageDropZone={EVENTS:e,initialize:i}}.call(this),function(){document.addEventListener("input",function(e){if("hidden"===e.target.type)return e.preventDefault(),e.stopPropagation()},!0),$(document).on("turbograft:remote:init",function(e){var t;if((t=$(e.originalEvent.data.initiator)).hasClass("js-btn-loadable"))return t.addClass("is-loading disabled")}),$(document).on("turbograft:remote:success",function(e){var t;return(t=$(e.originalEvent.data.initiator)).hasClass("js-btn-loadable")&&t.removeClass("is-loading disabled"),t.trigger("success")}),$(document).on("turbograft:remote:fail",function(e){var t;return(t=$(e.originalEvent.data.initiator)).hasClass("js-btn-loadable")&&t.removeClass("is-loading disabled"),t.trigger("fail")}),$(document).on("turbograft:remote:always",function(e){return $(e.originalEvent.data.initiator).trigger("done",e.originalEvent.data.xhr.responseText)}),$(function(){var e;return e=$(document),Juzaweb.PageDropZone.initialize(document),e.on("click","a.disabled, a.btn-disabled",function(e){e.preventDefault()}),e.on("click",".select",function(e){var t;"input"!==(null!=(t=e.target.tagName)?t.toLowerCase():void 0)&&$(this).children('input[type="checkbox"]:first:visible').click()}),e.on("click","[data-highlight]",function(){return document.execCommand("selectAll",!1,null)})})}.call(this),function(){var e=function(e,i){function n(){this.constructor=e}for(var r in i)t.call(i,r)&&(e[r]=i[r]);return n.prototype=i.prototype,e.prototype=new n,e.__super__=i.prototype,e},t={}.hasOwnProperty;Juzaweb.ForceDirtyStateForm=function(t){function i(e,t,n){var r;this.initiallyDirty=t,null==n&&(n={}),this.canEnableButtons=null==(r=n.canEnableButtons)||r,i.__super__.constructor.call(this,e,n),Juzaweb.Forms._dirtyForm=this.initiallyDirty}return e(i,t),i.prototype.makeDirty=function(){if(Juzaweb.Forms._dirtyForm=!0,this.canEnableButtons)return this.$primaryButtons.addClass("btn-primary"),this.$primaryButtons.removeClass("btn-disabled").removeAttr("disabled")},i.prototype.makeClean=function(){if(!this.initiallyDirty)return Juzaweb.Forms._dirtyForm=!1,this.$primaryButtons.removeClass("btn-primary"),this.$primaryButtons.addClass("btn-disabled").attr("disabled","disabled")},i}(Juzaweb.Forms)}.call(this),function(){var e,t,i,n,r,s,o=[].slice;t={TUTORIAL:".js-tutorial-scroll",ERROR_BANNER:".ui-banner--status-critical",ERROR_LIST:"#errors-list",ERROR_NOTICE:".next-notice--critical",ERROR_BOX:".box.errors",SUCCESS:".ui-banner--status-success"},e="data-notice-announced",i=function(){var e;return e=Object.keys(t).map(function(e){return t[e]}).join(", "),$(e).filter(function(e,t){return!$(t).children(":first-child").is(":empty")}).attr({tabindex:-1,role:"alert"})},n=function(e){return Object.keys(t).map(function(i){return e.filter(t[i]).first()}).filter(function(e){return e.length}).shift()},Juzaweb.NoticeFocus={send:function(){var e,t,i;return t=arguments[0],(e=2<=arguments.length?o.call(arguments,1):[]).length?null!=(i=s[t])?i.apply(null,e):void 0:s[t]}},s={a11yNotices:i,getHighestPriorityNotice:n},r=function(e){var t,i;return i=e.offset(),t=$(window).height()/2,$("html, body").animate({scrollTop:i.top-t},800)},$(document).on("ready page:load",function(){var s,o;if((s=i()).length)return(o=n(s)).attr(e)?void 0:setTimeout(function(){return o.attr(e,!0),o.is(t.TUTORIAL)&&r(o),o.focus()},1e3)})}.call(this),function(){Juzaweb.CommentOperations=function(){function e(e){var t;this.refreshKeys=e,t=Juzaweb.UrlMangler.parseSearchString(window.location.search).hideSpam,this.hideSpam=null==t||"true"===t}return e.prototype.toggleSpam=function(){return this.hideSpam=!this.hideSpam,Page.refresh({queryParams:{hideSpam:this.hideSpam?"true":"false"},onlyKeys:["comments"]})},e.prototype.perform=function(e,t){var i;return(i=$.ajax({url:"/admin/comments/"+e+"/"+t,type:"POST",dataType:"json"})).done(function(e){return function(){return Juzaweb.Modal.hide(),Page.refresh({onlyKeys:e.refreshKeys})}}(this)),i.fail(Juzaweb.handleError)},e}()}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};Juzaweb.ContentEditor=function(){function t(t,i){this.options=null!=i?i:{},this.node=t,this.contentInput=$(this.node).find("textarea").get(0),this.onReplace=e(this.onReplace,this),this.initialize=e(this.initialize,this),Page.onReplace(this.contentInput,this.onReplace),this.initialize()}return t.prototype.onReplace=function(){try{this.editor.destroy()}catch(e){console.log(e)}},t.prototype.initialize=function(){var e=this,t=$(this.contentInput);t.ckeditor(),this.editor=t.ckeditorGet(),$(document).one("page:before-replace",function(){return t.off()}),this.editor.on("instanceReady",function(t){for(var i=["div","h1","h2","h3","h4","h5","h6","p","pre","li","blockquote","ul","ol","table","thead","tbody","tfoot","td","th"],n=0;n<i.length;n++)t.editor.dataProcessor.writer.setRules(i[n],{indent:!1,breakBeforeOpen:!0,breakAfterOpen:!1,breakBeforeClose:!1,breakAfterClose:!1});this.on("key",_.debounce(function(){return e.updateValue(e.editor.getData())},300));try{e.updateValue(this.getData())}catch(e){console.log(e)}Bindings.refresh()})},t.prototype.updateValue=function(e){return(void 0===typeof this.options.resource||null==this.options.resource)&&(this.options.resource=Bindings.context(document.body)[this.options.resource_name]),this.options.resource&&(this.options.resource[this.options.key]=Juzaweb.HTML.unsafeStripWithoutNbsp(e).replace(/(\r?\n|\r)/gm," ").trim()),Bindings.refresh()},t}()}.call(this),function(){Juzaweb.MenuItemDropDown=function(){function e(e,t){if(null!=t)for(var i in t)this[i]=t[i];this.element=e,this.$ele=$(e),this.form=Bindings.context(document.body)[this.form_name],this.init(),this.timer=null,this.request=null,this.isLoaded=!1}return e.checkFocus=function(t){var i=$(t.target);0==i.closest(".single-dropdown").length&&0==i.parent(".dropdown-toggle").length&&e.closeAllOpenDropdown()},e.closeAllOpenDropdown=function(){$(".single-dropdown.is-visible").removeClass("is-visible")},e.prototype.dropdown=function(t){e.closeAllOpenDropdown(),t.preventDefault();var i=this;this.isLoaded?this.$ele.find(".single-dropdown").toggleClass("is-visible"):$.ajax({type:"GET",url:_urlMappings[this.type],success:function(e){i.isLoaded=!0,i.$ele.append(e),Bindings.bind(i.$ele.find(".single-dropdown").get(0),i),Bindings.refresh()},error:function(){},complete:function(){i.$ele.find(".single-dropdown").toggleClass("is-visible")}})},e.prototype.suggest=function(){var e=this,t=this.$ele.find(".single-query").val(),i=_urlSuggestMappings[this.type]+"?query="+t;this.page=1,null!=this.timer&&clearTimeout(this.timer),this.timer=setTimeout(function(){null!=this.request&&this.request.abort(),this.request=$.ajax({url:i,type:"GET",success:function(t){e.$ele.find(".single-suggest-result").html(t),Bindings.bind(e.$ele.find(".single-dropdown").get(0),e)}})},1e3)},e.prototype.toggle=function(e,t,i){"alias"===this.valueType?this.$ele.find("[type='hidden']").val(i):this.$ele.find(".single-dropdown-select-id").val(e),this.$ele.find(".choosed-single").html(t),this.$ele.find(".single-dropdown-select-name").val(t),this.hideDropdown(),this.form._updateDirtyState()},e.prototype.hideDropdown=function(){this.$ele.find(".single-dropdown").hasClass("is-visible")&&this.$ele.find(".single-dropdown").removeClass("is-visible")},e.prototype.init=function(){$(this.element).find(".choosed-single").html()&&$(this.element).find(".choosed-single").html(this.itemName)},e.prototype.next=function(){var e=$(this.element).find(".single-query").val(),t=_urlSuggestMappings[this.type]+"?query="+e;this.page=this.page+1,this.next_page=t+"&page="+this.page,this.loadUrl(this.next_page)},e.prototype.prev=function(){var e=$(this.element).find(".single-query").val(),t=_urlSuggestMappings[this.type]+"?query="+e;this.page=this.page-1,this.prev_page=t+"&page="+this.page,this.loadUrl(this.prev_page)},e.prototype.loadUrl=function(e){var t=this;$.ajax({url:e,success:function(e){t.$ele.find(".single-suggest-result").html(e),Bindings.bind(t.$ele.find(".single-dropdown").get(0),t)}})},e}()}.call(this),function(){Juzaweb.ChannelsActivationFunnel=function(){function e(){}return e.FUNNEL_NAME="channel-activation-flow",e.VERSION=5,e._renameChannel=function(e){return e.replace(/\s+/g,"-").toLowerCase()},e.channelsToPublish=function(){return $(".next-input-wrapper").filter(function(){return"true"===$(this).children("#product_publications__published").val()}).find($(".next-label")).map(function(){return $(this).text()})},e.track=function(t){var i,n;return null==t&&(t={}),i={funnel:e.FUNNEL_NAME,version:e.VERSION},t=$.extend(t,i),null!=(n=window.analytics)?n.track("insta_funnel",t):void 0},e.openChannelsModal=function(e){return this.track({step:"open-channels-modal-from-"+e,depth:1})},e.channelsModalOpened=function(){return this.track({step:"channels-modal-opened",depth:2})},e.clickViewDetails=function(e){var t;return t=this._renameChannel(e),this.track({step:"click-view-details-"+t,depth:3})},e.clickEligibilityReason=function(e){return this.track({step:"click-ineligibility-reason-"+e,depth:4})},e.clickLearnMore=function(e){var t;return t=this._renameChannel(e),this.track({step:"click-learn-more-"+t,depth:5})},e.clickAddChannelModal=function(e){var t;return t=this._renameChannel(e),this.track({step:"click-add-channel-"+t,depth:6})},e.clickIndexAddChannelModal=function(e){var t;return t=this._renameChannel(e),this.track({step:"click-add-channel-from-index-"+t,depth:6})},e.clickPublishProductOnChannel=function(e){var t,i,n,r;for(r=[],i=0,n=e.length;i<n;i++)t=e[i],r.push(this.track({step:"click-publish-product-on-"+this._renameChannel(t),depth:7}));return r},e}()}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};Juzaweb.AddChannelModal=function(){function t(t){this.nodes=t,this._teardown=e(this._teardown,this),this._setup=e(this._setup,this),Juzaweb.rootDispatcher.register(Juzaweb.UIModal.EVENTS.SHOW,function(e){return function(t){return e._setup(t)}}(this)),Juzaweb.rootDispatcher.register(Juzaweb.UIModal.EVENTS.HIDE,function(e){return function(t){return e._teardown(t)}}(this)),this._setup(),this.state&&(this.state.showSecondary=!1)}return t.prototype.CLASSES={detailsNodeIsActive:"is-active",primaryContent:"add-channel-modal__content--primary",secondaryContent:"add-channel-modal__content--secondary"},t.prototype.FOCUSABLE_ELEMENTS=["a","area","button","iframe","input","select","textarea"],t.prototype.nodes={addChannelForm:null,addChannelSuccessCallback:null,container:null,modalBodies:{primary:null,secondary:null},parent:null},t.prototype.state={activeDetailsNode:null,selectedChannel:{disabled:!1,installPath:null,addSuccessRedirectPath:null,providerName:null,title:"",alias:""},showSecondary:!1},t.prototype.hideDetails=function(){return this.loadImages("."+this.CLASSES.primaryContent),this.state.showSecondary=!1,this._toggleFocusableElements(null,"."+this.CLASSES.primaryContent),this._toggleFocusableElements(-1,"."+this.CLASSES.secondaryContent)},t.prototype.loadImages=function(e){var t,i,n,r,s,o;for(r=e+" img",o=[],t=0,s=(n=this.nodes.parent.querySelectorAll(r)).length;t<s;t++)(i=n[t]).dataset.src&&(i.src=i.dataset.src),o.push(delete i.dataset.src);return o},t.prototype.showDetails=function(e){var t;return!!(t=this.nodes.parent.querySelector(e))&&(this.loadImages(e),this.state.selectedChannel=_.pick(t.dataset,["disabled","installPath","addSuccessRedirectPath","providerName","title","alias"]),this._updateAddChannelForm(),this._setActiveDetailsNode(t),this._toggleFocusableElements(-1,"."+this.CLASSES.primaryContent),this._toggleFocusableElements(null,"."+this.CLASSES.secondaryContent),this.state.showSecondary=!0,this.state.selectedChannel.disabled?Juzaweb.ChannelsActivationFunnel.clickViewDetails(this.state.selectedChannel.providerName):Juzaweb.ChannelsActivationFunnel.clickLearnMore(this.state.selectedChannel.providerName))},t.prototype.addChannelFromIndex=function(e){var t;return t=this.nodes.parent.querySelector(e),this.state.selectedChannel=_.pick(t.dataset,["providerName"]),this.trackAddChannel()},t.prototype.trackAddChannel=function(e){return null==e&&(e=""),"index"===e?Juzaweb.ChannelsActivationFunnel.clickIndexAddChannelModal(this.state.selectedChannel.providerName):Juzaweb.ChannelsActivationFunnel.clickAddChannelModal(this.state.selectedChannel.providerName)},t.prototype._setup=function(e){var t,i,n,r,s,o,a;for(null==e&&(e=null),(o=Juzaweb.UrlMangler.parseSearchString(window.location.search))&&o.highlight&&"true"===this.nodes.container.dataset.startVisible?(this.showDetails("#AddChannelModalChannel"+Juzaweb.String.pascalCase(o.highlight))||this.loadImages("."+this.CLASSES.primaryContent),this.nodes.modalBodies.primary.addEventListener("transitionend",function(e){return function(){return e.nodes.container.dataset.startVisible="false"}}(this))):this.nodes.container.classList.contains("ui-modal--is-visible")&&(this.loadImages("."+this.CLASSES.primaryContent),this._toggleFocusableElements(-1,"."+this.CLASSES.secondaryContent)),n={},r=0,s=(a=document.querySelectorAll("[data-collapsible]")).length;r<s;r++)(i=(t=a[r]).id)?n[i]=new Juzaweb.Collapsible(t):console.log("This collapsible has been rejected because of mising ID");return Juzaweb.ChannelsActivationFunnel.channelsModalOpened()},t.prototype._teardown=function(e){if(e.data.id===this.nodes.container.id)return this.hideDetails()},t.prototype._setActiveDetailsNode=function(e){return this.state.activeDetailsNode&&this.state.activeDetailsNode.classList.remove(this.CLASSES.detailsNodeIsActive),this.state.activeDetailsNode=e,this.state.activeDetailsNode&&this.state.activeDetailsNode.classList.add(this.CLASSES.detailsNodeIsActive),this.nodes.modalBodies.secondary.scrollTop=0},t.prototype._toggleFocusableElements=function(e,t){var i,n,r,s,o;for(o=this.FOCUSABLE_ELEMENTS.map(function(e){return t+" "+e}).join(", "),i=0,n=(s=document.querySelectorAll(o)).length;i<n;i++)r=s[i],e?r.tabIndex=e:r.removeAttribute("tabindex");return this.nodes.container.focus()},t.prototype._updateAddChannelForm=function(){return this.nodes.addChannelForm.action=this.state.selectedChannel.installPath,this.nodes.addChannelSuccessCallback.value=this.state.selectedChannel.addSuccessRedirectPath},t}()}.call(this),function(){function e(){var e=document.querySelectorAll("."+t),i=[];return Array.from(e).forEach(function(e){var t=function(e){var t=new Clipboard(e);return t.on("success",function(){Juzaweb.Flash.notice("Copy thành công")}),t.on("error",function(){Juzaweb.Flash.notice("Copy thất bại. Vui lòng thử lại.")}),t}(e);i.push(t)}),i}var t="js-clipboard";document.addEventListener("DOMContentLoaded",function(){return e()}),document.addEventListener("page:load",function(){return e()})}.call(this),function(){var e,t,i,n,r,s,o,a,l,u,c=function(e,t){return function(){return e.apply(t,arguments)}};e={TYPE:"data-collapsible",STATE:"data-collapsible-state",MAX_WIDTH:"data-collapsible-maxwidth",HIDDEN:"aria-hidden",BTN:{TARGET:"data-collapsible-target",EXPANDED:"aria-expanded",TEXT:{EXPANDED:"data-collapsible-text--expanded",COLLAPSED:"data-collapsible-text--collapsed"},ICON:{EXPANDED:"data-collapsible-icon--expanded",COLLAPSED:"data-collapsible-icon--collapsed"}}},t={BTN:{TEXT:"btn__text",ICON:"icon"}},n="collapsible:collapsed",r="collapsible:expanded",o={},l=function(e){return o[e.id]},s={},a=function(t){return s[t.getAttribute(e.BTN.TARGET)]},Juzaweb.Collapsible=function(){function t(t){var i;this.node=t,this._finishTransition=c(this._finishTransition,this),this._getHeight=c(this._getHeight,this),this.node,this.id=this.node.id,this.id&&(this.collapsed="collapsed"===this.node.getAttribute(e.STATE),this.dismissible="dismissible"===this.node.getAttribute(e.TYPE),i=this.node.getAttribute(e.MAX_WIDTH),this.maxwidth=i?parseInt(i,10):void 0,this.activator=null,this._pairActivator(),this._toggleAtWidth(),this._trackWidthResize())}return t.DISPATCHER_COLLAPSED_ACTION=n,t.DISPATCHER_EXPANDED_ACTION=r,t._collapsibleRefs=o,t.getCollapsibleRefForNode=l,t._activatorRefs=s,t.getActivatorForNode=a,t.prototype.toggle=function(e){return null==e&&(e=!0),this.collapsed?this.expand(e):this.collapse(e)},t.prototype.expand=function(t){return null==t&&(t=!0),this.collapsed?(this.activator&&this.activator.expand(),t?(this.node.addEventListener("transitionend",this._finishTransition),this.node.classList.add("collapsible--has-transition"),this.node.style.height=this._getHeight(),this.node.offsetHeight,requestAnimationFrame(function(t){return function(){return t.collapsed=!1,t.node.setAttribute(e.STATE,"expanded"),t.node.setAttribute(e.HIDDEN,"false"),Juzaweb.rootDispatcher.dispatch(t._generateTransitionEvent())}}(this))):(this.collapsed=!1,this.node.setAttribute(e.STATE,"expanded"),this.node.setAttribute(e.HIDDEN,"false"),this.activator.ready=!0,Juzaweb.rootDispatcher.dispatch(this._generateTransitionEvent()))):this},t.prototype.collapse=function(t){return null==t&&(t=!0),this.collapsed?this:(this.activator&&this.activator.collapse(),t?(this.node.addEventListener("transitionend",this._finishTransition),this.node.classList.add("collapsible--has-transition"),this.node.style.height=this._getHeight(),this.node.offsetHeight,requestAnimationFrame(function(t){return function(){return t.collapsed=!0,t.node.setAttribute(e.STATE,"collapsed"),t.node.setAttribute(e.HIDDEN,"true"),Juzaweb.rootDispatcher.dispatch(t._generateTransitionEvent())}}(this))):(this.collapsed=!0,this.node.setAttribute(e.STATE,"collapsed"),this.node.setAttribute(e.HIDDEN,"true"),this.activator.ready=!0,Juzaweb.rootDispatcher.dispatch(this._generateTransitionEvent()),this.dismissible&&this.collapsed?this.remove():void 0))},t.prototype.remove=function(){this.activator&&this.activator.remove(),o[this.id]=null,this.node.parentNode.removeChild(this.node)},t.prototype._getHeight=function(){var e;return e=this.node.scrollHeight,e+=parseInt(window.getComputedStyle(this.node).getPropertyValue("margin-bottom"),10),(e+=parseInt(window.getComputedStyle(this.node).getPropertyValue("margin-top"),10))+"px"},t.prototype._finishTransition=function(e){if(e.target===this.node&&"height"===e.propertyName&&(this.node.removeEventListener("transitionend",this._finishTransition),this.node.classList.remove("collapsible--has-transition"),this.node.style.height=null,this.node.offsetHeight,this.activator.ready=!0,this.dismissible&&this.collapsed))return this.remove()},t.prototype._generateTransitionEvent=function(){return{type:this.collapsed?n:r,data:{collapsibleInstance:this}}},t.prototype._pairActivator=function(){var t;if(t=document.querySelector("["+e.BTN.TARGET+"='"+this.id+"']"))return s[this.id]=new i(t,this),this.activator=s[this.id]},t.prototype._toggleAtWidth=function(e){return null==e&&(e=!1),this.maxwidth&&(this.node.offsetWidth>=this.maxwidth?(this.collapsed&&this.expand(e),this.activator&&this.activator.hide()):this.activator&&this.activator.show()),this},t.prototype._trackWidthResize=function(){if(this.maxwidth)return window.addEventListener("resize",_.debounce((e=this,function(){return requestAnimationFrame(function(){return e._toggleAtWidth()})}),50));var e},t}(),i=function(){function i(i,n){var r,s;this.node=i,this.collapsible=n,this._clickToToggle=c(this._clickToToggle,this),this.node,this.collapsible,this.target=this.collapsible.node,this.collapsed="false"===this.node.getAttribute(e.BTN.EXPANDED),this.ready=!0,s=this.node.getElementsByClassName(t.BTN.TEXT)[0],this.text={node:s,expanded:s?s.getAttribute(e.BTN.TEXT.EXPANDED):void 0,collapsed:s?s.getAttribute(e.BTN.TEXT.COLLAPSED):void 0},r=this.node.getElementsByClassName(t.BTN.ICON)[0],this.icon={node:r,symbol:r?r.getElementsByTagName("use")[0]:void 0,expanded:r?r.getAttribute(e.BTN.ICON.EXPANDED):void 0,collapsed:r?r.getAttribute(e.BTN.ICON.COLLAPSED):void 0},this.node.addEventListener("click",this._clickToToggle)}return i._collapsibleRefs=o,i.getCollapsibleRefForNode=l,i._activatorRefs=s,i.getActivatorForNode=a,i.prototype.toggle=function(){return this.collapsed?this.expand():this.collapse()},i.prototype.expand=function(){return this.collapsed?(this.ready=!1,this.collapsed=!1,this.node.setAttribute(e.BTN.EXPANDED,"true"),this._toggleText(),this._toggleIcon(),this):this},i.prototype.collapse=function(){return this.collapsed?this:(this.ready=!1,this.collapsed=!0,this.node.setAttribute(e.BTN.EXPANDED,"false"),this._toggleText(),this._toggleIcon(),this)},i.prototype.remove=function(){this.node.removeEventListener("click",this._clickToToggle),s[this.node.getAttribute(e.BTN.TARGET)]=null,this.node.parentNode.removeChild(this.node)},i.prototype.hide=function(){this.node.classList.add("hide")},i.prototype.show=function(){this.node.classList.remove("hide")},i.prototype._toggleText=function(){return this.text.expanded&&this.text.collapsed&&(this.text.node.innerHTML=this.collapsed?this.text.collapsed:this.text.expanded),this},i.prototype._toggleIcon=function(){return this.icon.expanded&&this.icon.collapsed&&(this.collapsed?this.icon.symbol.setAttribute("xlink:href","#"+this.icon.collapsed):this.icon.symbol.setAttribute("xlink:href","#"+this.icon.expanded)),this},i.prototype._clickToToggle=function(e){if(this.ready)return e.preventDefault(),document.body.contains(this.target)?this.collapsible.toggle():void 0},i}(),u=function(){var t,i,n,r,s,a;for(a=[],n=0,r=(s=document.querySelectorAll("["+e.TYPE+"]")).length;n<r;n++)(i=(t=s[n]).id)?a.push(o[i]=new Juzaweb.Collapsible(t)):a.push(console.log("This collapsible has been rejected because of missing ID!"));return a},$(document).on("ready page:load",u)}.call(this)}function ajaxRequest(e,t,i=null,n="POST",r="json"){$.ajax({type:n,url:e,dataType:r,data:t}).done(function(e){return i&&i(e),!1}).fail(function(e){return show_message(e),!1})}function show_message(e){if(e.data)return e.data.message&&toastr_message(e.data.message,e.status),!1;if(e.responseJSON)if(e.responseJSON.errors)$.each(e.responseJSON.errors,function(e,t){return toastr_message(t[0],!1),!1});else if(e.responseJSON.message)return toastr_message(e.responseJSON.message,!1),!1;e.message&&toastr_message(e.message.message,!1)}function toastr_message(e,t,i=null){1==t?toastr.success(e,i||juzaweb.lang.successfully+" !!"):toastr.error(e,i||juzaweb.lang.error+" !!")}function replace_template(e,t){return e.replace(/{(\w*)}/g,function(e,i){return t.hasOwnProperty(i)?t[i]:""})}!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(e){e.ui=e.ui||{},e.ui.version="1.12.1",function(){var t,i=Math.max,n=Math.abs,r=/left|center|right/,s=/top|center|bottom/,o=/[\+\-]\d+(\.[\d]+)?%?/,a=/^\w+/,l=/%$/,u=e.fn.pos;function c(e,t,i){return[parseFloat(e[0])*(l.test(e[0])?t/100:1),parseFloat(e[1])*(l.test(e[1])?i/100:1)]}function d(t,i){return parseInt(e.css(t,i),10)||0}e.pos={scrollbarWidth:function(){if(void 0!==t)return t;var i,n,r=e("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),s=r.children()[0];return e("body").append(r),i=s.offsetWidth,r.css("overflow","scroll"),i===(n=s.offsetWidth)&&(n=r[0].clientWidth),r.remove(),t=i-n},getScrollInfo:function(t){var i=t.isWindow||t.isDocument?"":t.element.css("overflow-x"),n=t.isWindow||t.isDocument?"":t.element.css("overflow-y"),r="scroll"===i||"auto"===i&&t.width<t.element[0].scrollWidth;return{width:"scroll"===n||"auto"===n&&t.height<t.element[0].scrollHeight?e.pos.scrollbarWidth():0,height:r?e.pos.scrollbarWidth():0}},getWithinInfo:function(t){var i=e(t||window),n=e.isWindow(i[0]),r=!!i[0]&&9===i[0].nodeType;return{element:i,isWindow:n,isDocument:r,offset:n||r?{left:0,top:0}:e(t).offset(),scrollLeft:i.scrollLeft(),scrollTop:i.scrollTop(),width:i.outerWidth(),height:i.outerHeight()}}},e.fn.pos=function(t){if(!t||!t.of)return u.apply(this,arguments);t=e.extend({},t);var l,h,p,f,m,g,v,y,_=e(t.of),b=e.pos.getWithinInfo(t.within),w=e.pos.getScrollInfo(b),T=(t.collision||"flip").split(" "),C={};return g=9===(y=(v=_)[0]).nodeType?{width:v.width(),height:v.height(),offset:{top:0,left:0}}:e.isWindow(y)?{width:v.width(),height:v.height(),offset:{top:v.scrollTop(),left:v.scrollLeft()}}:y.preventDefault?{width:0,height:0,offset:{top:y.pageY,left:y.pageX}}:{width:v.outerWidth(),height:v.outerHeight(),offset:v.offset()},_[0].preventDefault&&(t.at="left top"),h=g.width,p=g.height,f=g.offset,m=e.extend({},f),e.each(["my","at"],function(){var e,i,n=(t[this]||"").split(" ");1===n.length&&(n=r.test(n[0])?n.concat(["center"]):s.test(n[0])?["center"].concat(n):["center","center"]),n[0]=r.test(n[0])?n[0]:"center",n[1]=s.test(n[1])?n[1]:"center",e=o.exec(n[0]),i=o.exec(n[1]),C[this]=[e?e[0]:0,i?i[0]:0],t[this]=[a.exec(n[0])[0],a.exec(n[1])[0]]}),1===T.length&&(T[1]=T[0]),"right"===t.at[0]?m.left+=h:"center"===t.at[0]&&(m.left+=h/2),"bottom"===t.at[1]?m.top+=p:"center"===t.at[1]&&(m.top+=p/2),l=c(C.at,h,p),m.left+=l[0],m.top+=l[1],this.each(function(){var r,s,o=e(this),a=o.outerWidth(),u=o.outerHeight(),g=d(this,"marginLeft"),v=d(this,"marginTop"),y=a+g+d(this,"marginRight")+w.width,S=u+v+d(this,"marginBottom")+w.height,k=e.extend({},m),$=c(C.my,o.outerWidth(),o.outerHeight());"right"===t.my[0]?k.left-=a:"center"===t.my[0]&&(k.left-=a/2),"bottom"===t.my[1]?k.top-=u:"center"===t.my[1]&&(k.top-=u/2),k.left+=$[0],k.top+=$[1],r={marginLeft:g,marginTop:v},e.each(["left","top"],function(i,n){e.ui.pos[T[i]]&&e.ui.pos[T[i]][n](k,{targetWidth:h,targetHeight:p,elemWidth:a,elemHeight:u,collisionPosition:r,collisionWidth:y,collisionHeight:S,offset:[l[0]+$[0],l[1]+$[1]],my:t.my,at:t.at,within:b,elem:o})}),t.using&&(s=function(e){var r=f.left-k.left,s=r+h-a,l=f.top-k.top,c=l+p-u,d={target:{element:_,left:f.left,top:f.top,width:h,height:p},element:{element:o,left:k.left,top:k.top,width:a,height:u},horizontal:s<0?"left":0<r?"right":"center",vertical:c<0?"top":0<l?"bottom":"middle"};h<a&&n(r+s)<h&&(d.horizontal="center"),p<u&&n(l+c)<p&&(d.vertical="middle"),i(n(r),n(s))>i(n(l),n(c))?d.important="horizontal":d.important="vertical",t.using.call(this,e,d)}),o.offset(e.extend(k,{using:s}))})},e.ui.pos={_trigger:function(e,t,i,n){t.elem&&t.elem.trigger({type:i,position:e,positionData:t,triggered:n})},fit:{left:function(t,n){e.ui.pos._trigger(t,n,"posCollide","fitLeft");var r,s=n.within,o=s.isWindow?s.scrollLeft:s.offset.left,a=s.width,l=t.left-n.collisionPosition.marginLeft,u=o-l,c=l+n.collisionWidth-a-o;n.collisionWidth>a?0<u&&c<=0?(r=t.left+u+n.collisionWidth-a-o,t.left+=u-r):t.left=0<c&&u<=0?o:c<u?o+a-n.collisionWidth:o:0<u?t.left+=u:0<c?t.left-=c:t.left=i(t.left-l,t.left),e.ui.pos._trigger(t,n,"posCollided","fitLeft")},top:function(t,n){e.ui.pos._trigger(t,n,"posCollide","fitTop");var r,s=n.within,o=s.isWindow?s.scrollTop:s.offset.top,a=n.within.height,l=t.top-n.collisionPosition.marginTop,u=o-l,c=l+n.collisionHeight-a-o;n.collisionHeight>a?0<u&&c<=0?(r=t.top+u+n.collisionHeight-a-o,t.top+=u-r):t.top=0<c&&u<=0?o:c<u?o+a-n.collisionHeight:o:0<u?t.top+=u:0<c?t.top-=c:t.top=i(t.top-l,t.top),e.ui.pos._trigger(t,n,"posCollided","fitTop")}},flip:{left:function(t,i){e.ui.pos._trigger(t,i,"posCollide","flipLeft");var r,s,o=i.within,a=o.offset.left+o.scrollLeft,l=o.width,u=o.isWindow?o.scrollLeft:o.offset.left,c=t.left-i.collisionPosition.marginLeft,d=c-u,h=c+i.collisionWidth-l-u,p="left"===i.my[0]?-i.elemWidth:"right"===i.my[0]?i.elemWidth:0,f="left"===i.at[0]?i.targetWidth:"right"===i.at[0]?-i.targetWidth:0,m=-2*i.offset[0];d<0?((r=t.left+p+f+m+i.collisionWidth-l-a)<0||r<n(d))&&(t.left+=p+f+m):0<h&&(0<(s=t.left-i.collisionPosition.marginLeft+p+f+m-u)||n(s)<h)&&(t.left+=p+f+m),e.ui.pos._trigger(t,i,"posCollided","flipLeft")},top:function(t,i){e.ui.pos._trigger(t,i,"posCollide","flipTop");var r,s,o=i.within,a=o.offset.top+o.scrollTop,l=o.height,u=o.isWindow?o.scrollTop:o.offset.top,c=t.top-i.collisionPosition.marginTop,d=c-u,h=c+i.collisionHeight-l-u,p="top"===i.my[1]?-i.elemHeight:"bottom"===i.my[1]?i.elemHeight:0,f="top"===i.at[1]?i.targetHeight:"bottom"===i.at[1]?-i.targetHeight:0,m=-2*i.offset[1];d<0?((s=t.top+p+f+m+i.collisionHeight-l-a)<0||s<n(d))&&(t.top+=p+f+m):0<h&&(0<(r=t.top-i.collisionPosition.marginTop+p+f+m-u)||n(r)<h)&&(t.top+=p+f+m),e.ui.pos._trigger(t,i,"posCollided","flipTop")}},flipfit:{left:function(){e.ui.pos.flip.left.apply(this,arguments),e.ui.pos.fit.left.apply(this,arguments)},top:function(){e.ui.pos.flip.top.apply(this,arguments),e.ui.pos.fit.top.apply(this,arguments)}}},function(){var t,i,n,r,s,o=document.getElementsByTagName("body")[0],a=document.createElement("div");for(s in t=document.createElement(o?"div":"body"),n={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},o&&e.extend(n,{position:"absolute",left:"-1000px",top:"-1000px"}),n)t.style[s]=n[s];t.appendChild(a),(i=o||document.documentElement).insertBefore(t,i.firstChild),a.style.cssText="position: absolute; left: 10.7432222px;",r=e(a).offset().left,e.support.offsetFractions=10<r&&r<11,t.innerHTML="",i.removeChild(t)}()}(),e.ui.position}),function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):window.jQuery&&!window.jQuery.fn.iconpicker&&e(window.jQuery)}(function(e){"use strict";var t=function(e){return!1===e||""===e||null==e},i=function(t,n){this._id=i._idCounter++,this.element=e(t).addClass("iconpicker-element"),this._trigger("iconpickerCreate",{iconpickerValue:this.iconpickerValue}),this.options=e.extend({},i.defaultOptions,this.element.data(),n),this.options.templates=e.extend({},i.defaultOptions.templates,this.options.templates),this.options.originalPlacement=this.options.placement,this.container=!!function(t){return 0<e(t).length}(this.options.container)&&e(this.options.container),!1===this.container&&(this.element.is(".dropdown-toggle")?this.container=e("~ .dropdown-menu:first",this.element):this.container=this.element.is("input,textarea,button,.btn")?this.element.parent():this.element),this.container.addClass("iconpicker-container"),this.isDropdownMenu()&&(this.options.placement="inline"),this.input=!!this.element.is("input,textarea")&&this.element.addClass("iconpicker-input"),!1===this.input&&(this.input=this.container.find(this.options.input),this.input.is("input,textarea")||(this.input=!1)),this.component=this.isDropdownMenu()?this.container.parent().find(this.options.component):this.container.find(this.options.component),0===this.component.length?this.component=!1:this.component.find("i").addClass("iconpicker-component"),this._createPopover(),this._createIconpicker(),0===this.getAcceptButton().length&&(this.options.mustAccept=!1),this.isInputGroup()?this.container.parent().append(this.popover):this.container.append(this.popover),this._bindElementEvents(),this._bindWindowEvents(),this.update(this.options.selected),this.isInline()&&this.show(),this._trigger("iconpickerCreated",{iconpickerValue:this.iconpickerValue})};i._idCounter=0,i.defaultOptions={title:!1,selected:!1,defaultValue:!1,placement:"bottom",collision:"none",animation:!0,hideOnSelect:!1,showFooter:!1,searchInFooter:!1,mustAccept:!1,selectedCustomClass:"bg-primary",icons:[],fullClassFormatter:function(e){return e},input:"input,.iconpicker-input",inputSearch:!1,container:!1,component:".input-group-addon,.iconpicker-component",templates:{popover:'<div class="iconpicker-popover popover"><div class="arrow"></div><div class="popover-title"></div><div class="popover-content"></div></div>',footer:'<div class="popover-footer"></div>',buttons:'<button class="iconpicker-btn iconpicker-btn-cancel btn btn-default btn-sm">Cancel</button> <button class="iconpicker-btn iconpicker-btn-accept btn btn-primary btn-sm">Accept</button>',search:'<input type="search" class="form-control iconpicker-search" placeholder="Type to filter" />',iconpicker:'<div class="iconpicker"><div class="iconpicker-items"></div></div>',iconpickerItem:'<a role="button" href="javascript:;" class="iconpicker-item"><i></i></a>'}},i.batch=function(t,i){var n=Array.prototype.slice.call(arguments,2);return e(t).each(function(){var t=e(this).data("iconpicker");t&&t[i].apply(t,n)})},i.prototype={constructor:i,options:{},_id:0,_trigger:function(t,i){i=i||{},this.element.trigger(e.extend({type:t,iconpickerInstance:this},i))},_createPopover:function(){this.popover=e(this.options.templates.popover);var i=this.popover.find(".popover-title");if(this.options.title&&i.append(e('<div class="popover-title-text">'+this.options.title+"</div>")),this.hasSeparatedSearchInput()&&!this.options.searchInFooter?i.append(this.options.templates.search):this.options.title||i.remove(),this.options.showFooter&&!t(this.options.templates.footer)){var n=e(this.options.templates.footer);this.hasSeparatedSearchInput()&&this.options.searchInFooter&&n.append(e(this.options.templates.search)),t(this.options.templates.buttons)||n.append(e(this.options.templates.buttons)),this.popover.append(n)}return!0===this.options.animation&&this.popover.addClass("fade"),this.popover},_createIconpicker:function(){var t=this;this.iconpicker=e(this.options.templates.iconpicker);var i=function(i){var n=e(this);n.is("i")&&(n=n.parent()),t._trigger("iconpickerSelect",{iconpickerItem:n,iconpickerValue:t.iconpickerValue}),!1===t.options.mustAccept?(t.update(n.data("iconpickerValue")),t._trigger("iconpickerSelected",{iconpickerItem:this,iconpickerValue:t.iconpickerValue})):t.update(n.data("iconpickerValue"),!0),t.options.hideOnSelect&&!1===t.options.mustAccept&&t.hide()},n=e(this.options.templates.iconpickerItem),r=[];for(var s in this.options.icons)if("string"==typeof this.options.icons[s].title){var o=n.clone();if(o.find("i").addClass(this.options.fullClassFormatter(this.options.icons[s].title)),o.data("iconpickerValue",this.options.icons[s].title).on("click.iconpicker",i),o.attr("title","."+this.options.icons[s].title),0<this.options.icons[s].searchTerms.length){for(var a="",l=0;l<this.options.icons[s].searchTerms.length;l++)a=a+this.options.icons[s].searchTerms[l]+" ";o.attr("data-search-terms",a)}r.push(o)}return this.iconpicker.find(".iconpicker-items").append(r),this.popover.find(".popover-content").append(this.iconpicker),this.iconpicker},_isEventInsideIconpicker:function(t){var i=e(t.target);return!((!i.hasClass("iconpicker-element")||i.hasClass("iconpicker-element")&&!i.is(this.element))&&0===i.parents(".iconpicker-popover").length)},_bindElementEvents:function(){var t=this;this.getSearchInput().on("keyup.iconpicker",function(){t.filter(e(this).val().toLowerCase())}),this.getAcceptButton().on("click.iconpicker",function(){var e=t.iconpicker.find(".iconpicker-selected").get(0);t.update(t.iconpickerValue),t._trigger("iconpickerSelected",{iconpickerItem:e,iconpickerValue:t.iconpickerValue}),t.isInline()||t.hide()}),this.getCancelButton().on("click.iconpicker",function(){t.isInline()||t.hide()}),this.element.on("focus.iconpicker",function(e){t.show(),e.stopPropagation()}),this.hasComponent()&&this.component.on("click.iconpicker",function(){t.toggle()}),this.hasInput()&&this.input.on("keyup.iconpicker",function(i){!function(t,i){return-1!==e.inArray(t,i)}(i.keyCode,[38,40,37,39,16,17,18,9,8,91,93,20,46,186,190,46,78,188,44,86])?t.update():t._updateFormGroupStatus(!1!==t.getValid(this.value)),!0===t.options.inputSearch&&t.filter(e(this).val().toLowerCase())})},_bindWindowEvents:function(){var t=e(window.document),i=this,n=".iconpicker.inst"+this._id;e(window).on("resize.iconpicker"+n+" orientationchange.iconpicker"+n,function(e){i.popover.hasClass("in")&&i.updatePlacement()}),i.isInline()||t.on("mouseup"+n,function(e){i._isEventInsideIconpicker(e)||i.isInline()||i.hide()})},_unbindElementEvents:function(){this.popover.off(".iconpicker"),this.element.off(".iconpicker"),this.hasInput()&&this.input.off(".iconpicker"),this.hasComponent()&&this.component.off(".iconpicker"),this.hasContainer()&&this.container.off(".iconpicker")},_unbindWindowEvents:function(){e(window).off(".iconpicker.inst"+this._id),e(window.document).off(".iconpicker.inst"+this._id)},updatePlacement:function(t,i){t=t||this.options.placement,this.options.placement=t,i=!0===(i=i||this.options.collision)?"flip":i;var n={at:"right bottom",my:"right top",of:this.hasInput()&&!this.isInputGroup()?this.input:this.container,collision:!0===i?"flip":i,within:window};if(this.popover.removeClass("inline topLeftCorner topLeft top topRight topRightCorner rightTop right rightBottom bottomRight bottomRightCorner bottom bottomLeft bottomLeftCorner leftBottom left leftTop"),"object"==typeof t)return this.popover.pos(e.extend({},n,t));switch(t){case"inline":n=!1;break;case"topLeftCorner":n.my="right bottom",n.at="left top";break;case"topLeft":n.my="left bottom",n.at="left top";break;case"top":n.my="center bottom",n.at="center top";break;case"topRight":n.my="right bottom",n.at="right top";break;case"topRightCorner":n.my="left bottom",n.at="right top";break;case"rightTop":n.my="left bottom",n.at="right center";break;case"right":n.my="left center",n.at="right center";break;case"rightBottom":n.my="left top",n.at="right center";break;case"bottomRightCorner":n.my="left top",n.at="right bottom";break;case"bottomRight":n.my="right top",n.at="right bottom";break;case"bottom":n.my="center top",n.at="center bottom";break;case"bottomLeft":n.my="left top",n.at="left bottom";break;case"bottomLeftCorner":n.my="right top",n.at="left bottom";break;case"leftBottom":n.my="right top",n.at="left center";break;case"left":n.my="right center",n.at="left center";break;case"leftTop":n.my="right bottom",n.at="left center";break;default:return!1}return this.popover.css({display:"inline"===this.options.placement?"":"block"}),!1!==n?this.popover.pos(n).css("maxWidth",e(window).width()-this.container.offset().left-5):this.popover.css({top:"auto",right:"auto",bottom:"auto",left:"auto",maxWidth:"none"}),this.popover.addClass(this.options.placement),!0},_updateComponents:function(){if(this.iconpicker.find(".iconpicker-item.iconpicker-selected").removeClass("iconpicker-selected "+this.options.selectedCustomClass),this.iconpickerValue&&this.iconpicker.find("."+this.options.fullClassFormatter(this.iconpickerValue).replace(/ /g,".")).parent().addClass("iconpicker-selected "+this.options.selectedCustomClass),this.hasComponent()){var e=this.component.find("i");0<e.length?e.attr("class",this.options.fullClassFormatter(this.iconpickerValue)):this.component.html(this.getHtml())}},_updateFormGroupStatus:function(e){return!!this.hasInput()&&(!1!==e?this.input.parents(".form-group:first").removeClass("has-error"):this.input.parents(".form-group:first").addClass("has-error"),!0)},getValid:function(t){(function(e){return"string"==typeof e||e instanceof String})(t)||(t="");var i=""===t;t=e.trim(t);for(var n=!1,r=0;r<this.options.icons.length;r++)if(this.options.icons[r].title===t){n=!0;break}return!(!n&&!i)&&t},setValue:function(e){var t=this.getValid(e);return!1!==t?(this.iconpickerValue=t,this._trigger("iconpickerSetValue",{iconpickerValue:t}),this.iconpickerValue):(this._trigger("iconpickerInvalid",{iconpickerValue:e}),!1)},getHtml:function(){return'<i class="'+this.options.fullClassFormatter(this.iconpickerValue)+'"></i>'},setSourceValue:function(e){return!1!==(e=this.setValue(e))&&""!==e&&(this.hasInput()?this.input.val(this.iconpickerValue):this.element.data("iconpickerValue",this.iconpickerValue),this._trigger("iconpickerSetSourceValue",{iconpickerValue:e})),e},getSourceValue:function(e){var t=e=e||this.options.defaultValue;return void 0!==(t=this.hasInput()?this.input.val():this.element.data("iconpickerValue"))&&""!==t&&null!==t&&!1!==t||(t=e),t},hasInput:function(){return!1!==this.input},isInputSearch:function(){return this.hasInput()&&!0===this.options.inputSearch},isInputGroup:function(){return this.container.is(".input-group")},isDropdownMenu:function(){return this.container.is(".dropdown-menu")},hasSeparatedSearchInput:function(){return!1!==this.options.templates.search&&!this.isInputSearch()},hasComponent:function(){return!1!==this.component},hasContainer:function(){return!1!==this.container},getAcceptButton:function(){return this.popover.find(".iconpicker-btn-accept")},getCancelButton:function(){return this.popover.find(".iconpicker-btn-cancel")},getSearchInput:function(){return this.popover.find(".iconpicker-search")},filter:function(i){if(t(i))return this.iconpicker.find(".iconpicker-item").show(),e(!1);var n=[];return this.iconpicker.find(".iconpicker-item").each(function(){var t=e(this),r=t.attr("title").toLowerCase();r=r+" "+(t.attr("data-search-terms")?t.attr("data-search-terms").toLowerCase():"");var s=!1;try{s=new RegExp("(^|\\W)"+i,"g")}catch(t){s=!1}!1!==s&&r.match(s)?(n.push(t),t.show()):t.hide()}),n},show:function(){if(this.popover.hasClass("in"))return!1;e.iconpicker.batch(e(".iconpicker-popover.in:not(.inline)").not(this.popover),"hide"),this._trigger("iconpickerShow",{iconpickerValue:this.iconpickerValue}),this.updatePlacement(),this.popover.addClass("in"),setTimeout(e.proxy(function(){this.popover.css("display",this.isInline()?"":"block"),this._trigger("iconpickerShown",{iconpickerValue:this.iconpickerValue})},this),this.options.animation?300:1)},hide:function(){if(!this.popover.hasClass("in"))return!1;this._trigger("iconpickerHide",{iconpickerValue:this.iconpickerValue}),this.popover.removeClass("in"),setTimeout(e.proxy(function(){this.popover.css("display","none"),this.getSearchInput().val(""),this.filter(""),this._trigger("iconpickerHidden",{iconpickerValue:this.iconpickerValue})},this),this.options.animation?300:1)},toggle:function(){this.popover.is(":visible")?this.hide():this.show(!0)},update:function(e,t){return e=e||this.getSourceValue(this.iconpickerValue),this._trigger("iconpickerUpdate",{iconpickerValue:this.iconpickerValue}),!0===t?e=this.setValue(e):(e=this.setSourceValue(e),this._updateFormGroupStatus(!1!==e)),!1!==e&&this._updateComponents(),this._trigger("iconpickerUpdated",{iconpickerValue:this.iconpickerValue}),e},destroy:function(){this._trigger("iconpickerDestroy",{iconpickerValue:this.iconpickerValue}),this.element.removeData("iconpicker").removeData("iconpickerValue").removeClass("iconpicker-element"),this._unbindElementEvents(),this._unbindWindowEvents(),e(this.popover).remove(),this._trigger("iconpickerDestroyed",{iconpickerValue:this.iconpickerValue})},disable:function(){return!!this.hasInput()&&(this.input.prop("disabled",!0),!0)},enable:function(){return!!this.hasInput()&&(this.input.prop("disabled",!1),!0)},isDisabled:function(){return!!this.hasInput()&&!0===this.input.prop("disabled")},isInline:function(){return"inline"===this.options.placement||this.popover.hasClass("inline")}},e.iconpicker=i,e.fn.iconpicker=function(t){return this.each(function(){var n=e(this);n.data("iconpicker")||n.data("iconpicker",new i(this,"object"==typeof t?t:{}))})},i.defaultOptions=e.extend(i.defaultOptions,{icons:[{title:"fab fa-500px",searchTerms:[]},{title:"fab fa-accessible-icon",searchTerms:["accessibility","handicap","person","wheelchair","wheelchair-alt"]},{title:"fab fa-accusoft",searchTerms:[]},{title:"fab fa-acquisitions-incorporated",searchTerms:["Dungeons & Dragons","d&d","dnd","fantasy","game","gaming","tabletop"]},{title:"fas fa-ad",searchTerms:[]},{title:"fas fa-address-book",searchTerms:[]},{title:"far fa-address-book",searchTerms:[]},{title:"fas fa-address-card",searchTerms:[]},{title:"far fa-address-card",searchTerms:[]},{title:"fas fa-adjust",searchTerms:["contrast"]},{title:"fab fa-adn",searchTerms:[]},{title:"fab fa-adversal",searchTerms:[]},{title:"fab fa-affiliatetheme",searchTerms:[]},{title:"fas fa-air-freshener",searchTerms:[]},{title:"fab fa-algolia",searchTerms:[]},{title:"fas fa-align-center",searchTerms:["middle","text"]},{title:"fas fa-align-justify",searchTerms:["text"]},{title:"fas fa-align-left",searchTerms:["text"]},{title:"fas fa-align-right",searchTerms:["text"]},{title:"fab fa-alipay",searchTerms:[]},{title:"fas fa-allergies",searchTerms:["freckles","hand","intolerances","pox","spots"]},{title:"fab fa-amazon",searchTerms:[]},{title:"fab fa-amazon-pay",searchTerms:[]},{title:"fas fa-ambulance",searchTerms:["help","machine","support","vehicle"]},{title:"fas fa-american-sign-language-interpreting",searchTerms:[]},{title:"fab fa-amilia",searchTerms:[]},{title:"fas fa-anchor",searchTerms:["link"]},{title:"fab fa-android",searchTerms:["robot"]},{title:"fab fa-angellist",searchTerms:[]},{title:"fas fa-angle-double-down",searchTerms:["arrows"]},{title:"fas fa-angle-double-left",searchTerms:["arrows","back","laquo","previous","quote"]},{title:"fas fa-angle-double-right",searchTerms:["arrows","forward","next","quote","raquo"]},{title:"fas fa-angle-double-up",searchTerms:["arrows"]},{title:"fas fa-angle-down",searchTerms:["arrow"]},{title:"fas fa-angle-left",searchTerms:["arrow","back","previous"]},{title:"fas fa-angle-right",searchTerms:["arrow","forward","next"]},{title:"fas fa-angle-up",searchTerms:["arrow"]},{title:"fas fa-angry",searchTerms:["disapprove","emoticon","face","mad","upset"]},{title:"far fa-angry",searchTerms:["disapprove","emoticon","face","mad","upset"]},{title:"fab fa-angrycreative",searchTerms:[]},{title:"fab fa-angular",searchTerms:[]},{title:"fas fa-ankh",searchTerms:["amulet","copper","coptic christianity","copts","crux ansata","egyptian","venus"]},{title:"fab fa-app-store",searchTerms:[]},{title:"fab fa-app-store-ios",searchTerms:[]},{title:"fab fa-apper",searchTerms:[]},{title:"fab fa-apple",searchTerms:["food","fruit","mac","osx"]},{title:"fas fa-apple-alt",searchTerms:["fall","food","fruit","fuji","macintosh","seasonal"]},{title:"fab fa-apple-pay",searchTerms:[]},{title:"fas fa-archive",searchTerms:["box","package","storage"]},{title:"fas fa-archway",searchTerms:["arc","monument","road","street"]},{title:"fas fa-arrow-alt-circle-down",searchTerms:["arrow-circle-o-down","download"]},{title:"far fa-arrow-alt-circle-down",searchTerms:["arrow-circle-o-down","download"]},{title:"fas fa-arrow-alt-circle-left",searchTerms:["arrow-circle-o-left","back","previous"]},{title:"far fa-arrow-alt-circle-left",searchTerms:["arrow-circle-o-left","back","previous"]},{title:"fas fa-arrow-alt-circle-right",searchTerms:["arrow-circle-o-right","forward","next"]},{title:"far fa-arrow-alt-circle-right",searchTerms:["arrow-circle-o-right","forward","next"]},{title:"fas fa-arrow-alt-circle-up",searchTerms:["arrow-circle-o-up"]},{title:"far fa-arrow-alt-circle-up",searchTerms:["arrow-circle-o-up"]},{title:"fas fa-arrow-circle-down",searchTerms:["download"]},{title:"fas fa-arrow-circle-left",searchTerms:["back","previous"]},{title:"fas fa-arrow-circle-right",searchTerms:["forward","next"]},{title:"fas fa-arrow-circle-up",searchTerms:[]},{title:"fas fa-arrow-down",searchTerms:["download"]},{title:"fas fa-arrow-left",searchTerms:["back","previous"]},{title:"fas fa-arrow-right",searchTerms:["forward","next"]},{title:"fas fa-arrow-up",searchTerms:[]},{title:"fas fa-arrows-alt",searchTerms:["arrow","arrows","bigger","enlarge","expand","fullscreen","move","position","reorder","resize"]},{title:"fas fa-arrows-alt-h",searchTerms:["arrows-h","resize"]},{title:"fas fa-arrows-alt-v",searchTerms:["arrows-v","resize"]},{title:"fas fa-assistive-listening-systems",searchTerms:[]},{title:"fas fa-asterisk",searchTerms:["details"]},{title:"fab fa-asymmetrik",searchTerms:[]},{title:"fas fa-at",searchTerms:["e-mail","email"]},{title:"fas fa-atlas",searchTerms:["book","directions","geography","map","wayfinding"]},{title:"fas fa-atom",searchTerms:["atheism","chemistry","science"]},{title:"fab fa-audible",searchTerms:[]},{title:"fas fa-audio-description",searchTerms:[]},{title:"fab fa-autoprefixer",searchTerms:[]},{title:"fab fa-avianex",searchTerms:[]},{title:"fab fa-aviato",searchTerms:[]},{title:"fas fa-award",searchTerms:["honor","praise","prize","recognition","ribbon"]},{title:"fab fa-aws",searchTerms:[]},{title:"fas fa-backspace",searchTerms:["command","delete","keyboard","undo"]},{title:"fas fa-backward",searchTerms:["previous","rewind"]},{title:"fas fa-balance-scale",searchTerms:["balanced","justice","legal","measure","weight"]},{title:"fas fa-ban",searchTerms:["abort","ban","block","cancel","delete","hide","prohibit","remove","stop","trash"]},{title:"fas fa-band-aid",searchTerms:["bandage","boo boo","ouch"]},{title:"fab fa-bandcamp",searchTerms:[]},{title:"fas fa-barcode",searchTerms:["scan"]},{title:"fas fa-bars",searchTerms:["checklist","drag","hamburger","list","menu","nav","navigation","ol","reorder","settings","todo","ul"]},{title:"fas fa-baseball-ball",searchTerms:[]},{title:"fas fa-basketball-ball",searchTerms:[]},{title:"fas fa-bath",searchTerms:[]},{title:"fas fa-battery-empty",searchTerms:["power","status"]},{title:"fas fa-battery-full",searchTerms:["power","status"]},{title:"fas fa-battery-half",searchTerms:["power","status"]},{title:"fas fa-battery-quarter",searchTerms:["power","status"]},{title:"fas fa-battery-three-quarters",searchTerms:["power","status"]},{title:"fas fa-bed",searchTerms:["lodging","sleep","travel"]},{title:"fas fa-beer",searchTerms:["alcohol","bar","beverage","drink","liquor","mug","stein"]},{title:"fab fa-behance",searchTerms:[]},{title:"fab fa-behance-square",searchTerms:[]},{title:"fas fa-bell",searchTerms:["alert","notification","reminder"]},{title:"far fa-bell",searchTerms:["alert","notification","reminder"]},{title:"fas fa-bell-slash",searchTerms:[]},{title:"far fa-bell-slash",searchTerms:[]},{title:"fas fa-bezier-curve",searchTerms:["curves","illustrator","lines","path","vector"]},{title:"fas fa-bible",searchTerms:["book","catholicism","christianity"]},{title:"fas fa-bicycle",searchTerms:["bike","gears","transportation","vehicle"]},{title:"fab fa-bimobject",searchTerms:[]},{title:"fas fa-binoculars",searchTerms:[]},{title:"fas fa-birthday-cake",searchTerms:[]},{title:"fab fa-bitbucket",searchTerms:["bitbucket-square","git"]},{title:"fab fa-bitcoin",searchTerms:[]},{title:"fab fa-bity",searchTerms:[]},{title:"fab fa-black-tie",searchTerms:[]},{title:"fab fa-blackberry",searchTerms:[]},{title:"fas fa-blender",searchTerms:[]},{title:"fas fa-blender-phone",searchTerms:["appliance","fantasy","silly"]},{title:"fas fa-blind",searchTerms:[]},{title:"fab fa-blogger",searchTerms:[]},{title:"fab fa-blogger-b",searchTerms:[]},{title:"fab fa-bluetooth",searchTerms:[]},{title:"fab fa-bluetooth-b",searchTerms:[]},{title:"fas fa-bold",searchTerms:[]},{title:"fas fa-bolt",searchTerms:["electricity","lightning","weather","zap"]},{title:"fas fa-bomb",searchTerms:[]},{title:"fas fa-bone",searchTerms:[]},{title:"fas fa-bong",searchTerms:["aparatus","cannabis","marijuana","pipe","smoke","smoking"]},{title:"fas fa-book",searchTerms:["documentation","read"]},{title:"fas fa-book-dead",searchTerms:["Dungeons & Dragons","crossbones","d&d","dark arts","death","dnd","documentation","evil","fantasy","halloween","holiday","read","skull","spell"]},{title:"fas fa-book-open",searchTerms:["flyer","notebook","open book","pamphlet","reading"]},{title:"fas fa-book-reader",searchTerms:["library"]},{title:"fas fa-bookmark",searchTerms:["save"]},{title:"far fa-bookmark",searchTerms:["save"]},{title:"fas fa-bowling-ball",searchTerms:[]},{title:"fas fa-box",searchTerms:["package"]},{title:"fas fa-box-open",searchTerms:[]},{title:"fas fa-boxes",searchTerms:[]},{title:"fas fa-braille",searchTerms:[]},{title:"fas fa-brain",searchTerms:["cerebellum","gray matter","intellect","medulla oblongata","mind","noodle","wit"]},{title:"fas fa-briefcase",searchTerms:["bag","business","luggage","office","work"]},{title:"fas fa-briefcase-medical",searchTerms:["health briefcase"]},{title:"fas fa-broadcast-tower",searchTerms:["airwaves","radio","waves"]},{title:"fas fa-broom",searchTerms:["clean","firebolt","fly","halloween","holiday","nimbus 2000","quidditch","sweep","witch"]},{title:"fas fa-brush",searchTerms:["bristles","color","handle","painting"]},{title:"fab fa-btc",searchTerms:[]},{title:"fas fa-bug",searchTerms:["insect","report"]},{title:"fas fa-building",searchTerms:["apartment","business","company","office","work"]},{title:"far fa-building",searchTerms:["apartment","business","company","office","work"]},{title:"fas fa-bullhorn",searchTerms:["announcement","broadcast","louder","megaphone","share"]},{title:"fas fa-bullseye",searchTerms:["target"]},{title:"fas fa-burn",searchTerms:["energy"]},{title:"fab fa-buromobelexperte",searchTerms:[]},{title:"fas fa-bus",searchTerms:["machine","public transportation","transportation","vehicle"]},{title:"fas fa-bus-alt",searchTerms:["machine","public transportation","transportation","vehicle"]},{title:"fas fa-business-time",searchTerms:["briefcase","business socks","clock","flight of the conchords","wednesday"]},{title:"fab fa-buysellads",searchTerms:[]},{title:"fas fa-calculator",searchTerms:[]},{title:"fas fa-calendar",searchTerms:["calendar-o","date","event","schedule","time","when"]},{title:"far fa-calendar",searchTerms:["calendar-o","date","event","schedule","time","when"]},{title:"fas fa-calendar-alt",searchTerms:["calendar","date","event","schedule","time","when"]},{title:"far fa-calendar-alt",searchTerms:["calendar","date","event","schedule","time","when"]},{title:"fas fa-calendar-check",searchTerms:["accept","agree","appointment","confirm","correct","done","ok","select","success","todo"]},{title:"far fa-calendar-check",searchTerms:["accept","agree","appointment","confirm","correct","done","ok","select","success","todo"]},{title:"fas fa-calendar-minus",searchTerms:["delete","negative","remove"]},{title:"far fa-calendar-minus",searchTerms:["delete","negative","remove"]},{title:"fas fa-calendar-plus",searchTerms:["add","create","new","positive"]},{title:"far fa-calendar-plus",searchTerms:["add","create","new","positive"]},{title:"fas fa-calendar-times",searchTerms:["archive","delete","remove","x"]},{title:"far fa-calendar-times",searchTerms:["archive","delete","remove","x"]},{title:"fas fa-camera",searchTerms:["photo","picture","record"]},{title:"fas fa-camera-retro",searchTerms:["photo","picture","record"]},{title:"fas fa-campground",searchTerms:["camping","fall","outdoors","seasonal","tent"]},{title:"fas fa-cannabis",searchTerms:["bud","chronic","drugs","endica","endo","ganja","marijuana","mary jane","pot","reefer","sativa","spliff","weed","whacky-tabacky"]},{title:"fas fa-capsules",searchTerms:["drugs","medicine"]},{title:"fas fa-car",searchTerms:["machine","transportation","vehicle"]},{title:"fas fa-car-alt",searchTerms:[]},{title:"fas fa-car-battery",searchTerms:[]},{title:"fas fa-car-crash",searchTerms:[]},{title:"fas fa-car-side",searchTerms:[]},{title:"fas fa-caret-down",searchTerms:["arrow","dropdown","menu","more","triangle down"]},{title:"fas fa-caret-left",searchTerms:["arrow","back","previous","triangle left"]},{title:"fas fa-caret-right",searchTerms:["arrow","forward","next","triangle right"]},{title:"fas fa-caret-square-down",searchTerms:["caret-square-o-down","dropdown","menu","more"]},{title:"far fa-caret-square-down",searchTerms:["caret-square-o-down","dropdown","menu","more"]},{title:"fas fa-caret-square-left",searchTerms:["back","caret-square-o-left","previous"]},{title:"far fa-caret-square-left",searchTerms:["back","caret-square-o-left","previous"]},{title:"fas fa-caret-square-right",searchTerms:["caret-square-o-right","forward","next"]},{title:"far fa-caret-square-right",searchTerms:["caret-square-o-right","forward","next"]},{title:"fas fa-caret-square-up",searchTerms:["caret-square-o-up"]},{title:"far fa-caret-square-up",searchTerms:["caret-square-o-up"]},{title:"fas fa-caret-up",searchTerms:["arrow","triangle up"]},{title:"fas fa-cart-arrow-down",searchTerms:["shopping"]},{title:"fas fa-cart-plus",searchTerms:["add","create","new","positive","shopping"]},{title:"fas fa-cat",searchTerms:["feline","halloween","holiday","kitten","kitty","meow","pet"]},{title:"fab fa-cc-amazon-pay",searchTerms:[]},{title:"fab fa-cc-amex",searchTerms:["amex"]},{title:"fab fa-cc-apple-pay",searchTerms:[]},{title:"fab fa-cc-diners-club",searchTerms:[]},{title:"fab fa-cc-discover",searchTerms:[]},{title:"fab fa-cc-jcb",searchTerms:[]},{title:"fab fa-cc-mastercard",searchTerms:[]},{title:"fab fa-cc-paypal",searchTerms:[]},{title:"fab fa-cc-stripe",searchTerms:[]},{title:"fab fa-cc-visa",searchTerms:[]},{title:"fab fa-centercode",searchTerms:[]},{title:"fas fa-certificate",searchTerms:["badge","star"]},{title:"fas fa-chair",searchTerms:["furniture","seat"]},{title:"fas fa-chalkboard",searchTerms:["blackboard","learning","school","teaching","whiteboard","writing"]},{title:"fas fa-chalkboard-teacher",searchTerms:["blackboard","instructor","learning","professor","school","whiteboard","writing"]},{title:"fas fa-charging-station",searchTerms:[]},{title:"fas fa-chart-area",searchTerms:["analytics","area-chart","graph"]},{title:"fas fa-chart-bar",searchTerms:["analytics","bar-chart","graph"]},{title:"far fa-chart-bar",searchTerms:["analytics","bar-chart","graph"]},{title:"fas fa-chart-line",searchTerms:["activity","analytics","dashboard","graph","line-chart"]},{title:"fas fa-chart-pie",searchTerms:["analytics","graph","pie-chart"]},{title:"fas fa-check",searchTerms:["accept","agree","checkmark","confirm","correct","done","notice","notification","notify","ok","select","success","tick","todo","yes"]},{title:"fas fa-check-circle",searchTerms:["accept","agree","confirm","correct","done","ok","select","success","todo","yes"]},{title:"far fa-check-circle",searchTerms:["accept","agree","confirm","correct","done","ok","select","success","todo","yes"]},{title:"fas fa-check-double",searchTerms:["accept","agree","checkmark","confirm","correct","done","notice","notification","notify","ok","select","success","tick","todo"]},{title:"fas fa-check-square",searchTerms:["accept","agree","checkmark","confirm","correct","done","ok","select","success","todo","yes"]},{title:"far fa-check-square",searchTerms:["accept","agree","checkmark","confirm","correct","done","ok","select","success","todo","yes"]},{title:"fas fa-chess",searchTerms:[]},{title:"fas fa-chess-bishop",searchTerms:[]},{title:"fas fa-chess-board",searchTerms:[]},{title:"fas fa-chess-king",searchTerms:[]},{title:"fas fa-chess-knight",searchTerms:[]},{title:"fas fa-chess-pawn",searchTerms:[]},{title:"fas fa-chess-queen",searchTerms:[]},{title:"fas fa-chess-rook",searchTerms:[]},{title:"fas fa-chevron-circle-down",searchTerms:["arrow","dropdown","menu","more"]},{title:"fas fa-chevron-circle-left",searchTerms:["arrow","back","previous"]},{title:"fas fa-chevron-circle-right",searchTerms:["arrow","forward","next"]},{title:"fas fa-chevron-circle-up",searchTerms:["arrow"]},{title:"fas fa-chevron-down",searchTerms:[]},{title:"fas fa-chevron-left",searchTerms:["back","bracket","previous"]},{title:"fas fa-chevron-right",searchTerms:["bracket","forward","next"]},{title:"fas fa-chevron-up",searchTerms:[]},{title:"fas fa-child",searchTerms:[]},{title:"fab fa-chrome",searchTerms:["browser"]},{title:"fas fa-church",searchTerms:["building","community","religion"]},{title:"fas fa-circle",searchTerms:["circle-thin","dot","notification"]},{title:"far fa-circle",searchTerms:["circle-thin","dot","notification"]},{title:"fas fa-circle-notch",searchTerms:["circle-o-notch"]},{title:"fas fa-city",searchTerms:["buildings","busy","skyscrapers","urban","windows"]},{title:"fas fa-clipboard",searchTerms:["paste"]},{title:"far fa-clipboard",searchTerms:["paste"]},{title:"fas fa-clipboard-check",searchTerms:["accept","agree","confirm","done","ok","select","success","todo","yes"]},{title:"fas fa-clipboard-list",searchTerms:["checklist","completed","done","finished","intinerary","ol","schedule","todo","ul"]},{title:"fas fa-clock",searchTerms:["date","late","schedule","timer","timestamp","watch"]},{title:"far fa-clock",searchTerms:["date","late","schedule","timer","timestamp","watch"]},{title:"fas fa-clone",searchTerms:["copy","duplicate"]},{title:"far fa-clone",searchTerms:["copy","duplicate"]},{title:"fas fa-closed-captioning",searchTerms:["cc"]},{title:"far fa-closed-captioning",searchTerms:["cc"]},{title:"fas fa-cloud",searchTerms:["save"]},{title:"fas fa-cloud-download-alt",searchTerms:["import"]},{title:"fas fa-cloud-meatball",searchTerms:[]},{title:"fas fa-cloud-moon",searchTerms:["crescent","evening","halloween","holiday","lunar","night","sky"]},{title:"fas fa-cloud-moon-rain",searchTerms:[]},{title:"fas fa-cloud-rain",searchTerms:["precipitation"]},{title:"fas fa-cloud-showers-heavy",searchTerms:["precipitation","rain","storm"]},{title:"fas fa-cloud-sun",searchTerms:["day","daytime","fall","outdoors","seasonal"]},{title:"fas fa-cloud-sun-rain",searchTerms:[]},{title:"fas fa-cloud-upload-alt",searchTerms:["cloud-upload"]},{title:"fab fa-cloudscale",searchTerms:[]},{title:"fab fa-cloudsmith",searchTerms:[]},{title:"fab fa-cloudversify",searchTerms:[]},{title:"fas fa-cocktail",searchTerms:["alcohol","beverage","drink"]},{title:"fas fa-code",searchTerms:["brackets","html"]},{title:"fas fa-code-branch",searchTerms:["branch","code-fork","fork","git","github","rebase","svn","vcs","version"]},{title:"fab fa-codepen",searchTerms:[]},{title:"fab fa-codiepie",searchTerms:[]},{title:"fas fa-coffee",searchTerms:["beverage","breakfast","cafe","drink","fall","morning","mug","seasonal","tea"]},{title:"fas fa-cog",searchTerms:["settings"]},{title:"fas fa-cogs",searchTerms:["gears","settings"]},{title:"fas fa-coins",searchTerms:[]},{title:"fas fa-columns",searchTerms:["dashboard","panes","split"]},{title:"fas fa-comment",searchTerms:["bubble","chat","conversation","feedback","message","note","notification","sms","speech","texting"]},{title:"far fa-comment",searchTerms:["bubble","chat","conversation","feedback","message","note","notification","sms","speech","texting"]},{title:"fas fa-comment-alt",searchTerms:["bubble","chat","commenting","conversation","feedback","message","note","notification","sms","speech","texting"]},{title:"far fa-comment-alt",searchTerms:["bubble","chat","commenting","conversation","feedback","message","note","notification","sms","speech","texting"]},{title:"fas fa-comment-dollar",searchTerms:[]},{title:"fas fa-comment-dots",searchTerms:[]},{title:"far fa-comment-dots",searchTerms:[]},{title:"fas fa-comment-slash",searchTerms:[]},{title:"fas fa-comments",searchTerms:["bubble","chat","conversation","feedback","message","note","notification","sms","speech","texting"]},{title:"far fa-comments",searchTerms:["bubble","chat","conversation","feedback","message","note","notification","sms","speech","texting"]},{title:"fas fa-comments-dollar",searchTerms:[]},{title:"fas fa-compact-disc",searchTerms:["bluray","cd","disc","media"]},{title:"fas fa-compass",searchTerms:["directory","location","menu","safari"]},{title:"far fa-compass",searchTerms:["directory","location","menu","safari"]},{title:"fas fa-compress",searchTerms:["collapse","combine","contract","merge","smaller"]},{title:"fas fa-concierge-bell",searchTerms:["attention","hotel","service","support"]},{title:"fab fa-connectdevelop",searchTerms:[]},{title:"fab fa-contao",searchTerms:[]},{title:"fas fa-cookie",searchTerms:["baked good","chips","food","snack","sweet","treat"]},{title:"fas fa-cookie-bite",searchTerms:["baked good","bitten","chips","eating","food","snack","sweet","treat"]},{title:"fas fa-copy",searchTerms:["clone","duplicate","file","files-o"]},{title:"far fa-copy",searchTerms:["clone","duplicate","file","files-o"]},{title:"fas fa-copyright",searchTerms:[]},{title:"far fa-copyright",searchTerms:[]},{title:"fas fa-couch",searchTerms:["furniture","sofa"]},{title:"fab fa-cpanel",searchTerms:[]},{title:"fab fa-creative-commons",searchTerms:[]},{title:"fab fa-creative-commons-by",searchTerms:[]},{title:"fab fa-creative-commons-nc",searchTerms:[]},{title:"fab fa-creative-commons-nc-eu",searchTerms:[]},{title:"fab fa-creative-commons-nc-jp",searchTerms:[]},{title:"fab fa-creative-commons-nd",searchTerms:[]},{title:"fab fa-creative-commons-pd",searchTerms:[]},{title:"fab fa-creative-commons-pd-alt",searchTerms:[]},{title:"fab fa-creative-commons-remix",searchTerms:[]},{title:"fab fa-creative-commons-sa",searchTerms:[]},{title:"fab fa-creative-commons-sampling",searchTerms:[]},{title:"fab fa-creative-commons-sampling-plus",searchTerms:[]},{title:"fab fa-creative-commons-share",searchTerms:[]},{title:"fab fa-creative-commons-zero",searchTerms:[]},{title:"fas fa-credit-card",searchTerms:["buy","checkout","credit-card-alt","debit","money","payment","purchase"]},{title:"far fa-credit-card",searchTerms:["buy","checkout","credit-card-alt","debit","money","payment","purchase"]},{title:"fab fa-critical-role",searchTerms:["Dungeons & Dragons","d&d","dnd","fantasy","game","gaming","tabletop"]},{title:"fas fa-crop",searchTerms:["design"]},{title:"fas fa-crop-alt",searchTerms:[]},{title:"fas fa-cross",searchTerms:["catholicism","christianity"]},{title:"fas fa-crosshairs",searchTerms:["gpd","picker","position"]},{title:"fas fa-crow",searchTerms:["bird","bullfrog","fauna","halloween","holiday","toad"]},{title:"fas fa-crown",searchTerms:[]},{title:"fab fa-css3",searchTerms:["code"]},{title:"fab fa-css3-alt",searchTerms:[]},{title:"fas fa-cube",searchTerms:["package"]},{title:"fas fa-cubes",searchTerms:["packages"]},{title:"fas fa-cut",searchTerms:["scissors"]},{title:"fab fa-cuttlefish",searchTerms:[]},{title:"fab fa-d-and-d",searchTerms:[]},{title:"fab fa-d-and-d-beyond",searchTerms:["Dungeons & Dragons","d&d","dnd","fantasy","gaming","tabletop"]},{title:"fab fa-dashcube",searchTerms:[]},{title:"fas fa-database",searchTerms:[]},{title:"fas fa-deaf",searchTerms:[]},{title:"fab fa-delicious",searchTerms:[]},{title:"fas fa-democrat",searchTerms:["american","democratic party","donkey","election","left","left-wing","liberal","politics","usa"]},{title:"fab fa-deploydog",searchTerms:[]},{title:"fab fa-deskpro",searchTerms:[]},{title:"fas fa-desktop",searchTerms:["computer","cpu","demo","desktop","device","machine","monitor","pc","screen"]},{title:"fab fa-dev",searchTerms:[]},{title:"fab fa-deviantart",searchTerms:[]},{title:"fas fa-dharmachakra",searchTerms:["buddhism","buddhist","wheel of dharma"]},{title:"fas fa-diagnoses",searchTerms:[]},{title:"fas fa-dice",searchTerms:["chance","gambling","game","roll"]},{title:"fas fa-dice-d20",searchTerms:["Dungeons & Dragons","chance","d&d","dnd","fantasy","gambling","game","roll"]},{title:"fas fa-dice-d6",searchTerms:["Dungeons & Dragons","chance","d&d","dnd","fantasy","gambling","game","roll"]},{title:"fas fa-dice-five",searchTerms:["chance","gambling","game","roll"]},{title:"fas fa-dice-four",searchTerms:["chance","gambling","game","roll"]},{title:"fas fa-dice-one",searchTerms:["chance","gambling","game","roll"]},{title:"fas fa-dice-six",searchTerms:["chance","gambling","game","roll"]},{title:"fas fa-dice-three",searchTerms:["chance","gambling","game","roll"]},{title:"fas fa-dice-two",searchTerms:["chance","gambling","game","roll"]},{title:"fab fa-digg",searchTerms:[]},{title:"fab fa-digital-ocean",searchTerms:[]},{title:"fas fa-digital-tachograph",searchTerms:[]},{title:"fas fa-directions",searchTerms:[]},{title:"fab fa-discord",searchTerms:[]},{title:"fab fa-discourse",searchTerms:[]},{title:"fas fa-divide",searchTerms:[]},{title:"fas fa-dizzy",searchTerms:["dazed","disapprove","emoticon","face"]},{title:"far fa-dizzy",searchTerms:["dazed","disapprove","emoticon","face"]},{title:"fas fa-dna",searchTerms:["double helix","helix"]},{title:"fab fa-dochub",searchTerms:[]},{title:"fab fa-docker",searchTerms:[]},{title:"fas fa-dog",searchTerms:["canine","fauna","mammmal","pet","pooch","puppy","woof"]},{title:"fas fa-dollar-sign",searchTerms:["$","dollar-sign","money","price","usd"]},{title:"fas fa-dolly",searchTerms:[]},{title:"fas fa-dolly-flatbed",searchTerms:[]},{title:"fas fa-donate",searchTerms:["generosity","give"]},{title:"fas fa-door-closed",searchTerms:[]},{title:"fas fa-door-open",searchTerms:[]},{title:"fas fa-dot-circle",searchTerms:["bullseye","notification","target"]},{title:"far fa-dot-circle",searchTerms:["bullseye","notification","target"]},{title:"fas fa-dove",searchTerms:["bird","fauna","flying","peace"]},{title:"fas fa-download",searchTerms:["import"]},{title:"fab fa-draft2digital",searchTerms:[]},{title:"fas fa-drafting-compass",searchTerms:["mechanical drawing","plot","plotting"]},{title:"fas fa-dragon",searchTerms:["Dungeons & Dragons","d&d","dnd","fantasy"]},{title:"fas fa-draw-polygon",searchTerms:[]},{title:"fab fa-dribbble",searchTerms:[]},{title:"fab fa-dribbble-square",searchTerms:[]},{title:"fab fa-dropbox",searchTerms:[]},{title:"fas fa-drum",searchTerms:["instrument","music","percussion","snare","sound"]},{title:"fas fa-drum-steelpan",searchTerms:["calypso","instrument","music","percussion","reggae","snare","sound","steel","tropical"]},{title:"fas fa-drumstick-bite",searchTerms:[]},{title:"fab fa-drupal",searchTerms:[]},{title:"fas fa-dumbbell",searchTerms:["exercise","gym","strength","weight","weight-lifting"]},{title:"fas fa-dungeon",searchTerms:["Dungeons & Dragons","d&d","dnd","door","entrance","fantasy","gate"]},{title:"fab fa-dyalog",searchTerms:[]},{title:"fab fa-earlybirds",searchTerms:[]},{title:"fab fa-ebay",searchTerms:[]},{title:"fab fa-edge",searchTerms:["browser","ie"]},{title:"fas fa-edit",searchTerms:["edit","pen","pencil","update","write"]},{title:"far fa-edit",searchTerms:["edit","pen","pencil","update","write"]},{title:"fas fa-eject",searchTerms:[]},{title:"fab fa-elementor",searchTerms:[]},{title:"fas fa-ellipsis-h",searchTerms:["dots","drag","kebab","list","menu","nav","navigation","ol","reorder","settings","ul"]},{title:"fas fa-ellipsis-v",searchTerms:["dots","drag","kebab","list","menu","nav","navigation","ol","reorder","settings","ul"]},{title:"fab fa-ello",searchTerms:[]},{title:"fab fa-ember",searchTerms:[]},{title:"fab fa-empire",searchTerms:[]},{title:"fas fa-envelope",searchTerms:["e-mail","email","letter","mail","message","notification","support"]},{title:"far fa-envelope",searchTerms:["e-mail","email","letter","mail","message","notification","support"]},{title:"fas fa-envelope-open",searchTerms:["e-mail","email","letter","mail","message","notification","support"]},{title:"far fa-envelope-open",searchTerms:["e-mail","email","letter","mail","message","notification","support"]},{title:"fas fa-envelope-open-text",searchTerms:[]},{title:"fas fa-envelope-square",searchTerms:["e-mail","email","letter","mail","message","notification","support"]},{title:"fab fa-envira",searchTerms:["leaf"]},{title:"fas fa-equals",searchTerms:[]},{title:"fas fa-eraser",searchTerms:["delete","remove"]},{title:"fab fa-erlang",searchTerms:[]},{title:"fab fa-ethereum",searchTerms:[]},{title:"fab fa-etsy",searchTerms:[]},{title:"fas fa-euro-sign",searchTerms:["eur"]},{title:"fas fa-exchange-alt",searchTerms:["arrow","arrows","exchange","reciprocate","return","swap","transfer"]},{title:"fas fa-exclamation",searchTerms:["alert","danger","error","important","notice","notification","notify","problem","warning"]},{title:"fas fa-exclamation-circle",searchTerms:["alert","danger","error","important","notice","notification","notify","problem","warning"]},{title:"fas fa-exclamation-triangle",searchTerms:["alert","danger","error","important","notice","notification","notify","problem","warning"]},{title:"fas fa-expand",searchTerms:["bigger","enlarge","resize"]},{title:"fas fa-expand-arrows-alt",searchTerms:["arrows-alt","bigger","enlarge","move","resize"]},{title:"fab fa-expeditedssl",searchTerms:[]},{title:"fas fa-external-link-alt",searchTerms:["external-link","new","open"]},{title:"fas fa-external-link-square-alt",searchTerms:["external-link-square","new","open"]},{title:"fas fa-eye",searchTerms:["optic","see","seen","show","sight","views","visible"]},{title:"far fa-eye",searchTerms:["optic","see","seen","show","sight","views","visible"]},{title:"fas fa-eye-dropper",searchTerms:["eyedropper"]},{title:"fas fa-eye-slash",searchTerms:["blind","hide","show","toggle","unseen","views","visible","visiblity"]},{title:"far fa-eye-slash",searchTerms:["blind","hide","show","toggle","unseen","views","visible","visiblity"]},{title:"fab fa-facebook",searchTerms:["facebook-official","social network"]},{title:"fab fa-facebook-f",searchTerms:["facebook"]},{title:"fab fa-facebook-messenger",searchTerms:[]},{title:"fab fa-facebook-square",searchTerms:["social network"]},{title:"fab fa-fantasy-flight-games",searchTerms:["Dungeons & Dragons","d&d","dnd","fantasy","game","gaming","tabletop"]},{title:"fas fa-fast-backward",searchTerms:["beginning","first","previous","rewind","start"]},{title:"fas fa-fast-forward",searchTerms:["end","last","next"]},{title:"fas fa-fax",searchTerms:[]},{title:"fas fa-feather",searchTerms:["bird","light","plucked","quill"]},{title:"fas fa-feather-alt",searchTerms:["bird","light","plucked","quill"]},{title:"fas fa-female",searchTerms:["human","person","profile","user","woman"]},{title:"fas fa-fighter-jet",searchTerms:["airplane","fast","fly","goose","maverick","plane","quick","top gun","transportation","travel"]},{title:"fas fa-file",searchTerms:["document","new","page","pdf","resume"]},{title:"far fa-file",searchTerms:["document","new","page","pdf","resume"]},{title:"fas fa-file-alt",searchTerms:["document","file-text","invoice","new","page","pdf"]},{title:"far fa-file-alt",searchTerms:["document","file-text","invoice","new","page","pdf"]},{title:"fas fa-file-archive",searchTerms:[".zip","bundle","compress","compression","download","zip"]},{title:"far fa-file-archive",searchTerms:[".zip","bundle","compress","compression","download","zip"]},{title:"fas fa-file-audio",searchTerms:[]},{title:"far fa-file-audio",searchTerms:[]},{title:"fas fa-file-code",searchTerms:[]},{title:"far fa-file-code",searchTerms:[]},{title:"fas fa-file-contract",searchTerms:["agreement","binding","document","legal","signature"]},{title:"fas fa-file-csv",searchTerms:["spreadsheets"]},{title:"fas fa-file-download",searchTerms:[]},{title:"fas fa-file-excel",searchTerms:[]},{title:"far fa-file-excel",searchTerms:[]},{title:"fas fa-file-export",searchTerms:[]},{title:"fas fa-file-image",searchTerms:[]},{title:"far fa-file-image",searchTerms:[]},{title:"fas fa-file-import",searchTerms:[]},{title:"fas fa-file-invoice",searchTerms:["bill","document","receipt"]},{title:"fas fa-file-invoice-dollar",searchTerms:["$","bill","document","dollar-sign","money","receipt","usd"]},{title:"fas fa-file-medical",searchTerms:[]},{title:"fas fa-file-medical-alt",searchTerms:[]},{title:"fas fa-file-pdf",searchTerms:[]},{title:"far fa-file-pdf",searchTerms:[]},{title:"fas fa-file-powerpoint",searchTerms:[]},{title:"far fa-file-powerpoint",searchTerms:[]},{title:"fas fa-file-prescription",searchTerms:["drugs","medical","medicine","rx"]},{title:"fas fa-file-signature",searchTerms:["John Hancock","contract","document","name"]},{title:"fas fa-file-upload",searchTerms:[]},{title:"fas fa-file-video",searchTerms:[]},{title:"far fa-file-video",searchTerms:[]},{title:"fas fa-file-word",searchTerms:[]},{title:"far fa-file-word",searchTerms:[]},{title:"fas fa-fill",searchTerms:["bucket","color","paint","paint bucket"]},{title:"fas fa-fill-drip",searchTerms:["bucket","color","drop","paint","paint bucket","spill"]},{title:"fas fa-film",searchTerms:["movie"]},{title:"fas fa-filter",searchTerms:["funnel","options"]},{title:"fas fa-fingerprint",searchTerms:["human","id","identification","lock","smudge","touch","unique","unlock"]},{title:"fas fa-fire",searchTerms:["caliente","flame","heat","hot","popular"]},{title:"fas fa-fire-extinguisher",searchTerms:[]},{title:"fab fa-firefox",searchTerms:["browser"]},{title:"fas fa-first-aid",searchTerms:[]},{title:"fab fa-first-order",searchTerms:[]},{title:"fab fa-first-order-alt",searchTerms:[]},{title:"fab fa-firstdraft",searchTerms:[]},{title:"fas fa-fish",searchTerms:["fauna","gold","swimming"]},{title:"fas fa-fist-raised",searchTerms:["Dungeons & Dragons","d&d","dnd","fantasy","hand","ki","monk","resist","strength","unarmed combat"]},{title:"fas fa-flag",searchTerms:["country","notice","notification","notify","pole","report","symbol"]},{title:"far fa-flag",searchTerms:["country","notice","notification","notify","pole","report","symbol"]},{title:"fas fa-flag-checkered",searchTerms:["notice","notification","notify","pole","racing","report","symbol"]},{title:"fas fa-flag-usa",searchTerms:["betsy ross","country","old glory","stars","stripes","symbol"]},{title:"fas fa-flask",searchTerms:["beaker","experimental","labs","science"]},{title:"fab fa-flickr",searchTerms:[]},{title:"fab fa-flipboard",searchTerms:[]},{title:"fas fa-flushed",searchTerms:["embarrassed","emoticon","face"]},{title:"far fa-flushed",searchTerms:["embarrassed","emoticon","face"]},{title:"fab fa-fly",searchTerms:[]},{title:"fas fa-folder",searchTerms:[]},{title:"far fa-folder",searchTerms:[]},{title:"fas fa-folder-minus",searchTerms:["archive","delete","negative","remove"]},{title:"fas fa-folder-open",searchTerms:[]},{title:"far fa-folder-open",searchTerms:[]},{title:"fas fa-folder-plus",searchTerms:["add","create","new","positive"]},{title:"fas fa-font",searchTerms:["text"]},{title:"fab fa-font-awesome",searchTerms:["meanpath"]},{title:"fab fa-font-awesome-alt",searchTerms:[]},{title:"fab fa-font-awesome-flag",searchTerms:[]},{title:"far fa-font-awesome-logo-full",searchTerms:[]},{title:"fas fa-font-awesome-logo-full",searchTerms:[]},{title:"fab fa-font-awesome-logo-full",searchTerms:[]},{title:"fab fa-fonticons",searchTerms:[]},{title:"fab fa-fonticons-fi",searchTerms:[]},{title:"fas fa-football-ball",searchTerms:["fall","pigskin","seasonal"]},{title:"fab fa-fort-awesome",searchTerms:["castle"]},{title:"fab fa-fort-awesome-alt",searchTerms:["castle"]},{title:"fab fa-forumbee",searchTerms:[]},{title:"fas fa-forward",searchTerms:["forward","next"]},{title:"fab fa-foursquare",searchTerms:[]},{title:"fab fa-free-code-camp",searchTerms:[]},{title:"fab fa-freebsd",searchTerms:[]},{title:"fas fa-frog",searchTerms:["amphibian","bullfrog","fauna","hop","kermit","kiss","prince","ribbit","toad","wart"]},{title:"fas fa-frown",searchTerms:["disapprove","emoticon","face","rating","sad"]},{title:"far fa-frown",searchTerms:["disapprove","emoticon","face","rating","sad"]},{title:"fas fa-frown-open",searchTerms:["disapprove","emoticon","face","rating","sad"]},{title:"far fa-frown-open",searchTerms:["disapprove","emoticon","face","rating","sad"]},{title:"fab fa-fulcrum",searchTerms:[]},{title:"fas fa-funnel-dollar",searchTerms:[]},{title:"fas fa-futbol",searchTerms:["ball","football","soccer"]},{title:"far fa-futbol",searchTerms:["ball","football","soccer"]},{title:"fab fa-galactic-republic",searchTerms:["politics","star wars"]},{title:"fab fa-galactic-senate",searchTerms:["star wars"]},{title:"fas fa-gamepad",searchTerms:["controller"]},{title:"fas fa-gas-pump",searchTerms:[]},{title:"fas fa-gavel",searchTerms:["hammer","judge","lawyer","opinion"]},{title:"fas fa-gem",searchTerms:["diamond"]},{title:"far fa-gem",searchTerms:["diamond"]},{title:"fas fa-genderless",searchTerms:[]},{title:"fab fa-get-pocket",searchTerms:[]},{title:"fab fa-gg",searchTerms:[]},{title:"fab fa-gg-circle",searchTerms:[]},{title:"fas fa-ghost",searchTerms:["apparition","blinky","clyde","floating","halloween","holiday","inky","pinky","spirit"]},{title:"fas fa-gift",searchTerms:["generosity","giving","party","present","wrapped"]},{title:"fab fa-git",searchTerms:[]},{title:"fab fa-git-square",searchTerms:[]},{title:"fab fa-github",searchTerms:["octocat"]},{title:"fab fa-github-alt",searchTerms:["octocat"]},{title:"fab fa-github-square",searchTerms:["octocat"]},{title:"fab fa-gitkraken",searchTerms:[]},{title:"fab fa-gitlab",searchTerms:["Axosoft"]},{title:"fab fa-gitter",searchTerms:[]},{title:"fas fa-glass-martini",searchTerms:["alcohol","bar","beverage","drink","glass","liquor","martini"]},{title:"fas fa-glass-martini-alt",searchTerms:[]},{title:"fas fa-glasses",searchTerms:["foureyes","hipster","nerd","reading","sight","spectacles"]},{title:"fab fa-glide",searchTerms:[]},{title:"fab fa-glide-g",searchTerms:[]},{title:"fas fa-globe",searchTerms:["all","coordinates","country","earth","global","gps","language","localize","location","map","online","place","planet","translate","travel","world"]},{title:"fas fa-globe-africa",searchTerms:["all","country","earth","global","gps","language","localize","location","map","online","place","planet","translate","travel","world"]},{title:"fas fa-globe-americas",searchTerms:["all","country","earth","global","gps","language","localize","location","map","online","place","planet","translate","travel","world"]},{title:"fas fa-globe-asia",searchTerms:["all","country","earth","global","gps","language","localize","location","map","online","place","planet","translate","travel","world"]},{title:"fab fa-gofore",searchTerms:[]},{title:"fas fa-golf-ball",searchTerms:[]},{title:"fab fa-goodreads",searchTerms:[]},{title:"fab fa-goodreads-g",searchTerms:[]},{title:"fab fa-google",searchTerms:[]},{title:"fab fa-google-drive",searchTerms:[]},{title:"fab fa-google-play",searchTerms:[]},{title:"fab fa-google-plus",searchTerms:["google-plus-circle","google-plus-official"]},{title:"fab fa-google-plus-g",searchTerms:["google-plus","social network"]},{title:"fab fa-google-plus-square",searchTerms:["social network"]},{title:"fab fa-google-wallet",searchTerms:[]},{title:"fas fa-gopuram",searchTerms:["building","entrance","hinduism","temple","tower"]},{title:"fas fa-graduation-cap",searchTerms:["learning","school","student"]},{title:"fab fa-gratipay",searchTerms:["favorite","heart","like","love"]},{title:"fab fa-grav",searchTerms:[]},{title:"fas fa-greater-than",searchTerms:[]},{title:"fas fa-greater-than-equal",searchTerms:[]},{title:"fas fa-grimace",searchTerms:["cringe","emoticon","face"]},{title:"far fa-grimace",searchTerms:["cringe","emoticon","face"]},{title:"fas fa-grin",searchTerms:["emoticon","face","laugh","smile"]},{title:"far fa-grin",searchTerms:["emoticon","face","laugh","smile"]},{title:"fas fa-grin-alt",searchTerms:["emoticon","face","laugh","smile"]},{title:"far fa-grin-alt",searchTerms:["emoticon","face","laugh","smile"]},{title:"fas fa-grin-beam",searchTerms:["emoticon","face","laugh","smile"]},{title:"far fa-grin-beam",searchTerms:["emoticon","face","laugh","smile"]},{title:"fas fa-grin-beam-sweat",searchTerms:["emoticon","face","smile"]},{title:"far fa-grin-beam-sweat",searchTerms:["emoticon","face","smile"]},{title:"fas fa-grin-hearts",searchTerms:["emoticon","face","love","smile"]},{title:"far fa-grin-hearts",searchTerms:["emoticon","face","love","smile"]},{title:"fas fa-grin-squint",searchTerms:["emoticon","face","laugh","smile"]},{title:"far fa-grin-squint",searchTerms:["emoticon","face","laugh","smile"]},{title:"fas fa-grin-squint-tears",searchTerms:["emoticon","face","happy","smile"]},{title:"far fa-grin-squint-tears",searchTerms:["emoticon","face","happy","smile"]},{title:"fas fa-grin-stars",searchTerms:["emoticon","face","star-struck"]},{title:"far fa-grin-stars",searchTerms:["emoticon","face","star-struck"]},{title:"fas fa-grin-tears",searchTerms:["LOL","emoticon","face"]},{title:"far fa-grin-tears",searchTerms:["LOL","emoticon","face"]},{title:"fas fa-grin-tongue",searchTerms:["LOL","emoticon","face"]},{title:"far fa-grin-tongue",searchTerms:["LOL","emoticon","face"]},{title:"fas fa-grin-tongue-squint",searchTerms:["LOL","emoticon","face"]},{title:"far fa-grin-tongue-squint",searchTerms:["LOL","emoticon","face"]},{title:"fas fa-grin-tongue-wink",searchTerms:["LOL","emoticon","face"]},{title:"far fa-grin-tongue-wink",searchTerms:["LOL","emoticon","face"]},{title:"fas fa-grin-wink",searchTerms:["emoticon","face","flirt","laugh","smile"]},{title:"far fa-grin-wink",searchTerms:["emoticon","face","flirt","laugh","smile"]},{title:"fas fa-grip-horizontal",searchTerms:["affordance","drag","drop","grab","handle"]},{title:"fas fa-grip-vertical",searchTerms:["affordance","drag","drop","grab","handle"]},{title:"fab fa-gripfire",searchTerms:[]},{title:"fab fa-grunt",searchTerms:[]},{title:"fab fa-gulp",searchTerms:[]},{title:"fas fa-h-square",searchTerms:["hospital","hotel"]},{title:"fab fa-hacker-news",searchTerms:[]},{title:"fab fa-hacker-news-square",searchTerms:[]},{title:"fab fa-hackerrank",searchTerms:[]},{title:"fas fa-hammer",searchTerms:["admin","fix","repair","settings","tool"]},{title:"fas fa-hamsa",searchTerms:["amulet","christianity","islam","jewish","judaism","muslim","protection"]},{title:"fas fa-hand-holding",searchTerms:[]},{title:"fas fa-hand-holding-heart",searchTerms:[]},{title:"fas fa-hand-holding-usd",searchTerms:["$","dollar sign","donation","giving","money","price"]},{title:"fas fa-hand-lizard",searchTerms:[]},{title:"far fa-hand-lizard",searchTerms:[]},{title:"fas fa-hand-paper",searchTerms:["stop"]},{title:"far fa-hand-paper",searchTerms:["stop"]},{title:"fas fa-hand-peace",searchTerms:[]},{title:"far fa-hand-peace",searchTerms:[]},{title:"fas fa-hand-point-down",searchTerms:["finger","hand-o-down","point"]},{title:"far fa-hand-point-down",searchTerms:["finger","hand-o-down","point"]},{title:"fas fa-hand-point-left",searchTerms:["back","finger","hand-o-left","left","point","previous"]},{title:"far fa-hand-point-left",searchTerms:["back","finger","hand-o-left","left","point","previous"]},{title:"fas fa-hand-point-right",searchTerms:["finger","forward","hand-o-right","next","point","right"]},{title:"far fa-hand-point-right",searchTerms:["finger","forward","hand-o-right","next","point","right"]},{title:"fas fa-hand-point-up",searchTerms:["finger","hand-o-up","point"]},{title:"far fa-hand-point-up",searchTerms:["finger","hand-o-up","point"]},{title:"fas fa-hand-pointer",searchTerms:["select"]},{title:"far fa-hand-pointer",searchTerms:["select"]},{title:"fas fa-hand-rock",searchTerms:[]},{title:"far fa-hand-rock",searchTerms:[]},{title:"fas fa-hand-scissors",searchTerms:[]},{title:"far fa-hand-scissors",searchTerms:[]},{title:"fas fa-hand-spock",searchTerms:[]},{title:"far fa-hand-spock",searchTerms:[]},{title:"fas fa-hands",searchTerms:[]},{title:"fas fa-hands-helping",searchTerms:["aid","assistance","partnership","volunteering"]},{title:"fas fa-handshake",searchTerms:["greeting","partnership"]},{title:"far fa-handshake",searchTerms:["greeting","partnership"]},{title:"fas fa-hanukiah",searchTerms:["candle","hanukkah","jewish","judaism","light"]},{title:"fas fa-hashtag",searchTerms:[]},{title:"fas fa-hat-wizard",searchTerms:["Dungeons & Dragons","buckle","cloth","clothing","d&d","dnd","fantasy","halloween","holiday","mage","magic","pointy","witch"]},{title:"fas fa-haykal",searchTerms:["bahai","bahá'í","star"]},{title:"fas fa-hdd",searchTerms:["cpu","hard drive","harddrive","machine","save","storage"]},{title:"far fa-hdd",searchTerms:["cpu","hard drive","harddrive","machine","save","storage"]},{title:"fas fa-heading",searchTerms:["header"]},{title:"fas fa-headphones",searchTerms:["audio","listen","music","sound","speaker"]},{title:"fas fa-headphones-alt",searchTerms:["audio","listen","music","sound","speaker"]},{title:"fas fa-headset",searchTerms:["audio","gamer","gaming","listen","live chat","microphone","shot caller","sound","support","telemarketer"]},{title:"fas fa-heart",searchTerms:["favorite","like","love"]},{title:"far fa-heart",searchTerms:["favorite","like","love"]},{title:"fas fa-heartbeat",searchTerms:["ekg","lifeline","vital signs"]},{title:"fas fa-helicopter",searchTerms:["airwolf","apache","chopper","flight","fly"]},{title:"fas fa-highlighter",searchTerms:["edit","marker","sharpie","update","write"]},{title:"fas fa-hiking",searchTerms:["activity","backpack","fall","fitness","outdoors","seasonal","walking"]},{title:"fas fa-hippo",searchTerms:["fauna","hungry","mammmal"]},{title:"fab fa-hips",searchTerms:[]},{title:"fab fa-hire-a-helper",searchTerms:[]},{title:"fas fa-history",searchTerms:[]},{title:"fas fa-hockey-puck",searchTerms:[]},{title:"fas fa-home",searchTerms:["house","main"]},{title:"fab fa-hooli",searchTerms:[]},{title:"fab fa-hornbill",searchTerms:[]},{title:"fas fa-horse",searchTerms:["equus","fauna","mammmal","neigh"]},{title:"fas fa-hospital",searchTerms:["building","emergency room","medical center"]},{title:"far fa-hospital",searchTerms:["building","emergency room","medical center"]},{title:"fas fa-hospital-alt",searchTerms:["building","emergency room","medical center"]},{title:"fas fa-hospital-symbol",searchTerms:[]},{title:"fas fa-hot-tub",searchTerms:[]},{title:"fas fa-hotel",searchTerms:["building","lodging"]},{title:"fab fa-hotjar",searchTerms:[]},{title:"fas fa-hourglass",searchTerms:[]},{title:"far fa-hourglass",searchTerms:[]},{title:"fas fa-hourglass-end",searchTerms:[]},{title:"fas fa-hourglass-half",searchTerms:[]},{title:"fas fa-hourglass-start",searchTerms:[]},{title:"fas fa-house-damage",searchTerms:["devastation","home"]},{title:"fab fa-houzz",searchTerms:[]},{title:"fas fa-hryvnia",searchTerms:["money"]},{title:"fab fa-html5",searchTerms:[]},{title:"fab fa-hubspot",searchTerms:[]},{title:"fas fa-i-cursor",searchTerms:[]},{title:"fas fa-id-badge",searchTerms:[]},{title:"far fa-id-badge",searchTerms:[]},{title:"fas fa-id-card",searchTerms:["document","identification","issued"]},{title:"far fa-id-card",searchTerms:["document","identification","issued"]},{title:"fas fa-id-card-alt",searchTerms:["demographics"]},{title:"fas fa-image",searchTerms:["album","photo","picture"]},{title:"far fa-image",searchTerms:["album","photo","picture"]},{title:"fas fa-images",searchTerms:["album","photo","picture"]},{title:"far fa-images",searchTerms:["album","photo","picture"]},{title:"fab fa-imdb",searchTerms:[]},{title:"fas fa-inbox",searchTerms:[]},{title:"fas fa-indent",searchTerms:[]},{title:"fas fa-industry",searchTerms:["factory","manufacturing"]},{title:"fas fa-infinity",searchTerms:[]},{title:"fas fa-info",searchTerms:["details","help","information","more"]},{title:"fas fa-info-circle",searchTerms:["details","help","information","more"]},{title:"fab fa-instagram",searchTerms:[]},{title:"fab fa-internet-explorer",searchTerms:["browser","ie"]},{title:"fab fa-ioxhost",searchTerms:[]},{title:"fas fa-italic",searchTerms:["italics"]},{title:"fab fa-itunes",searchTerms:[]},{title:"fab fa-itunes-note",searchTerms:[]},{title:"fab fa-java",searchTerms:[]},{title:"fas fa-jedi",searchTerms:["star wars"]},{title:"fab fa-jedi-order",searchTerms:["star wars"]},{title:"fab fa-jenkins",searchTerms:[]},{title:"fab fa-joget",searchTerms:[]},{title:"fas fa-joint",searchTerms:["blunt","cannabis","doobie","drugs","marijuana","roach","smoke","smoking","spliff"]},{title:"fab fa-joomla",searchTerms:[]},{title:"fas fa-journal-whills",searchTerms:["book","jedi","star wars","the force"]},{title:"fab fa-js",searchTerms:[]},{title:"fab fa-js-square",searchTerms:[]},{title:"fab fa-jsfiddle",searchTerms:[]},{title:"fas fa-kaaba",searchTerms:["building","cube","islam","muslim"]},{title:"fab fa-kaggle",searchTerms:[]},{title:"fas fa-key",searchTerms:["password","unlock"]},{title:"fab fa-keybase",searchTerms:[]},{title:"fas fa-keyboard",searchTerms:["input","type"]},{title:"far fa-keyboard",searchTerms:["input","type"]},{title:"fab fa-keycdn",searchTerms:[]},{title:"fas fa-khanda",searchTerms:["chakkar","sikh","sikhism","sword"]},{title:"fab fa-kickstarter",searchTerms:[]},{title:"fab fa-kickstarter-k",searchTerms:[]},{title:"fas fa-kiss",searchTerms:["beso","emoticon","face","love","smooch"]},{title:"far fa-kiss",searchTerms:["beso","emoticon","face","love","smooch"]},{title:"fas fa-kiss-beam",searchTerms:["beso","emoticon","face","love","smooch"]},{title:"far fa-kiss-beam",searchTerms:["beso","emoticon","face","love","smooch"]},{title:"fas fa-kiss-wink-heart",searchTerms:["beso","emoticon","face","love","smooch"]},{title:"far fa-kiss-wink-heart",searchTerms:["beso","emoticon","face","love","smooch"]},{title:"fas fa-kiwi-bird",searchTerms:["bird","fauna"]},{title:"fab fa-korvue",searchTerms:[]},{title:"fas fa-landmark",searchTerms:["building","historic","memoroable","politics"]},{title:"fas fa-language",searchTerms:["dialect","idiom","localize","speech","translate","vernacular"]},{title:"fas fa-laptop",searchTerms:["computer","cpu","dell","demo","device","dude you're getting","mac","macbook","machine","pc"]},{title:"fas fa-laptop-code",searchTerms:[]},{title:"fab fa-laravel",searchTerms:[]},{title:"fab fa-lastfm",searchTerms:[]},{title:"fab fa-lastfm-square",searchTerms:[]},{title:"fas fa-laugh",searchTerms:["LOL","emoticon","face","laugh"]},{title:"far fa-laugh",searchTerms:["LOL","emoticon","face","laugh"]},{title:"fas fa-laugh-beam",searchTerms:["LOL","emoticon","face"]},{title:"far fa-laugh-beam",searchTerms:["LOL","emoticon","face"]},{title:"fas fa-laugh-squint",searchTerms:["LOL","emoticon","face"]},{title:"far fa-laugh-squint",searchTerms:["LOL","emoticon","face"]},{title:"fas fa-laugh-wink",searchTerms:["LOL","emoticon","face"]},{title:"far fa-laugh-wink",searchTerms:["LOL","emoticon","face"]},{title:"fas fa-layer-group",searchTerms:["layers"]},{title:"fas fa-leaf",searchTerms:["eco","flora","nature","plant"]},{title:"fab fa-leanpub",searchTerms:[]},{title:"fas fa-lemon",searchTerms:["food"]},{title:"far fa-lemon",searchTerms:["food"]},{title:"fab fa-less",searchTerms:[]},{title:"fas fa-less-than",searchTerms:[]},{title:"fas fa-less-than-equal",searchTerms:[]},{title:"fas fa-level-down-alt",searchTerms:["level-down"]},{title:"fas fa-level-up-alt",searchTerms:["level-up"]},{title:"fas fa-life-ring",searchTerms:["support"]},{title:"far fa-life-ring",searchTerms:["support"]},{title:"fas fa-lightbulb",searchTerms:["idea","inspiration"]},{title:"far fa-lightbulb",searchTerms:["idea","inspiration"]},{title:"fab fa-line",searchTerms:[]},{title:"fas fa-link",searchTerms:["chain"]},{title:"fab fa-linkedin",searchTerms:["linkedin-square"]},{title:"fab fa-linkedin-in",searchTerms:["linkedin"]},{title:"fab fa-linode",searchTerms:[]},{title:"fab fa-linux",searchTerms:["tux"]},{title:"fas fa-lira-sign",searchTerms:["try","turkish"]},{title:"fas fa-list",searchTerms:["checklist","completed","done","finished","ol","todo","ul"]},{title:"fas fa-list-alt",searchTerms:["checklist","completed","done","finished","ol","todo","ul"]},{title:"far fa-list-alt",searchTerms:["checklist","completed","done","finished","ol","todo","ul"]},{title:"fas fa-list-ol",searchTerms:["checklist","list","numbers","ol","todo","ul"]},{title:"fas fa-list-ul",searchTerms:["checklist","list","ol","todo","ul"]},{title:"fas fa-location-arrow",searchTerms:["address","coordinates","gps","location","map","place","where"]},{title:"fas fa-lock",searchTerms:["admin","protect","security"]},{title:"fas fa-lock-open",searchTerms:["admin","lock","open","password","protect"]},{title:"fas fa-long-arrow-alt-down",searchTerms:["long-arrow-down"]},{title:"fas fa-long-arrow-alt-left",searchTerms:["back","long-arrow-left","previous"]},{title:"fas fa-long-arrow-alt-right",searchTerms:["long-arrow-right"]},{title:"fas fa-long-arrow-alt-up",searchTerms:["long-arrow-up"]},{title:"fas fa-low-vision",searchTerms:[]},{title:"fas fa-luggage-cart",searchTerms:[]},{title:"fab fa-lyft",searchTerms:[]},{title:"fab fa-magento",searchTerms:[]},{title:"fas fa-magic",searchTerms:["autocomplete","automatic","mage","magic","spell","witch","wizard"]},{title:"fas fa-magnet",searchTerms:[]},{title:"fas fa-mail-bulk",searchTerms:[]},{title:"fab fa-mailchimp",searchTerms:[]},{title:"fas fa-male",searchTerms:["human","man","person","profile","user"]},{title:"fab fa-mandalorian",searchTerms:[]},{title:"fas fa-map",searchTerms:["coordinates","location","paper","place","travel"]},{title:"far fa-map",searchTerms:["coordinates","location","paper","place","travel"]},{title:"fas fa-map-marked",searchTerms:["address","coordinates","destination","gps","localize","location","map","paper","pin","place","point of interest","position","route","travel","where"]},{title:"fas fa-map-marked-alt",searchTerms:["address","coordinates","destination","gps","localize","location","map","paper","pin","place","point of interest","position","route","travel","where"]},{title:"fas fa-map-marker",searchTerms:["address","coordinates","gps","localize","location","map","pin","place","position","travel","where"]},{title:"fas fa-map-marker-alt",searchTerms:["address","coordinates","gps","localize","location","map","pin","place","position","travel","where"]},{title:"fas fa-map-pin",searchTerms:["address","coordinates","gps","localize","location","map","marker","place","position","travel","where"]},{title:"fas fa-map-signs",searchTerms:[]},{title:"fab fa-markdown",searchTerms:[]},{title:"fas fa-marker",searchTerms:["edit","sharpie","update","write"]},{title:"fas fa-mars",searchTerms:["male"]},{title:"fas fa-mars-double",searchTerms:[]},{title:"fas fa-mars-stroke",searchTerms:[]},{title:"fas fa-mars-stroke-h",searchTerms:[]},{title:"fas fa-mars-stroke-v",searchTerms:[]},{title:"fas fa-mask",searchTerms:["costume","disguise","halloween","holiday","secret","super hero"]},{title:"fab fa-mastodon",searchTerms:[]},{title:"fab fa-maxcdn",searchTerms:[]},{title:"fas fa-medal",searchTerms:[]},{title:"fab fa-medapps",searchTerms:[]},{title:"fab fa-medium",searchTerms:[]},{title:"fab fa-medium-m",searchTerms:[]},{title:"fas fa-medkit",searchTerms:["first aid","firstaid","health","help","support"]},{title:"fab fa-medrt",searchTerms:[]},{title:"fab fa-meetup",searchTerms:[]},{title:"fab fa-megaport",searchTerms:[]},{title:"fas fa-meh",searchTerms:["emoticon","face","neutral","rating"]},{title:"far fa-meh",searchTerms:["emoticon","face","neutral","rating"]},{title:"fas fa-meh-blank",searchTerms:["emoticon","face","neutral","rating"]},{title:"far fa-meh-blank",searchTerms:["emoticon","face","neutral","rating"]},{title:"fas fa-meh-rolling-eyes",searchTerms:["emoticon","face","neutral","rating"]},{title:"far fa-meh-rolling-eyes",searchTerms:["emoticon","face","neutral","rating"]},{title:"fas fa-memory",searchTerms:["DIMM","RAM"]},{title:"fas fa-menorah",searchTerms:["candle","hanukkah","jewish","judaism","light"]},{title:"fas fa-mercury",searchTerms:["transgender"]},{title:"fas fa-meteor",searchTerms:[]},{title:"fas fa-microchip",searchTerms:["cpu","processor"]},{title:"fas fa-microphone",searchTerms:["record","sound","voice"]},{title:"fas fa-microphone-alt",searchTerms:["record","sound","voice"]},{title:"fas fa-microphone-alt-slash",searchTerms:["disable","mute","record","sound","voice"]},{title:"fas fa-microphone-slash",searchTerms:["disable","mute","record","sound","voice"]},{title:"fas fa-microscope",searchTerms:[]},{title:"fab fa-microsoft",searchTerms:[]},{title:"fas fa-minus",searchTerms:["collapse","delete","hide","minify","negative","remove","trash"]},{title:"fas fa-minus-circle",searchTerms:["delete","hide","negative","remove","trash"]},{title:"fas fa-minus-square",searchTerms:["collapse","delete","hide","minify","negative","remove","trash"]},{title:"far fa-minus-square",searchTerms:["collapse","delete","hide","minify","negative","remove","trash"]},{title:"fab fa-mix",searchTerms:[]},{title:"fab fa-mixcloud",searchTerms:[]},{title:"fab fa-mizuni",searchTerms:[]},{title:"fas fa-mobile",searchTerms:["apple","call","cell phone","cellphone","device","iphone","number","screen","telephone","text"]},{title:"fas fa-mobile-alt",searchTerms:["apple","call","cell phone","cellphone","device","iphone","number","screen","telephone","text"]},{title:"fab fa-modx",searchTerms:[]},{title:"fab fa-monero",searchTerms:[]},{title:"fas fa-money-bill",searchTerms:["buy","cash","checkout","money","payment","price","purchase"]},{title:"fas fa-money-bill-alt",searchTerms:["buy","cash","checkout","money","payment","price","purchase"]},{title:"far fa-money-bill-alt",searchTerms:["buy","cash","checkout","money","payment","price","purchase"]},{title:"fas fa-money-bill-wave",searchTerms:[]},{title:"fas fa-money-bill-wave-alt",searchTerms:[]},{title:"fas fa-money-check",searchTerms:["bank check","cheque"]},{title:"fas fa-money-check-alt",searchTerms:["bank check","cheque"]},{title:"fas fa-monument",searchTerms:["building","historic","memoroable"]},{title:"fas fa-moon",searchTerms:["contrast","crescent","darker","lunar","night"]},{title:"far fa-moon",searchTerms:["contrast","crescent","darker","lunar","night"]},{title:"fas fa-mortar-pestle",searchTerms:["crush","culinary","grind","medical","mix","spices"]},{title:"fas fa-mosque",searchTerms:["building","islam","muslim"]},{title:"fas fa-motorcycle",searchTerms:["bike","machine","transportation","vehicle"]},{title:"fas fa-mountain",searchTerms:[]},{title:"fas fa-mouse-pointer",searchTerms:["select"]},{title:"fas fa-music",searchTerms:["note","sound"]},{title:"fab fa-napster",searchTerms:[]},{title:"fab fa-neos",searchTerms:[]},{title:"fas fa-network-wired",searchTerms:[]},{title:"fas fa-neuter",searchTerms:[]},{title:"fas fa-newspaper",searchTerms:["article","press"]},{title:"far fa-newspaper",searchTerms:["article","press"]},{title:"fab fa-nimblr",searchTerms:[]},{title:"fab fa-nintendo-switch",searchTerms:[]},{title:"fab fa-node",searchTerms:[]},{title:"fab fa-node-js",searchTerms:[]},{title:"fas fa-not-equal",searchTerms:[]},{title:"fas fa-notes-medical",searchTerms:[]},{title:"fab fa-npm",searchTerms:[]},{title:"fab fa-ns8",searchTerms:[]},{title:"fab fa-nutritionix",searchTerms:[]},{title:"fas fa-object-group",searchTerms:["design"]},{title:"far fa-object-group",searchTerms:["design"]},{title:"fas fa-object-ungroup",searchTerms:["design"]},{title:"far fa-object-ungroup",searchTerms:["design"]},{title:"fab fa-odnoklassniki",searchTerms:[]},{title:"fab fa-odnoklassniki-square",searchTerms:[]},{title:"fas fa-oil-can",searchTerms:[]},{title:"fab fa-old-republic",searchTerms:["politics","star wars"]},{title:"fas fa-om",searchTerms:["buddhism","hinduism","jainism","mantra"]},{title:"fab fa-opencart",searchTerms:[]},{title:"fab fa-openid",searchTerms:[]},{title:"fab fa-opera",searchTerms:[]},{title:"fab fa-optin-monster",searchTerms:[]},{title:"fab fa-osi",searchTerms:[]},{title:"fas fa-otter",searchTerms:["fauna","mammmal"]},{title:"fas fa-outdent",searchTerms:[]},{title:"fab fa-page4",searchTerms:[]},{title:"fab fa-pagelines",searchTerms:["eco","flora","leaf","leaves","nature","plant","tree"]},{title:"fas fa-paint-brush",searchTerms:[]},{title:"fas fa-paint-roller",searchTerms:["brush","painting","tool"]},{title:"fas fa-palette",searchTerms:["colors","painting"]},{title:"fab fa-palfed",searchTerms:[]},{title:"fas fa-pallet",searchTerms:[]},{title:"fas fa-paper-plane",searchTerms:[]},{title:"far fa-paper-plane",searchTerms:[]},{title:"fas fa-paperclip",searchTerms:["attachment"]},{title:"fas fa-parachute-box",searchTerms:["aid","assistance","rescue","supplies"]},{title:"fas fa-paragraph",searchTerms:[]},{title:"fas fa-parking",searchTerms:[]},{title:"fas fa-passport",searchTerms:["document","identification","issued"]},{title:"fas fa-pastafarianism",searchTerms:["agnosticism","atheism","flying spaghetti monster","fsm"]},{title:"fas fa-paste",searchTerms:["clipboard","copy"]},{title:"fab fa-patreon",searchTerms:[]},{title:"fas fa-pause",searchTerms:["wait"]},{title:"fas fa-pause-circle",searchTerms:[]},{title:"far fa-pause-circle",searchTerms:[]},{title:"fas fa-paw",searchTerms:["animal","pet"]},{title:"fab fa-paypal",searchTerms:[]},{title:"fas fa-peace",searchTerms:[]},{title:"fas fa-pen",searchTerms:["design","edit","update","write"]},{title:"fas fa-pen-alt",searchTerms:["design","edit","update","write"]},{title:"fas fa-pen-fancy",searchTerms:["design","edit","fountain pen","update","write"]},{title:"fas fa-pen-nib",searchTerms:["design","edit","fountain pen","update","write"]},{title:"fas fa-pen-square",searchTerms:["edit","pencil-square","update","write"]},{title:"fas fa-pencil-alt",searchTerms:["design","edit","pencil","update","write"]},{title:"fas fa-pencil-ruler",searchTerms:[]},{title:"fab fa-penny-arcade",searchTerms:["Dungeons & Dragons","d&d","dnd","fantasy","game","gaming","pax","tabletop"]},{title:"fas fa-people-carry",searchTerms:["movers"]},{title:"fas fa-percent",searchTerms:[]},{title:"fas fa-percentage",searchTerms:[]},{title:"fab fa-periscope",searchTerms:[]},{title:"fas fa-person-booth",searchTerms:["changing","changing room","election","human","person","vote","voting"]},{title:"fab fa-phabricator",searchTerms:[]},{title:"fab fa-phoenix-framework",searchTerms:[]},{title:"fab fa-phoenix-squadron",searchTerms:[]},{title:"fas fa-phone",searchTerms:["call","earphone","number","support","telephone","voice"]},{title:"fas fa-phone-slash",searchTerms:[]},{title:"fas fa-phone-square",searchTerms:["call","number","support","telephone","voice"]},{title:"fas fa-phone-volume",searchTerms:["telephone","volume-control-phone"]},{title:"fab fa-php",searchTerms:[]},{title:"fab fa-pied-piper",searchTerms:[]},{title:"fab fa-pied-piper-alt",searchTerms:[]},{title:"fab fa-pied-piper-hat",searchTerms:["clothing"]},{title:"fab fa-pied-piper-pp",searchTerms:[]},{title:"fas fa-piggy-bank",searchTerms:["save","savings"]},{title:"fas fa-pills",searchTerms:["drugs","medicine"]},{title:"fab fa-pinterest",searchTerms:[]},{title:"fab fa-pinterest-p",searchTerms:[]},{title:"fab fa-pinterest-square",searchTerms:[]},{title:"fas fa-place-of-worship",searchTerms:[]},{title:"fas fa-plane",searchTerms:["airplane","destination","fly","location","mode","travel","trip"]},{title:"fas fa-plane-arrival",searchTerms:["airplane","arriving","destination","fly","land","landing","location","mode","travel","trip"]},{title:"fas fa-plane-departure",searchTerms:["airplane","departing","destination","fly","location","mode","take off","taking off","travel","trip"]},{title:"fas fa-play",searchTerms:["music","playing","sound","start"]},{title:"fas fa-play-circle",searchTerms:["playing","start"]},{title:"far fa-play-circle",searchTerms:["playing","start"]},{title:"fab fa-playstation",searchTerms:[]},{title:"fas fa-plug",searchTerms:["connect","online","power"]},{title:"fas fa-plus",searchTerms:["add","create","expand","new","positive"]},{title:"fas fa-plus-circle",searchTerms:["add","create","expand","new","positive"]},{title:"fas fa-plus-square",searchTerms:["add","create","expand","new","positive"]},{title:"far fa-plus-square",searchTerms:["add","create","expand","new","positive"]},{title:"fas fa-podcast",searchTerms:[]},{title:"fas fa-poll",searchTerms:["results","survey","vote","voting"]},{title:"fas fa-poll-h",searchTerms:["results","survey","vote","voting"]},{title:"fas fa-poo",searchTerms:[]},{title:"fas fa-poo-storm",searchTerms:["mess","poop","shit"]},{title:"fas fa-poop",searchTerms:[]},{title:"fas fa-portrait",searchTerms:[]},{title:"fas fa-pound-sign",searchTerms:["gbp"]},{title:"fas fa-power-off",searchTerms:["on","reboot","restart"]},{title:"fas fa-pray",searchTerms:[]},{title:"fas fa-praying-hands",searchTerms:[]},{title:"fas fa-prescription",searchTerms:["drugs","medical","medicine","rx"]},{title:"fas fa-prescription-bottle",searchTerms:["drugs","medical","medicine","rx"]},{title:"fas fa-prescription-bottle-alt",searchTerms:["drugs","medical","medicine","rx"]},{title:"fas fa-print",searchTerms:[]},{title:"fas fa-procedures",searchTerms:[]},{title:"fab fa-product-hunt",searchTerms:[]},{title:"fas fa-project-diagram",searchTerms:[]},{title:"fab fa-pushed",searchTerms:[]},{title:"fas fa-puzzle-piece",searchTerms:["add-on","addon","section"]},{title:"fab fa-python",searchTerms:[]},{title:"fab fa-qq",searchTerms:[]},{title:"fas fa-qrcode",searchTerms:["scan"]},{title:"fas fa-question",searchTerms:["help","information","support","unknown"]},{title:"fas fa-question-circle",searchTerms:["help","information","support","unknown"]},{title:"far fa-question-circle",searchTerms:["help","information","support","unknown"]},{title:"fas fa-quidditch",searchTerms:[]},{title:"fab fa-quinscape",searchTerms:[]},{title:"fab fa-quora",searchTerms:[]},{title:"fas fa-quote-left",searchTerms:[]},{title:"fas fa-quote-right",searchTerms:[]},{title:"fas fa-quran",searchTerms:["book","islam","muslim"]},{title:"fab fa-r-project",searchTerms:[]},{title:"fas fa-rainbow",searchTerms:[]},{title:"fas fa-random",searchTerms:["shuffle","sort"]},{title:"fab fa-ravelry",searchTerms:[]},{title:"fab fa-react",searchTerms:[]},{title:"fab fa-reacteurope",searchTerms:[]},{title:"fab fa-readme",searchTerms:[]},{title:"fab fa-rebel",searchTerms:[]},{title:"fas fa-receipt",searchTerms:["check","invoice","table"]},{title:"fas fa-recycle",searchTerms:[]},{title:"fab fa-red-river",searchTerms:[]},{title:"fab fa-reddit",searchTerms:[]},{title:"fab fa-reddit-alien",searchTerms:[]},{title:"fab fa-reddit-square",searchTerms:[]},{title:"fas fa-redo",searchTerms:["forward","refresh","reload","repeat"]},{title:"fas fa-redo-alt",searchTerms:["forward","refresh","reload","repeat"]},{title:"fas fa-registered",searchTerms:[]},{title:"far fa-registered",searchTerms:[]},{title:"fab fa-renren",searchTerms:[]},{title:"fas fa-reply",searchTerms:[]},{title:"fas fa-reply-all",searchTerms:[]},{title:"fab fa-replyd",searchTerms:[]},{title:"fas fa-republican",searchTerms:["american","conservative","election","elephant","politics","republican party","right","right-wing","usa"]},{title:"fab fa-researchgate",searchTerms:[]},{title:"fab fa-resolving",searchTerms:[]},{title:"fas fa-retweet",searchTerms:["refresh","reload","share","swap"]},{title:"fab fa-rev",searchTerms:[]},{title:"fas fa-ribbon",searchTerms:["badge","cause","lapel","pin"]},{title:"fas fa-ring",searchTerms:["Dungeons & Dragons","Gollum","band","binding","d&d","dnd","fantasy","jewelry","precious"]},{title:"fas fa-road",searchTerms:["street"]},{title:"fas fa-robot",searchTerms:[]},{title:"fas fa-rocket",searchTerms:["app"]},{title:"fab fa-rocketchat",searchTerms:[]},{title:"fab fa-rockrms",searchTerms:[]},{title:"fas fa-route",searchTerms:[]},{title:"fas fa-rss",searchTerms:["blog"]},{title:"fas fa-rss-square",searchTerms:["blog","feed"]},{title:"fas fa-ruble-sign",searchTerms:["rub"]},{title:"fas fa-ruler",searchTerms:[]},{title:"fas fa-ruler-combined",searchTerms:[]},{title:"fas fa-ruler-horizontal",searchTerms:[]},{title:"fas fa-ruler-vertical",searchTerms:[]},{title:"fas fa-running",searchTerms:["jog","sprint"]},{title:"fas fa-rupee-sign",searchTerms:["indian","inr"]},{title:"fas fa-sad-cry",searchTerms:["emoticon","face","tear","tears"]},{title:"far fa-sad-cry",searchTerms:["emoticon","face","tear","tears"]},{title:"fas fa-sad-tear",searchTerms:["emoticon","face","tear","tears"]},{title:"far fa-sad-tear",searchTerms:["emoticon","face","tear","tears"]},{title:"fab fa-safari",searchTerms:["browser"]},{title:"fab fa-sass",searchTerms:[]},{title:"fas fa-save",searchTerms:["floppy","floppy-o"]},{title:"far fa-save",searchTerms:["floppy","floppy-o"]},{title:"fab fa-schlix",searchTerms:[]},{title:"fas fa-school",searchTerms:[]},{title:"fas fa-screwdriver",searchTerms:["admin","fix","repair","settings","tool"]},{title:"fab fa-scribd",searchTerms:[]},{title:"fas fa-scroll",searchTerms:["Dungeons & Dragons","announcement","d&d","dnd","fantasy","paper"]},{title:"fas fa-search",searchTerms:["bigger","enlarge","magnify","preview","zoom"]},{title:"fas fa-search-dollar",searchTerms:[]},{title:"fas fa-search-location",searchTerms:[]},{title:"fas fa-search-minus",searchTerms:["minify","negative","smaller","zoom","zoom out"]},{title:"fas fa-search-plus",searchTerms:["bigger","enlarge","magnify","positive","zoom","zoom in"]},{title:"fab fa-searchengin",searchTerms:[]},{title:"fas fa-seedling",searchTerms:[]},{title:"fab fa-sellcast",searchTerms:["eercast"]},{title:"fab fa-sellsy",searchTerms:[]},{title:"fas fa-server",searchTerms:["cpu"]},{title:"fab fa-servicestack",searchTerms:[]},{title:"fas fa-shapes",searchTerms:["circle","square","triangle"]},{title:"fas fa-share",searchTerms:[]},{title:"fas fa-share-alt",searchTerms:[]},{title:"fas fa-share-alt-square",searchTerms:[]},{title:"fas fa-share-square",searchTerms:["send","social"]},{title:"far fa-share-square",searchTerms:["send","social"]},{title:"fas fa-shekel-sign",searchTerms:["ils"]},{title:"fas fa-shield-alt",searchTerms:["achievement","award","block","defend","security","winner"]},{title:"fas fa-ship",searchTerms:["boat","sea"]},{title:"fas fa-shipping-fast",searchTerms:[]},{title:"fab fa-shirtsinbulk",searchTerms:[]},{title:"fas fa-shoe-prints",searchTerms:["feet","footprints","steps"]},{title:"fas fa-shopping-bag",searchTerms:[]},{title:"fas fa-shopping-basket",searchTerms:[]},{title:"fas fa-shopping-cart",searchTerms:["buy","checkout","payment","purchase"]},{title:"fab fa-shopware",searchTerms:[]},{title:"fas fa-shower",searchTerms:[]},{title:"fas fa-shuttle-van",searchTerms:["machine","public-transportation","transportation","vehicle"]},{title:"fas fa-sign",searchTerms:[]},{title:"fas fa-sign-in-alt",searchTerms:["arrow","enter","join","log in","login","sign in","sign up","sign-in","signin","signup"]},{title:"fas fa-sign-language",searchTerms:[]},{title:"fas fa-sign-out-alt",searchTerms:["arrow","exit","leave","log out","logout","sign-out"]},{title:"fas fa-signal",searchTerms:["bars","graph","online","status"]},{title:"fas fa-signature",searchTerms:["John Hancock","cursive","name","writing"]},{title:"fab fa-simplybuilt",searchTerms:[]},{title:"fab fa-sistrix",searchTerms:[]},{title:"fas fa-sitemap",searchTerms:["directory","hierarchy","ia","information architecture","organization"]},{title:"fab fa-sith",searchTerms:[]},{title:"fas fa-skull",searchTerms:["bones","skeleton","yorick"]},{title:"fas fa-skull-crossbones",searchTerms:["Dungeons & Dragons","alert","bones","d&d","danger","dead","deadly","death","dnd","fantasy","halloween","holiday","jolly-roger","pirate","poison","skeleton","warning"]},{title:"fab fa-skyatlas",searchTerms:[]},{title:"fab fa-skype",searchTerms:[]},{title:"fab fa-slack",searchTerms:["anchor","hash","hashtag"]},{title:"fab fa-slack-hash",searchTerms:["anchor","hash","hashtag"]},{title:"fas fa-slash",searchTerms:[]},{title:"fas fa-sliders-h",searchTerms:["settings","sliders"]},{title:"fab fa-slideshare",searchTerms:[]},{title:"fas fa-smile",searchTerms:["approve","emoticon","face","happy","rating","satisfied"]},{title:"far fa-smile",searchTerms:["approve","emoticon","face","happy","rating","satisfied"]},{title:"fas fa-smile-beam",searchTerms:["emoticon","face","happy","positive"]},{title:"far fa-smile-beam",searchTerms:["emoticon","face","happy","positive"]},{title:"fas fa-smile-wink",searchTerms:["emoticon","face","happy"]},{title:"far fa-smile-wink",searchTerms:["emoticon","face","happy"]},{title:"fas fa-smog",searchTerms:["dragon"]},{title:"fas fa-smoking",searchTerms:["cigarette","nicotine","smoking status"]},{title:"fas fa-smoking-ban",searchTerms:["no smoking","non-smoking"]},{title:"fab fa-snapchat",searchTerms:[]},{title:"fab fa-snapchat-ghost",searchTerms:[]},{title:"fab fa-snapchat-square",searchTerms:[]},{title:"fas fa-snowflake",searchTerms:["precipitation","seasonal","winter"]},{title:"far fa-snowflake",searchTerms:["precipitation","seasonal","winter"]},{title:"fas fa-socks",searchTerms:["business socks","business time","flight of the conchords","wednesday"]},{title:"fas fa-solar-panel",searchTerms:["clean","eco-friendly","energy","green","sun"]},{title:"fas fa-sort",searchTerms:["order"]},{title:"fas fa-sort-alpha-down",searchTerms:["sort-alpha-asc"]},{title:"fas fa-sort-alpha-up",searchTerms:["sort-alpha-desc"]},{title:"fas fa-sort-amount-down",searchTerms:["sort-amount-asc"]},{title:"fas fa-sort-amount-up",searchTerms:["sort-amount-desc"]},{title:"fas fa-sort-down",searchTerms:["arrow","descending","sort-desc"]},{title:"fas fa-sort-numeric-down",searchTerms:["numbers","sort-numeric-asc"]},{title:"fas fa-sort-numeric-up",searchTerms:["numbers","sort-numeric-desc"]},{title:"fas fa-sort-up",searchTerms:["arrow","ascending","sort-asc"]},{title:"fab fa-soundcloud",searchTerms:[]},{title:"fas fa-spa",searchTerms:["flora","mindfullness","plant","wellness"]},{title:"fas fa-space-shuttle",searchTerms:["astronaut","machine","nasa","rocket","transportation"]},{title:"fab fa-speakap",searchTerms:[]},{title:"fas fa-spider",searchTerms:["arachnid","bug","charlotte","crawl","eight","halloween","holiday"]},{title:"fas fa-spinner",searchTerms:["loading","progress"]},{title:"fas fa-splotch",searchTerms:[]},{title:"fab fa-spotify",searchTerms:[]},{title:"fas fa-spray-can",searchTerms:[]},{title:"fas fa-square",searchTerms:["block","box"]},{title:"far fa-square",searchTerms:["block","box"]},{title:"fas fa-square-full",searchTerms:[]},{title:"fas fa-square-root-alt",searchTerms:[]},{title:"fab fa-squarespace",searchTerms:[]},{title:"fab fa-stack-exchange",searchTerms:[]},{title:"fab fa-stack-overflow",searchTerms:[]},{title:"fas fa-stamp",searchTerms:[]},{title:"fas fa-star",searchTerms:["achievement","award","favorite","important","night","rating","score"]},{title:"far fa-star",searchTerms:["achievement","award","favorite","important","night","rating","score"]},{title:"fas fa-star-and-crescent",searchTerms:["islam","muslim"]},{title:"fas fa-star-half",searchTerms:["achievement","award","rating","score","star-half-empty","star-half-full"]},{title:"far fa-star-half",searchTerms:["achievement","award","rating","score","star-half-empty","star-half-full"]},{title:"fas fa-star-half-alt",searchTerms:["achievement","award","rating","score","star-half-empty","star-half-full"]},{title:"fas fa-star-of-david",searchTerms:["jewish","judaism"]},{title:"fas fa-star-of-life",searchTerms:[]},{title:"fab fa-staylinked",searchTerms:[]},{title:"fab fa-steam",searchTerms:[]},{title:"fab fa-steam-square",searchTerms:[]},{title:"fab fa-steam-symbol",searchTerms:[]},{title:"fas fa-step-backward",searchTerms:["beginning","first","previous","rewind","start"]},{title:"fas fa-step-forward",searchTerms:["end","last","next"]},{title:"fas fa-stethoscope",searchTerms:[]},{title:"fab fa-sticker-mule",searchTerms:[]},{title:"fas fa-sticky-note",searchTerms:[]},{title:"far fa-sticky-note",searchTerms:[]},{title:"fas fa-stop",searchTerms:["block","box","square"]},{title:"fas fa-stop-circle",searchTerms:[]},{title:"far fa-stop-circle",searchTerms:[]},{title:"fas fa-stopwatch",searchTerms:["time"]},{title:"fas fa-store",searchTerms:[]},{title:"fas fa-store-alt",searchTerms:[]},{title:"fab fa-strava",searchTerms:[]},{title:"fas fa-stream",searchTerms:[]},{title:"fas fa-street-view",searchTerms:["map"]},{title:"fas fa-strikethrough",searchTerms:[]},{title:"fab fa-stripe",searchTerms:[]},{title:"fab fa-stripe-s",searchTerms:[]},{title:"fas fa-stroopwafel",searchTerms:["dessert","food","sweets","waffle"]},{title:"fab fa-studiovinari",searchTerms:[]},{title:"fab fa-stumbleupon",searchTerms:[]},{title:"fab fa-stumbleupon-circle",searchTerms:[]},{title:"fas fa-subscript",searchTerms:[]},{title:"fas fa-subway",searchTerms:["machine","railway","train","transportation","vehicle"]},{title:"fas fa-suitcase",searchTerms:["baggage","luggage","move","suitcase","travel","trip"]},{title:"fas fa-suitcase-rolling",searchTerms:[]},{title:"fas fa-sun",searchTerms:["brighten","contrast","day","lighter","sol","solar","star","weather"]},{title:"far fa-sun",searchTerms:["brighten","contrast","day","lighter","sol","solar","star","weather"]},{title:"fab fa-superpowers",searchTerms:[]},{title:"fas fa-superscript",searchTerms:["exponential"]},{title:"fab fa-supple",searchTerms:[]},{title:"fas fa-surprise",searchTerms:["emoticon","face","shocked"]},{title:"far fa-surprise",searchTerms:["emoticon","face","shocked"]},{title:"fas fa-swatchbook",searchTerms:[]},{title:"fas fa-swimmer",searchTerms:["athlete","head","man","person","water"]},{title:"fas fa-swimming-pool",searchTerms:["ladder","recreation","water"]},{title:"fas fa-synagogue",searchTerms:["building","jewish","judaism","star of david","temple"]},{title:"fas fa-sync",searchTerms:["exchange","refresh","reload","rotate","swap"]},{title:"fas fa-sync-alt",searchTerms:["refresh","reload","rotate"]},{title:"fas fa-syringe",searchTerms:["immunizations","needle"]},{title:"fas fa-table",searchTerms:["data","excel","spreadsheet"]},{title:"fas fa-table-tennis",searchTerms:[]},{title:"fas fa-tablet",searchTerms:["apple","device","ipad","kindle","screen"]},{title:"fas fa-tablet-alt",searchTerms:["apple","device","ipad","kindle","screen"]},{title:"fas fa-tablets",searchTerms:["drugs","medicine"]},{title:"fas fa-tachometer-alt",searchTerms:["dashboard","tachometer"]},{title:"fas fa-tag",searchTerms:["label"]},{title:"fas fa-tags",searchTerms:["labels"]},{title:"fas fa-tape",searchTerms:[]},{title:"fas fa-tasks",searchTerms:["downloading","downloads","loading","progress","settings"]},{title:"fas fa-taxi",searchTerms:["cab","cabbie","car","car service","lyft","machine","transportation","uber","vehicle"]},{title:"fab fa-teamspeak",searchTerms:[]},{title:"fas fa-teeth",searchTerms:[]},{title:"fas fa-teeth-open",searchTerms:[]},{title:"fab fa-telegram",searchTerms:[]},{title:"fab fa-telegram-plane",searchTerms:[]},{title:"fas fa-temperature-high",searchTerms:["mercury","thermometer","warm"]},{title:"fas fa-temperature-low",searchTerms:["cool","mercury","thermometer"]},{title:"fab fa-tencent-weibo",searchTerms:[]},{title:"fas fa-terminal",searchTerms:["code","command","console","prompt"]},{title:"fas fa-text-height",searchTerms:[]},{title:"fas fa-text-width",searchTerms:[]},{title:"fas fa-th",searchTerms:["blocks","boxes","grid","squares"]},{title:"fas fa-th-large",searchTerms:["blocks","boxes","grid","squares"]},{title:"fas fa-th-list",searchTerms:["checklist","completed","done","finished","ol","todo","ul"]},{title:"fab fa-the-red-yeti",searchTerms:[]},{title:"fas fa-theater-masks",searchTerms:[]},{title:"fab fa-themeco",searchTerms:[]},{title:"fab fa-themeisle",searchTerms:[]},{title:"fas fa-thermometer",searchTerms:["mercury","status","temperature"]},{title:"fas fa-thermometer-empty",searchTerms:["mercury","status","temperature"]},{title:"fas fa-thermometer-full",searchTerms:["fever","mercury","status","temperature"]},{title:"fas fa-thermometer-half",searchTerms:["mercury","status","temperature"]},{title:"fas fa-thermometer-quarter",searchTerms:["mercury","status","temperature"]},{title:"fas fa-thermometer-three-quarters",searchTerms:["mercury","status","temperature"]},{title:"fab fa-think-peaks",searchTerms:[]},{title:"fas fa-thumbs-down",searchTerms:["disagree","disapprove","dislike","hand","thumbs-o-down"]},{title:"far fa-thumbs-down",searchTerms:["disagree","disapprove","dislike","hand","thumbs-o-down"]},{title:"fas fa-thumbs-up",searchTerms:["agree","approve","favorite","hand","like","ok","okay","success","thumbs-o-up","yes","you got it dude"]},{title:"far fa-thumbs-up",searchTerms:["agree","approve","favorite","hand","like","ok","okay","success","thumbs-o-up","yes","you got it dude"]},{title:"fas fa-thumbtack",searchTerms:["coordinates","location","marker","pin","thumb-tack"]},{title:"fas fa-ticket-alt",searchTerms:["ticket"]},{title:"fas fa-times",searchTerms:["close","cross","error","exit","incorrect","notice","notification","notify","problem","wrong","x"]},{title:"fas fa-times-circle",searchTerms:["close","cross","exit","incorrect","notice","notification","notify","problem","wrong","x"]},{title:"far fa-times-circle",searchTerms:["close","cross","exit","incorrect","notice","notification","notify","problem","wrong","x"]},{title:"fas fa-tint",searchTerms:["drop","droplet","raindrop","waterdrop"]},{title:"fas fa-tint-slash",searchTerms:[]},{title:"fas fa-tired",searchTerms:["emoticon","face","grumpy"]},{title:"far fa-tired",searchTerms:["emoticon","face","grumpy"]},{title:"fas fa-toggle-off",searchTerms:["switch"]},{title:"fas fa-toggle-on",searchTerms:["switch"]},{title:"fas fa-toilet-paper",searchTerms:["bathroom","halloween","holiday","lavatory","prank","restroom","roll"]},{title:"fas fa-toolbox",searchTerms:["admin","container","fix","repair","settings","tools"]},{title:"fas fa-tooth",searchTerms:["bicuspid","dental","molar","mouth","teeth"]},{title:"fas fa-torah",searchTerms:["book","jewish","judaism"]},{title:"fas fa-torii-gate",searchTerms:["building","shintoism"]},{title:"fas fa-tractor",searchTerms:[]},{title:"fab fa-trade-federation",searchTerms:[]},{title:"fas fa-trademark",searchTerms:[]},{title:"fas fa-traffic-light",searchTerms:[]},{title:"fas fa-train",searchTerms:["bullet","locomotive","railway"]},{title:"fas fa-transgender",searchTerms:["intersex"]},{title:"fas fa-transgender-alt",searchTerms:[]},{title:"fas fa-trash",searchTerms:["delete","garbage","hide","remove"]},{title:"fas fa-trash-alt",searchTerms:["delete","garbage","hide","remove","trash","trash-o"]},{title:"far fa-trash-alt",searchTerms:["delete","garbage","hide","remove","trash","trash-o"]},{title:"fas fa-tree",searchTerms:["bark","fall","flora","forest","nature","plant","seasonal"]},{title:"fab fa-trello",searchTerms:[]},{title:"fab fa-tripadvisor",searchTerms:[]},{title:"fas fa-trophy",searchTerms:["achievement","award","cup","game","winner"]},{title:"fas fa-truck",searchTerms:["delivery","shipping"]},{title:"fas fa-truck-loading",searchTerms:[]},{title:"fas fa-truck-monster",searchTerms:[]},{title:"fas fa-truck-moving",searchTerms:[]},{title:"fas fa-truck-pickup",searchTerms:[]},{title:"fas fa-tshirt",searchTerms:["cloth","clothing"]},{title:"fas fa-tty",searchTerms:[]},{title:"fab fa-tumblr",searchTerms:[]},{title:"fab fa-tumblr-square",searchTerms:[]},{title:"fas fa-tv",searchTerms:["computer","display","monitor","television"]},{title:"fab fa-twitch",searchTerms:[]},{title:"fab fa-twitter",searchTerms:["social network","tweet"]},{title:"fab fa-twitter-square",searchTerms:["social network","tweet"]},{title:"fab fa-typo3",searchTerms:[]},{title:"fab fa-uber",searchTerms:[]},{title:"fab fa-uikit",searchTerms:[]},{title:"fas fa-umbrella",searchTerms:["protection","rain"]},{title:"fas fa-umbrella-beach",searchTerms:["protection","recreation","sun"]},{title:"fas fa-underline",searchTerms:[]},{title:"fas fa-undo",searchTerms:["back","control z","exchange","oops","return","rotate","swap"]},{title:"fas fa-undo-alt",searchTerms:["back","control z","exchange","oops","return","swap"]},{title:"fab fa-uniregistry",searchTerms:[]},{title:"fas fa-universal-access",searchTerms:[]},{title:"fas fa-university",searchTerms:["bank","institution"]},{title:"fas fa-unlink",searchTerms:["chain","chain-broken","remove"]},{title:"fas fa-unlock",searchTerms:["admin","lock","password","protect"]},{title:"fas fa-unlock-alt",searchTerms:["admin","lock","password","protect"]},{title:"fab fa-untappd",searchTerms:[]},{title:"fas fa-upload",searchTerms:["export","publish"]},{title:"fab fa-usb",searchTerms:[]},{title:"fas fa-user",searchTerms:["account","avatar","head","human","man","person","profile"]},{title:"far fa-user",searchTerms:["account","avatar","head","human","man","person","profile"]},{title:"fas fa-user-alt",searchTerms:["account","avatar","head","human","man","person","profile"]},{title:"fas fa-user-alt-slash",searchTerms:[]},{title:"fas fa-user-astronaut",searchTerms:["avatar","clothing","cosmonaut","space","suit"]},{title:"fas fa-user-check",searchTerms:[]},{title:"fas fa-user-circle",searchTerms:["account","avatar","head","human","man","person","profile"]},{title:"far fa-user-circle",searchTerms:["account","avatar","head","human","man","person","profile"]},{title:"fas fa-user-clock",searchTerms:[]},{title:"fas fa-user-cog",searchTerms:[]},{title:"fas fa-user-edit",searchTerms:[]},{title:"fas fa-user-friends",searchTerms:[]},{title:"fas fa-user-graduate",searchTerms:["cap","clothing","commencement","gown","graduation","student"]},{title:"fas fa-user-injured",searchTerms:["cast","ouch","sling"]},{title:"fas fa-user-lock",searchTerms:[]},{title:"fas fa-user-md",searchTerms:["doctor","job","medical","nurse","occupation","profile"]},{title:"fas fa-user-minus",searchTerms:["delete","negative","remove"]},{title:"fas fa-user-ninja",searchTerms:["assassin","avatar","dangerous","deadly","sneaky"]},{title:"fas fa-user-plus",searchTerms:["positive","sign up","signup"]},{title:"fas fa-user-secret",searchTerms:["clothing","coat","hat","incognito","privacy","spy","whisper"]},{title:"fas fa-user-shield",searchTerms:[]},{title:"fas fa-user-slash",searchTerms:["ban","remove"]},{title:"fas fa-user-tag",searchTerms:[]},{title:"fas fa-user-tie",searchTerms:["avatar","business","clothing","formal"]},{title:"fas fa-user-times",searchTerms:["archive","delete","remove","x"]},{title:"fas fa-users",searchTerms:["people","persons","profiles"]},{title:"fas fa-users-cog",searchTerms:[]},{title:"fab fa-ussunnah",searchTerms:[]},{title:"fas fa-utensil-spoon",searchTerms:["spoon"]},{title:"fas fa-utensils",searchTerms:["cutlery","dinner","eat","food","knife","restaurant","spoon"]},{title:"fab fa-vaadin",searchTerms:[]},{title:"fas fa-vector-square",searchTerms:["anchors","lines","object"]},{title:"fas fa-venus",searchTerms:["female"]},{title:"fas fa-venus-double",searchTerms:[]},{title:"fas fa-venus-mars",searchTerms:[]},{title:"fab fa-viacoin",searchTerms:[]},{title:"fab fa-viadeo",searchTerms:[]},{title:"fab fa-viadeo-square",searchTerms:[]},{title:"fas fa-vial",searchTerms:["test tube"]},{title:"fas fa-vials",searchTerms:["lab results","test tubes"]},{title:"fab fa-viber",searchTerms:[]},{title:"fas fa-video",searchTerms:["camera","film","movie","record","video-camera"]},{title:"fas fa-video-slash",searchTerms:[]},{title:"fas fa-vihara",searchTerms:["buddhism","buddhist","building","monastery"]},{title:"fab fa-vimeo",searchTerms:[]},{title:"fab fa-vimeo-square",searchTerms:[]},{title:"fab fa-vimeo-v",searchTerms:["vimeo"]},{title:"fab fa-vine",searchTerms:[]},{title:"fab fa-vk",searchTerms:[]},{title:"fab fa-vnv",searchTerms:[]},{title:"fas fa-volleyball-ball",searchTerms:[]},{title:"fas fa-volume-down",searchTerms:["audio","lower","music","quieter","sound","speaker"]},{title:"fas fa-volume-mute",searchTerms:[]},{title:"fas fa-volume-off",searchTerms:["audio","music","mute","sound"]},{title:"fas fa-volume-up",searchTerms:["audio","higher","louder","music","sound","speaker"]},{title:"fas fa-vote-yea",searchTerms:["accept","cast","election","politics","positive","yes"]},{title:"fas fa-vr-cardboard",searchTerms:["google","reality","virtual"]},{title:"fab fa-vuejs",searchTerms:[]},{title:"fas fa-walking",searchTerms:[]},{title:"fas fa-wallet",searchTerms:[]},{title:"fas fa-warehouse",searchTerms:[]},{title:"fas fa-water",searchTerms:[]},{title:"fab fa-weebly",searchTerms:[]},{title:"fab fa-weibo",searchTerms:[]},{title:"fas fa-weight",searchTerms:["measurement","scale","weight"]},{title:"fas fa-weight-hanging",searchTerms:["anvil","heavy","measurement"]},{title:"fab fa-weixin",searchTerms:[]},{title:"fab fa-whatsapp",searchTerms:[]},{title:"fab fa-whatsapp-square",searchTerms:[]},{title:"fas fa-wheelchair",searchTerms:["handicap","person"]},{title:"fab fa-whmcs",searchTerms:[]},{title:"fas fa-wifi",searchTerms:[]},{title:"fab fa-wikipedia-w",searchTerms:[]},{title:"fas fa-wind",searchTerms:["air","blow","breeze","fall","seasonal"]},{title:"fas fa-window-close",searchTerms:[]},{title:"far fa-window-close",searchTerms:[]},{title:"fas fa-window-maximize",searchTerms:[]},{title:"far fa-window-maximize",searchTerms:[]},{title:"fas fa-window-minimize",searchTerms:[]},{title:"far fa-window-minimize",searchTerms:[]},{title:"fas fa-window-restore",searchTerms:[]},{title:"far fa-window-restore",searchTerms:[]},{title:"fab fa-windows",searchTerms:["microsoft"]},{title:"fas fa-wine-bottle",searchTerms:["alcohol","beverage","drink","glass","grapes"]},{title:"fas fa-wine-glass",searchTerms:["alcohol","beverage","drink","grapes"]},{title:"fas fa-wine-glass-alt",searchTerms:["alcohol","beverage","drink","grapes"]},{title:"fab fa-wix",searchTerms:[]},{title:"fab fa-wizards-of-the-coast",searchTerms:["Dungeons & Dragons","d&d","dnd","fantasy","game","gaming","tabletop"]},{title:"fab fa-wolf-pack-battalion",searchTerms:[]},{title:"fas fa-won-sign",searchTerms:["krw"]},{title:"fab fa-wordpress",searchTerms:[]},{title:"fab fa-wordpress-simple",searchTerms:[]},{title:"fab fa-wpbeginner",searchTerms:[]},{title:"fab fa-wpexplorer",searchTerms:[]},{title:"fab fa-wpforms",searchTerms:[]},{title:"fab fa-wpressr",searchTerms:["rendact"]},{title:"fas fa-wrench",searchTerms:["fix","settings","spanner","tool","update"]},{title:"fas fa-x-ray",searchTerms:["radiological images","radiology"]},{title:"fab fa-xbox",searchTerms:[]},{title:"fab fa-xing",searchTerms:[]},{title:"fab fa-xing-square",searchTerms:[]},{title:"fab fa-y-combinator",searchTerms:[]},{title:"fab fa-yahoo",searchTerms:[]},{title:"fab fa-yandex",searchTerms:[]},{title:"fab fa-yandex-international",searchTerms:[]},{title:"fab fa-yelp",searchTerms:[]},{title:"fas fa-yen-sign",searchTerms:["jpy","money"]},{title:"fas fa-yin-yang",searchTerms:["daoism","opposites","taoism"]},{title:"fab fa-yoast",searchTerms:[]},{title:"fab fa-youtube",searchTerms:["film","video","youtube-play","youtube-square"]},{title:"fab fa-youtube-square",searchTerms:[]},{title:"fab fa-zhihu",searchTerms:[]}]})}),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof module&&module.exports?module.exports=function(t,i){return void 0===i&&(i="undefined"!=typeof window?require("jquery"):require("jquery")(t)),e(i),i}:e(jQuery)}(function(e){var t=function(){if(e&&e.fn&&e.fn.select2&&e.fn.select2.amd)var t=e.fn.select2.amd;var i;return function(){var e,i,n;t&&t.requirejs||(t?i=t:t={},function(t){function r(e,t){return b.call(e,t)}function s(e,t){var i,n,r,s,o,a,l,u,c,d,h,p=t&&t.split("/"),f=y.map,m=f&&f["*"]||{};if(e){for(o=(e=e.split("/")).length-1,y.nodeIdCompat&&T.test(e[o])&&(e[o]=e[o].replace(T,"")),"."===e[0].charAt(0)&&p&&(e=p.slice(0,p.length-1).concat(e)),c=0;c<e.length;c++)if("."===(h=e[c]))e.splice(c,1),c-=1;else if(".."===h){if(0===c||1===c&&".."===e[2]||".."===e[c-1])continue;c>0&&(e.splice(c-1,2),c-=2)}e=e.join("/")}if((p||m)&&f){for(c=(i=e.split("/")).length;c>0;c-=1){if(n=i.slice(0,c).join("/"),p)for(d=p.length;d>0;d-=1)if((r=f[p.slice(0,d).join("/")])&&(r=r[n])){s=r,a=c;break}if(s)break;!l&&m&&m[n]&&(l=m[n],u=c)}!s&&l&&(s=l,a=u),s&&(i.splice(0,a,s),e=i.join("/"))}return e}function o(e,i){return function(){var n=w.call(arguments,0);return"string"!=typeof n[0]&&1===n.length&&n.push(null),p.apply(t,n.concat([e,i]))}}function a(e){return function(t){g[e]=t}}function l(e){if(r(v,e)){var i=v[e];delete v[e],_[e]=!0,h.apply(t,i)}if(!r(g,e)&&!r(_,e))throw new Error("No "+e);return g[e]}function u(e){var t,i=e?e.indexOf("!"):-1;return i>-1&&(t=e.substring(0,i),e=e.substring(i+1,e.length)),[t,e]}function c(e){return e?u(e):[]}function d(e){return function(){return y&&y.config&&y.config[e]||{}}}var h,p,f,m,g={},v={},y={},_={},b=Object.prototype.hasOwnProperty,w=[].slice,T=/\.js$/;f=function(e,t){var i,n=u(e),r=n[0],o=t[1];return e=n[1],r&&(i=l(r=s(r,o))),r?e=i&&i.normalize?i.normalize(e,function(e){return function(t){return s(t,e)}}(o)):s(e,o):(r=(n=u(e=s(e,o)))[0],e=n[1],r&&(i=l(r))),{f:r?r+"!"+e:e,n:e,pr:r,p:i}},m={require:function(e){return o(e)},exports:function(e){var t=g[e];return void 0!==t?t:g[e]={}},module:function(e){return{id:e,uri:"",exports:g[e],config:d(e)}}},h=function(e,i,n,s){var u,d,h,p,y,b,w,T=[],C=typeof n;if(b=c(s=s||e),"undefined"===C||"function"===C){for(i=!i.length&&n.length?["require","exports","module"]:i,y=0;y<i.length;y+=1)if("require"===(d=(p=f(i[y],b)).f))T[y]=m.require(e);else if("exports"===d)T[y]=m.exports(e),w=!0;else if("module"===d)u=T[y]=m.module(e);else if(r(g,d)||r(v,d)||r(_,d))T[y]=l(d);else{if(!p.p)throw new Error(e+" missing "+d);p.p.load(p.n,o(s,!0),a(d),{}),T[y]=g[d]}h=n?n.apply(g[e],T):void 0,e&&(u&&u.exports!==t&&u.exports!==g[e]?g[e]=u.exports:h===t&&w||(g[e]=h))}else e&&(g[e]=n)},e=i=p=function(e,i,n,r,s){if("string"==typeof e)return m[e]?m[e](i):l(f(e,c(i)).f);if(!e.splice){if((y=e).deps&&p(y.deps,y.callback),!i)return;i.splice?(e=i,i=n,n=null):e=t}return i=i||function(){},"function"==typeof n&&(n=r,r=s),r?h(t,e,i,n):setTimeout(function(){h(t,e,i,n)},4),p},p.config=function(e){return p(e)},e._defined=g,(n=function(e,t,i){if("string"!=typeof e)throw new Error("See almond README: incorrect module build, no module name");t.splice||(i=t,t=[]),r(g,e)||r(v,e)||(v[e]=[e,t,i])}).amd={jQuery:!0}}(),t.requirejs=e,t.require=i,t.define=n)}(),t.define("almond",function(){}),t.define("jquery",[],function(){var t=e||$;return null==t&&console&&console.error&&console.error("Select2: An instance of jQuery or a jQuery-compatible library was not found. Make sure that you are including jQuery before Select2 on your web page."),t}),t.define("select2/utils",["jquery"],function(e){function t(e){var t=e.prototype,i=[];for(var n in t)"function"==typeof t[n]&&"constructor"!==n&&i.push(n);return i}var i={Extend:function(e,t){function i(){this.constructor=e}var n={}.hasOwnProperty;for(var r in t)n.call(t,r)&&(e[r]=t[r]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e},Decorate:function(e,i){function n(){var t=Array.prototype.unshift,n=i.prototype.constructor.length,r=e.prototype.constructor;n>0&&(t.call(arguments,e.prototype.constructor),r=i.prototype.constructor),r.apply(this,arguments)}var r=t(i),s=t(e);i.displayName=e.displayName,n.prototype=new function(){this.constructor=n};for(var o=0;o<s.length;o++){var a=s[o];n.prototype[a]=e.prototype[a]}for(var l=function(e){var t=function(){};e in n.prototype&&(t=n.prototype[e]);var r=i.prototype[e];return function(){return Array.prototype.unshift.call(arguments,t),r.apply(this,arguments)}},u=0;u<r.length;u++){var c=r[u];n.prototype[c]=l(c)}return n}},n=function(){this.listeners={}};n.prototype.on=function(e,t){this.listeners=this.listeners||{},e in this.listeners?this.listeners[e].push(t):this.listeners[e]=[t]},n.prototype.trigger=function(e){var t=Array.prototype.slice,i=t.call(arguments,1);this.listeners=this.listeners||{},null==i&&(i=[]),0===i.length&&i.push({}),i[0]._type=e,e in this.listeners&&this.invoke(this.listeners[e],t.call(arguments,1)),"*"in this.listeners&&this.invoke(this.listeners["*"],arguments)},n.prototype.invoke=function(e,t){for(var i=0,n=e.length;i<n;i++)e[i].apply(this,t)},i.Observable=n,i.generateChars=function(e){for(var t="",i=0;i<e;i++)t+=Math.floor(36*Math.random()).toString(36);return t},i.bind=function(e,t){return function(){e.apply(t,arguments)}},i._convertData=function(e){for(var t in e){var i=t.split("-"),n=e;if(1!==i.length){for(var r=0;r<i.length;r++){var s=i[r];(s=s.substring(0,1).toLowerCase()+s.substring(1))in n||(n[s]={}),r==i.length-1&&(n[s]=e[t]),n=n[s]}delete e[t]}}return e},i.hasScroll=function(t,i){var n=e(i),r=i.style.overflowX,s=i.style.overflowY;return(r!==s||"hidden"!==s&&"visible"!==s)&&("scroll"===r||"scroll"===s||n.innerHeight()<i.scrollHeight||n.innerWidth()<i.scrollWidth)},i.escapeMarkup=function(e){var t={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return"string"!=typeof e?e:String(e).replace(/[&<>"'\/\\]/g,function(e){return t[e]})},i.appendMany=function(t,i){if("1.7"===e.fn.jquery.substr(0,3)){var n=e();e.map(i,function(e){n=n.add(e)}),i=n}t.append(i)},i.__cache={};var r=0;return i.GetUniqueElementId=function(e){var t=e.getAttribute("data-select2-id");return null==t&&(e.id?(t=e.id,e.setAttribute("data-select2-id",t)):(e.setAttribute("data-select2-id",++r),t=r.toString())),t},i.StoreData=function(e,t,n){var r=i.GetUniqueElementId(e);i.__cache[r]||(i.__cache[r]={}),i.__cache[r][t]=n},i.GetData=function(t,n){var r=i.GetUniqueElementId(t);return n?i.__cache[r]&&null!=i.__cache[r][n]?i.__cache[r][n]:e(t).data(n):i.__cache[r]},i.RemoveData=function(e){var t=i.GetUniqueElementId(e);null!=i.__cache[t]&&delete i.__cache[t]},i}),t.define("select2/results",["jquery","./utils"],function(e,t){function i(e,t,n){this.$element=e,this.data=n,this.options=t,i.__super__.constructor.call(this)}return t.Extend(i,t.Observable),i.prototype.render=function(){var t=e('<ul class="select2-results__options" role="tree"></ul>');return this.options.get("multiple")&&t.attr("aria-multiselectable","true"),this.$results=t,t},i.prototype.clear=function(){this.$results.empty()},i.prototype.displayMessage=function(t){var i=this.options.get("escapeMarkup");this.clear(),this.hideLoading();var n=e('<li role="treeitem" aria-live="assertive" class="select2-results__option"></li>'),r=this.options.get("translations").get(t.message);n.append(i(r(t.args))),n[0].className+=" select2-results__message",this.$results.append(n)},i.prototype.hideMessages=function(){this.$results.find(".select2-results__message").remove()},i.prototype.append=function(e){this.hideLoading();var t=[];if(null!=e.results&&0!==e.results.length){e.results=this.sort(e.results);for(var i=0;i<e.results.length;i++){var n=e.results[i],r=this.option(n);t.push(r)}this.$results.append(t)}else 0===this.$results.children().length&&this.trigger("results:message",{message:"noResults"})},i.prototype.position=function(e,t){t.find(".select2-results").append(e)},i.prototype.sort=function(e){return this.options.get("sorter")(e)},i.prototype.highlightFirstItem=function(){var e=this.$results.find(".select2-results__option[aria-selected]"),t=e.filter("[aria-selected=true]");t.length>0?t.first().trigger("mouseenter"):e.first().trigger("mouseenter"),this.ensureHighlightVisible()},i.prototype.setClasses=function(){var i=this;this.data.current(function(n){var r=e.map(n,function(e){return e.id.toString()});i.$results.find(".select2-results__option[aria-selected]").each(function(){var i=e(this),n=t.GetData(this,"data"),s=""+n.id;null!=n.element&&n.element.selected||null==n.element&&e.inArray(s,r)>-1?i.attr("aria-selected","true"):i.attr("aria-selected","false")})})},i.prototype.showLoading=function(e){this.hideLoading();var t={disabled:!0,loading:!0,text:this.options.get("translations").get("searching")(e)},i=this.option(t);i.className+=" loading-results",this.$results.prepend(i)},i.prototype.hideLoading=function(){this.$results.find(".loading-results").remove()},i.prototype.option=function(i){var n=document.createElement("li");n.className="select2-results__option";var r={role:"treeitem","aria-selected":"false"};for(var s in i.disabled&&(delete r["aria-selected"],r["aria-disabled"]="true"),null==i.id&&delete r["aria-selected"],null!=i._resultId&&(n.id=i._resultId),i.title&&(n.title=i.title),i.children&&(r.role="group",r["aria-label"]=i.text,delete r["aria-selected"]),r){var o=r[s];n.setAttribute(s,o)}if(i.children){var a=e(n),l=document.createElement("strong");l.className="select2-results__group",e(l),this.template(i,l);for(var u=[],c=0;c<i.children.length;c++){var d=i.children[c],h=this.option(d);u.push(h)}var p=e("<ul></ul>",{class:"select2-results__options select2-results__options--nested"});p.append(u),a.append(l),a.append(p)}else this.template(i,n);return t.StoreData(n,"data",i),n},i.prototype.bind=function(i,n){var r=this,s=i.id+"-results";this.$results.attr("id",s),i.on("results:all",function(e){r.clear(),r.append(e.data),i.isOpen()&&(r.setClasses(),r.highlightFirstItem())}),i.on("results:append",function(e){r.append(e.data),i.isOpen()&&r.setClasses()}),i.on("query",function(e){r.hideMessages(),r.showLoading(e)}),i.on("select",function(){i.isOpen()&&(r.setClasses(),r.options.get("scrollAfterSelect")&&r.highlightFirstItem())}),i.on("unselect",function(){i.isOpen()&&(r.setClasses(),r.options.get("scrollAfterSelect")&&r.highlightFirstItem())}),i.on("open",function(){r.$results.attr("aria-expanded","true"),r.$results.attr("aria-hidden","false"),r.setClasses(),r.ensureHighlightVisible()}),i.on("close",function(){r.$results.attr("aria-expanded","false"),r.$results.attr("aria-hidden","true"),r.$results.removeAttr("aria-activedescendant")}),i.on("results:toggle",function(){var e=r.getHighlightedResults();0!==e.length&&e.trigger("mouseup")}),i.on("results:select",function(){var e=r.getHighlightedResults();if(0!==e.length){var i=t.GetData(e[0],"data");"true"==e.attr("aria-selected")?r.trigger("close",{}):r.trigger("select",{data:i})}}),i.on("results:previous",function(){var e=r.getHighlightedResults(),t=r.$results.find("[aria-selected]"),i=t.index(e);if(!(i<=0)){var n=i-1;0===e.length&&(n=0);var s=t.eq(n);s.trigger("mouseenter");var o=r.$results.offset().top,a=s.offset().top,l=r.$results.scrollTop()+(a-o);0===n?r.$results.scrollTop(0):a-o<0&&r.$results.scrollTop(l)}}),i.on("results:next",function(){var e=r.getHighlightedResults(),t=r.$results.find("[aria-selected]"),i=t.index(e)+1;if(!(i>=t.length)){var n=t.eq(i);n.trigger("mouseenter");var s=r.$results.offset().top+r.$results.outerHeight(!1),o=n.offset().top+n.outerHeight(!1),a=r.$results.scrollTop()+o-s;0===i?r.$results.scrollTop(0):o>s&&r.$results.scrollTop(a)}}),i.on("results:focus",function(e){e.element.addClass("select2-results__option--highlighted")}),i.on("results:message",function(e){r.displayMessage(e)}),e.fn.mousewheel&&this.$results.on("mousewheel",function(e){var t=r.$results.scrollTop(),i=r.$results.get(0).scrollHeight-t+e.deltaY,n=e.deltaY>0&&t-e.deltaY<=0,s=e.deltaY<0&&i<=r.$results.height();n?(r.$results.scrollTop(0),e.preventDefault(),e.stopPropagation()):s&&(r.$results.scrollTop(r.$results.get(0).scrollHeight-r.$results.height()),e.preventDefault(),e.stopPropagation())}),this.$results.on("mouseup",".select2-results__option[aria-selected]",function(i){var n=e(this),s=t.GetData(this,"data");"true"!==n.attr("aria-selected")?r.trigger("select",{originalEvent:i,data:s}):r.options.get("multiple")?r.trigger("unselect",{originalEvent:i,data:s}):r.trigger("close",{})}),this.$results.on("mouseenter",".select2-results__option[aria-selected]",function(i){var n=t.GetData(this,"data");r.getHighlightedResults().removeClass("select2-results__option--highlighted"),r.trigger("results:focus",{data:n,element:e(this)})})},i.prototype.getHighlightedResults=function(){return this.$results.find(".select2-results__option--highlighted")},i.prototype.destroy=function(){this.$results.remove()},i.prototype.ensureHighlightVisible=function(){var e=this.getHighlightedResults();if(0!==e.length){var t=this.$results.find("[aria-selected]").index(e),i=this.$results.offset().top,n=e.offset().top,r=this.$results.scrollTop()+(n-i),s=n-i;r-=2*e.outerHeight(!1),t<=2?this.$results.scrollTop(0):(s>this.$results.outerHeight()||s<0)&&this.$results.scrollTop(r)}},i.prototype.template=function(t,i){var n=this.options.get("templateResult"),r=this.options.get("escapeMarkup"),s=n(t,i);null==s?i.style.display="none":"string"==typeof s?i.innerHTML=r(s):e(i).append(s)},i}),t.define("select2/keys",[],function(){return{BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46}}),t.define("select2/selection/base",["jquery","../utils","../keys"],function(e,t,i){function n(e,t){this.$element=e,this.options=t,n.__super__.constructor.call(this)}return t.Extend(n,t.Observable),n.prototype.render=function(){var i=e('<span class="select2-selection" role="combobox"  aria-haspopup="true" aria-expanded="false"></span>');return this._tabindex=0,null!=t.GetData(this.$element[0],"old-tabindex")?this._tabindex=t.GetData(this.$element[0],"old-tabindex"):null!=this.$element.attr("tabindex")&&(this._tabindex=this.$element.attr("tabindex")),i.attr("title",this.$element.attr("title")),i.attr("tabindex",this._tabindex),this.$selection=i,i},n.prototype.bind=function(e,t){var n=this,r=(e.id,e.id+"-results");this.container=e,this.$selection.on("focus",function(e){n.trigger("focus",e)}),this.$selection.on("blur",function(e){n._handleBlur(e)}),this.$selection.on("keydown",function(e){n.trigger("keypress",e),e.which===i.SPACE&&e.preventDefault()}),e.on("results:focus",function(e){n.$selection.attr("aria-activedescendant",e.data._resultId)}),e.on("selection:update",function(e){n.update(e.data)}),e.on("open",function(){n.$selection.attr("aria-expanded","true"),n.$selection.attr("aria-owns",r),n._attachCloseHandler(e)}),e.on("close",function(){n.$selection.attr("aria-expanded","false"),n.$selection.removeAttr("aria-activedescendant"),n.$selection.removeAttr("aria-owns"),window.setTimeout(function(){n.$selection.focus()},0),n._detachCloseHandler(e)}),e.on("enable",function(){n.$selection.attr("tabindex",n._tabindex)}),e.on("disable",function(){n.$selection.attr("tabindex","-1")})},n.prototype._handleBlur=function(t){var i=this;window.setTimeout(function(){document.activeElement==i.$selection[0]||e.contains(i.$selection[0],document.activeElement)||i.trigger("blur",t)},1)},n.prototype._attachCloseHandler=function(i){e(document.body).on("mousedown.select2."+i.id,function(i){var n=e(i.target).closest(".select2");e(".select2.select2-container--open").each(function(){e(this),this!=n[0]&&t.GetData(this,"element").select2("close")})})},n.prototype._detachCloseHandler=function(t){e(document.body).off("mousedown.select2."+t.id)},n.prototype.position=function(e,t){t.find(".selection").append(e)},n.prototype.destroy=function(){this._detachCloseHandler(this.container)},n.prototype.update=function(e){throw new Error("The `update` method must be defined in child classes.")},n}),t.define("select2/selection/single",["jquery","./base","../utils","../keys"],function(e,t,i,n){function r(){r.__super__.constructor.apply(this,arguments)}return i.Extend(r,t),r.prototype.render=function(){var e=r.__super__.render.call(this);return e.addClass("select2-selection--single"),e.html('<span class="select2-selection__rendered"></span><span class="select2-selection__arrow" role="presentation"><b role="presentation"></b></span>'),e},r.prototype.bind=function(e,t){var i=this;r.__super__.bind.apply(this,arguments);var n=e.id+"-container";this.$selection.find(".select2-selection__rendered").attr("id",n).attr("role","textbox").attr("aria-readonly","true"),this.$selection.attr("aria-labelledby",n),this.$selection.on("mousedown",function(e){1===e.which&&i.trigger("toggle",{originalEvent:e})}),this.$selection.on("focus",function(e){}),this.$selection.on("blur",function(e){}),e.on("focus",function(t){e.isOpen()||i.$selection.focus()})},r.prototype.clear=function(){var e=this.$selection.find(".select2-selection__rendered");e.empty(),e.removeAttr("title")},r.prototype.display=function(e,t){var i=this.options.get("templateSelection");return this.options.get("escapeMarkup")(i(e,t))},r.prototype.selectionContainer=function(){return e("<span></span>")},r.prototype.update=function(e){if(0!==e.length){var t=e[0],i=this.$selection.find(".select2-selection__rendered"),n=this.display(t,i);i.empty().append(n),i.attr("title",t.title||t.text)}else this.clear()},r}),t.define("select2/selection/multiple",["jquery","./base","../utils"],function(e,t,i){function n(e,t){n.__super__.constructor.apply(this,arguments)}return i.Extend(n,t),n.prototype.render=function(){var e=n.__super__.render.call(this);return e.addClass("select2-selection--multiple"),e.html('<ul class="select2-selection__rendered"></ul>'),e},n.prototype.bind=function(t,r){var s=this;n.__super__.bind.apply(this,arguments),this.$selection.on("click",function(e){s.trigger("toggle",{originalEvent:e})}),this.$selection.on("click",".select2-selection__choice__remove",function(t){if(!s.options.get("disabled")){var n=e(this).parent(),r=i.GetData(n[0],"data");s.trigger("unselect",{originalEvent:t,data:r})}})},n.prototype.clear=function(){var e=this.$selection.find(".select2-selection__rendered");e.empty(),e.removeAttr("title")},n.prototype.display=function(e,t){var i=this.options.get("templateSelection");return this.options.get("escapeMarkup")(i(e,t))},n.prototype.selectionContainer=function(){return e('<li class="select2-selection__choice"><span class="select2-selection__choice__remove" role="presentation">&times;</span></li>')},n.prototype.update=function(e){if(this.clear(),0!==e.length){for(var t=[],n=0;n<e.length;n++){var r=e[n],s=this.selectionContainer(),o=this.display(r,s);s.append(o),s.attr("title",r.title||r.text),i.StoreData(s[0],"data",r),t.push(s)}var a=this.$selection.find(".select2-selection__rendered");i.appendMany(a,t)}},n}),t.define("select2/selection/placeholder",["../utils"],function(e){function t(e,t,i){this.placeholder=this.normalizePlaceholder(i.get("placeholder")),e.call(this,t,i)}return t.prototype.normalizePlaceholder=function(e,t){return"string"==typeof t&&(t={id:"",text:t}),t},t.prototype.createPlaceholder=function(e,t){var i=this.selectionContainer();return i.html(this.display(t)),i.addClass("select2-selection__placeholder").removeClass("select2-selection__choice"),i},t.prototype.update=function(e,t){var i=1==t.length&&t[0].id!=this.placeholder.id;if(t.length>1||i)return e.call(this,t);this.clear();var n=this.createPlaceholder(this.placeholder);this.$selection.find(".select2-selection__rendered").append(n)},t}),t.define("select2/selection/allowClear",["jquery","../keys","../utils"],function(e,t,i){function n(){}return n.prototype.bind=function(e,t,i){var n=this;e.call(this,t,i),null==this.placeholder&&this.options.get("debug")&&window.console&&console.error&&console.error("Select2: The `allowClear` option should be used in combination with the `placeholder` option."),this.$selection.on("mousedown",".select2-selection__clear",function(e){n._handleClear(e)}),t.on("keypress",function(e){n._handleKeyboardClear(e,t)})},n.prototype._handleClear=function(e,t){if(!this.options.get("disabled")){var n=this.$selection.find(".select2-selection__clear");if(0!==n.length){t.stopPropagation();var r=i.GetData(n[0],"data"),s=this.$element.val();this.$element.val(this.placeholder.id);var o={data:r};if(this.trigger("clear",o),o.prevented)return void this.$element.val(s);for(var a=0;a<r.length;a++)if(o={data:r[a]},this.trigger("unselect",o),o.prevented)return void this.$element.val(s);this.$element.trigger("change"),this.trigger("toggle",{})}}},n.prototype._handleKeyboardClear=function(e,i,n){n.isOpen()||i.which!=t.DELETE&&i.which!=t.BACKSPACE||this._handleClear(i)},n.prototype.update=function(t,n){if(t.call(this,n),!(this.$selection.find(".select2-selection__placeholder").length>0||0===n.length)){var r=this.options.get("translations").get("removeAllItems"),s=e('<span class="select2-selection__clear" title="'+r()+'">&times;</span>');i.StoreData(s[0],"data",n),this.$selection.find(".select2-selection__rendered").prepend(s)}},n}),t.define("select2/selection/search",["jquery","../utils","../keys"],function(e,t,i){function n(e,t,i){e.call(this,t,i)}return n.prototype.render=function(t){var i=e('<li class="select2-search select2-search--inline"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="none" spellcheck="false" role="textbox" aria-autocomplete="list" /></li>');this.$searchContainer=i,this.$search=i.find("input");var n=t.call(this);return this._transferTabIndex(),n},n.prototype.bind=function(e,n,r){var s=this;e.call(this,n,r),n.on("open",function(){s.$search.trigger("focus")}),n.on("close",function(){s.$search.val(""),s.$search.removeAttr("aria-activedescendant"),s.$search.trigger("focus")}),n.on("enable",function(){s.$search.prop("disabled",!1),s._transferTabIndex()}),n.on("disable",function(){s.$search.prop("disabled",!0)}),n.on("focus",function(e){s.$search.trigger("focus")}),n.on("results:focus",function(e){s.$search.attr("aria-activedescendant",e.id)}),this.$selection.on("focusin",".select2-search--inline",function(e){s.trigger("focus",e)}),this.$selection.on("focusout",".select2-search--inline",function(e){s._handleBlur(e)}),this.$selection.on("keydown",".select2-search--inline",function(e){if(e.stopPropagation(),s.trigger("keypress",e),s._keyUpPrevented=e.isDefaultPrevented(),e.which===i.BACKSPACE&&""===s.$search.val()){var n=s.$searchContainer.prev(".select2-selection__choice");if(n.length>0){var r=t.GetData(n[0],"data");s.searchRemoveChoice(r),e.preventDefault()}}});var o=document.documentMode,a=o&&o<=11;this.$selection.on("input.searchcheck",".select2-search--inline",function(e){a?s.$selection.off("input.search input.searchcheck"):s.$selection.off("keyup.search")}),this.$selection.on("keyup.search input.search",".select2-search--inline",function(e){if(a&&"input"===e.type)s.$selection.off("input.search input.searchcheck");else{var t=e.which;t!=i.SHIFT&&t!=i.CTRL&&t!=i.ALT&&t!=i.TAB&&s.handleSearch(e)}})},n.prototype._transferTabIndex=function(e){this.$search.attr("tabindex",this.$selection.attr("tabindex")),this.$selection.attr("tabindex","-1")},n.prototype.createPlaceholder=function(e,t){this.$search.attr("placeholder",t.text)},n.prototype.update=function(e,t){var i=this.$search[0]==document.activeElement;this.$search.attr("placeholder",""),e.call(this,t),this.$selection.find(".select2-selection__rendered").append(this.$searchContainer),this.resizeSearch(),i&&(this.$element.find("[data-select2-tag]").length?this.$element.focus():this.$search.focus())},n.prototype.handleSearch=function(){if(this.resizeSearch(),!this._keyUpPrevented){var e=this.$search.val();this.trigger("query",{term:e})}this._keyUpPrevented=!1},n.prototype.searchRemoveChoice=function(e,t){this.trigger("unselect",{data:t}),this.$search.val(t.text),this.handleSearch()},n.prototype.resizeSearch=function(){this.$search.css("width","25px");var e="";e=""!==this.$search.attr("placeholder")?this.$selection.find(".select2-selection__rendered").innerWidth():.75*(this.$search.val().length+1)+"em",this.$search.css("width",e)},n}),t.define("select2/selection/eventRelay",["jquery"],function(e){function t(){}return t.prototype.bind=function(t,i,n){var r=this,s=["open","opening","close","closing","select","selecting","unselect","unselecting","clear","clearing"],o=["opening","closing","selecting","unselecting","clearing"];t.call(this,i,n),i.on("*",function(t,i){if(-1!==e.inArray(t,s)){i=i||{};var n=e.Event("select2:"+t,{params:i});r.$element.trigger(n),-1!==e.inArray(t,o)&&(i.prevented=n.isDefaultPrevented())}})},t}),t.define("select2/translation",["jquery","require"],function(e,t){function i(e){this.dict=e||{}}return i.prototype.all=function(){return this.dict},i.prototype.get=function(e){return this.dict[e]},i.prototype.extend=function(t){this.dict=e.extend({},t.all(),this.dict)},i._cache={},i.loadPath=function(e){if(!(e in i._cache)){var n=t(e);i._cache[e]=n}return new i(i._cache[e])},i}),t.define("select2/diacritics",[],function(){return{"Ⓐ":"A","Ａ":"A","À":"A","Á":"A","Â":"A","Ầ":"A","Ấ":"A","Ẫ":"A","Ẩ":"A","Ã":"A","Ā":"A","Ă":"A","Ằ":"A","Ắ":"A","Ẵ":"A","Ẳ":"A","Ȧ":"A","Ǡ":"A","Ä":"A","Ǟ":"A","Ả":"A","Å":"A","Ǻ":"A","Ǎ":"A","Ȁ":"A","Ȃ":"A","Ạ":"A","Ậ":"A","Ặ":"A","Ḁ":"A","Ą":"A","Ⱥ":"A","Ɐ":"A","Ꜳ":"AA","Æ":"AE","Ǽ":"AE","Ǣ":"AE","Ꜵ":"AO","Ꜷ":"AU","Ꜹ":"AV","Ꜻ":"AV","Ꜽ":"AY","Ⓑ":"B","Ｂ":"B","Ḃ":"B","Ḅ":"B","Ḇ":"B","Ƀ":"B","Ƃ":"B","Ɓ":"B","Ⓒ":"C","Ｃ":"C","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","Ç":"C","Ḉ":"C","Ƈ":"C","Ȼ":"C","Ꜿ":"C","Ⓓ":"D","Ｄ":"D","Ḋ":"D","Ď":"D","Ḍ":"D","Ḑ":"D","Ḓ":"D","Ḏ":"D","Đ":"D","Ƌ":"D","Ɗ":"D","Ɖ":"D","Ꝺ":"D","Ǳ":"DZ","Ǆ":"DZ","ǲ":"Dz","ǅ":"Dz","Ⓔ":"E","Ｅ":"E","È":"E","É":"E","Ê":"E","Ề":"E","Ế":"E","Ễ":"E","Ể":"E","Ẽ":"E","Ē":"E","Ḕ":"E","Ḗ":"E","Ĕ":"E","Ė":"E","Ë":"E","Ẻ":"E","Ě":"E","Ȅ":"E","Ȇ":"E","Ẹ":"E","Ệ":"E","Ȩ":"E","Ḝ":"E","Ę":"E","Ḙ":"E","Ḛ":"E","Ɛ":"E","Ǝ":"E","Ⓕ":"F","Ｆ":"F","Ḟ":"F","Ƒ":"F","Ꝼ":"F","Ⓖ":"G","Ｇ":"G","Ǵ":"G","Ĝ":"G","Ḡ":"G","Ğ":"G","Ġ":"G","Ǧ":"G","Ģ":"G","Ǥ":"G","Ɠ":"G","Ꞡ":"G","Ᵹ":"G","Ꝿ":"G","Ⓗ":"H","Ｈ":"H","Ĥ":"H","Ḣ":"H","Ḧ":"H","Ȟ":"H","Ḥ":"H","Ḩ":"H","Ḫ":"H","Ħ":"H","Ⱨ":"H","Ⱶ":"H","Ɥ":"H","Ⓘ":"I","Ｉ":"I","Ì":"I","Í":"I","Î":"I","Ĩ":"I","Ī":"I","Ĭ":"I","İ":"I","Ï":"I","Ḯ":"I","Ỉ":"I","Ǐ":"I","Ȉ":"I","Ȋ":"I","Ị":"I","Į":"I","Ḭ":"I","Ɨ":"I","Ⓙ":"J","Ｊ":"J","Ĵ":"J","Ɉ":"J","Ⓚ":"K","Ｋ":"K","Ḱ":"K","Ǩ":"K","Ḳ":"K","Ķ":"K","Ḵ":"K","Ƙ":"K","Ⱪ":"K","Ꝁ":"K","Ꝃ":"K","Ꝅ":"K","Ꞣ":"K","Ⓛ":"L","Ｌ":"L","Ŀ":"L","Ĺ":"L","Ľ":"L","Ḷ":"L","Ḹ":"L","Ļ":"L","Ḽ":"L","Ḻ":"L","Ł":"L","Ƚ":"L","Ɫ":"L","Ⱡ":"L","Ꝉ":"L","Ꝇ":"L","Ꞁ":"L","Ǉ":"LJ","ǈ":"Lj","Ⓜ":"M","Ｍ":"M","Ḿ":"M","Ṁ":"M","Ṃ":"M","Ɱ":"M","Ɯ":"M","Ⓝ":"N","Ｎ":"N","Ǹ":"N","Ń":"N","Ñ":"N","Ṅ":"N","Ň":"N","Ṇ":"N","Ņ":"N","Ṋ":"N","Ṉ":"N","Ƞ":"N","Ɲ":"N","Ꞑ":"N","Ꞥ":"N","Ǌ":"NJ","ǋ":"Nj","Ⓞ":"O","Ｏ":"O","Ò":"O","Ó":"O","Ô":"O","Ồ":"O","Ố":"O","Ỗ":"O","Ổ":"O","Õ":"O","Ṍ":"O","Ȭ":"O","Ṏ":"O","Ō":"O","Ṑ":"O","Ṓ":"O","Ŏ":"O","Ȯ":"O","Ȱ":"O","Ö":"O","Ȫ":"O","Ỏ":"O","Ő":"O","Ǒ":"O","Ȍ":"O","Ȏ":"O","Ơ":"O","Ờ":"O","Ớ":"O","Ỡ":"O","Ở":"O","Ợ":"O","Ọ":"O","Ộ":"O","Ǫ":"O","Ǭ":"O","Ø":"O","Ǿ":"O","Ɔ":"O","Ɵ":"O","Ꝋ":"O","Ꝍ":"O","Œ":"OE","Ƣ":"OI","Ꝏ":"OO","Ȣ":"OU","Ⓟ":"P","Ｐ":"P","Ṕ":"P","Ṗ":"P","Ƥ":"P","Ᵽ":"P","Ꝑ":"P","Ꝓ":"P","Ꝕ":"P","Ⓠ":"Q","Ｑ":"Q","Ꝗ":"Q","Ꝙ":"Q","Ɋ":"Q","Ⓡ":"R","Ｒ":"R","Ŕ":"R","Ṙ":"R","Ř":"R","Ȑ":"R","Ȓ":"R","Ṛ":"R","Ṝ":"R","Ŗ":"R","Ṟ":"R","Ɍ":"R","Ɽ":"R","Ꝛ":"R","Ꞧ":"R","Ꞃ":"R","Ⓢ":"S","Ｓ":"S","ẞ":"S","Ś":"S","Ṥ":"S","Ŝ":"S","Ṡ":"S","Š":"S","Ṧ":"S","Ṣ":"S","Ṩ":"S","Ș":"S","Ş":"S","Ȿ":"S","Ꞩ":"S","Ꞅ":"S","Ⓣ":"T","Ｔ":"T","Ṫ":"T","Ť":"T","Ṭ":"T","Ț":"T","Ţ":"T","Ṱ":"T","Ṯ":"T","Ŧ":"T","Ƭ":"T","Ʈ":"T","Ⱦ":"T","Ꞇ":"T","Ꜩ":"TZ","Ⓤ":"U","Ｕ":"U","Ù":"U","Ú":"U","Û":"U","Ũ":"U","Ṹ":"U","Ū":"U","Ṻ":"U","Ŭ":"U","Ü":"U","Ǜ":"U","Ǘ":"U","Ǖ":"U","Ǚ":"U","Ủ":"U","Ů":"U","Ű":"U","Ǔ":"U","Ȕ":"U","Ȗ":"U","Ư":"U","Ừ":"U","Ứ":"U","Ữ":"U","Ử":"U","Ự":"U","Ụ":"U","Ṳ":"U","Ų":"U","Ṷ":"U","Ṵ":"U","Ʉ":"U","Ⓥ":"V","Ｖ":"V","Ṽ":"V","Ṿ":"V","Ʋ":"V","Ꝟ":"V","Ʌ":"V","Ꝡ":"VY","Ⓦ":"W","Ｗ":"W","Ẁ":"W","Ẃ":"W","Ŵ":"W","Ẇ":"W","Ẅ":"W","Ẉ":"W","Ⱳ":"W","Ⓧ":"X","Ｘ":"X","Ẋ":"X","Ẍ":"X","Ⓨ":"Y","Ｙ":"Y","Ỳ":"Y","Ý":"Y","Ŷ":"Y","Ỹ":"Y","Ȳ":"Y","Ẏ":"Y","Ÿ":"Y","Ỷ":"Y","Ỵ":"Y","Ƴ":"Y","Ɏ":"Y","Ỿ":"Y","Ⓩ":"Z","Ｚ":"Z","Ź":"Z","Ẑ":"Z","Ż":"Z","Ž":"Z","Ẓ":"Z","Ẕ":"Z","Ƶ":"Z","Ȥ":"Z","Ɀ":"Z","Ⱬ":"Z","Ꝣ":"Z","ⓐ":"a","ａ":"a","ẚ":"a","à":"a","á":"a","â":"a","ầ":"a","ấ":"a","ẫ":"a","ẩ":"a","ã":"a","ā":"a","ă":"a","ằ":"a","ắ":"a","ẵ":"a","ẳ":"a","ȧ":"a","ǡ":"a","ä":"a","ǟ":"a","ả":"a","å":"a","ǻ":"a","ǎ":"a","ȁ":"a","ȃ":"a","ạ":"a","ậ":"a","ặ":"a","ḁ":"a","ą":"a","ⱥ":"a","ɐ":"a","ꜳ":"aa","æ":"ae","ǽ":"ae","ǣ":"ae","ꜵ":"ao","ꜷ":"au","ꜹ":"av","ꜻ":"av","ꜽ":"ay","ⓑ":"b","ｂ":"b","ḃ":"b","ḅ":"b","ḇ":"b","ƀ":"b","ƃ":"b","ɓ":"b","ⓒ":"c","ｃ":"c","ć":"c","ĉ":"c","ċ":"c","č":"c","ç":"c","ḉ":"c","ƈ":"c","ȼ":"c","ꜿ":"c","ↄ":"c","ⓓ":"d","ｄ":"d","ḋ":"d","ď":"d","ḍ":"d","ḑ":"d","ḓ":"d","ḏ":"d","đ":"d","ƌ":"d","ɖ":"d","ɗ":"d","ꝺ":"d","ǳ":"dz","ǆ":"dz","ⓔ":"e","ｅ":"e","è":"e","é":"e","ê":"e","ề":"e","ế":"e","ễ":"e","ể":"e","ẽ":"e","ē":"e","ḕ":"e","ḗ":"e","ĕ":"e","ė":"e","ë":"e","ẻ":"e","ě":"e","ȅ":"e","ȇ":"e","ẹ":"e","ệ":"e","ȩ":"e","ḝ":"e","ę":"e","ḙ":"e","ḛ":"e","ɇ":"e","ɛ":"e","ǝ":"e","ⓕ":"f","ｆ":"f","ḟ":"f","ƒ":"f","ꝼ":"f","ⓖ":"g","ｇ":"g","ǵ":"g","ĝ":"g","ḡ":"g","ğ":"g","ġ":"g","ǧ":"g","ģ":"g","ǥ":"g","ɠ":"g","ꞡ":"g","ᵹ":"g","ꝿ":"g","ⓗ":"h","ｈ":"h","ĥ":"h","ḣ":"h","ḧ":"h","ȟ":"h","ḥ":"h","ḩ":"h","ḫ":"h","ẖ":"h","ħ":"h","ⱨ":"h","ⱶ":"h","ɥ":"h","ƕ":"hv","ⓘ":"i","ｉ":"i","ì":"i","í":"i","î":"i","ĩ":"i","ī":"i","ĭ":"i","ï":"i","ḯ":"i","ỉ":"i","ǐ":"i","ȉ":"i","ȋ":"i","ị":"i","į":"i","ḭ":"i","ɨ":"i","ı":"i","ⓙ":"j","ｊ":"j","ĵ":"j","ǰ":"j","ɉ":"j","ⓚ":"k","ｋ":"k","ḱ":"k","ǩ":"k","ḳ":"k","ķ":"k","ḵ":"k","ƙ":"k","ⱪ":"k","ꝁ":"k","ꝃ":"k","ꝅ":"k","ꞣ":"k","ⓛ":"l","ｌ":"l","ŀ":"l","ĺ":"l","ľ":"l","ḷ":"l","ḹ":"l","ļ":"l","ḽ":"l","ḻ":"l","ſ":"l","ł":"l","ƚ":"l","ɫ":"l","ⱡ":"l","ꝉ":"l","ꞁ":"l","ꝇ":"l","ǉ":"lj","ⓜ":"m","ｍ":"m","ḿ":"m","ṁ":"m","ṃ":"m","ɱ":"m","ɯ":"m","ⓝ":"n","ｎ":"n","ǹ":"n","ń":"n","ñ":"n","ṅ":"n","ň":"n","ṇ":"n","ņ":"n","ṋ":"n","ṉ":"n","ƞ":"n","ɲ":"n","ŉ":"n","ꞑ":"n","ꞥ":"n","ǌ":"nj","ⓞ":"o","ｏ":"o","ò":"o","ó":"o","ô":"o","ồ":"o","ố":"o","ỗ":"o","ổ":"o","õ":"o","ṍ":"o","ȭ":"o","ṏ":"o","ō":"o","ṑ":"o","ṓ":"o","ŏ":"o","ȯ":"o","ȱ":"o","ö":"o","ȫ":"o","ỏ":"o","ő":"o","ǒ":"o","ȍ":"o","ȏ":"o","ơ":"o","ờ":"o","ớ":"o","ỡ":"o","ở":"o","ợ":"o","ọ":"o","ộ":"o","ǫ":"o","ǭ":"o","ø":"o","ǿ":"o","ɔ":"o","ꝋ":"o","ꝍ":"o","ɵ":"o","œ":"oe","ƣ":"oi","ȣ":"ou","ꝏ":"oo","ⓟ":"p","ｐ":"p","ṕ":"p","ṗ":"p","ƥ":"p","ᵽ":"p","ꝑ":"p","ꝓ":"p","ꝕ":"p","ⓠ":"q","ｑ":"q","ɋ":"q","ꝗ":"q","ꝙ":"q","ⓡ":"r","ｒ":"r","ŕ":"r","ṙ":"r","ř":"r","ȑ":"r","ȓ":"r","ṛ":"r","ṝ":"r","ŗ":"r","ṟ":"r","ɍ":"r","ɽ":"r","ꝛ":"r","ꞧ":"r","ꞃ":"r","ⓢ":"s","ｓ":"s","ß":"s","ś":"s","ṥ":"s","ŝ":"s","ṡ":"s","š":"s","ṧ":"s","ṣ":"s","ṩ":"s","ș":"s","ş":"s","ȿ":"s","ꞩ":"s","ꞅ":"s","ẛ":"s","ⓣ":"t","ｔ":"t","ṫ":"t","ẗ":"t","ť":"t","ṭ":"t","ț":"t","ţ":"t","ṱ":"t","ṯ":"t","ŧ":"t","ƭ":"t","ʈ":"t","ⱦ":"t","ꞇ":"t","ꜩ":"tz","ⓤ":"u","ｕ":"u","ù":"u","ú":"u","û":"u","ũ":"u","ṹ":"u","ū":"u","ṻ":"u","ŭ":"u","ü":"u","ǜ":"u","ǘ":"u","ǖ":"u","ǚ":"u","ủ":"u","ů":"u","ű":"u","ǔ":"u","ȕ":"u","ȗ":"u","ư":"u","ừ":"u","ứ":"u","ữ":"u","ử":"u","ự":"u","ụ":"u","ṳ":"u","ų":"u","ṷ":"u","ṵ":"u","ʉ":"u","ⓥ":"v","ｖ":"v","ṽ":"v","ṿ":"v","ʋ":"v","ꝟ":"v","ʌ":"v","ꝡ":"vy","ⓦ":"w","ｗ":"w","ẁ":"w","ẃ":"w","ŵ":"w","ẇ":"w","ẅ":"w","ẘ":"w","ẉ":"w","ⱳ":"w","ⓧ":"x","ｘ":"x","ẋ":"x","ẍ":"x","ⓨ":"y","ｙ":"y","ỳ":"y","ý":"y","ŷ":"y","ỹ":"y","ȳ":"y","ẏ":"y","ÿ":"y","ỷ":"y","ẙ":"y","ỵ":"y","ƴ":"y","ɏ":"y","ỿ":"y","ⓩ":"z","ｚ":"z","ź":"z","ẑ":"z","ż":"z","ž":"z","ẓ":"z","ẕ":"z","ƶ":"z","ȥ":"z","ɀ":"z","ⱬ":"z","ꝣ":"z","Ά":"Α","Έ":"Ε","Ή":"Η","Ί":"Ι","Ϊ":"Ι","Ό":"Ο","Ύ":"Υ","Ϋ":"Υ","Ώ":"Ω","ά":"α","έ":"ε","ή":"η","ί":"ι","ϊ":"ι","ΐ":"ι","ό":"ο","ύ":"υ","ϋ":"υ","ΰ":"υ","ώ":"ω","ς":"σ","’":"'"}}),t.define("select2/data/base",["../utils"],function(e){function t(e,i){t.__super__.constructor.call(this)}return e.Extend(t,e.Observable),t.prototype.current=function(e){throw new Error("The `current` method must be defined in child classes.")},t.prototype.query=function(e,t){throw new Error("The `query` method must be defined in child classes.")},t.prototype.bind=function(e,t){},t.prototype.destroy=function(){},t.prototype.generateResultId=function(t,i){var n=t.id+"-result-";return n+=e.generateChars(4),null!=i.id?n+="-"+i.id.toString():n+="-"+e.generateChars(4),n},t}),t.define("select2/data/select",["./base","../utils","jquery"],function(e,t,i){function n(e,t){this.$element=e,this.options=t,n.__super__.constructor.call(this)}return t.Extend(n,e),n.prototype.current=function(e){var t=[],n=this;this.$element.find(":selected").each(function(){var e=i(this),r=n.item(e);t.push(r)}),e(t)},n.prototype.select=function(e){var t=this;if(e.selected=!0,i(e.element).is("option"))return e.element.selected=!0,void this.$element.trigger("change");if(this.$element.prop("multiple"))this.current(function(n){var r=[];(e=[e]).push.apply(e,n);for(var s=0;s<e.length;s++){var o=e[s].id;-1===i.inArray(o,r)&&r.push(o)}t.$element.val(r),t.$element.trigger("change")});else{var n=e.id;this.$element.val(n),this.$element.trigger("change")}},n.prototype.unselect=function(e){var t=this;if(this.$element.prop("multiple")){if(e.selected=!1,i(e.element).is("option"))return e.element.selected=!1,void this.$element.trigger("change");this.current(function(n){for(var r=[],s=0;s<n.length;s++){var o=n[s].id;o!==e.id&&-1===i.inArray(o,r)&&r.push(o)}t.$element.val(r),t.$element.trigger("change")})}},n.prototype.bind=function(e,t){var i=this;this.container=e,e.on("select",function(e){i.select(e.data)}),e.on("unselect",function(e){i.unselect(e.data)})},n.prototype.destroy=function(){this.$element.find("*").each(function(){t.RemoveData(this)})},n.prototype.query=function(e,t){var n=[],r=this;this.$element.children().each(function(){var t=i(this);if(t.is("option")||t.is("optgroup")){var s=r.item(t),o=r.matches(e,s);null!==o&&n.push(o)}}),t({results:n})},n.prototype.addOptions=function(e){t.appendMany(this.$element,e)},n.prototype.option=function(e){var n;e.children?(n=document.createElement("optgroup")).label=e.text:void 0!==(n=document.createElement("option")).textContent?n.textContent=e.text:n.innerText=e.text,void 0!==e.id&&(n.value=e.id),e.disabled&&(n.disabled=!0),e.selected&&(n.selected=!0),e.title&&(n.title=e.title);var r=i(n),s=this._normalizeItem(e);return s.element=n,t.StoreData(n,"data",s),r},n.prototype.item=function(e){var n={};if(null!=(n=t.GetData(e[0],"data")))return n;if(e.is("option"))n={id:e.val(),text:e.text(),disabled:e.prop("disabled"),selected:e.prop("selected"),title:e.prop("title")};else if(e.is("optgroup")){n={text:e.prop("label"),children:[],title:e.prop("title")};for(var r=e.children("option"),s=[],o=0;o<r.length;o++){var a=i(r[o]),l=this.item(a);s.push(l)}n.children=s}return(n=this._normalizeItem(n)).element=e[0],t.StoreData(e[0],"data",n),n},n.prototype._normalizeItem=function(e){e!==Object(e)&&(e={id:e,text:e});return null!=(e=i.extend({},{text:""},e)).id&&(e.id=e.id.toString()),null!=e.text&&(e.text=e.text.toString()),null==e._resultId&&e.id&&null!=this.container&&(e._resultId=this.generateResultId(this.container,e)),i.extend({},{selected:!1,disabled:!1},e)},n.prototype.matches=function(e,t){return this.options.get("matcher")(e,t)},n}),t.define("select2/data/array",["./select","../utils","jquery"],function(e,t,i){function n(e,t){var i=t.get("data")||[];n.__super__.constructor.call(this,e,t),this.addOptions(this.convertToOptions(i))}return t.Extend(n,e),n.prototype.select=function(e){var t=this.$element.find("option").filter(function(t,i){return i.value==e.id.toString()});0===t.length&&(t=this.option(e),this.addOptions(t)),n.__super__.select.call(this,e)},n.prototype.convertToOptions=function(e){function n(e){return function(){return i(this).val()==e.id}}for(var r=this,s=this.$element.find("option"),o=s.map(function(){return r.item(i(this)).id}).get(),a=[],l=0;l<e.length;l++){var u=this._normalizeItem(e[l]);if(i.inArray(u.id,o)>=0){var c=s.filter(n(u)),d=this.item(c),h=i.extend(!0,{},u,d),p=this.option(h);c.replaceWith(p)}else{var f=this.option(u);if(u.children){var m=this.convertToOptions(u.children);t.appendMany(f,m)}a.push(f)}}return a},n}),t.define("select2/data/ajax",["./array","../utils","jquery"],function(e,t,i){function n(e,t){this.ajaxOptions=this._applyDefaults(t.get("ajax")),null!=this.ajaxOptions.processResults&&(this.processResults=this.ajaxOptions.processResults),n.__super__.constructor.call(this,e,t)}return t.Extend(n,e),n.prototype._applyDefaults=function(e){var t={data:function(e){return i.extend({},e,{q:e.term})},transport:function(e,t,n){var r=i.ajax(e);return r.then(t),r.fail(n),r}};return i.extend({},t,e,!0)},n.prototype.processResults=function(e){return e},n.prototype.query=function(e,t){function n(){var n=s.transport(s,function(n){var s=r.processResults(n,e);r.options.get("debug")&&window.console&&console.error&&(s&&s.results&&i.isArray(s.results)||console.error("Select2: The AJAX results did not return an array in the `results` key of the response.")),t(s)},function(){"status"in n&&(0===n.status||"0"===n.status)||r.trigger("results:message",{message:"errorLoading"})});r._request=n}var r=this;null!=this._request&&(i.isFunction(this._request.abort)&&this._request.abort(),this._request=null);var s=i.extend({type:"GET"},this.ajaxOptions);"function"==typeof s.url&&(s.url=s.url.call(this.$element,e)),"function"==typeof s.data&&(s.data=s.data.call(this.$element,e)),this.ajaxOptions.delay&&null!=e.term?(this._queryTimeout&&window.clearTimeout(this._queryTimeout),this._queryTimeout=window.setTimeout(n,this.ajaxOptions.delay)):n()},n}),t.define("select2/data/tags",["jquery"],function(e){function t(t,i,n){var r=n.get("tags"),s=n.get("createTag");void 0!==s&&(this.createTag=s);var o=n.get("insertTag");if(void 0!==o&&(this.insertTag=o),t.call(this,i,n),e.isArray(r))for(var a=0;a<r.length;a++){var l=r[a],u=this._normalizeItem(l),c=this.option(u);this.$element.append(c)}}return t.prototype.query=function(e,t,i){var n=this;this._removeOldTags(),null!=t.term&&null==t.page?e.call(this,t,function e(r,s){for(var o=r.results,a=0;a<o.length;a++){var l=o[a],u=null!=l.children&&!e({results:l.children},!0);if((l.text||"").toUpperCase()===(t.term||"").toUpperCase()||u)return!s&&(r.data=o,void i(r))}if(s)return!0;var c=n.createTag(t);if(null!=c){var d=n.option(c);d.attr("data-select2-tag",!0),n.addOptions([d]),n.insertTag(o,c)}r.results=o,i(r)}):e.call(this,t,i)},t.prototype.createTag=function(t,i){var n=e.trim(i.term);return""===n?null:{id:n,text:n}},t.prototype.insertTag=function(e,t,i){t.unshift(i)},t.prototype._removeOldTags=function(t){this._lastTag,this.$element.find("option[data-select2-tag]").each(function(){this.selected||e(this).remove()})},t}),t.define("select2/data/tokenizer",["jquery"],function(e){function t(e,t,i){var n=i.get("tokenizer");void 0!==n&&(this.tokenizer=n),e.call(this,t,i)}return t.prototype.bind=function(e,t,i){e.call(this,t,i),this.$search=t.dropdown.$search||t.selection.$search||i.find(".select2-search__field")},t.prototype.query=function(t,i,n){var r=this;i.term=i.term||"";var s=this.tokenizer(i,this.options,function(t){var i=r._normalizeItem(t);if(!r.$element.find("option").filter(function(){return e(this).val()===i.id}).length){var n=r.option(i);n.attr("data-select2-tag",!0),r._removeOldTags(),r.addOptions([n])}!function(e){r.trigger("select",{data:e})}(i)});s.term!==i.term&&(this.$search.length&&(this.$search.val(s.term),this.$search.focus()),i.term=s.term),t.call(this,i,n)},t.prototype.tokenizer=function(t,i,n,r){for(var s=n.get("tokenSeparators")||[],o=i.term,a=0,l=this.createTag||function(e){return{id:e.term,text:e.term}};a<o.length;){var u=o[a];if(-1!==e.inArray(u,s)){var c=o.substr(0,a),d=l(e.extend({},i,{term:c}));null!=d?(r(d),o=o.substr(a+1)||"",a=0):a++}else a++}return{term:o}},t}),t.define("select2/data/minimumInputLength",[],function(){function e(e,t,i){this.minimumInputLength=i.get("minimumInputLength"),e.call(this,t,i)}return e.prototype.query=function(e,t,i){t.term=t.term||"",t.term.length<this.minimumInputLength?this.trigger("results:message",{message:"inputTooShort",args:{minimum:this.minimumInputLength,input:t.term,params:t}}):e.call(this,t,i)},e}),t.define("select2/data/maximumInputLength",[],function(){function e(e,t,i){this.maximumInputLength=i.get("maximumInputLength"),e.call(this,t,i)}return e.prototype.query=function(e,t,i){t.term=t.term||"",this.maximumInputLength>0&&t.term.length>this.maximumInputLength?this.trigger("results:message",{message:"inputTooLong",args:{maximum:this.maximumInputLength,input:t.term,params:t}}):e.call(this,t,i)},e}),t.define("select2/data/maximumSelectionLength",[],function(){function e(e,t,i){this.maximumSelectionLength=i.get("maximumSelectionLength"),e.call(this,t,i)}return e.prototype.query=function(e,t,i){var n=this;this.current(function(r){var s=null!=r?r.length:0;n.maximumSelectionLength>0&&s>=n.maximumSelectionLength?n.trigger("results:message",{message:"maximumSelected",args:{maximum:n.maximumSelectionLength}}):e.call(n,t,i)})},e}),t.define("select2/dropdown",["jquery","./utils"],function(e,t){function i(e,t){this.$element=e,this.options=t,i.__super__.constructor.call(this)}return t.Extend(i,t.Observable),i.prototype.render=function(){var t=e('<span class="select2-dropdown"><span class="select2-results"></span></span>');return t.attr("dir",this.options.get("dir")),this.$dropdown=t,t},i.prototype.bind=function(){},i.prototype.position=function(e,t){},i.prototype.destroy=function(){this.$dropdown.remove()},i}),t.define("select2/dropdown/search",["jquery","../utils"],function(e,t){function i(){}return i.prototype.render=function(t){var i=t.call(this),n=e('<span class="select2-search select2-search--dropdown"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="none" spellcheck="false" role="textbox" /></span>');return this.$searchContainer=n,this.$search=n.find("input"),i.prepend(n),i},i.prototype.bind=function(t,i,n){var r=this;t.call(this,i,n),this.$search.on("keydown",function(e){r.trigger("keypress",e),r._keyUpPrevented=e.isDefaultPrevented()}),this.$search.on("input",function(t){e(this).off("keyup")}),this.$search.on("keyup input",function(e){r.handleSearch(e)}),i.on("open",function(){r.$search.attr("tabindex",0),r.$search.focus(),window.setTimeout(function(){r.$search.focus()},0)}),i.on("close",function(){r.$search.attr("tabindex",-1),r.$search.val(""),r.$search.blur()}),i.on("focus",function(){i.isOpen()||r.$search.focus()}),i.on("results:all",function(e){null!=e.query.term&&""!==e.query.term||(r.showSearch(e)?r.$searchContainer.removeClass("select2-search--hide"):r.$searchContainer.addClass("select2-search--hide"))})},i.prototype.handleSearch=function(e){if(!this._keyUpPrevented){var t=this.$search.val();this.trigger("query",{term:t})}this._keyUpPrevented=!1},i.prototype.showSearch=function(e,t){return!0},i}),t.define("select2/dropdown/hidePlaceholder",[],function(){function e(e,t,i,n){this.placeholder=this.normalizePlaceholder(i.get("placeholder")),e.call(this,t,i,n)}return e.prototype.append=function(e,t){t.results=this.removePlaceholder(t.results),e.call(this,t)},e.prototype.normalizePlaceholder=function(e,t){return"string"==typeof t&&(t={id:"",text:t}),t},e.prototype.removePlaceholder=function(e,t){for(var i=t.slice(0),n=t.length-1;n>=0;n--){var r=t[n];this.placeholder.id===r.id&&i.splice(n,1)}return i},e}),t.define("select2/dropdown/infiniteScroll",["jquery"],function(e){function t(e,t,i,n){this.lastParams={},e.call(this,t,i,n),this.$loadingMore=this.createLoadingMore(),this.loading=!1}return t.prototype.append=function(e,t){this.$loadingMore.remove(),this.loading=!1,e.call(this,t),this.showLoadingMore(t)&&this.$results.append(this.$loadingMore)},t.prototype.bind=function(t,i,n){var r=this;t.call(this,i,n),i.on("query",function(e){r.lastParams=e,r.loading=!0}),i.on("query:append",function(e){r.lastParams=e,r.loading=!0}),this.$results.on("scroll",function(){var t=e.contains(document.documentElement,r.$loadingMore[0]);!r.loading&&t&&r.$results.offset().top+r.$results.outerHeight(!1)+50>=r.$loadingMore.offset().top+r.$loadingMore.outerHeight(!1)&&r.loadMore()})},t.prototype.loadMore=function(){this.loading=!0;var t=e.extend({},{page:1},this.lastParams);t.page++,this.trigger("query:append",t)},t.prototype.showLoadingMore=function(e,t){return t.pagination&&t.pagination.more},t.prototype.createLoadingMore=function(){var t=e('<li class="select2-results__option select2-results__option--load-more"role="treeitem" aria-disabled="true"></li>'),i=this.options.get("translations").get("loadingMore");return t.html(i(this.lastParams)),t},t}),t.define("select2/dropdown/attachBody",["jquery","../utils"],function(e,t){function i(t,i,n){this.$dropdownParent=n.get("dropdownParent")||e(document.body),t.call(this,i,n)}return i.prototype.bind=function(e,t,i){var n=this,r=!1;e.call(this,t,i),t.on("open",function(){n._showDropdown(),n._attachPositioningHandler(t),r||(r=!0,t.on("results:all",function(){n._positionDropdown(),n._resizeDropdown()}),t.on("results:append",function(){n._positionDropdown(),n._resizeDropdown()}))}),t.on("close",function(){n._hideDropdown(),n._detachPositioningHandler(t)}),this.$dropdownContainer.on("mousedown",function(e){e.stopPropagation()})},i.prototype.destroy=function(e){e.call(this),this.$dropdownContainer.remove()},i.prototype.position=function(e,t,i){t.attr("class",i.attr("class")),t.removeClass("select2"),t.addClass("select2-container--open"),t.css({position:"absolute",top:-999999}),this.$container=i},i.prototype.render=function(t){var i=e("<span></span>"),n=t.call(this);return i.append(n),this.$dropdownContainer=i,i},i.prototype._hideDropdown=function(e){this.$dropdownContainer.detach()},i.prototype._attachPositioningHandler=function(i,n){var r=this,s="scroll.select2."+n.id,o="resize.select2."+n.id,a="orientationchange.select2."+n.id,l=this.$container.parents().filter(t.hasScroll);l.each(function(){t.StoreData(this,"select2-scroll-position",{x:e(this).scrollLeft(),y:e(this).scrollTop()})}),l.on(s,function(i){var n=t.GetData(this,"select2-scroll-position");e(this).scrollTop(n.y)}),e(window).on(s+" "+o+" "+a,function(e){r._positionDropdown(),r._resizeDropdown()})},i.prototype._detachPositioningHandler=function(i,n){var r="scroll.select2."+n.id,s="resize.select2."+n.id,o="orientationchange.select2."+n.id;this.$container.parents().filter(t.hasScroll).off(r),e(window).off(r+" "+s+" "+o)},i.prototype._positionDropdown=function(){var t=e(window),i=this.$dropdown.hasClass("select2-dropdown--above"),n=this.$dropdown.hasClass("select2-dropdown--below"),r=null,s=this.$container.offset();s.bottom=s.top+this.$container.outerHeight(!1);var o={height:this.$container.outerHeight(!1)};o.top=s.top,o.bottom=s.top+o.height;var a=this.$dropdown.outerHeight(!1),l=t.scrollTop(),u=t.scrollTop()+t.height(),c=l<s.top-a,d=u>s.bottom+a,h={left:s.left,top:o.bottom},p=this.$dropdownParent;"static"===p.css("position")&&(p=p.offsetParent());var f=p.offset();h.top-=f.top,h.left-=f.left,i||n||(r="below"),d||!c||i?!c&&d&&i&&(r="below"):r="above",("above"==r||i&&"below"!==r)&&(h.top=o.top-f.top-a),null!=r&&(this.$dropdown.removeClass("select2-dropdown--below select2-dropdown--above").addClass("select2-dropdown--"+r),this.$container.removeClass("select2-container--below select2-container--above").addClass("select2-container--"+r)),this.$dropdownContainer.css(h)},i.prototype._resizeDropdown=function(){var e={width:this.$container.outerWidth(!1)+"px"};this.options.get("dropdownAutoWidth")&&(e.minWidth=e.width,e.position="relative",e.width="auto"),this.$dropdown.css(e)},i.prototype._showDropdown=function(e){this.$dropdownContainer.appendTo(this.$dropdownParent),this._positionDropdown(),this._resizeDropdown()},i}),t.define("select2/dropdown/minimumResultsForSearch",[],function(){function e(e,t,i,n){this.minimumResultsForSearch=i.get("minimumResultsForSearch"),this.minimumResultsForSearch<0&&(this.minimumResultsForSearch=1/0),e.call(this,t,i,n)}return e.prototype.showSearch=function(e,t){return!(function e(t){for(var i=0,n=0;n<t.length;n++){var r=t[n];r.children?i+=e(r.children):i++}return i}(t.data.results)<this.minimumResultsForSearch)&&e.call(this,t)},e}),t.define("select2/dropdown/selectOnClose",["../utils"],function(e){function t(){}return t.prototype.bind=function(e,t,i){var n=this;e.call(this,t,i),t.on("close",function(e){n._handleSelectOnClose(e)})},t.prototype._handleSelectOnClose=function(t,i){if(i&&null!=i.originalSelect2Event){var n=i.originalSelect2Event;if("select"===n._type||"unselect"===n._type)return}var r=this.getHighlightedResults();if(!(r.length<1)){var s=e.GetData(r[0],"data");null!=s.element&&s.element.selected||null==s.element&&s.selected||this.trigger("select",{data:s})}},t}),t.define("select2/dropdown/closeOnSelect",[],function(){function e(){}return e.prototype.bind=function(e,t,i){var n=this;e.call(this,t,i),t.on("select",function(e){n._selectTriggered(e)}),t.on("unselect",function(e){n._selectTriggered(e)})},e.prototype._selectTriggered=function(e,t){var i=t.originalEvent;i&&(i.ctrlKey||i.metaKey)||this.trigger("close",{originalEvent:i,originalSelect2Event:t})},e}),t.define("select2/i18n/en",[],function(){return{errorLoading:function(){return"The results could not be loaded."},inputTooLong:function(e){var t=e.input.length-e.maximum,i="Please delete "+t+" character";return 1!=t&&(i+="s"),i},inputTooShort:function(e){return"Please enter "+(e.minimum-e.input.length)+" or more characters"},loadingMore:function(){return"Loading more results…"},maximumSelected:function(e){var t="You can only select "+e.maximum+" item";return 1!=e.maximum&&(t+="s"),t},noResults:function(){return"No results found"},searching:function(){return"Searching…"},removeAllItems:function(){return"Remove all items"}}}),t.define("select2/defaults",["jquery","require","./results","./selection/single","./selection/multiple","./selection/placeholder","./selection/allowClear","./selection/search","./selection/eventRelay","./utils","./translation","./diacritics","./data/select","./data/array","./data/ajax","./data/tags","./data/tokenizer","./data/minimumInputLength","./data/maximumInputLength","./data/maximumSelectionLength","./dropdown","./dropdown/search","./dropdown/hidePlaceholder","./dropdown/infiniteScroll","./dropdown/attachBody","./dropdown/minimumResultsForSearch","./dropdown/selectOnClose","./dropdown/closeOnSelect","./i18n/en"],function(e,t,i,n,r,s,o,a,l,u,c,d,h,p,f,m,g,v,y,_,b,w,T,C,S,k,$,A,x){function E(){this.reset()}return E.prototype.apply=function(d){if(null==(d=e.extend(!0,{},this.defaults,d)).dataAdapter){if(null!=d.ajax?d.dataAdapter=f:null!=d.data?d.dataAdapter=p:d.dataAdapter=h,d.minimumInputLength>0&&(d.dataAdapter=u.Decorate(d.dataAdapter,v)),d.maximumInputLength>0&&(d.dataAdapter=u.Decorate(d.dataAdapter,y)),d.maximumSelectionLength>0&&(d.dataAdapter=u.Decorate(d.dataAdapter,_)),d.tags&&(d.dataAdapter=u.Decorate(d.dataAdapter,m)),null==d.tokenSeparators&&null==d.tokenizer||(d.dataAdapter=u.Decorate(d.dataAdapter,g)),null!=d.query){var x=t(d.amdBase+"compat/query");d.dataAdapter=u.Decorate(d.dataAdapter,x)}if(null!=d.initSelection){var E=t(d.amdBase+"compat/initSelection");d.dataAdapter=u.Decorate(d.dataAdapter,E)}}if(null==d.resultsAdapter&&(d.resultsAdapter=i,null!=d.ajax&&(d.resultsAdapter=u.Decorate(d.resultsAdapter,C)),null!=d.placeholder&&(d.resultsAdapter=u.Decorate(d.resultsAdapter,T)),d.selectOnClose&&(d.resultsAdapter=u.Decorate(d.resultsAdapter,$))),null==d.dropdownAdapter){if(d.multiple)d.dropdownAdapter=b;else{var I=u.Decorate(b,w);d.dropdownAdapter=I}if(0!==d.minimumResultsForSearch&&(d.dropdownAdapter=u.Decorate(d.dropdownAdapter,k)),d.closeOnSelect&&(d.dropdownAdapter=u.Decorate(d.dropdownAdapter,A)),null!=d.dropdownCssClass||null!=d.dropdownCss||null!=d.adaptDropdownCssClass){var D=t(d.amdBase+"compat/dropdownCss");d.dropdownAdapter=u.Decorate(d.dropdownAdapter,D)}d.dropdownAdapter=u.Decorate(d.dropdownAdapter,S)}if(null==d.selectionAdapter){if(d.multiple?d.selectionAdapter=r:d.selectionAdapter=n,null!=d.placeholder&&(d.selectionAdapter=u.Decorate(d.selectionAdapter,s)),d.allowClear&&(d.selectionAdapter=u.Decorate(d.selectionAdapter,o)),d.multiple&&(d.selectionAdapter=u.Decorate(d.selectionAdapter,a)),null!=d.containerCssClass||null!=d.containerCss||null!=d.adaptContainerCssClass){var O=t(d.amdBase+"compat/containerCss");d.selectionAdapter=u.Decorate(d.selectionAdapter,O)}d.selectionAdapter=u.Decorate(d.selectionAdapter,l)}if("string"==typeof d.language)if(d.language.indexOf("-")>0){var P=d.language.split("-")[0];d.language=[d.language,P]}else d.language=[d.language];if(e.isArray(d.language)){var N=new c;d.language.push("en");for(var L=d.language,F=0;F<L.length;F++){var z=L[F],R={};try{R=c.loadPath(z)}catch(e){try{z=this.defaults.amdLanguageBase+z,R=c.loadPath(z)}catch(e){d.debug&&window.console&&console.warn&&console.warn('Select2: The language file for "'+z+'" could not be automatically loaded. A fallback will be used instead.');continue}}N.extend(R)}d.translations=N}else{var M=c.loadPath(this.defaults.amdLanguageBase+"en"),j=new c(d.language);j.extend(M),d.translations=j}return d},E.prototype.reset=function(){function t(e){return e.replace(/[^\u0000-\u007E]/g,function(e){return d[e]||e})}this.defaults={amdBase:"./",amdLanguageBase:"./i18n/",closeOnSelect:!0,debug:!1,dropdownAutoWidth:!1,escapeMarkup:u.escapeMarkup,language:x,matcher:function i(n,r){if(""===e.trim(n.term))return r;if(r.children&&r.children.length>0){for(var s=e.extend(!0,{},r),o=r.children.length-1;o>=0;o--)null==i(n,r.children[o])&&s.children.splice(o,1);return s.children.length>0?s:i(n,s)}var a=t(r.text).toUpperCase(),l=t(n.term).toUpperCase();return a.indexOf(l)>-1?r:null},minimumInputLength:0,maximumInputLength:0,maximumSelectionLength:0,minimumResultsForSearch:0,selectOnClose:!1,scrollAfterSelect:!1,sorter:function(e){return e},templateResult:function(e){return e.text},templateSelection:function(e){return e.text},theme:"default",width:"resolve"}},E.prototype.set=function(t,i){var n={};n[e.camelCase(t)]=i;var r=u._convertData(n);e.extend(!0,this.defaults,r)},new E}),t.define("select2/options",["require","jquery","./defaults","./utils"],function(e,t,i,n){function r(t,r){if(this.options=t,null!=r&&this.fromElement(r),this.options=i.apply(this.options),r&&r.is("input")){var s=e(this.get("amdBase")+"compat/inputData");this.options.dataAdapter=n.Decorate(this.options.dataAdapter,s)}}return r.prototype.fromElement=function(e){function i(e,t){return t.toUpperCase()}var r=["select2"];null==this.options.multiple&&(this.options.multiple=e.prop("multiple")),null==this.options.disabled&&(this.options.disabled=e.prop("disabled")),null==this.options.language&&(e.prop("lang")?this.options.language=e.prop("lang").toLowerCase():e.closest("[lang]").prop("lang")&&(this.options.language=e.closest("[lang]").prop("lang"))),null==this.options.dir&&(e.prop("dir")?this.options.dir=e.prop("dir"):e.closest("[dir]").prop("dir")?this.options.dir=e.closest("[dir]").prop("dir"):this.options.dir="ltr"),e.prop("disabled",this.options.disabled),e.prop("multiple",this.options.multiple),n.GetData(e[0],"select2Tags")&&(this.options.debug&&window.console&&console.warn&&console.warn('Select2: The `data-select2-tags` attribute has been changed to use the `data-data` and `data-tags="true"` attributes and will be removed in future versions of Select2.'),n.StoreData(e[0],"data",n.GetData(e[0],"select2Tags")),n.StoreData(e[0],"tags",!0)),n.GetData(e[0],"ajaxUrl")&&(this.options.debug&&window.console&&console.warn&&console.warn("Select2: The `data-ajax-url` attribute has been changed to `data-ajax--url` and support for the old attribute will be removed in future versions of Select2."),e.attr("ajax--url",n.GetData(e[0],"ajaxUrl")),n.StoreData(e[0],"ajax-Url",n.GetData(e[0],"ajaxUrl")));for(var s={},o=0;o<e[0].attributes.length;o++){var a=e[0].attributes[o].name,l="data-";if(a.substr(0,l.length)==l){var u=a.substring(l.length),c=n.GetData(e[0],u);s[u.replace(/-([a-z])/g,i)]=c}}t.fn.jquery&&"1."==t.fn.jquery.substr(0,2)&&e[0].dataset&&(s=t.extend(!0,{},e[0].dataset,s));var d=t.extend(!0,{},n.GetData(e[0]),s);for(var h in d=n._convertData(d))t.inArray(h,r)>-1||(t.isPlainObject(this.options[h])?t.extend(this.options[h],d[h]):this.options[h]=d[h]);return this},r.prototype.get=function(e){return this.options[e]},r.prototype.set=function(e,t){this.options[e]=t},r}),t.define("select2/core",["jquery","./options","./utils","./keys"],function(e,t,i,n){var r=function(e,n){null!=i.GetData(e[0],"select2")&&i.GetData(e[0],"select2").destroy(),this.$element=e,this.id=this._generateId(e),n=n||{},this.options=new t(n,e),r.__super__.constructor.call(this);var s=e.attr("tabindex")||0;i.StoreData(e[0],"old-tabindex",s),e.attr("tabindex","-1");var o=this.options.get("dataAdapter");this.dataAdapter=new o(e,this.options);var a=this.render();this._placeContainer(a);var l=this.options.get("selectionAdapter");this.selection=new l(e,this.options),this.$selection=this.selection.render(),this.selection.position(this.$selection,a);var u=this.options.get("dropdownAdapter");this.dropdown=new u(e,this.options),this.$dropdown=this.dropdown.render(),this.dropdown.position(this.$dropdown,a);var c=this.options.get("resultsAdapter");this.results=new c(e,this.options,this.dataAdapter),this.$results=this.results.render(),this.results.position(this.$results,this.$dropdown);var d=this;this._bindAdapters(),this._registerDomEvents(),this._registerDataEvents(),this._registerSelectionEvents(),this._registerDropdownEvents(),this._registerResultsEvents(),this._registerEvents(),this.dataAdapter.current(function(e){d.trigger("selection:update",{data:e})}),e.addClass("select2-hidden-accessible"),e.attr("aria-hidden","true"),this._syncAttributes(),i.StoreData(e[0],"select2",this),e.data("select2",this)};return i.Extend(r,i.Observable),r.prototype._generateId=function(e){return"select2-"+(null!=e.attr("id")?e.attr("id"):null!=e.attr("name")?e.attr("name")+"-"+i.generateChars(2):i.generateChars(4)).replace(/(:|\.|\[|\]|,)/g,"")},r.prototype._placeContainer=function(e){e.insertAfter(this.$element);var t=this._resolveWidth(this.$element,this.options.get("width"));null!=t&&e.css("width",t)},r.prototype._resolveWidth=function(e,t){var i=/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i;if("resolve"==t){var n=this._resolveWidth(e,"style");return null!=n?n:this._resolveWidth(e,"element")}if("element"==t){var r=e.outerWidth(!1);return r<=0?"auto":r+"px"}if("style"==t){var s=e.attr("style");if("string"!=typeof s)return null;for(var o=s.split(";"),a=0,l=o.length;a<l;a+=1){var u=o[a].replace(/\s/g,"").match(i);if(null!==u&&u.length>=1)return u[1]}return null}return t},r.prototype._bindAdapters=function(){this.dataAdapter.bind(this,this.$container),this.selection.bind(this,this.$container),this.dropdown.bind(this,this.$container),this.results.bind(this,this.$container)},r.prototype._registerDomEvents=function(){var t=this;this.$element.on("change.select2",function(){t.dataAdapter.current(function(e){t.trigger("selection:update",{data:e})})}),this.$element.on("focus.select2",function(e){t.trigger("focus",e)}),this._syncA=i.bind(this._syncAttributes,this),this._syncS=i.bind(this._syncSubtree,this),this.$element[0].attachEvent&&this.$element[0].attachEvent("onpropertychange",this._syncA);var n=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;null!=n?(this._observer=new n(function(i){e.each(i,t._syncA),e.each(i,t._syncS)}),this._observer.observe(this.$element[0],{attributes:!0,childList:!0,subtree:!1})):this.$element[0].addEventListener&&(this.$element[0].addEventListener("DOMAttrModified",t._syncA,!1),this.$element[0].addEventListener("DOMNodeInserted",t._syncS,!1),this.$element[0].addEventListener("DOMNodeRemoved",t._syncS,!1))},r.prototype._registerDataEvents=function(){var e=this;this.dataAdapter.on("*",function(t,i){e.trigger(t,i)})},r.prototype._registerSelectionEvents=function(){var t=this,i=["toggle","focus"];this.selection.on("toggle",function(){t.toggleDropdown()}),this.selection.on("focus",function(e){t.focus(e)}),this.selection.on("*",function(n,r){-1===e.inArray(n,i)&&t.trigger(n,r)})},r.prototype._registerDropdownEvents=function(){var e=this;this.dropdown.on("*",function(t,i){e.trigger(t,i)})},r.prototype._registerResultsEvents=function(){var e=this;this.results.on("*",function(t,i){e.trigger(t,i)})},r.prototype._registerEvents=function(){var e=this;this.on("open",function(){e.$container.addClass("select2-container--open")}),this.on("close",function(){e.$container.removeClass("select2-container--open")}),this.on("enable",function(){e.$container.removeClass("select2-container--disabled")}),this.on("disable",function(){e.$container.addClass("select2-container--disabled")}),this.on("blur",function(){e.$container.removeClass("select2-container--focus")}),this.on("query",function(t){e.isOpen()||e.trigger("open",{}),this.dataAdapter.query(t,function(i){e.trigger("results:all",{data:i,query:t})})}),this.on("query:append",function(t){this.dataAdapter.query(t,function(i){e.trigger("results:append",{data:i,query:t})})}),this.on("keypress",function(t){var i=t.which;e.isOpen()?i===n.ESC||i===n.TAB||i===n.UP&&t.altKey?(e.close(),t.preventDefault()):i===n.ENTER?(e.trigger("results:select",{}),t.preventDefault()):i===n.SPACE&&t.ctrlKey?(e.trigger("results:toggle",{}),t.preventDefault()):i===n.UP?(e.trigger("results:previous",{}),t.preventDefault()):i===n.DOWN&&(e.trigger("results:next",{}),t.preventDefault()):(i===n.ENTER||i===n.SPACE||i===n.DOWN&&t.altKey)&&(e.open(),t.preventDefault())})},r.prototype._syncAttributes=function(){this.options.set("disabled",this.$element.prop("disabled")),this.options.get("disabled")?(this.isOpen()&&this.close(),this.trigger("disable",{})):this.trigger("enable",{})},r.prototype._syncSubtree=function(e,t){var i=!1,n=this;if(!e||!e.target||"OPTION"===e.target.nodeName||"OPTGROUP"===e.target.nodeName){if(t)if(t.addedNodes&&t.addedNodes.length>0)for(var r=0;r<t.addedNodes.length;r++){t.addedNodes[r].selected&&(i=!0)}else t.removedNodes&&t.removedNodes.length>0&&(i=!0);else i=!0;i&&this.dataAdapter.current(function(e){n.trigger("selection:update",{data:e})})}},r.prototype.trigger=function(e,t){var i=r.__super__.trigger,n={open:"opening",close:"closing",select:"selecting",unselect:"unselecting",clear:"clearing"};if(void 0===t&&(t={}),e in n){var s=n[e],o={prevented:!1,name:e,args:t};if(i.call(this,s,o),o.prevented)return void(t.prevented=!0)}i.call(this,e,t)},r.prototype.toggleDropdown=function(){this.options.get("disabled")||(this.isOpen()?this.close():this.open())},r.prototype.open=function(){this.isOpen()||this.trigger("query",{})},r.prototype.close=function(){this.isOpen()&&this.trigger("close",{})},r.prototype.isOpen=function(){return this.$container.hasClass("select2-container--open")},r.prototype.hasFocus=function(){return this.$container.hasClass("select2-container--focus")},r.prototype.focus=function(e){this.hasFocus()||(this.$container.addClass("select2-container--focus"),this.trigger("focus",{}))},r.prototype.enable=function(e){this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("enable")` method has been deprecated and will be removed in later Select2 versions. Use $element.prop("disabled") instead.'),null!=e&&0!==e.length||(e=[!0]);var t=!e[0];this.$element.prop("disabled",t)},r.prototype.data=function(){this.options.get("debug")&&arguments.length>0&&window.console&&console.warn&&console.warn('Select2: Data can no longer be set using `select2("data")`. You should consider setting the value instead using `$element.val()`.');var e=[];return this.dataAdapter.current(function(t){e=t}),e},r.prototype.val=function(t){if(this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("val")` method has been deprecated and will be removed in later Select2 versions. Use $element.val() instead.'),null==t||0===t.length)return this.$element.val();var i=t[0];e.isArray(i)&&(i=e.map(i,function(e){return e.toString()})),this.$element.val(i).trigger("change")},r.prototype.destroy=function(){this.$container.remove(),this.$element[0].detachEvent&&this.$element[0].detachEvent("onpropertychange",this._syncA),null!=this._observer?(this._observer.disconnect(),this._observer=null):this.$element[0].removeEventListener&&(this.$element[0].removeEventListener("DOMAttrModified",this._syncA,!1),this.$element[0].removeEventListener("DOMNodeInserted",this._syncS,!1),this.$element[0].removeEventListener("DOMNodeRemoved",this._syncS,!1)),this._syncA=null,this._syncS=null,this.$element.off(".select2"),this.$element.attr("tabindex",i.GetData(this.$element[0],"old-tabindex")),this.$element.removeClass("select2-hidden-accessible"),this.$element.attr("aria-hidden","false"),i.RemoveData(this.$element[0]),this.$element.removeData("select2"),this.dataAdapter.destroy(),this.selection.destroy(),this.dropdown.destroy(),this.results.destroy(),this.dataAdapter=null,this.selection=null,this.dropdown=null,this.results=null},r.prototype.render=function(){var t=e('<span class="select2 select2-container"><span class="selection"></span><span class="dropdown-wrapper" aria-hidden="true"></span></span>');return t.attr("dir",this.options.get("dir")),this.$container=t,this.$container.addClass("select2-container--"+this.options.get("theme")),i.StoreData(t[0],"element",this.$element),t},r}),t.define("select2/compat/utils",["jquery"],function(e){return{syncCssClasses:function(t,i,n){var r,s,o=[];(r=e.trim(t.attr("class")))&&e((r=""+r).split(/\s+/)).each(function(){0===this.indexOf("select2-")&&o.push(this)}),(r=e.trim(i.attr("class")))&&e((r=""+r).split(/\s+/)).each(function(){0!==this.indexOf("select2-")&&null!=(s=n(this))&&o.push(s)}),t.attr("class",o.join(" "))}}}),t.define("select2/compat/containerCss",["jquery","./utils"],function(e,t){function i(e){return null}function n(){}return n.prototype.render=function(n){var r=n.call(this),s=this.options.get("containerCssClass")||"";e.isFunction(s)&&(s=s(this.$element));var o=this.options.get("adaptContainerCssClass");if(o=o||i,-1!==s.indexOf(":all:")){s=s.replace(":all:","");var a=o;o=function(e){var t=a(e);return null!=t?t+" "+e:e}}var l=this.options.get("containerCss")||{};return e.isFunction(l)&&(l=l(this.$element)),t.syncCssClasses(r,this.$element,o),r.css(l),r.addClass(s),r},n}),t.define("select2/compat/dropdownCss",["jquery","./utils"],function(e,t){function i(e){return null}function n(){}return n.prototype.render=function(n){var r=n.call(this),s=this.options.get("dropdownCssClass")||"";e.isFunction(s)&&(s=s(this.$element));var o=this.options.get("adaptDropdownCssClass");if(o=o||i,-1!==s.indexOf(":all:")){s=s.replace(":all:","");var a=o;o=function(e){var t=a(e);return null!=t?t+" "+e:e}}var l=this.options.get("dropdownCss")||{};return e.isFunction(l)&&(l=l(this.$element)),t.syncCssClasses(r,this.$element,o),r.css(l),r.addClass(s),r},n}),t.define("select2/compat/initSelection",["jquery"],function(e){function t(e,t,i){i.get("debug")&&window.console&&console.warn&&console.warn("Select2: The `initSelection` option has been deprecated in favor of a custom data adapter that overrides the `current` method. This method is now called multiple times instead of a single time when the instance is initialized. Support will be removed for the `initSelection` option in future versions of Select2"),this.initSelection=i.get("initSelection"),this._isInitialized=!1,e.call(this,t,i)}return t.prototype.current=function(t,i){var n=this;this._isInitialized?t.call(this,i):this.initSelection.call(null,this.$element,function(t){n._isInitialized=!0,e.isArray(t)||(t=[t]),i(t)})},t}),t.define("select2/compat/inputData",["jquery","../utils"],function(e,t){function i(e,t,i){this._currentData=[],this._valueSeparator=i.get("valueSeparator")||",","hidden"===t.prop("type")&&i.get("debug")&&console&&console.warn&&console.warn("Select2: Using a hidden input with Select2 is no longer supported and may stop working in the future. It is recommended to use a `<select>` element instead."),e.call(this,t,i)}return i.prototype.current=function(t,i){function n(t,i){var r=[];return t.selected||-1!==e.inArray(t.id,i)?(t.selected=!0,r.push(t)):t.selected=!1,t.children&&r.push.apply(r,n(t.children,i)),r}for(var r=[],s=0;s<this._currentData.length;s++){var o=this._currentData[s];r.push.apply(r,n(o,this.$element.val().split(this._valueSeparator)))}i(r)},i.prototype.select=function(t,i){if(this.options.get("multiple")){var n=this.$element.val();n+=this._valueSeparator+i.id,this.$element.val(n),this.$element.trigger("change")}else this.current(function(t){e.map(t,function(e){e.selected=!1})}),this.$element.val(i.id),this.$element.trigger("change")},i.prototype.unselect=function(e,t){var i=this;t.selected=!1,this.current(function(e){for(var n=[],r=0;r<e.length;r++){var s=e[r];t.id!=s.id&&n.push(s.id)}i.$element.val(n.join(i._valueSeparator)),i.$element.trigger("change")})},i.prototype.query=function(e,t,i){for(var n=[],r=0;r<this._currentData.length;r++){var s=this._currentData[r],o=this.matches(t,s);null!==o&&n.push(o)}i({results:n})},i.prototype.addOptions=function(i,n){var r=e.map(n,function(e){return t.GetData(e[0],"data")});this._currentData.push.apply(this._currentData,r)},i}),t.define("select2/compat/matcher",["jquery"],function(e){return function(t){return function(i,n){var r=e.extend(!0,{},n);if(null==i.term||""===e.trim(i.term))return r;if(n.children){for(var s=n.children.length-1;s>=0;s--){var o=n.children[s];t(i.term,o.text,o)||r.children.splice(s,1)}if(r.children.length>0)return r}return t(i.term,n.text,n)?r:null}}}),t.define("select2/compat/query",[],function(){function e(e,t,i){i.get("debug")&&window.console&&console.warn&&console.warn("Select2: The `query` option has been deprecated in favor of a custom data adapter that overrides the `query` method. Support will be removed for the `query` option in future versions of Select2."),e.call(this,t,i)}return e.prototype.query=function(e,t,i){t.callback=i,this.options.get("query").call(null,t)},e}),t.define("select2/dropdown/attachContainer",[],function(){function e(e,t,i){e.call(this,t,i)}return e.prototype.position=function(e,t,i){i.find(".dropdown-wrapper").append(t),t.addClass("select2-dropdown--below"),i.addClass("select2-container--below")},e}),t.define("select2/dropdown/stopPropagation",[],function(){function e(){}return e.prototype.bind=function(e,t,i){e.call(this,t,i);this.$dropdown.on(["blur","change","click","dblclick","focus","focusin","focusout","input","keydown","keyup","keypress","mousedown","mouseenter","mouseleave","mousemove","mouseover","mouseup","search","touchend","touchstart"].join(" "),function(e){e.stopPropagation()})},e}),t.define("select2/selection/stopPropagation",[],function(){function e(){}return e.prototype.bind=function(e,t,i){e.call(this,t,i);this.$selection.on(["blur","change","click","dblclick","focus","focusin","focusout","input","keydown","keyup","keypress","mousedown","mouseenter","mouseleave","mousemove","mouseover","mouseup","search","touchend","touchstart"].join(" "),function(e){e.stopPropagation()})},e}),i=function(e){function t(t){var o=t||window.event,a=l.call(arguments,1),u=0,d=0,h=0,p=0,f=0,m=0;if((t=e.event.fix(o)).type="mousewheel","detail"in o&&(h=-1*o.detail),"wheelDelta"in o&&(h=o.wheelDelta),"wheelDeltaY"in o&&(h=o.wheelDeltaY),"wheelDeltaX"in o&&(d=-1*o.wheelDeltaX),"axis"in o&&o.axis===o.HORIZONTAL_AXIS&&(d=-1*h,h=0),u=0===h?d:h,"deltaY"in o&&(u=h=-1*o.deltaY),"deltaX"in o&&(d=o.deltaX,0===h&&(u=-1*d)),0!==h||0!==d){if(1===o.deltaMode){var g=e.data(this,"mousewheel-line-height");u*=g,h*=g,d*=g}else if(2===o.deltaMode){var v=e.data(this,"mousewheel-page-height");u*=v,h*=v,d*=v}if(p=Math.max(Math.abs(h),Math.abs(d)),(!s||p<s)&&(s=p,n(o,p)&&(s/=40)),n(o,p)&&(u/=40,d/=40,h/=40),u=Math[u>=1?"floor":"ceil"](u/s),d=Math[d>=1?"floor":"ceil"](d/s),h=Math[h>=1?"floor":"ceil"](h/s),c.settings.normalizeOffset&&this.getBoundingClientRect){var y=this.getBoundingClientRect();f=t.clientX-y.left,m=t.clientY-y.top}return t.deltaX=d,t.deltaY=h,t.deltaFactor=s,t.offsetX=f,t.offsetY=m,t.deltaMode=0,a.unshift(t,u,d,h),r&&clearTimeout(r),r=setTimeout(i,200),(e.event.dispatch||e.event.handle).apply(this,a)}}function i(){s=null}function n(e,t){return c.settings.adjustOldDeltas&&"mousewheel"===e.type&&t%120==0}var r,s,o=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],a="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],l=Array.prototype.slice;if(e.event.fixHooks)for(var u=o.length;u;)e.event.fixHooks[o[--u]]=e.event.mouseHooks;var c=e.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var i=a.length;i;)this.addEventListener(a[--i],t,!1);else this.onmousewheel=t;e.data(this,"mousewheel-line-height",c.getLineHeight(this)),e.data(this,"mousewheel-page-height",c.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var i=a.length;i;)this.removeEventListener(a[--i],t,!1);else this.onmousewheel=null;e.removeData(this,"mousewheel-line-height"),e.removeData(this,"mousewheel-page-height")},getLineHeight:function(t){var i=e(t),n=i["offsetParent"in e.fn?"offsetParent":"parent"]();return n.length||(n=e("body")),parseInt(n.css("fontSize"),10)||parseInt(i.css("fontSize"),10)||16},getPageHeight:function(t){return e(t).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};e.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})},"function"==typeof t.define&&t.define.amd?t.define("jquery-mousewheel",["jquery"],i):"object"==typeof exports?module.exports=i:i(e),t.define("jquery.select2",["jquery","jquery-mousewheel","./select2/core","./select2/defaults","./select2/utils"],function(e,t,i,n,r){if(null==e.fn.select2){var s=["open","close","destroy"];e.fn.select2=function(t){if("object"==typeof(t=t||{}))return this.each(function(){var n=e.extend(!0,{},t);new i(e(this),n)}),this;if("string"==typeof t){var n,o=Array.prototype.slice.call(arguments,1);return this.each(function(){var e=r.GetData(this,"select2");null==e&&window.console&&console.error&&console.error("The select2('"+t+"') method was called on an element that is not using Select2."),n=e[t].apply(e,o)}),e.inArray(t,s)>-1?this:n}throw new Error("Invalid arguments for Select2: "+t)}}return null==e.fn.select2.defaults&&(e.fn.select2.defaults=n),i}),{define:t.define,require:t.require}}(),i=t.require("jquery.select2");return e.fn.select2.amd=t,i}),("function"==typeof define&&define.amd?define:function(e,t){"undefined"!=typeof module&&module.exports?module.exports=t(require("jquery")):window.toastr=t(window.jQuery)})(["jquery"],function(e){return function(){function t(t,i){return t||(t=o()),(l=e("#"+t.containerId)).length?l:(i&&(l=function(t){return(l=e("<div/>").attr("id",t.containerId).addClass(t.positionClass)).appendTo(e(t.target)),l}(t)),l)}function i(t){for(var i=l.children(),r=i.length-1;r>=0;r--)n(e(i[r]),t)}function n(t,i,n){var r=!(!n||!n.force)&&n.force;return!(!t||!r&&0!==e(":focus",t).length||(t[i.hideMethod]({duration:i.hideDuration,easing:i.hideEasing,complete:function(){a(t)}}),0))}function r(e){u&&u(e)}function s(i){function n(e){return null==e&&(e=""),e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function s(t){var i=t&&!1!==f.closeMethod?f.closeMethod:f.hideMethod,n=t&&!1!==f.closeDuration?f.closeDuration:f.hideDuration,s=t&&!1!==f.closeEasing?f.closeEasing:f.hideEasing;if(!e(":focus",v).length||t)return clearTimeout(T.intervalId),v[i]({duration:n,easing:s,complete:function(){a(v),clearTimeout(g),f.onHidden&&"hidden"!==C.state&&f.onHidden(),C.state="hidden",C.endTime=new Date,r(C)}})}function u(){(f.timeOut>0||f.extendedTimeOut>0)&&(g=setTimeout(s,f.extendedTimeOut),T.maxHideTime=parseFloat(f.extendedTimeOut),T.hideEta=(new Date).getTime()+T.maxHideTime)}function h(){clearTimeout(g),T.hideEta=0,v.stop(!0,!0)[f.showMethod]({duration:f.showDuration,easing:f.showEasing})}function p(){var e=(T.hideEta-(new Date).getTime())/T.maxHideTime*100;b.width(e+"%")}var f=o(),m=i.iconClass||f.iconClass;if(void 0!==i.optionsOverride&&(f=e.extend(f,i.optionsOverride),m=i.optionsOverride.iconClass||m),!function(e,t){if(e.preventDuplicates){if(t.message===c)return!0;c=t.message}return!1}(f,i)){d++,l=t(f,!0);var g=null,v=e("<div/>"),y=e("<div/>"),_=e("<div/>"),b=e("<div/>"),w=e(f.closeHtml),T={intervalId:null,hideEta:null,maxHideTime:null},C={toastId:d,state:"visible",startTime:new Date,options:f,map:i};return i.iconClass&&v.addClass(f.toastClass).addClass(m),function(){if(i.title){var e=i.title;f.escapeHtml&&(e=n(i.title)),y.append(e).addClass(f.titleClass),v.append(y)}}(),function(){if(i.message){var e=i.message;f.escapeHtml&&(e=n(i.message)),_.append(e).addClass(f.messageClass),v.append(_)}}(),f.closeButton&&(w.addClass(f.closeClass).attr("role","button"),v.prepend(w)),f.progressBar&&(b.addClass(f.progressClass),v.prepend(b)),f.rtl&&v.addClass("rtl"),f.newestOnTop?l.prepend(v):l.append(v),function(){var e="";switch(i.iconClass){case"toast-success":case"toast-info":e="polite";break;default:e="assertive"}v.attr("aria-live",e)}(),v.hide(),v[f.showMethod]({duration:f.showDuration,easing:f.showEasing,complete:f.onShown}),f.timeOut>0&&(g=setTimeout(s,f.timeOut),T.maxHideTime=parseFloat(f.timeOut),T.hideEta=(new Date).getTime()+T.maxHideTime,f.progressBar&&(T.intervalId=setInterval(p,10))),f.closeOnHover&&v.hover(h,u),!f.onclick&&f.tapToDismiss&&v.click(s),f.closeButton&&w&&w.click(function(e){e.stopPropagation?e.stopPropagation():void 0!==e.cancelBubble&&!0!==e.cancelBubble&&(e.cancelBubble=!0),f.onCloseClick&&f.onCloseClick(e),s(!0)}),f.onclick&&v.click(function(e){f.onclick(e),s()}),r(C),f.debug&&console&&console.log(C),v}}function o(){return e.extend({},{tapToDismiss:!0,toastClass:"toast",containerId:"toast-container",debug:!1,showMethod:"fadeIn",showDuration:300,showEasing:"swing",onShown:void 0,hideMethod:"fadeOut",hideDuration:1e3,hideEasing:"swing",onHidden:void 0,closeMethod:!1,closeDuration:!1,closeEasing:!1,closeOnHover:!0,extendedTimeOut:1e3,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},iconClass:"toast-info",positionClass:"toast-top-right",timeOut:5e3,titleClass:"toast-title",messageClass:"toast-message",escapeHtml:!1,target:"body",closeHtml:'<button type="button">&times;</button>',closeClass:"toast-close-button",newestOnTop:!0,preventDuplicates:!1,progressBar:!1,progressClass:"toast-progress",rtl:!1},p.options)}function a(e){l||(l=t()),e.is(":visible")||(e.remove(),e=null,0===l.children().length&&(l.remove(),c=void 0))}var l,u,c,d=0,h={error:"error",info:"info",success:"success",warning:"warning"},p={clear:function(e,r){var s=o();l||t(s),n(e,s,r)||i(s)},remove:function(i){var n=o();return l||t(n),i&&0===e(":focus",i).length?void a(i):void(l.children().length&&l.remove())},error:function(e,t,i){return s({type:h.error,iconClass:o().iconClasses.error,message:e,optionsOverride:i,title:t})},getContainer:t,info:function(e,t,i){return s({type:h.info,iconClass:o().iconClasses.info,message:e,optionsOverride:i,title:t})},options:{},subscribe:function(e){u=e},success:function(e,t,i){return s({type:h.success,iconClass:o().iconClasses.success,message:e,optionsOverride:i,title:t})},version:"2.1.3",warning:function(e,t,i){return s({type:h.warning,iconClass:o().iconClasses.warning,message:e,optionsOverride:i,title:t})}};return p}()}),$(document).on("turbolinks:load",function(){$.fn.filemanager=function(e,t){e=e||"file",this.on("click",function(i){var n=t&&t.prefix?t.prefix:"/filemanager",r=$("#"+$(this).data("input")),s=$("#"+$(this).data("preview")),o=null!=window.screenLeft?window.screenLeft:window.screenX,a=null!=window.screenTop?window.screenTop:window.screenY,l=window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:screen.width,u=window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:screen.height,c=l/window.screen.availWidth,d=(l-800)/2/c+o,h=(u-500)/2/c+a;return window.open(n+"?type="+e,"FileManager","scrollbars=yes, width="+800/c+", height="+500/c+", top="+h+", left="+d),window.SetUrl=function(e){var t=e.map(function(e){return e.url}).join(",");t=t.split("storage/")[1],r.val("").val(t).trigger("change"),s.html(""),e.forEach(function(e){s.append($("<img>").attr("src",e.thumb_url))}),s.trigger("change")},!1})}}),$(document).on("turbolinks:load",function(){$.ajaxSetup({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")}}),$(document).ajaxError(function(e,t,i,n){401===t.status&&Turbolinks.visit("/"),419===t.status&&Turbolinks.visit(location.toString())})}),toastr.options.timeOut=3e3,$(document).on("turbolinks:load",function(){$(".select2").select2({allowClear:!0,dropdownAutoWidth:!0,width:"100%",placeholder:function(e){return{id:null,text:e.placeholder}}}),$(".select2-default").select2({dropdownAutoWidth:!0,width:"100%",minimumResultsForSearch:1/0}),$(".load-taxonomies").select2({allowClear:!0,dropdownAutoWidth:!0,width:"100%",placeholder:function(e){return{id:null,text:e.placeholder}},ajax:{method:"GET",url:juzaweb.adminUrl+"/load-data/loadTaxonomies",dataType:"json",data:function(e){let t=$(this).data("post-type"),i=$(this).data("taxonomy"),n=$(this).data("explodes");return n&&(n=$("."+n).map(function(){return $(this).val()}).get()),{search:$.trim(e.term),page:e.page,explodes:n,post_type:t,taxonomy:i}}}}),$(".load-users").select2({allowClear:!0,width:"100%",placeholder:function(e){return{id:null,text:e.placeholder}},ajax:{method:"GET",url:"/admin-cp/load-data/loadUsers",dataType:"json",data:function(e){let t=$(this).data("explodes")?$(this).data("explodes"):null;return t&&(t=$("."+t).map(function(){return $(this).val()}).get()),{search:$.trim(e.term),page:e.page,explodes:t}}}}),$(".load-menu").select2({allowClear:!0,width:"100%",placeholder:function(e){return{id:null,text:e.placeholder}},ajax:{method:"GET",url:"/admin-cp/load-data/loadMenu",dataType:"json",data:function(e){let t=$(this).data("explodes")?$(this).data("explodes"):null;return t&&(t=$("."+t).map(function(){return $(this).val()}).get()),{search:$.trim(e.term),page:e.page,explodes:t}}}}),$(".load-pages").select2({allowClear:!0,width:"100%",placeholder:function(e){return{id:null,text:e.placeholder}},ajax:{method:"GET",url:"/admin-cp/load-data/loadPages",dataType:"json",data:function(e){return{search:$.trim(e.term),page:e.page}}}}),$(".load-locales").select2({allowClear:!0,width:"100%",placeholder:function(e){return{id:null,text:e.placeholder}},ajax:{method:"GET",url:"/admin-cp/load-data/loadLocales",dataType:"json",data:function(e){return{search:$.trim(e.term),page:e.page}}}})}),$(document).on("turbolinks:load",function(){function validate_isNumberKey(e){var t=e.which?e.which:event.keyCode;return 59==t||46==t||!(t>31&&(t<48||t>57))}function validate_FormatNumber(e){e.value=e.value.replace(/\./gi,""),e.value=e.value.replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1.")}$("body").on("submit",".form-ajax",function(event){if(event.isDefaultPrevented())return!1;event.preventDefault();var form=$(this),formData=new FormData(form[0]),btnsubmit=form.find("button[type=submit]"),currentIcon=btnsubmit.find("i").attr("class"),currentText=btnsubmit.html(),submitSuccess=form.data("success");btnsubmit.find("i").attr("class","fa fa-spinner fa-spin"),btnsubmit.prop("disabled",!0),btnsubmit.data("loading-text")&&btnsubmit.html('<i class="fa fa-spinner fa-spin"></i> '+btnsubmit.data("loading-text")),$.ajax({type:form.attr("method"),url:form.attr("action"),dataType:"json",data:formData,cache:!1,contentType:!1,processData:!1}).done(function(response){return show_message(response),submitSuccess&&eval(submitSuccess)(form),response.data.redirect?(setTimeout(function(){Turbolinks.visit(response.data.redirect,{action:"replace"})},1e3),!1):(btnsubmit.find("i").attr("class",currentIcon),btnsubmit.prop("disabled",!1),btnsubmit.data("loading-text")&&btnsubmit.html(currentText),response.status,!1)}).fail(function(e){return btnsubmit.find("i").attr("class",currentIcon),btnsubmit.prop("disabled",!1),btnsubmit.data("loading-text")&&btnsubmit.html(currentText),show_message(e),!1})}),$("body").on("click",".load-modal",function(e){if(e.isDefaultPrevented())return!1;e.preventDefault();var t=$(this).data(),i=$(this),n=i.find("i").attr("class");i.find("i").attr("class","fa fa-spinner fa-spin"),i.prop("disabled",!0),i.addClass("disabled");var r="";$.each(t,function(e,t){"url"!=e&&(r+="&"+e+"="+t)});var s=$(this).data("url");r&&(s=s+"?"+r),$.ajax({type:"GET",url:s,dataType:"json",data:{},cache:!1,contentType:!1,processData:!1}).done(function(e){return i.find("i").attr("class",n),i.prop("disabled",!1),i.removeClass("disabled"),!1!==e.status&&($("#show-modal").html(""),$("#show-modal").html(e.data.source),$("#show-modal .modal").modal(),!1)}).fail(function(e){return i.find("i").attr("class",n),i.prop("disabled",!1),!1})}),$("body").on("keypress",".is-number",function(){return validate_isNumberKey(this)}),$("body").on("keyup",".number-format",function(){return validate_FormatNumber(this)})}),$(document).on("turbolinks:load",function(){$(".load-media").filemanager("image",{prefix:"/"+juzaweb.adminPrefix+"/file-manager"}),$("#theme-editor-sidebar").on("click",".add-card-item",function(){let e=$(this),t=e.closest(".theme-editor__card"),i=t.find(".card-add-template").html().toString(),n=e.closest(".theme-editor__card").find(".card-add-list"),r=replace_template(i,{next_index:t.find(".editor-item").length/2+1});n.append(r)}),$("#theme-editor-sidebar").on("click",".remove-editor-item",function(){$(this).closest(".theme-setting").remove()})});
