import{r as n,q as C,a,j as e,F as q}from"./app-13cc16b3.js";import x from"./comments-ecfef8a9.js";import{_ as s}from"./functions-503419f4.js";import{p as F}from"./fetch-b062eefd.js";function j({post:h,comments:p}){const[r,l]=n.useState(null),{guest:g}=C().props,[i,o]=n.useState(""),[c,N]=n.useState(""),[u,b]=n.useState(""),[d,f]=n.useState(""),v=t=>(t.preventDefault(),F(h,i,c,u,d).then(m=>{o(""),l({status:m.data.status,message:m.data.data.message}),setTimeout(()=>l(null),3e3)}).catch(m=>{console.log(m),l({status:!1,message:m.response.data.message})}),!1);return a("div",{id:"comments",className:"comments-area",children:[e(x,{comments:p}),a("div",{className:"comment-respond",children:[e("h3",{className:"comment-reply-title",children:s("Leave a Reply")}),r&&(r.status?e("div",{className:"alert alert-success",children:r.message}):e("div",{className:"alert alert-danger",children:r.message})),a("form",{onSubmit:v,method:"post",className:"comment-form",id:"comment-form",children:[a("p",{className:"comment-notes",children:[e("span",{id:"email-notes",children:s("Your email address will not be published.")}),s("Required fields are marked"),e("span",{className:"required",children:"*"})]}),a("p",{className:"comment-form-comment",children:[a("label",{htmlFor:"content",children:[s("Comment"),e("span",{className:"required",children:"*"})]}),e("textarea",{name:"content",id:"content",cols:45,rows:5,maxLength:65525,required:!0,onChange:t=>o(t.currentTarget.value),value:i})]}),g?a(q,{children:[a("p",{className:"comment-form-author",children:[a("label",{htmlFor:"name",children:[s("Name")," ",e("span",{className:"required",children:"*"})]}),e("input",{type:"text",id:"name",name:"name",required:!0,value:c,onChange:t=>N(t.currentTarget.value)})]}),a("p",{className:"comment-form-email",children:[a("label",{htmlFor:"email",children:[s("Email")," ",e("span",{className:"required",children:"*"})]}),e("input",{type:"email",id:"email",name:"email",required:!0,value:u,onChange:t=>b(t.currentTarget.value)})]}),a("p",{className:"comment-form-url",children:[e("label",{htmlFor:"website",children:s("Website")}),e("input",{type:"text",id:"website",name:"website",value:d,onChange:t=>f(t.currentTarget.value)})]})]}):"",e("p",{className:"form-submit",children:e("input",{type:"submit",name:"submit",id:"submit",className:"submit",value:s("Post Comment")})})]})]})]})}export{j as default};
